<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Github User Fetcher: duk_heap.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Github User Fetcher<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">C/C++ Application with Server and GUI</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('duktape-1_85_82_2src-separate_2duk__heap_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">duk_heap.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structduk__breakpoint.html">duk_breakpoint</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structduk__strcache.html">duk_strcache</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structduk__ljstate.html">duk_ljstate</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structduk__strtab__entry.html">duk_strtab_entry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structduk__heap.html">duk_heap</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:acc73afb740b04306eeb9abf9491af3bc" id="r_acc73afb740b04306eeb9abf9491af3bc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acc73afb740b04306eeb9abf9491af3bc">DUK_HEAP_FLAG_MARKANDSWEEP_RUNNING</a>&#160;&#160;&#160;(1 &lt;&lt; 0)  /* mark-and-sweep <a class="el" href="classis.html">is</a> currently running */</td></tr>
<tr class="separator:acc73afb740b04306eeb9abf9491af3bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dc9d6db2aec3825bf691af13c470b61" id="r_a5dc9d6db2aec3825bf691af13c470b61"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5dc9d6db2aec3825bf691af13c470b61">DUK_HEAP_FLAG_MARKANDSWEEP_RECLIMIT_REACHED</a>&#160;&#160;&#160;(1 &lt;&lt; 1)  /* mark-and-sweep marking reached <a class="el" href="classa.html">a</a> recursion limit and must use multi-pass marking */</td></tr>
<tr class="separator:a5dc9d6db2aec3825bf691af13c470b61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7999738cf262d98d9afb5a6ce4bf390" id="r_ab7999738cf262d98d9afb5a6ce4bf390"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab7999738cf262d98d9afb5a6ce4bf390">DUK_HEAP_FLAG_REFZERO_FREE_RUNNING</a>&#160;&#160;&#160;(1 &lt;&lt; 2)  /* refcount code <a class="el" href="classis.html">is</a> processing refzero list */</td></tr>
<tr class="separator:ab7999738cf262d98d9afb5a6ce4bf390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace0fb1fd0dd36a52f67e759452786582" id="r_ace0fb1fd0dd36a52f67e759452786582"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace0fb1fd0dd36a52f67e759452786582">DUK_HEAP_FLAG_ERRHANDLER_RUNNING</a>&#160;&#160;&#160;(1 &lt;&lt; 3)  /* an <a class="el" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> handler (user callback to augment/replace <a class="el" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>) <a class="el" href="classis.html">is</a> running */</td></tr>
<tr class="separator:ace0fb1fd0dd36a52f67e759452786582"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0026cfca968d8b596a40d08f0785a402" id="r_a0026cfca968d8b596a40d08f0785a402"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0026cfca968d8b596a40d08f0785a402">DUK_HEAP_FLAG_INTERRUPT_RUNNING</a>&#160;&#160;&#160;(1 &lt;&lt; 4)  /* executor interrupt running (used to avoid nested interrupts) */</td></tr>
<tr class="separator:a0026cfca968d8b596a40d08f0785a402"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a813488d3963659dd203a03741bb502f0" id="r_a813488d3963659dd203a03741bb502f0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a813488d3963659dd203a03741bb502f0">DUK_HEAP_FLAG_FINALIZER_NORESCUE</a>&#160;&#160;&#160;(1 &lt;&lt; 5)  /* heap destruction ongoing, finalizer rescue no longer possible */</td></tr>
<tr class="separator:a813488d3963659dd203a03741bb502f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6969dd1576504d2d96b370394b8ce45e" id="r_a6969dd1576504d2d96b370394b8ce45e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6969dd1576504d2d96b370394b8ce45e">DUK__HEAP_HAS_FLAGS</a>(heap,  bits)&#160;&#160;&#160;((heap)-&gt;flags &amp; (bits))</td></tr>
<tr class="separator:a6969dd1576504d2d96b370394b8ce45e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98698c43fe4efe44b586df627795d3cc" id="r_a98698c43fe4efe44b586df627795d3cc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a98698c43fe4efe44b586df627795d3cc">DUK__HEAP_SET_FLAGS</a>(heap,  bits)</td></tr>
<tr class="separator:a98698c43fe4efe44b586df627795d3cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa32a1849a605af813cde5ad9e80176d0" id="r_aa32a1849a605af813cde5ad9e80176d0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa32a1849a605af813cde5ad9e80176d0">DUK__HEAP_CLEAR_FLAGS</a>(heap,  bits)</td></tr>
<tr class="separator:aa32a1849a605af813cde5ad9e80176d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eaa2088eb15b600eb46501093dfb1a4" id="r_a8eaa2088eb15b600eb46501093dfb1a4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8eaa2088eb15b600eb46501093dfb1a4">DUK_HEAP_HAS_MARKANDSWEEP_RUNNING</a>(heap)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a6969dd1576504d2d96b370394b8ce45e">DUK__HEAP_HAS_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#acc73afb740b04306eeb9abf9491af3bc">DUK_HEAP_FLAG_MARKANDSWEEP_RUNNING</a>)</td></tr>
<tr class="separator:a8eaa2088eb15b600eb46501093dfb1a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f5fd392a3fb65b14846530194a777df" id="r_a0f5fd392a3fb65b14846530194a777df"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0f5fd392a3fb65b14846530194a777df">DUK_HEAP_HAS_MARKANDSWEEP_RECLIMIT_REACHED</a>(heap)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a6969dd1576504d2d96b370394b8ce45e">DUK__HEAP_HAS_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a5dc9d6db2aec3825bf691af13c470b61">DUK_HEAP_FLAG_MARKANDSWEEP_RECLIMIT_REACHED</a>)</td></tr>
<tr class="separator:a0f5fd392a3fb65b14846530194a777df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a926a5b556351c4c0e6c2ae309d0f2628" id="r_a926a5b556351c4c0e6c2ae309d0f2628"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a926a5b556351c4c0e6c2ae309d0f2628">DUK_HEAP_HAS_REFZERO_FREE_RUNNING</a>(heap)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a6969dd1576504d2d96b370394b8ce45e">DUK__HEAP_HAS_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab7999738cf262d98d9afb5a6ce4bf390">DUK_HEAP_FLAG_REFZERO_FREE_RUNNING</a>)</td></tr>
<tr class="separator:a926a5b556351c4c0e6c2ae309d0f2628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ba44ba4c2bccbc39e9954e0369aac82" id="r_a1ba44ba4c2bccbc39e9954e0369aac82"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1ba44ba4c2bccbc39e9954e0369aac82">DUK_HEAP_HAS_ERRHANDLER_RUNNING</a>(heap)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a6969dd1576504d2d96b370394b8ce45e">DUK__HEAP_HAS_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ace0fb1fd0dd36a52f67e759452786582">DUK_HEAP_FLAG_ERRHANDLER_RUNNING</a>)</td></tr>
<tr class="separator:a1ba44ba4c2bccbc39e9954e0369aac82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60738b5ebd117b412867d805e5be2024" id="r_a60738b5ebd117b412867d805e5be2024"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a60738b5ebd117b412867d805e5be2024">DUK_HEAP_HAS_INTERRUPT_RUNNING</a>(heap)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a6969dd1576504d2d96b370394b8ce45e">DUK__HEAP_HAS_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a0026cfca968d8b596a40d08f0785a402">DUK_HEAP_FLAG_INTERRUPT_RUNNING</a>)</td></tr>
<tr class="separator:a60738b5ebd117b412867d805e5be2024"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a002fc805a874d87c33b15d6ba4402d69" id="r_a002fc805a874d87c33b15d6ba4402d69"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a002fc805a874d87c33b15d6ba4402d69">DUK_HEAP_HAS_FINALIZER_NORESCUE</a>(heap)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a6969dd1576504d2d96b370394b8ce45e">DUK__HEAP_HAS_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a813488d3963659dd203a03741bb502f0">DUK_HEAP_FLAG_FINALIZER_NORESCUE</a>)</td></tr>
<tr class="separator:a002fc805a874d87c33b15d6ba4402d69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a278f3d99304116c352f7d855b0b78ea5" id="r_a278f3d99304116c352f7d855b0b78ea5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a278f3d99304116c352f7d855b0b78ea5">DUK_HEAP_SET_MARKANDSWEEP_RUNNING</a>(heap)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a98698c43fe4efe44b586df627795d3cc">DUK__HEAP_SET_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#acc73afb740b04306eeb9abf9491af3bc">DUK_HEAP_FLAG_MARKANDSWEEP_RUNNING</a>)</td></tr>
<tr class="separator:a278f3d99304116c352f7d855b0b78ea5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84f903946105404f19ae6d0bf9800efd" id="r_a84f903946105404f19ae6d0bf9800efd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a84f903946105404f19ae6d0bf9800efd">DUK_HEAP_SET_MARKANDSWEEP_RECLIMIT_REACHED</a>(heap)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a98698c43fe4efe44b586df627795d3cc">DUK__HEAP_SET_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a5dc9d6db2aec3825bf691af13c470b61">DUK_HEAP_FLAG_MARKANDSWEEP_RECLIMIT_REACHED</a>)</td></tr>
<tr class="separator:a84f903946105404f19ae6d0bf9800efd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70afcc4d1a1d7dbde4ad096638064997" id="r_a70afcc4d1a1d7dbde4ad096638064997"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a70afcc4d1a1d7dbde4ad096638064997">DUK_HEAP_SET_REFZERO_FREE_RUNNING</a>(heap)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a98698c43fe4efe44b586df627795d3cc">DUK__HEAP_SET_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab7999738cf262d98d9afb5a6ce4bf390">DUK_HEAP_FLAG_REFZERO_FREE_RUNNING</a>)</td></tr>
<tr class="separator:a70afcc4d1a1d7dbde4ad096638064997"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a32939a13b69448650a3ad02fda76c2" id="r_a8a32939a13b69448650a3ad02fda76c2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8a32939a13b69448650a3ad02fda76c2">DUK_HEAP_SET_ERRHANDLER_RUNNING</a>(heap)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a98698c43fe4efe44b586df627795d3cc">DUK__HEAP_SET_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ace0fb1fd0dd36a52f67e759452786582">DUK_HEAP_FLAG_ERRHANDLER_RUNNING</a>)</td></tr>
<tr class="separator:a8a32939a13b69448650a3ad02fda76c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf4de24f57cf958eb1bef4cbcc574059" id="r_aaf4de24f57cf958eb1bef4cbcc574059"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf4de24f57cf958eb1bef4cbcc574059">DUK_HEAP_SET_INTERRUPT_RUNNING</a>(heap)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a98698c43fe4efe44b586df627795d3cc">DUK__HEAP_SET_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a0026cfca968d8b596a40d08f0785a402">DUK_HEAP_FLAG_INTERRUPT_RUNNING</a>)</td></tr>
<tr class="separator:aaf4de24f57cf958eb1bef4cbcc574059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1db0f8dd029a34bd404c55828347e7f4" id="r_a1db0f8dd029a34bd404c55828347e7f4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1db0f8dd029a34bd404c55828347e7f4">DUK_HEAP_SET_FINALIZER_NORESCUE</a>(heap)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a98698c43fe4efe44b586df627795d3cc">DUK__HEAP_SET_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a813488d3963659dd203a03741bb502f0">DUK_HEAP_FLAG_FINALIZER_NORESCUE</a>)</td></tr>
<tr class="separator:a1db0f8dd029a34bd404c55828347e7f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4441ff9a935f7e08e2dbaf3fd1d9a052" id="r_a4441ff9a935f7e08e2dbaf3fd1d9a052"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4441ff9a935f7e08e2dbaf3fd1d9a052">DUK_HEAP_CLEAR_MARKANDSWEEP_RUNNING</a>(heap)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa32a1849a605af813cde5ad9e80176d0">DUK__HEAP_CLEAR_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#acc73afb740b04306eeb9abf9491af3bc">DUK_HEAP_FLAG_MARKANDSWEEP_RUNNING</a>)</td></tr>
<tr class="separator:a4441ff9a935f7e08e2dbaf3fd1d9a052"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14521de02adcd6a3118075046427a9eb" id="r_a14521de02adcd6a3118075046427a9eb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a14521de02adcd6a3118075046427a9eb">DUK_HEAP_CLEAR_MARKANDSWEEP_RECLIMIT_REACHED</a>(heap)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa32a1849a605af813cde5ad9e80176d0">DUK__HEAP_CLEAR_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a5dc9d6db2aec3825bf691af13c470b61">DUK_HEAP_FLAG_MARKANDSWEEP_RECLIMIT_REACHED</a>)</td></tr>
<tr class="separator:a14521de02adcd6a3118075046427a9eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac922c6350a7d44751ce60bcb318486e7" id="r_ac922c6350a7d44751ce60bcb318486e7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac922c6350a7d44751ce60bcb318486e7">DUK_HEAP_CLEAR_REFZERO_FREE_RUNNING</a>(heap)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa32a1849a605af813cde5ad9e80176d0">DUK__HEAP_CLEAR_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab7999738cf262d98d9afb5a6ce4bf390">DUK_HEAP_FLAG_REFZERO_FREE_RUNNING</a>)</td></tr>
<tr class="separator:ac922c6350a7d44751ce60bcb318486e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdf657afaa2fa3449cf1f701fc5e35d7" id="r_abdf657afaa2fa3449cf1f701fc5e35d7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abdf657afaa2fa3449cf1f701fc5e35d7">DUK_HEAP_CLEAR_ERRHANDLER_RUNNING</a>(heap)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa32a1849a605af813cde5ad9e80176d0">DUK__HEAP_CLEAR_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ace0fb1fd0dd36a52f67e759452786582">DUK_HEAP_FLAG_ERRHANDLER_RUNNING</a>)</td></tr>
<tr class="separator:abdf657afaa2fa3449cf1f701fc5e35d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d054b2ad0dbc14a670de5155de3b4a4" id="r_a7d054b2ad0dbc14a670de5155de3b4a4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7d054b2ad0dbc14a670de5155de3b4a4">DUK_HEAP_CLEAR_INTERRUPT_RUNNING</a>(heap)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa32a1849a605af813cde5ad9e80176d0">DUK__HEAP_CLEAR_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a0026cfca968d8b596a40d08f0785a402">DUK_HEAP_FLAG_INTERRUPT_RUNNING</a>)</td></tr>
<tr class="separator:a7d054b2ad0dbc14a670de5155de3b4a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5963891ac1765f6dc8fc4bbe6b9019b" id="r_ab5963891ac1765f6dc8fc4bbe6b9019b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab5963891ac1765f6dc8fc4bbe6b9019b">DUK_HEAP_CLEAR_FINALIZER_NORESCUE</a>(heap)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa32a1849a605af813cde5ad9e80176d0">DUK__HEAP_CLEAR_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a813488d3963659dd203a03741bb502f0">DUK_HEAP_FLAG_FINALIZER_NORESCUE</a>)</td></tr>
<tr class="separator:ab5963891ac1765f6dc8fc4bbe6b9019b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6af5993d9334f7a01bbc1219671ca5ea" id="r_a6af5993d9334f7a01bbc1219671ca5ea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6af5993d9334f7a01bbc1219671ca5ea">DUK_LJ_TYPE_UNKNOWN</a>&#160;&#160;&#160;0    /* <a class="el" href="deprecated_2gthread_8h.html#a3b1ec5f7cc9d987b6be118edd3d26e60">unused</a> */</td></tr>
<tr class="separator:a6af5993d9334f7a01bbc1219671ca5ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01491eeb67c7b39eb79b036bc1e17c16" id="r_a01491eeb67c7b39eb79b036bc1e17c16"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a01491eeb67c7b39eb79b036bc1e17c16">DUK_LJ_TYPE_THROW</a>&#160;&#160;&#160;1    /* value1 -&gt; <a class="el" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> object */</td></tr>
<tr class="separator:a01491eeb67c7b39eb79b036bc1e17c16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07d8f8d48d40ddb8ea2dc6a8ff889351" id="r_a07d8f8d48d40ddb8ea2dc6a8ff889351"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a07d8f8d48d40ddb8ea2dc6a8ff889351">DUK_LJ_TYPE_YIELD</a>&#160;&#160;&#160;2    /* value1 -&gt; yield <a class="el" href="lsqlite3_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, iserror -&gt; <a class="el" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> / normal */</td></tr>
<tr class="separator:a07d8f8d48d40ddb8ea2dc6a8ff889351"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab03c78b0b148b8a9977cb5cc31d7257e" id="r_ab03c78b0b148b8a9977cb5cc31d7257e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab03c78b0b148b8a9977cb5cc31d7257e">DUK_LJ_TYPE_RESUME</a>&#160;&#160;&#160;3    /* value1 -&gt; <a class="el" href="lua-5_81_85_2src_2ldo_8c.html#abd7632c715de5db6e7797b7fa3f7010f">resume</a> <a class="el" href="lsqlite3_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, value2 -&gt; resumee thread, iserror -&gt; <a class="el" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>/normal */</td></tr>
<tr class="separator:ab03c78b0b148b8a9977cb5cc31d7257e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf1ad1dba0f44215df182824239765e4" id="r_abf1ad1dba0f44215df182824239765e4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abf1ad1dba0f44215df182824239765e4">DUK_LJ_TYPE_BREAK</a>&#160;&#160;&#160;4    /* value1 -&gt; label number, pseudo-type to indicate <a class="el" href="classa.html">a</a> break continuation (for ENDFIN) */</td></tr>
<tr class="separator:abf1ad1dba0f44215df182824239765e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a069e2c97ffec8ce41a698375c4556137" id="r_a069e2c97ffec8ce41a698375c4556137"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a069e2c97ffec8ce41a698375c4556137">DUK_LJ_TYPE_CONTINUE</a>&#160;&#160;&#160;5    /* value1 -&gt; label number, pseudo-type to indicate <a class="el" href="classa.html">a</a> continue continuation (for ENDFIN) */</td></tr>
<tr class="separator:a069e2c97ffec8ce41a698375c4556137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57a83a056ab4b77b176b6f2af1677a6d" id="r_a57a83a056ab4b77b176b6f2af1677a6d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a57a83a056ab4b77b176b6f2af1677a6d">DUK_LJ_TYPE_RETURN</a>&#160;&#160;&#160;6    /* value1 -&gt; return <a class="el" href="lsqlite3_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, pseudo-type to indicate <a class="el" href="classa.html">a</a> return continuation (for ENDFIN) */</td></tr>
<tr class="separator:a57a83a056ab4b77b176b6f2af1677a6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf39660050e6713078a9c7c98987dab0" id="r_acf39660050e6713078a9c7c98987dab0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acf39660050e6713078a9c7c98987dab0">DUK_LJ_TYPE_NORMAL</a>&#160;&#160;&#160;7    /* no <a class="el" href="lsqlite3_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, pseudo-type to indicate <a class="el" href="classa.html">a</a> normal continuation (for ENDFIN) */</td></tr>
<tr class="separator:acf39660050e6713078a9c7c98987dab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01bd2d35612c776aded52350eb23b790" id="r_a01bd2d35612c776aded52350eb23b790"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a01bd2d35612c776aded52350eb23b790">DUK_MS_FLAG_EMERGENCY</a>&#160;&#160;&#160;(1 &lt;&lt; 0)   /* emergency mode: try extra hard */</td></tr>
<tr class="separator:a01bd2d35612c776aded52350eb23b790"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94161c2cd17bbd439cef64cc8467b504" id="r_a94161c2cd17bbd439cef64cc8467b504"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a94161c2cd17bbd439cef64cc8467b504">DUK_MS_FLAG_NO_STRINGTABLE_RESIZE</a>&#160;&#160;&#160;(1 &lt;&lt; 1)   /* don't <a class="el" href="lua-5_81_85_2src_2ltable_8c.html#a4fd20c653904e3ff033c51d1d137724d">resize</a> <a class="el" href="structstringtable.html">stringtable</a> (but may sweep it); needed during <a class="el" href="structstringtable.html">stringtable</a> <a class="el" href="lua-5_81_85_2src_2ltable_8c.html#a4fd20c653904e3ff033c51d1d137724d">resize</a> */</td></tr>
<tr class="separator:a94161c2cd17bbd439cef64cc8467b504"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0305cbeb6c7973f1ac43e4c9553fd69b" id="r_a0305cbeb6c7973f1ac43e4c9553fd69b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0305cbeb6c7973f1ac43e4c9553fd69b">DUK_MS_FLAG_NO_OBJECT_COMPACTION</a>&#160;&#160;&#160;(1 &lt;&lt; 2)   /* don't compact objects; needed during object property allocation <a class="el" href="lua-5_81_85_2src_2ltable_8c.html#a4fd20c653904e3ff033c51d1d137724d">resize</a> */</td></tr>
<tr class="separator:a0305cbeb6c7973f1ac43e4c9553fd69b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a28b04424e5e385313e2e5821eb3a97" id="r_a5a28b04424e5e385313e2e5821eb3a97"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5a28b04424e5e385313e2e5821eb3a97">DUK_MS_FLAG_NO_FINALIZERS</a>&#160;&#160;&#160;(1 &lt;&lt; 3)   /* don't run finalizers; leave finalizable objects in finalize_list for <a class="el" href="lua-5_81_85_2src_2llex_8c.html#a8ab976102fb046f9974c53caaf5a1995">next</a> round */</td></tr>
<tr class="separator:a5a28b04424e5e385313e2e5821eb3a97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebbc9f3d3f13e590652b6a2f5b51ffcc" id="r_aebbc9f3d3f13e590652b6a2f5b51ffcc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aebbc9f3d3f13e590652b6a2f5b51ffcc">DUK_MS_FLAG_SKIP_FINALIZERS</a>&#160;&#160;&#160;(1 &lt;&lt; 4)   /* don't run finalizers; queue finalizable objects back to heap_allocated */</td></tr>
<tr class="separator:aebbc9f3d3f13e590652b6a2f5b51ffcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada39afa145c10879d68bc705850edcd7" id="r_ada39afa145c10879d68bc705850edcd7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ada39afa145c10879d68bc705850edcd7">DUK_HEAP_SWITCH_THREAD</a>(heap,  newthr)</td></tr>
<tr class="separator:ada39afa145c10879d68bc705850edcd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf0664a61a1ec888600acbc9acea93c8" id="r_aaf0664a61a1ec888600acbc9acea93c8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf0664a61a1ec888600acbc9acea93c8">DUK_HEAP_STRCACHE_SIZE</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:aaf0664a61a1ec888600acbc9acea93c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0a6bcede582e43c9281b0bc556becc4" id="r_aa0a6bcede582e43c9281b0bc556becc4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa0a6bcede582e43c9281b0bc556becc4">DUK_HEAP_STRINGCACHE_NOCACHE_LIMIT</a>&#160;&#160;&#160;16  /* strings up to the this length are not cached */</td></tr>
<tr class="separator:aa0a6bcede582e43c9281b0bc556becc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42a15639dd2793b09da2a8de08869489" id="r_a42a15639dd2793b09da2a8de08869489"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a42a15639dd2793b09da2a8de08869489">DUK_HEAP_INSERT_INTO_HEAP_ALLOCATED</a>(heap,  hdr)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ad20a97a52d1b020ea98f03282deb0532">duk_heap_insert_into_heap_allocated</a>((heap),(hdr))</td></tr>
<tr class="separator:a42a15639dd2793b09da2a8de08869489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9012de795764d585aaa731d8f1a5907a" id="r_a9012de795764d585aaa731d8f1a5907a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9012de795764d585aaa731d8f1a5907a">DUK_STRTAB_INITIAL_SIZE</a>&#160;&#160;&#160;17</td></tr>
<tr class="separator:a9012de795764d585aaa731d8f1a5907a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03a6b2ef1626b68ab1751f404f51cc22" id="r_a03a6b2ef1626b68ab1751f404f51cc22"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a03a6b2ef1626b68ab1751f404f51cc22">DUK_STRTAB_DELETED_MARKER</a>(heap)&#160;&#160;&#160;((<a class="el" href="structduk__hstring.html">duk_hstring</a> *) heap)</td></tr>
<tr class="separator:a03a6b2ef1626b68ab1751f404f51cc22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f66b85480a244981dcb6832036ae1dd" id="r_a2f66b85480a244981dcb6832036ae1dd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2f66b85480a244981dcb6832036ae1dd">DUK_STRTAB_MIN_FREE_DIVISOR</a>&#160;&#160;&#160;4                /* load factor max 75% */</td></tr>
<tr class="separator:a2f66b85480a244981dcb6832036ae1dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f6625c1edf0439f90b31d12dbc9c13e" id="r_a1f6625c1edf0439f90b31d12dbc9c13e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f6625c1edf0439f90b31d12dbc9c13e">DUK_STRTAB_MIN_USED_DIVISOR</a>&#160;&#160;&#160;4                /* load factor min 25% */</td></tr>
<tr class="separator:a1f6625c1edf0439f90b31d12dbc9c13e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82de04feb816d7032f5521b44317a6ed" id="r_a82de04feb816d7032f5521b44317a6ed"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a82de04feb816d7032f5521b44317a6ed">DUK_STRTAB_GROW_ST_SIZE</a>(n)&#160;&#160;&#160;((n) + (n))      /* used entries + approx 100% -&gt; reset load to 50% */</td></tr>
<tr class="separator:a82de04feb816d7032f5521b44317a6ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad795e6f23fa46d46f505333337b4c9b5" id="r_ad795e6f23fa46d46f505333337b4c9b5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad795e6f23fa46d46f505333337b4c9b5">DUK_STRTAB_U32_MAX_STRLEN</a>&#160;&#160;&#160;10               /* 4'294'967'295 */</td></tr>
<tr class="separator:ad795e6f23fa46d46f505333337b4c9b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cc8d3b647a6afc26f8809d6412e3c34" id="r_a6cc8d3b647a6afc26f8809d6412e3c34"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6cc8d3b647a6afc26f8809d6412e3c34">DUK_STRTAB_HIGHEST_32BIT_PRIME</a>&#160;&#160;&#160;0xfffffffbUL</td></tr>
<tr class="separator:a6cc8d3b647a6afc26f8809d6412e3c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeea88ba5b2930438ec6500e3cfcbdd1b" id="r_aeea88ba5b2930438ec6500e3cfcbdd1b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeea88ba5b2930438ec6500e3cfcbdd1b">DUK_STRTAB_HASH_INITIAL</a>(hash,  h_size)&#160;&#160;&#160;((hash) % (h_size))</td></tr>
<tr class="separator:aeea88ba5b2930438ec6500e3cfcbdd1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a318b26dfeb86508ed73ddda70cd29d8b" id="r_a318b26dfeb86508ed73ddda70cd29d8b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a318b26dfeb86508ed73ddda70cd29d8b">DUK_STRTAB_HASH_PROBE_STEP</a>(hash)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a825762443e0ebcf14aadce8734e933e3">DUK_UTIL_GET_HASH_PROBE_STEP</a>((hash))</td></tr>
<tr class="separator:a318b26dfeb86508ed73ddda70cd29d8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84424d938751ffbb5311aea86edb8bd1" id="r_a84424d938751ffbb5311aea86edb8bd1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a84424d938751ffbb5311aea86edb8bd1">DUK_STRTAB_CHAIN_SIZE</a>&#160;&#160;&#160;DUK_USE_STRTAB_CHAIN_SIZE</td></tr>
<tr class="separator:a84424d938751ffbb5311aea86edb8bd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa695827e75f0088ac7ed8bd9a579024a" id="r_aa695827e75f0088ac7ed8bd9a579024a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa695827e75f0088ac7ed8bd9a579024a">DUK_HEAP_GET_STRING</a>(heap,  idx)&#160;&#160;&#160;	((heap)-&gt;strs[(idx)])</td></tr>
<tr class="separator:aa695827e75f0088ac7ed8bd9a579024a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7917a90e92f61f695a34a1277e1d51d8" id="r_a7917a90e92f61f695a34a1277e1d51d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7917a90e92f61f695a34a1277e1d51d8">DUK_ALLOC_RAW</a>(heap,  size)&#160;&#160;&#160;	((heap)-&gt;alloc_func((heap)-&gt;heap_udata, (size)))</td></tr>
<tr class="separator:a7917a90e92f61f695a34a1277e1d51d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88c14996f4f7dd1c811ae413031aad52" id="r_a88c14996f4f7dd1c811ae413031aad52"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a88c14996f4f7dd1c811ae413031aad52">DUK_REALLOC_RAW</a>(heap,  ptr,  newsize)&#160;&#160;&#160;	((heap)-&gt;realloc_func((heap)-&gt;heap_udata, (void *) (ptr), (newsize)))</td></tr>
<tr class="separator:a88c14996f4f7dd1c811ae413031aad52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf8009cbb1cb5837b17e746983363591" id="r_acf8009cbb1cb5837b17e746983363591"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acf8009cbb1cb5837b17e746983363591">DUK_FREE_RAW</a>(heap,  ptr)&#160;&#160;&#160;	((heap)-&gt;free_func((heap)-&gt;heap_udata, (void *) (ptr)))</td></tr>
<tr class="separator:acf8009cbb1cb5837b17e746983363591"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1749cfba8c899b635e9adfb4ee2c647f" id="r_a1749cfba8c899b635e9adfb4ee2c647f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1749cfba8c899b635e9adfb4ee2c647f">DUK_ALLOC</a>(heap,  size)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a6c8dfbd81fceda5bd5cf78e73ac751c0">duk_heap_mem_alloc</a>((heap), (size))</td></tr>
<tr class="separator:a1749cfba8c899b635e9adfb4ee2c647f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9f90e5f4972bae0f1b83d24c27ac71e" id="r_ab9f90e5f4972bae0f1b83d24c27ac71e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab9f90e5f4972bae0f1b83d24c27ac71e">DUK_ALLOC_ZEROED</a>(heap,  size)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a6e943dcf967ea5d7b76e293edb4dc2a9">duk_heap_mem_alloc_zeroed</a>((heap), (size))</td></tr>
<tr class="separator:ab9f90e5f4972bae0f1b83d24c27ac71e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac79bef16b4eb0be52e1eba10a5888f68" id="r_ac79bef16b4eb0be52e1eba10a5888f68"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac79bef16b4eb0be52e1eba10a5888f68">DUK_REALLOC</a>(heap,  ptr,  newsize)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ae24131292b7c879d1e77f0d93239bd17">duk_heap_mem_realloc</a>((heap), (ptr), (newsize))</td></tr>
<tr class="separator:ac79bef16b4eb0be52e1eba10a5888f68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4df0b380f6fe0b825adc7f3eb423adfd" id="r_a4df0b380f6fe0b825adc7f3eb423adfd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4df0b380f6fe0b825adc7f3eb423adfd">DUK_REALLOC_INDIRECT</a>(heap,  cb,  ud,  newsize)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a7892e3ec198ae07821ab9adcd58d5557">duk_heap_mem_realloc_indirect</a>((heap), (cb), (ud), (newsize))</td></tr>
<tr class="separator:a4df0b380f6fe0b825adc7f3eb423adfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a571cb7da08d904b60be353682be305a6" id="r_a571cb7da08d904b60be353682be305a6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a571cb7da08d904b60be353682be305a6">DUK_FREE</a>(heap,  ptr)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a4b845914496f34f1da1fa30a20c6bcb4">duk_heap_mem_free</a>((heap), (ptr))</td></tr>
<tr class="separator:a571cb7da08d904b60be353682be305a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa75d3bf194fe262e83871c86fe2581b2" id="r_aa75d3bf194fe262e83871c86fe2581b2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa75d3bf194fe262e83871c86fe2581b2">DUK_HEAP_ALLOC_FAIL_MARKANDSWEEP_LIMIT</a></td></tr>
<tr class="separator:aa75d3bf194fe262e83871c86fe2581b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac23c62266546a73bb6caf28270f9e9cb" id="r_ac23c62266546a73bb6caf28270f9e9cb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac23c62266546a73bb6caf28270f9e9cb">DUK_HEAP_ALLOC_FAIL_MARKANDSWEEP_EMERGENCY_LIMIT</a></td></tr>
<tr class="separator:ac23c62266546a73bb6caf28270f9e9cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ca251943ace13c1f0bd638ae13d860c" id="r_a3ca251943ace13c1f0bd638ae13d860c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3ca251943ace13c1f0bd638ae13d860c">DUK_HEAP_MAX_BREAKPOINTS</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:a3ca251943ace13c1f0bd638ae13d860c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a491bb50ed93babdff6db787320d918ff" id="r_a491bb50ed93babdff6db787320d918ff"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a491bb50ed93babdff6db787320d918ff">DUK_HEAP_DBG_RATELIMIT_OPCODES</a>&#160;&#160;&#160;4000</td></tr>
<tr class="separator:a491bb50ed93babdff6db787320d918ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea7f4ff44da2d920e53cc5767c41a781" id="r_aea7f4ff44da2d920e53cc5767c41a781"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aea7f4ff44da2d920e53cc5767c41a781">DUK_HEAP_DBG_RATELIMIT_MILLISECS</a>&#160;&#160;&#160;200</td></tr>
<tr class="separator:aea7f4ff44da2d920e53cc5767c41a781"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8b450fea281bc3cdea325e5acc8eb4c" id="r_af8b450fea281bc3cdea325e5acc8eb4c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af8b450fea281bc3cdea325e5acc8eb4c">DUK_STEP_TYPE_NONE</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:af8b450fea281bc3cdea325e5acc8eb4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a300da63ae0c7deeb9866e518abddc9a3" id="r_a300da63ae0c7deeb9866e518abddc9a3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a300da63ae0c7deeb9866e518abddc9a3">DUK_STEP_TYPE_INTO</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a300da63ae0c7deeb9866e518abddc9a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a869c871a43736bf44264f4011be9d879" id="r_a869c871a43736bf44264f4011be9d879"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a869c871a43736bf44264f4011be9d879">DUK_STEP_TYPE_OVER</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a869c871a43736bf44264f4011be9d879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac52a02d5c0be24afb3d13d83eeb0b5e0" id="r_ac52a02d5c0be24afb3d13d83eeb0b5e0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac52a02d5c0be24afb3d13d83eeb0b5e0">DUK_STEP_TYPE_OUT</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:ac52a02d5c0be24afb3d13d83eeb0b5e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:abfae686d4ccf7b98df6e9abdac473c7d" id="r_abfae686d4ccf7b98df6e9abdac473c7d"><td class="memItemLeft" align="right" valign="top">typedef void *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abfae686d4ccf7b98df6e9abdac473c7d">duk_mem_getptr</a>) (<a class="el" href="structduk__heap.html">duk_heap</a> *heap, void *ud)</td></tr>
<tr class="separator:abfae686d4ccf7b98df6e9abdac473c7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a371d43477be59910af726eff300d757c" id="r_a371d43477be59910af726eff300d757c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> <a class="el" href="structduk__heap.html">duk_heap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a371d43477be59910af726eff300d757c">duk_heap_alloc</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a1881a3f7e4fcddcf16f235518e2b6ee2">duk_alloc_function</a> alloc_func, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a51d9c11eb80bcf9a067aacd10f8fbb02">duk_realloc_function</a> realloc_func, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a4c5e185ffa83345809b9a419729c5303">duk_free_function</a> free_func, void *heap_udata, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a2d2267efded325cf39ddd00e17c5da07">duk_fatal_function</a> fatal_func)</td></tr>
<tr class="separator:a371d43477be59910af726eff300d757c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae291e911b9bf492deb5b5ac113236326" id="r_ae291e911b9bf492deb5b5ac113236326"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae291e911b9bf492deb5b5ac113236326">duk_heap_free</a> (<a class="el" href="structduk__heap.html">duk_heap</a> *heap)</td></tr>
<tr class="separator:ae291e911b9bf492deb5b5ac113236326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a639dc79184673af5050f1e96b38dec99" id="r_a639dc79184673af5050f1e96b38dec99"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a639dc79184673af5050f1e96b38dec99">duk_free_hobject_inner</a> (<a class="el" href="structduk__heap.html">duk_heap</a> *heap, <a class="el" href="structduk__hobject.html">duk_hobject</a> *h)</td></tr>
<tr class="separator:a639dc79184673af5050f1e96b38dec99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40b6c9eaa716e08e7003a3aa2a4ec380" id="r_a40b6c9eaa716e08e7003a3aa2a4ec380"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a40b6c9eaa716e08e7003a3aa2a4ec380">duk_free_hbuffer_inner</a> (<a class="el" href="structduk__heap.html">duk_heap</a> *heap, <a class="el" href="structduk__hbuffer.html">duk_hbuffer</a> *h)</td></tr>
<tr class="separator:a40b6c9eaa716e08e7003a3aa2a4ec380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a138dea88d384a73110bb3ae0b150e704" id="r_a138dea88d384a73110bb3ae0b150e704"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a138dea88d384a73110bb3ae0b150e704">duk_free_hstring_inner</a> (<a class="el" href="structduk__heap.html">duk_heap</a> *heap, <a class="el" href="structduk__hstring.html">duk_hstring</a> *h)</td></tr>
<tr class="separator:a138dea88d384a73110bb3ae0b150e704"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d4671eeebc58449d35bfe1ddf44c153" id="r_a2d4671eeebc58449d35bfe1ddf44c153"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2d4671eeebc58449d35bfe1ddf44c153">duk_heap_free_heaphdr_raw</a> (<a class="el" href="structduk__heap.html">duk_heap</a> *heap, <a class="el" href="structduk__heaphdr.html">duk_heaphdr</a> *hdr)</td></tr>
<tr class="separator:a2d4671eeebc58449d35bfe1ddf44c153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3308e7b3cf43f19c9a00ae72d58fc37" id="r_af3308e7b3cf43f19c9a00ae72d58fc37"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af3308e7b3cf43f19c9a00ae72d58fc37">duk_heap_insert_into_heap_allocated</a> (<a class="el" href="structduk__heap.html">duk_heap</a> *heap, <a class="el" href="structduk__heaphdr.html">duk_heaphdr</a> *hdr)</td></tr>
<tr class="separator:af3308e7b3cf43f19c9a00ae72d58fc37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c705ee65dbc261bc36e94b6f55e2848" id="r_a5c705ee65dbc261bc36e94b6f55e2848"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> <a class="el" href="structduk__hstring.html">duk_hstring</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5c705ee65dbc261bc36e94b6f55e2848">duk_heap_string_intern</a> (<a class="el" href="structduk__heap.html">duk_heap</a> *heap, const duk_uint8_t *str, duk_uint32_t blen)</td></tr>
<tr class="separator:a5c705ee65dbc261bc36e94b6f55e2848"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78c10014bae3b888bf31595711e019b8" id="r_a78c10014bae3b888bf31595711e019b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> <a class="el" href="structduk__hstring.html">duk_hstring</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78c10014bae3b888bf31595711e019b8">duk_heap_string_intern_checked</a> (<a class="el" href="structduk__hthread.html">duk_hthread</a> *thr, const duk_uint8_t *str, duk_uint32_t len)</td></tr>
<tr class="separator:a78c10014bae3b888bf31595711e019b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37357983fa3b528b0af34ee927e59d7d" id="r_a37357983fa3b528b0af34ee927e59d7d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> <a class="el" href="structduk__hstring.html">duk_hstring</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a37357983fa3b528b0af34ee927e59d7d">duk_heap_string_intern_u32</a> (<a class="el" href="structduk__heap.html">duk_heap</a> *heap, duk_uint32_t val)</td></tr>
<tr class="separator:a37357983fa3b528b0af34ee927e59d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabdbee1c3b9a8602dbf7fcdaa5f1b00e" id="r_aabdbee1c3b9a8602dbf7fcdaa5f1b00e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> <a class="el" href="structduk__hstring.html">duk_hstring</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aabdbee1c3b9a8602dbf7fcdaa5f1b00e">duk_heap_string_intern_u32_checked</a> (<a class="el" href="structduk__hthread.html">duk_hthread</a> *thr, duk_uint32_t val)</td></tr>
<tr class="separator:aabdbee1c3b9a8602dbf7fcdaa5f1b00e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad142e6936dcbc8b2e885cc76c59b318f" id="r_ad142e6936dcbc8b2e885cc76c59b318f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad142e6936dcbc8b2e885cc76c59b318f">duk_heap_free_strtab</a> (<a class="el" href="structduk__heap.html">duk_heap</a> *heap)</td></tr>
<tr class="separator:ad142e6936dcbc8b2e885cc76c59b318f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e3ef65028fdc180ce864dc5e9f5c2c4" id="r_a7e3ef65028fdc180ce864dc5e9f5c2c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7e3ef65028fdc180ce864dc5e9f5c2c4">duk_heap_strcache_string_remove</a> (<a class="el" href="structduk__heap.html">duk_heap</a> *heap, <a class="el" href="structduk__hstring.html">duk_hstring</a> *h)</td></tr>
<tr class="separator:a7e3ef65028fdc180ce864dc5e9f5c2c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a942ee733cfbc54f294201427bc17a3aa" id="r_a942ee733cfbc54f294201427bc17a3aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#afb6f9b695c07e55f671ddef49a2c0fbd">duk_uint_fast32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a942ee733cfbc54f294201427bc17a3aa">duk_heap_strcache_offset_char2byte</a> (<a class="el" href="structduk__hthread.html">duk_hthread</a> *thr, <a class="el" href="structduk__hstring.html">duk_hstring</a> *h, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#afb6f9b695c07e55f671ddef49a2c0fbd">duk_uint_fast32_t</a> char_offset)</td></tr>
<tr class="separator:a942ee733cfbc54f294201427bc17a3aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23665fb95afebe489bb453e57dc79441" id="r_a23665fb95afebe489bb453e57dc79441"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a23665fb95afebe489bb453e57dc79441">duk_heap_mem_alloc</a> (<a class="el" href="structduk__heap.html">duk_heap</a> *heap, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#ab0a71934d59f38f195fea2f353032392">duk_size_t</a> size)</td></tr>
<tr class="separator:a23665fb95afebe489bb453e57dc79441"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1a2442b19d790cc16292a10c302a3f3" id="r_ae1a2442b19d790cc16292a10c302a3f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae1a2442b19d790cc16292a10c302a3f3">duk_heap_mem_alloc_zeroed</a> (<a class="el" href="structduk__heap.html">duk_heap</a> *heap, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#ab0a71934d59f38f195fea2f353032392">duk_size_t</a> size)</td></tr>
<tr class="separator:ae1a2442b19d790cc16292a10c302a3f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e04736a90411498c33c55c359a13178" id="r_a0e04736a90411498c33c55c359a13178"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0e04736a90411498c33c55c359a13178">duk_heap_mem_realloc</a> (<a class="el" href="structduk__heap.html">duk_heap</a> *heap, void *ptr, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#ab0a71934d59f38f195fea2f353032392">duk_size_t</a> newsize)</td></tr>
<tr class="separator:a0e04736a90411498c33c55c359a13178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cbbad362d04e3e77cd8febcf98e9a1f" id="r_a7cbbad362d04e3e77cd8febcf98e9a1f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7cbbad362d04e3e77cd8febcf98e9a1f">duk_heap_mem_realloc_indirect</a> (<a class="el" href="structduk__heap.html">duk_heap</a> *heap, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#abfae686d4ccf7b98df6e9abdac473c7d">duk_mem_getptr</a> cb, void *ud, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#ab0a71934d59f38f195fea2f353032392">duk_size_t</a> newsize)</td></tr>
<tr class="separator:a7cbbad362d04e3e77cd8febcf98e9a1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b0c28f065abdbdaa21dfa85538bd336" id="r_a0b0c28f065abdbdaa21dfa85538bd336"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b0c28f065abdbdaa21dfa85538bd336">duk_heap_mem_free</a> (<a class="el" href="structduk__heap.html">duk_heap</a> *heap, void *ptr)</td></tr>
<tr class="separator:a0b0c28f065abdbdaa21dfa85538bd336"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0119a8c56a3c2eb39025289bd72b226" id="r_ab0119a8c56a3c2eb39025289bd72b226"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> duk_uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab0119a8c56a3c2eb39025289bd72b226">duk_heap_hashstring</a> (<a class="el" href="structduk__heap.html">duk_heap</a> *heap, const duk_uint8_t *str, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#ab0a71934d59f38f195fea2f353032392">duk_size_t</a> len)</td></tr>
<tr class="separator:ab0119a8c56a3c2eb39025289bd72b226"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aa32a1849a605af813cde5ad9e80176d0" name="aa32a1849a605af813cde5ad9e80176d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa32a1849a605af813cde5ad9e80176d0">&#9670;&#160;</a></span>DUK__HEAP_CLEAR_FLAGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK__HEAP_CLEAR_FLAGS</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">bits</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">        <span class="keywordflow">do</span> { \</div>
<div class="line">        (heap)-&gt;flags &amp;= ~(bits); \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00028">28</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   28</span><span class="preprocessor">#define DUK__HEAP_CLEAR_FLAGS(heap,bits)  do { \</span></div>
<div class="line"><span class="lineno">   29</span><span class="preprocessor">        (heap)-&gt;flags &amp;= ~(bits); \</span></div>
<div class="line"><span class="lineno">   30</span><span class="preprocessor">    } while (0)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6969dd1576504d2d96b370394b8ce45e" name="a6969dd1576504d2d96b370394b8ce45e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6969dd1576504d2d96b370394b8ce45e">&#9670;&#160;</a></span>DUK__HEAP_HAS_FLAGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK__HEAP_HAS_FLAGS</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">bits</span>&#160;)&#160;&#160;&#160;((heap)-&gt;flags &amp; (bits))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00024">24</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a98698c43fe4efe44b586df627795d3cc" name="a98698c43fe4efe44b586df627795d3cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98698c43fe4efe44b586df627795d3cc">&#9670;&#160;</a></span>DUK__HEAP_SET_FLAGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK__HEAP_SET_FLAGS</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">bits</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">        <span class="keywordflow">do</span> { \</div>
<div class="line">        (heap)-&gt;flags |= (bits); \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00025">25</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   25</span><span class="preprocessor">#define DUK__HEAP_SET_FLAGS(heap,bits)  do { \</span></div>
<div class="line"><span class="lineno">   26</span><span class="preprocessor">        (heap)-&gt;flags |= (bits); \</span></div>
<div class="line"><span class="lineno">   27</span><span class="preprocessor">    } while (0)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1749cfba8c899b635e9adfb4ee2c647f" name="a1749cfba8c899b635e9adfb4ee2c647f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1749cfba8c899b635e9adfb4ee2c647f">&#9670;&#160;</a></span>DUK_ALLOC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_ALLOC</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">size</span>&#160;)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a6c8dfbd81fceda5bd5cf78e73ac751c0">duk_heap_mem_alloc</a>((heap), (size))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00218">218</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a7917a90e92f61f695a34a1277e1d51d8" name="a7917a90e92f61f695a34a1277e1d51d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7917a90e92f61f695a34a1277e1d51d8">&#9670;&#160;</a></span>DUK_ALLOC_RAW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_ALLOC_RAW</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">size</span>&#160;)&#160;&#160;&#160;	((heap)-&gt;alloc_func((heap)-&gt;heap_udata, (size)))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00178">178</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  178</span><span class="preprocessor">#define DUK_ALLOC_RAW(heap,size) \</span></div>
<div class="line"><span class="lineno">  179</span><span class="preprocessor">    ((heap)-&gt;alloc_func((heap)-&gt;heap_udata, (size)))</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab9f90e5f4972bae0f1b83d24c27ac71e" name="ab9f90e5f4972bae0f1b83d24c27ac71e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9f90e5f4972bae0f1b83d24c27ac71e">&#9670;&#160;</a></span>DUK_ALLOC_ZEROED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_ALLOC_ZEROED</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">size</span>&#160;)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a6e943dcf967ea5d7b76e293edb4dc2a9">duk_heap_mem_alloc_zeroed</a>((heap), (size))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00219">219</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a571cb7da08d904b60be353682be305a6" name="a571cb7da08d904b60be353682be305a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a571cb7da08d904b60be353682be305a6">&#9670;&#160;</a></span>DUK_FREE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_FREE</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">ptr</span>&#160;)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a4b845914496f34f1da1fa30a20c6bcb4">duk_heap_mem_free</a>((heap), (ptr))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00222">222</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="acf8009cbb1cb5837b17e746983363591" name="acf8009cbb1cb5837b17e746983363591"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf8009cbb1cb5837b17e746983363591">&#9670;&#160;</a></span>DUK_FREE_RAW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_FREE_RAW</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">ptr</span>&#160;)&#160;&#160;&#160;	((heap)-&gt;free_func((heap)-&gt;heap_udata, (void *) (ptr)))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00184">184</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  184</span><span class="preprocessor">#define DUK_FREE_RAW(heap,ptr) \</span></div>
<div class="line"><span class="lineno">  185</span><span class="preprocessor">    ((heap)-&gt;free_func((heap)-&gt;heap_udata, (void *) (ptr)))</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac23c62266546a73bb6caf28270f9e9cb" name="ac23c62266546a73bb6caf28270f9e9cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac23c62266546a73bb6caf28270f9e9cb">&#9670;&#160;</a></span>DUK_HEAP_ALLOC_FAIL_MARKANDSWEEP_EMERGENCY_LIMIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_ALLOC_FAIL_MARKANDSWEEP_EMERGENCY_LIMIT</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">                                                              3  <span class="comment">/* Starting from this round, use emergency mode</span></div>
<div class="line"><span class="comment">                                                              * for mark-and-sweep.</span></div>
<div class="line"><span class="comment">                                                              */</span></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00230">230</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="aa75d3bf194fe262e83871c86fe2581b2" name="aa75d3bf194fe262e83871c86fe2581b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa75d3bf194fe262e83871c86fe2581b2">&#9670;&#160;</a></span>DUK_HEAP_ALLOC_FAIL_MARKANDSWEEP_LIMIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_ALLOC_FAIL_MARKANDSWEEP_LIMIT</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">                                                              5   <span class="comment">/* Retry allocation after mark-and-sweep for this</span></div>
<div class="line"><span class="comment">                                                              * many times.  A single mark-and-sweep round is</span></div>
<div class="line"><span class="comment">                                                              * not guaranteed to free all unreferenced memory</span></div>
<div class="line"><span class="comment">                                                              * because of finalization (in fact, ANY number of</span></div>
<div class="line"><span class="comment">                                                              * rounds is strictly not enough).</span></div>
<div class="line"><span class="comment">                                                              */</span></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00228">228</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="abdf657afaa2fa3449cf1f701fc5e35d7" name="abdf657afaa2fa3449cf1f701fc5e35d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdf657afaa2fa3449cf1f701fc5e35d7">&#9670;&#160;</a></span>DUK_HEAP_CLEAR_ERRHANDLER_RUNNING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_CLEAR_ERRHANDLER_RUNNING</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap</span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa32a1849a605af813cde5ad9e80176d0">DUK__HEAP_CLEAR_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ace0fb1fd0dd36a52f67e759452786582">DUK_HEAP_FLAG_ERRHANDLER_RUNNING</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00049">49</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="ab5963891ac1765f6dc8fc4bbe6b9019b" name="ab5963891ac1765f6dc8fc4bbe6b9019b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5963891ac1765f6dc8fc4bbe6b9019b">&#9670;&#160;</a></span>DUK_HEAP_CLEAR_FINALIZER_NORESCUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_CLEAR_FINALIZER_NORESCUE</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap</span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa32a1849a605af813cde5ad9e80176d0">DUK__HEAP_CLEAR_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a813488d3963659dd203a03741bb502f0">DUK_HEAP_FLAG_FINALIZER_NORESCUE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00051">51</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a7d054b2ad0dbc14a670de5155de3b4a4" name="a7d054b2ad0dbc14a670de5155de3b4a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d054b2ad0dbc14a670de5155de3b4a4">&#9670;&#160;</a></span>DUK_HEAP_CLEAR_INTERRUPT_RUNNING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_CLEAR_INTERRUPT_RUNNING</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap</span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa32a1849a605af813cde5ad9e80176d0">DUK__HEAP_CLEAR_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a0026cfca968d8b596a40d08f0785a402">DUK_HEAP_FLAG_INTERRUPT_RUNNING</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00050">50</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a14521de02adcd6a3118075046427a9eb" name="a14521de02adcd6a3118075046427a9eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14521de02adcd6a3118075046427a9eb">&#9670;&#160;</a></span>DUK_HEAP_CLEAR_MARKANDSWEEP_RECLIMIT_REACHED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_CLEAR_MARKANDSWEEP_RECLIMIT_REACHED</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap</span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa32a1849a605af813cde5ad9e80176d0">DUK__HEAP_CLEAR_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a5dc9d6db2aec3825bf691af13c470b61">DUK_HEAP_FLAG_MARKANDSWEEP_RECLIMIT_REACHED</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00047">47</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a4441ff9a935f7e08e2dbaf3fd1d9a052" name="a4441ff9a935f7e08e2dbaf3fd1d9a052"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4441ff9a935f7e08e2dbaf3fd1d9a052">&#9670;&#160;</a></span>DUK_HEAP_CLEAR_MARKANDSWEEP_RUNNING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_CLEAR_MARKANDSWEEP_RUNNING</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap</span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa32a1849a605af813cde5ad9e80176d0">DUK__HEAP_CLEAR_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#acc73afb740b04306eeb9abf9491af3bc">DUK_HEAP_FLAG_MARKANDSWEEP_RUNNING</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00046">46</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="ac922c6350a7d44751ce60bcb318486e7" name="ac922c6350a7d44751ce60bcb318486e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac922c6350a7d44751ce60bcb318486e7">&#9670;&#160;</a></span>DUK_HEAP_CLEAR_REFZERO_FREE_RUNNING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_CLEAR_REFZERO_FREE_RUNNING</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap</span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa32a1849a605af813cde5ad9e80176d0">DUK__HEAP_CLEAR_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab7999738cf262d98d9afb5a6ce4bf390">DUK_HEAP_FLAG_REFZERO_FREE_RUNNING</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00048">48</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="aea7f4ff44da2d920e53cc5767c41a781" name="aea7f4ff44da2d920e53cc5767c41a781"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea7f4ff44da2d920e53cc5767c41a781">&#9670;&#160;</a></span>DUK_HEAP_DBG_RATELIMIT_MILLISECS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_DBG_RATELIMIT_MILLISECS&#160;&#160;&#160;200</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00249">249</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a491bb50ed93babdff6db787320d918ff" name="a491bb50ed93babdff6db787320d918ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a491bb50ed93babdff6db787320d918ff">&#9670;&#160;</a></span>DUK_HEAP_DBG_RATELIMIT_OPCODES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_DBG_RATELIMIT_OPCODES&#160;&#160;&#160;4000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00246">246</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="ace0fb1fd0dd36a52f67e759452786582" name="ace0fb1fd0dd36a52f67e759452786582"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace0fb1fd0dd36a52f67e759452786582">&#9670;&#160;</a></span>DUK_HEAP_FLAG_ERRHANDLER_RUNNING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_FLAG_ERRHANDLER_RUNNING&#160;&#160;&#160;(1 &lt;&lt; 3)  /* an <a class="el" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> handler (user callback to augment/replace <a class="el" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>) <a class="el" href="classis.html">is</a> running */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00020">20</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a813488d3963659dd203a03741bb502f0" name="a813488d3963659dd203a03741bb502f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a813488d3963659dd203a03741bb502f0">&#9670;&#160;</a></span>DUK_HEAP_FLAG_FINALIZER_NORESCUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_FLAG_FINALIZER_NORESCUE&#160;&#160;&#160;(1 &lt;&lt; 5)  /* heap destruction ongoing, finalizer rescue no longer possible */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00022">22</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a0026cfca968d8b596a40d08f0785a402" name="a0026cfca968d8b596a40d08f0785a402"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0026cfca968d8b596a40d08f0785a402">&#9670;&#160;</a></span>DUK_HEAP_FLAG_INTERRUPT_RUNNING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_FLAG_INTERRUPT_RUNNING&#160;&#160;&#160;(1 &lt;&lt; 4)  /* executor interrupt running (used to avoid nested interrupts) */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00021">21</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a5dc9d6db2aec3825bf691af13c470b61" name="a5dc9d6db2aec3825bf691af13c470b61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dc9d6db2aec3825bf691af13c470b61">&#9670;&#160;</a></span>DUK_HEAP_FLAG_MARKANDSWEEP_RECLIMIT_REACHED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_FLAG_MARKANDSWEEP_RECLIMIT_REACHED&#160;&#160;&#160;(1 &lt;&lt; 1)  /* mark-and-sweep marking reached <a class="el" href="classa.html">a</a> recursion limit and must use multi-pass marking */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00018">18</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="acc73afb740b04306eeb9abf9491af3bc" name="acc73afb740b04306eeb9abf9491af3bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc73afb740b04306eeb9abf9491af3bc">&#9670;&#160;</a></span>DUK_HEAP_FLAG_MARKANDSWEEP_RUNNING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_FLAG_MARKANDSWEEP_RUNNING&#160;&#160;&#160;(1 &lt;&lt; 0)  /* mark-and-sweep <a class="el" href="classis.html">is</a> currently running */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00017">17</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="ab7999738cf262d98d9afb5a6ce4bf390" name="ab7999738cf262d98d9afb5a6ce4bf390"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7999738cf262d98d9afb5a6ce4bf390">&#9670;&#160;</a></span>DUK_HEAP_FLAG_REFZERO_FREE_RUNNING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_FLAG_REFZERO_FREE_RUNNING&#160;&#160;&#160;(1 &lt;&lt; 2)  /* refcount code <a class="el" href="classis.html">is</a> processing refzero list */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00019">19</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="aa695827e75f0088ac7ed8bd9a579024a" name="aa695827e75f0088ac7ed8bd9a579024a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa695827e75f0088ac7ed8bd9a579024a">&#9670;&#160;</a></span>DUK_HEAP_GET_STRING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_GET_STRING</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">idx</span>&#160;)&#160;&#160;&#160;	((heap)-&gt;strs[(idx)])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00169">169</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  169</span><span class="preprocessor">#define DUK_HEAP_GET_STRING(heap,idx) \</span></div>
<div class="line"><span class="lineno">  170</span><span class="preprocessor">    ((heap)-&gt;strs[(idx)])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1ba44ba4c2bccbc39e9954e0369aac82" name="a1ba44ba4c2bccbc39e9954e0369aac82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ba44ba4c2bccbc39e9954e0369aac82">&#9670;&#160;</a></span>DUK_HEAP_HAS_ERRHANDLER_RUNNING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_HAS_ERRHANDLER_RUNNING</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap</span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a6969dd1576504d2d96b370394b8ce45e">DUK__HEAP_HAS_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ace0fb1fd0dd36a52f67e759452786582">DUK_HEAP_FLAG_ERRHANDLER_RUNNING</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00035">35</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a002fc805a874d87c33b15d6ba4402d69" name="a002fc805a874d87c33b15d6ba4402d69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a002fc805a874d87c33b15d6ba4402d69">&#9670;&#160;</a></span>DUK_HEAP_HAS_FINALIZER_NORESCUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_HAS_FINALIZER_NORESCUE</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap</span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a6969dd1576504d2d96b370394b8ce45e">DUK__HEAP_HAS_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a813488d3963659dd203a03741bb502f0">DUK_HEAP_FLAG_FINALIZER_NORESCUE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00037">37</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a60738b5ebd117b412867d805e5be2024" name="a60738b5ebd117b412867d805e5be2024"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60738b5ebd117b412867d805e5be2024">&#9670;&#160;</a></span>DUK_HEAP_HAS_INTERRUPT_RUNNING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_HAS_INTERRUPT_RUNNING</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap</span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a6969dd1576504d2d96b370394b8ce45e">DUK__HEAP_HAS_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a0026cfca968d8b596a40d08f0785a402">DUK_HEAP_FLAG_INTERRUPT_RUNNING</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00036">36</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a0f5fd392a3fb65b14846530194a777df" name="a0f5fd392a3fb65b14846530194a777df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f5fd392a3fb65b14846530194a777df">&#9670;&#160;</a></span>DUK_HEAP_HAS_MARKANDSWEEP_RECLIMIT_REACHED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_HAS_MARKANDSWEEP_RECLIMIT_REACHED</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap</span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a6969dd1576504d2d96b370394b8ce45e">DUK__HEAP_HAS_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a5dc9d6db2aec3825bf691af13c470b61">DUK_HEAP_FLAG_MARKANDSWEEP_RECLIMIT_REACHED</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00033">33</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a8eaa2088eb15b600eb46501093dfb1a4" name="a8eaa2088eb15b600eb46501093dfb1a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8eaa2088eb15b600eb46501093dfb1a4">&#9670;&#160;</a></span>DUK_HEAP_HAS_MARKANDSWEEP_RUNNING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_HAS_MARKANDSWEEP_RUNNING</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap</span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a6969dd1576504d2d96b370394b8ce45e">DUK__HEAP_HAS_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#acc73afb740b04306eeb9abf9491af3bc">DUK_HEAP_FLAG_MARKANDSWEEP_RUNNING</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00032">32</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a926a5b556351c4c0e6c2ae309d0f2628" name="a926a5b556351c4c0e6c2ae309d0f2628"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a926a5b556351c4c0e6c2ae309d0f2628">&#9670;&#160;</a></span>DUK_HEAP_HAS_REFZERO_FREE_RUNNING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_HAS_REFZERO_FREE_RUNNING</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap</span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a6969dd1576504d2d96b370394b8ce45e">DUK__HEAP_HAS_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab7999738cf262d98d9afb5a6ce4bf390">DUK_HEAP_FLAG_REFZERO_FREE_RUNNING</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00034">34</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a42a15639dd2793b09da2a8de08869489" name="a42a15639dd2793b09da2a8de08869489"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42a15639dd2793b09da2a8de08869489">&#9670;&#160;</a></span>DUK_HEAP_INSERT_INTO_HEAP_ALLOCATED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_INSERT_INTO_HEAP_ALLOCATED</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">hdr</span>&#160;)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ad20a97a52d1b020ea98f03282deb0532">duk_heap_insert_into_heap_allocated</a>((heap),(hdr))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00129">129</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a3ca251943ace13c1f0bd638ae13d860c" name="a3ca251943ace13c1f0bd638ae13d860c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ca251943ace13c1f0bd638ae13d860c">&#9670;&#160;</a></span>DUK_HEAP_MAX_BREAKPOINTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_MAX_BREAKPOINTS&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00239">239</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a8a32939a13b69448650a3ad02fda76c2" name="a8a32939a13b69448650a3ad02fda76c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a32939a13b69448650a3ad02fda76c2">&#9670;&#160;</a></span>DUK_HEAP_SET_ERRHANDLER_RUNNING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_SET_ERRHANDLER_RUNNING</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap</span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a98698c43fe4efe44b586df627795d3cc">DUK__HEAP_SET_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ace0fb1fd0dd36a52f67e759452786582">DUK_HEAP_FLAG_ERRHANDLER_RUNNING</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00042">42</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a1db0f8dd029a34bd404c55828347e7f4" name="a1db0f8dd029a34bd404c55828347e7f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1db0f8dd029a34bd404c55828347e7f4">&#9670;&#160;</a></span>DUK_HEAP_SET_FINALIZER_NORESCUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_SET_FINALIZER_NORESCUE</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap</span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a98698c43fe4efe44b586df627795d3cc">DUK__HEAP_SET_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a813488d3963659dd203a03741bb502f0">DUK_HEAP_FLAG_FINALIZER_NORESCUE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00044">44</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="aaf4de24f57cf958eb1bef4cbcc574059" name="aaf4de24f57cf958eb1bef4cbcc574059"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf4de24f57cf958eb1bef4cbcc574059">&#9670;&#160;</a></span>DUK_HEAP_SET_INTERRUPT_RUNNING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_SET_INTERRUPT_RUNNING</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap</span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a98698c43fe4efe44b586df627795d3cc">DUK__HEAP_SET_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a0026cfca968d8b596a40d08f0785a402">DUK_HEAP_FLAG_INTERRUPT_RUNNING</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00043">43</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a84f903946105404f19ae6d0bf9800efd" name="a84f903946105404f19ae6d0bf9800efd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84f903946105404f19ae6d0bf9800efd">&#9670;&#160;</a></span>DUK_HEAP_SET_MARKANDSWEEP_RECLIMIT_REACHED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_SET_MARKANDSWEEP_RECLIMIT_REACHED</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap</span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a98698c43fe4efe44b586df627795d3cc">DUK__HEAP_SET_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a5dc9d6db2aec3825bf691af13c470b61">DUK_HEAP_FLAG_MARKANDSWEEP_RECLIMIT_REACHED</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00040">40</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a278f3d99304116c352f7d855b0b78ea5" name="a278f3d99304116c352f7d855b0b78ea5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a278f3d99304116c352f7d855b0b78ea5">&#9670;&#160;</a></span>DUK_HEAP_SET_MARKANDSWEEP_RUNNING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_SET_MARKANDSWEEP_RUNNING</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap</span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a98698c43fe4efe44b586df627795d3cc">DUK__HEAP_SET_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#acc73afb740b04306eeb9abf9491af3bc">DUK_HEAP_FLAG_MARKANDSWEEP_RUNNING</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00039">39</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a70afcc4d1a1d7dbde4ad096638064997" name="a70afcc4d1a1d7dbde4ad096638064997"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70afcc4d1a1d7dbde4ad096638064997">&#9670;&#160;</a></span>DUK_HEAP_SET_REFZERO_FREE_RUNNING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_SET_REFZERO_FREE_RUNNING</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap</span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a98698c43fe4efe44b586df627795d3cc">DUK__HEAP_SET_FLAGS</a>((heap), <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab7999738cf262d98d9afb5a6ce4bf390">DUK_HEAP_FLAG_REFZERO_FREE_RUNNING</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00041">41</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="aaf0664a61a1ec888600acbc9acea93c8" name="aaf0664a61a1ec888600acbc9acea93c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf0664a61a1ec888600acbc9acea93c8">&#9670;&#160;</a></span>DUK_HEAP_STRCACHE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_STRCACHE_SIZE&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00125">125</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="aa0a6bcede582e43c9281b0bc556becc4" name="aa0a6bcede582e43c9281b0bc556becc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0a6bcede582e43c9281b0bc556becc4">&#9670;&#160;</a></span>DUK_HEAP_STRINGCACHE_NOCACHE_LIMIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_STRINGCACHE_NOCACHE_LIMIT&#160;&#160;&#160;16  /* strings up to the this length are not cached */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00126">126</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="ada39afa145c10879d68bc705850edcd7" name="ada39afa145c10879d68bc705850edcd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada39afa145c10879d68bc705850edcd7">&#9670;&#160;</a></span>DUK_HEAP_SWITCH_THREAD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_HEAP_SWITCH_THREAD</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">newthr</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">        <span class="keywordflow">do</span> { \</div>
<div class="line">        (heap)-&gt;curr_thread = (newthr); \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00091">91</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   91</span><span class="preprocessor">#define DUK_HEAP_SWITCH_THREAD(heap,newthr)  do { \</span></div>
<div class="line"><span class="lineno">   92</span><span class="preprocessor">        (heap)-&gt;curr_thread = (newthr); \</span></div>
<div class="line"><span class="lineno">   93</span><span class="preprocessor">    } while (0)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="abf1ad1dba0f44215df182824239765e4" name="abf1ad1dba0f44215df182824239765e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf1ad1dba0f44215df182824239765e4">&#9670;&#160;</a></span>DUK_LJ_TYPE_BREAK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_LJ_TYPE_BREAK&#160;&#160;&#160;4    /* value1 -&gt; label number, pseudo-type to indicate <a class="el" href="classa.html">a</a> break continuation (for ENDFIN) */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00061">61</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a069e2c97ffec8ce41a698375c4556137" name="a069e2c97ffec8ce41a698375c4556137"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a069e2c97ffec8ce41a698375c4556137">&#9670;&#160;</a></span>DUK_LJ_TYPE_CONTINUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_LJ_TYPE_CONTINUE&#160;&#160;&#160;5    /* value1 -&gt; label number, pseudo-type to indicate <a class="el" href="classa.html">a</a> continue continuation (for ENDFIN) */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00062">62</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="acf39660050e6713078a9c7c98987dab0" name="acf39660050e6713078a9c7c98987dab0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf39660050e6713078a9c7c98987dab0">&#9670;&#160;</a></span>DUK_LJ_TYPE_NORMAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_LJ_TYPE_NORMAL&#160;&#160;&#160;7    /* no <a class="el" href="lsqlite3_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, pseudo-type to indicate <a class="el" href="classa.html">a</a> normal continuation (for ENDFIN) */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00064">64</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="ab03c78b0b148b8a9977cb5cc31d7257e" name="ab03c78b0b148b8a9977cb5cc31d7257e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab03c78b0b148b8a9977cb5cc31d7257e">&#9670;&#160;</a></span>DUK_LJ_TYPE_RESUME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_LJ_TYPE_RESUME&#160;&#160;&#160;3    /* value1 -&gt; <a class="el" href="lua-5_81_85_2src_2ldo_8c.html#abd7632c715de5db6e7797b7fa3f7010f">resume</a> <a class="el" href="lsqlite3_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, value2 -&gt; resumee thread, iserror -&gt; <a class="el" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>/normal */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00060">60</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a57a83a056ab4b77b176b6f2af1677a6d" name="a57a83a056ab4b77b176b6f2af1677a6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57a83a056ab4b77b176b6f2af1677a6d">&#9670;&#160;</a></span>DUK_LJ_TYPE_RETURN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_LJ_TYPE_RETURN&#160;&#160;&#160;6    /* value1 -&gt; return <a class="el" href="lsqlite3_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, pseudo-type to indicate <a class="el" href="classa.html">a</a> return continuation (for ENDFIN) */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00063">63</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a01491eeb67c7b39eb79b036bc1e17c16" name="a01491eeb67c7b39eb79b036bc1e17c16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01491eeb67c7b39eb79b036bc1e17c16">&#9670;&#160;</a></span>DUK_LJ_TYPE_THROW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_LJ_TYPE_THROW&#160;&#160;&#160;1    /* value1 -&gt; <a class="el" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> object */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00058">58</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a6af5993d9334f7a01bbc1219671ca5ea" name="a6af5993d9334f7a01bbc1219671ca5ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6af5993d9334f7a01bbc1219671ca5ea">&#9670;&#160;</a></span>DUK_LJ_TYPE_UNKNOWN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_LJ_TYPE_UNKNOWN&#160;&#160;&#160;0    /* <a class="el" href="deprecated_2gthread_8h.html#a3b1ec5f7cc9d987b6be118edd3d26e60">unused</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00057">57</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a07d8f8d48d40ddb8ea2dc6a8ff889351" name="a07d8f8d48d40ddb8ea2dc6a8ff889351"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07d8f8d48d40ddb8ea2dc6a8ff889351">&#9670;&#160;</a></span>DUK_LJ_TYPE_YIELD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_LJ_TYPE_YIELD&#160;&#160;&#160;2    /* value1 -&gt; yield <a class="el" href="lsqlite3_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, iserror -&gt; <a class="el" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> / normal */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00059">59</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a01bd2d35612c776aded52350eb23b790" name="a01bd2d35612c776aded52350eb23b790"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01bd2d35612c776aded52350eb23b790">&#9670;&#160;</a></span>DUK_MS_FLAG_EMERGENCY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_MS_FLAG_EMERGENCY&#160;&#160;&#160;(1 &lt;&lt; 0)   /* emergency mode: try extra hard */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00074">74</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a5a28b04424e5e385313e2e5821eb3a97" name="a5a28b04424e5e385313e2e5821eb3a97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a28b04424e5e385313e2e5821eb3a97">&#9670;&#160;</a></span>DUK_MS_FLAG_NO_FINALIZERS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_MS_FLAG_NO_FINALIZERS&#160;&#160;&#160;(1 &lt;&lt; 3)   /* don't run finalizers; leave finalizable objects in finalize_list for <a class="el" href="lua-5_81_85_2src_2llex_8c.html#a8ab976102fb046f9974c53caaf5a1995">next</a> round */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00077">77</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a0305cbeb6c7973f1ac43e4c9553fd69b" name="a0305cbeb6c7973f1ac43e4c9553fd69b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0305cbeb6c7973f1ac43e4c9553fd69b">&#9670;&#160;</a></span>DUK_MS_FLAG_NO_OBJECT_COMPACTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_MS_FLAG_NO_OBJECT_COMPACTION&#160;&#160;&#160;(1 &lt;&lt; 2)   /* don't compact objects; needed during object property allocation <a class="el" href="lua-5_81_85_2src_2ltable_8c.html#a4fd20c653904e3ff033c51d1d137724d">resize</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00076">76</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a94161c2cd17bbd439cef64cc8467b504" name="a94161c2cd17bbd439cef64cc8467b504"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94161c2cd17bbd439cef64cc8467b504">&#9670;&#160;</a></span>DUK_MS_FLAG_NO_STRINGTABLE_RESIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_MS_FLAG_NO_STRINGTABLE_RESIZE&#160;&#160;&#160;(1 &lt;&lt; 1)   /* don't <a class="el" href="lua-5_81_85_2src_2ltable_8c.html#a4fd20c653904e3ff033c51d1d137724d">resize</a> <a class="el" href="structstringtable.html">stringtable</a> (but may sweep it); needed during <a class="el" href="structstringtable.html">stringtable</a> <a class="el" href="lua-5_81_85_2src_2ltable_8c.html#a4fd20c653904e3ff033c51d1d137724d">resize</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00075">75</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="aebbc9f3d3f13e590652b6a2f5b51ffcc" name="aebbc9f3d3f13e590652b6a2f5b51ffcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebbc9f3d3f13e590652b6a2f5b51ffcc">&#9670;&#160;</a></span>DUK_MS_FLAG_SKIP_FINALIZERS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_MS_FLAG_SKIP_FINALIZERS&#160;&#160;&#160;(1 &lt;&lt; 4)   /* don't run finalizers; queue finalizable objects back to heap_allocated */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00078">78</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="ac79bef16b4eb0be52e1eba10a5888f68" name="ac79bef16b4eb0be52e1eba10a5888f68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac79bef16b4eb0be52e1eba10a5888f68">&#9670;&#160;</a></span>DUK_REALLOC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_REALLOC</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">ptr, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">newsize</span>&#160;)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ae24131292b7c879d1e77f0d93239bd17">duk_heap_mem_realloc</a>((heap), (ptr), (newsize))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00220">220</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a4df0b380f6fe0b825adc7f3eb423adfd" name="a4df0b380f6fe0b825adc7f3eb423adfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4df0b380f6fe0b825adc7f3eb423adfd">&#9670;&#160;</a></span>DUK_REALLOC_INDIRECT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_REALLOC_INDIRECT</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">cb, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">ud, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">newsize</span>&#160;)&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a7892e3ec198ae07821ab9adcd58d5557">duk_heap_mem_realloc_indirect</a>((heap), (cb), (ud), (newsize))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00221">221</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a88c14996f4f7dd1c811ae413031aad52" name="a88c14996f4f7dd1c811ae413031aad52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88c14996f4f7dd1c811ae413031aad52">&#9670;&#160;</a></span>DUK_REALLOC_RAW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_REALLOC_RAW</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">ptr, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">newsize</span>&#160;)&#160;&#160;&#160;	((heap)-&gt;realloc_func((heap)-&gt;heap_udata, (void *) (ptr), (newsize)))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00181">181</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  181</span><span class="preprocessor">#define DUK_REALLOC_RAW(heap,ptr,newsize) \</span></div>
<div class="line"><span class="lineno">  182</span><span class="preprocessor">    ((heap)-&gt;realloc_func((heap)-&gt;heap_udata, (void *) (ptr), (newsize)))</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a300da63ae0c7deeb9866e518abddc9a3" name="a300da63ae0c7deeb9866e518abddc9a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a300da63ae0c7deeb9866e518abddc9a3">&#9670;&#160;</a></span>DUK_STEP_TYPE_INTO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_STEP_TYPE_INTO&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00253">253</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="af8b450fea281bc3cdea325e5acc8eb4c" name="af8b450fea281bc3cdea325e5acc8eb4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8b450fea281bc3cdea325e5acc8eb4c">&#9670;&#160;</a></span>DUK_STEP_TYPE_NONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_STEP_TYPE_NONE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00252">252</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="ac52a02d5c0be24afb3d13d83eeb0b5e0" name="ac52a02d5c0be24afb3d13d83eeb0b5e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac52a02d5c0be24afb3d13d83eeb0b5e0">&#9670;&#160;</a></span>DUK_STEP_TYPE_OUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_STEP_TYPE_OUT&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00255">255</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a869c871a43736bf44264f4011be9d879" name="a869c871a43736bf44264f4011be9d879"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a869c871a43736bf44264f4011be9d879">&#9670;&#160;</a></span>DUK_STEP_TYPE_OVER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_STEP_TYPE_OVER&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00254">254</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a84424d938751ffbb5311aea86edb8bd1" name="a84424d938751ffbb5311aea86edb8bd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84424d938751ffbb5311aea86edb8bd1">&#9670;&#160;</a></span>DUK_STRTAB_CHAIN_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_STRTAB_CHAIN_SIZE&#160;&#160;&#160;DUK_USE_STRTAB_CHAIN_SIZE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00154">154</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a03a6b2ef1626b68ab1751f404f51cc22" name="a03a6b2ef1626b68ab1751f404f51cc22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03a6b2ef1626b68ab1751f404f51cc22">&#9670;&#160;</a></span>DUK_STRTAB_DELETED_MARKER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_STRTAB_DELETED_MARKER</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">heap</span></td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="structduk__hstring.html">duk_hstring</a> *) heap)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00139">139</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a82de04feb816d7032f5521b44317a6ed" name="a82de04feb816d7032f5521b44317a6ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82de04feb816d7032f5521b44317a6ed">&#9670;&#160;</a></span>DUK_STRTAB_GROW_ST_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_STRTAB_GROW_ST_SIZE</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">n</span></td><td>)</td>
          <td>&#160;&#160;&#160;((n) + (n))      /* used entries + approx 100% -&gt; reset load to 50% */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00144">144</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="aeea88ba5b2930438ec6500e3cfcbdd1b" name="aeea88ba5b2930438ec6500e3cfcbdd1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeea88ba5b2930438ec6500e3cfcbdd1b">&#9670;&#160;</a></span>DUK_STRTAB_HASH_INITIAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_STRTAB_HASH_INITIAL</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">hash, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">h_size</span>&#160;)&#160;&#160;&#160;((hash) % (h_size))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00150">150</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a318b26dfeb86508ed73ddda70cd29d8b" name="a318b26dfeb86508ed73ddda70cd29d8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a318b26dfeb86508ed73ddda70cd29d8b">&#9670;&#160;</a></span>DUK_STRTAB_HASH_PROBE_STEP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_STRTAB_HASH_PROBE_STEP</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">hash</span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a825762443e0ebcf14aadce8734e933e3">DUK_UTIL_GET_HASH_PROBE_STEP</a>((hash))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00151">151</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a6cc8d3b647a6afc26f8809d6412e3c34" name="a6cc8d3b647a6afc26f8809d6412e3c34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cc8d3b647a6afc26f8809d6412e3c34">&#9670;&#160;</a></span>DUK_STRTAB_HIGHEST_32BIT_PRIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_STRTAB_HIGHEST_32BIT_PRIME&#160;&#160;&#160;0xfffffffbUL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00147">147</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a9012de795764d585aaa731d8f1a5907a" name="a9012de795764d585aaa731d8f1a5907a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9012de795764d585aaa731d8f1a5907a">&#9670;&#160;</a></span>DUK_STRTAB_INITIAL_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_STRTAB_INITIAL_SIZE&#160;&#160;&#160;17</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00136">136</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a2f66b85480a244981dcb6832036ae1dd" name="a2f66b85480a244981dcb6832036ae1dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f66b85480a244981dcb6832036ae1dd">&#9670;&#160;</a></span>DUK_STRTAB_MIN_FREE_DIVISOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_STRTAB_MIN_FREE_DIVISOR&#160;&#160;&#160;4                /* load factor max 75% */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00142">142</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="a1f6625c1edf0439f90b31d12dbc9c13e" name="a1f6625c1edf0439f90b31d12dbc9c13e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f6625c1edf0439f90b31d12dbc9c13e">&#9670;&#160;</a></span>DUK_STRTAB_MIN_USED_DIVISOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_STRTAB_MIN_USED_DIVISOR&#160;&#160;&#160;4                /* load factor min 25% */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00143">143</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<a id="ad795e6f23fa46d46f505333337b4c9b5" name="ad795e6f23fa46d46f505333337b4c9b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad795e6f23fa46d46f505333337b4c9b5">&#9670;&#160;</a></span>DUK_STRTAB_U32_MAX_STRLEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_STRTAB_U32_MAX_STRLEN&#160;&#160;&#160;10               /* 4'294'967'295 */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00146">146</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="abfae686d4ccf7b98df6e9abdac473c7d" name="abfae686d4ccf7b98df6e9abdac473c7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfae686d4ccf7b98df6e9abdac473c7d">&#9670;&#160;</a></span>duk_mem_getptr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void *(* duk_mem_getptr) (<a class="el" href="structduk__heap.html">duk_heap</a> *heap, void *ud)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html#l00216">216</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h_source.html">duktape-1.5.2/src-separate/duk_heap.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a40b6c9eaa716e08e7003a3aa2a4ec380" name="a40b6c9eaa716e08e7003a3aa2a4ec380"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40b6c9eaa716e08e7003a3aa2a4ec380">&#9670;&#160;</a></span>duk_free_hbuffer_inner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void duk_free_hbuffer_inner </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structduk__heap.html">duk_heap</a> *</td>          <td class="paramname"><span class="paramname"><em>heap</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structduk__hbuffer.html">duk_hbuffer</a> *</td>          <td class="paramname"><span class="paramname"><em>h</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l40759">40759</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">40759</span>                                         {</div>
<div class="line"><span class="lineno">40760</span>        <a class="code hl_struct" href="structduk__hthread.html">duk_hthread</a> *t = (<a class="code hl_struct" href="structduk__hthread.html">duk_hthread</a> *) h;</div>
<div class="line"><span class="lineno">40761</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a571cb7da08d904b60be353682be305a6">DUK_FREE</a>(heap, t-&gt;<a class="code hl_variable" href="structduk__hthread.html#a08f58ff5b9fa5927891c2e08712e3971">valstack</a>);</div>
<div class="line"><span class="lineno">40762</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a571cb7da08d904b60be353682be305a6">DUK_FREE</a>(heap, t-&gt;<a class="code hl_variable" href="structduk__hthread.html#ac03631b2f8ff5bab23d409f0bb966579">callstack</a>);</div>
<div class="line"><span class="lineno">40763</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a571cb7da08d904b60be353682be305a6">DUK_FREE</a>(heap, t-&gt;<a class="code hl_variable" href="structduk__hthread.html#af6ad1a5c8500ffe6443be8fec677a775">catchstack</a>);</div>
<div class="line"><span class="lineno">40764</span>        <span class="comment">/* Don&#39;t free h-&gt;resumer because it exists in the heap.</span></div>
<div class="line"><span class="lineno">40765</span><span class="comment">         * Callstack entries also contain function pointers which</span></div>
<div class="line"><span class="lineno">40766</span><span class="comment">         * are not freed for the same reason.</span></div>
<div class="line"><span class="lineno">40767</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">40768</span> </div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a571cb7da08d904b60be353682be305a6"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a571cb7da08d904b60be353682be305a6">DUK_FREE</a></div><div class="ttdeci">#define DUK_FREE(heap, ptr)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06866">duktape-1.5.2/src-noline/duktape.c:6866</a></div></div>
<div class="ttc" id="astructduk__hthread_html"><div class="ttname"><a href="structduk__hthread.html">duk_hthread</a></div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06190">duktape-1.5.2/src-noline/duktape.c:6190</a></div></div>
<div class="ttc" id="astructduk__hthread_html_a08f58ff5b9fa5927891c2e08712e3971"><div class="ttname"><a href="structduk__hthread.html#a08f58ff5b9fa5927891c2e08712e3971">duk_hthread::valstack</a></div><div class="ttdeci">duk_tval * valstack</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06226">duktape-1.5.2/src-noline/duktape.c:6226</a></div></div>
<div class="ttc" id="astructduk__hthread_html_ac03631b2f8ff5bab23d409f0bb966579"><div class="ttname"><a href="structduk__hthread.html#ac03631b2f8ff5bab23d409f0bb966579">duk_hthread::callstack</a></div><div class="ttdeci">duk_activation * callstack</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06235">duktape-1.5.2/src-noline/duktape.c:6235</a></div></div>
<div class="ttc" id="astructduk__hthread_html_af6ad1a5c8500ffe6443be8fec677a775"><div class="ttname"><a href="structduk__hthread.html#af6ad1a5c8500ffe6443be8fec677a775">duk_hthread::catchstack</a></div><div class="ttdeci">duk_catcher * catchstack</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06241">duktape-1.5.2/src-noline/duktape.c:6241</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a639dc79184673af5050f1e96b38dec99" name="a639dc79184673af5050f1e96b38dec99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a639dc79184673af5050f1e96b38dec99">&#9670;&#160;</a></span>duk_free_hobject_inner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void duk_free_hobject_inner </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structduk__heap.html">duk_heap</a> *</td>          <td class="paramname"><span class="paramname"><em>heap</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structduk__hobject.html">duk_hobject</a> *</td>          <td class="paramname"><span class="paramname"><em>h</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l40728">40728</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">40745</span>                                                                         {</div>
<div class="line"><span class="lineno">40746</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(heap != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">40747</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(h != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">40748</span> </div>
<div class="line"><span class="lineno">40749</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a571cb7da08d904b60be353682be305a6">DUK_FREE</a>(heap, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2ad9f50b0b06028542cdaceec420d637">DUK_HOBJECT_GET_PROPS</a>(heap, h));</div>
<div class="line"><span class="lineno">40750</span> </div>
<div class="line"><span class="lineno">40751</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a3b446d4cd53f63e5e57b80041eb0d598">DUK_HOBJECT_IS_COMPILEDFUNCTION</a>(h)) {</div>
<div class="line"><span class="lineno">40752</span>        <a class="code hl_struct" href="structduk__hcompiledfunction.html">duk_hcompiledfunction</a> *f = (<a class="code hl_struct" href="structduk__hcompiledfunction.html">duk_hcompiledfunction</a> *) h;</div>
<div class="line"><span class="lineno">40753</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9170138f330dbcaabfae9d2c59cc9684">DUK_UNREF</a>(f);</div>
<div class="line"><span class="lineno">40754</span>        <span class="comment">/* Currently nothing to free; &#39;data&#39; is a heap object */</span></div>
<div class="line"><span class="lineno">40755</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a70ce6873e608ce9399d8c7e2e45af92f">DUK_HOBJECT_IS_NATIVEFUNCTION</a>(h)) {</div>
<div class="line"><span class="lineno">40756</span>        <a class="code hl_struct" href="structduk__hnativefunction.html">duk_hnativefunction</a> *f = (<a class="code hl_struct" href="structduk__hnativefunction.html">duk_hnativefunction</a> *) h;</div>
<div class="line"><span class="lineno">40757</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9170138f330dbcaabfae9d2c59cc9684">DUK_UNREF</a>(f);</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_a9170138f330dbcaabfae9d2c59cc9684"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9170138f330dbcaabfae9d2c59cc9684">DUK_UNREF</a></div><div class="ttdeci">#define DUK_UNREF(x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l02494">duktape-1.5.2/src-noline/duk_config.h:2494</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a2ad9f50b0b06028542cdaceec420d637"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2ad9f50b0b06028542cdaceec420d637">DUK_HOBJECT_GET_PROPS</a></div><div class="ttdeci">#define DUK_HOBJECT_GET_PROPS(heap, h)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04931">duktape-1.5.2/src-noline/duktape.c:4931</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a3b446d4cd53f63e5e57b80041eb0d598"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a3b446d4cd53f63e5e57b80041eb0d598">DUK_HOBJECT_IS_COMPILEDFUNCTION</a></div><div class="ttdeci">#define DUK_HOBJECT_IS_COMPILEDFUNCTION(h)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04774">duktape-1.5.2/src-noline/duktape.c:4774</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a52bc112231cf556000de414bca74c712"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a></div><div class="ttdeci">#define DUK_ASSERT(x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07755">duktape-1.5.2/src-noline/duktape.c:7755</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a70ce6873e608ce9399d8c7e2e45af92f"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a70ce6873e608ce9399d8c7e2e45af92f">DUK_HOBJECT_IS_NATIVEFUNCTION</a></div><div class="ttdeci">#define DUK_HOBJECT_IS_NATIVEFUNCTION(h)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04775">duktape-1.5.2/src-noline/duktape.c:4775</a></div></div>
<div class="ttc" id="agmacros_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> <a href="gmacros_8h_source.html#l00924">gmacros.h:924</a></div></div>
<div class="ttc" id="astructduk__hcompiledfunction_html"><div class="ttname"><a href="structduk__hcompiledfunction.html">duk_hcompiledfunction</a></div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l05658">duktape-1.5.2/src-noline/duktape.c:5658</a></div></div>
<div class="ttc" id="astructduk__hnativefunction_html"><div class="ttname"><a href="structduk__hnativefunction.html">duk_hnativefunction</a></div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l05788">duktape-1.5.2/src-noline/duktape.c:5788</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a138dea88d384a73110bb3ae0b150e704" name="a138dea88d384a73110bb3ae0b150e704"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a138dea88d384a73110bb3ae0b150e704">&#9670;&#160;</a></span>duk_free_hstring_inner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void duk_free_hstring_inner </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structduk__heap.html">duk_heap</a> *</td>          <td class="paramname"><span class="paramname"><em>heap</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structduk__hstring.html">duk_hstring</a> *</td>          <td class="paramname"><span class="paramname"><em>h</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l40770">40770</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">40776</span>                                                                         {</div>
<div class="line"><span class="lineno">40777</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(heap != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">40778</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(h != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">40779</span> </div>
<div class="line"><span class="lineno">40780</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ae2b937e7c05c2ec0f0f16352c69cdd82">DUK_HBUFFER_HAS_DYNAMIC</a>(h) &amp;&amp; !<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ae1646f606e4efe4765c2f5cd5921e2e5">DUK_HBUFFER_HAS_EXTERNAL</a>(h)) {</div>
<div class="line"><span class="lineno">40781</span>        <a class="code hl_struct" href="structduk__hbuffer__dynamic.html">duk_hbuffer_dynamic</a> *g = (<a class="code hl_struct" href="structduk__hbuffer__dynamic.html">duk_hbuffer_dynamic</a> *) h;</div>
<div class="line"><span class="lineno">40782</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;free dynamic buffer %p&quot;</span>, (<span class="keywordtype">void</span> *) <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a035aac476837b41361f45d429f76ffd2">DUK_HBUFFER_DYNAMIC_GET_DATA_PTR</a>(heap, g)));</div>
<div class="line"><span class="lineno">40783</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a571cb7da08d904b60be353682be305a6">DUK_FREE</a>(heap, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a035aac476837b41361f45d429f76ffd2">DUK_HBUFFER_DYNAMIC_GET_DATA_PTR</a>(heap, g));</div>
<div class="line"><span class="lineno">40784</span>    }</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a035aac476837b41361f45d429f76ffd2"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a035aac476837b41361f45d429f76ffd2">DUK_HBUFFER_DYNAMIC_GET_DATA_PTR</a></div><div class="ttdeci">#define DUK_HBUFFER_DYNAMIC_GET_DATA_PTR(heap, x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06428">duktape-1.5.2/src-noline/duktape.c:6428</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a2db20d2d3b36d8491ed171cf503488bb"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a></div><div class="ttdeci">#define DUK_DDD(x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07497">duktape-1.5.2/src-noline/duktape.c:7497</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_aa6e5d41ceaba6832e5ede737f0a35fb9"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a></div><div class="ttdeci">#define DUK_DDDPRINT</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07509">duktape-1.5.2/src-noline/duktape.c:7509</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_ae1646f606e4efe4765c2f5cd5921e2e5"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#ae1646f606e4efe4765c2f5cd5921e2e5">DUK_HBUFFER_HAS_EXTERNAL</a></div><div class="ttdeci">#define DUK_HBUFFER_HAS_EXTERNAL(x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06343">duktape-1.5.2/src-noline/duktape.c:6343</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_ae2b937e7c05c2ec0f0f16352c69cdd82"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#ae2b937e7c05c2ec0f0f16352c69cdd82">DUK_HBUFFER_HAS_DYNAMIC</a></div><div class="ttdeci">#define DUK_HBUFFER_HAS_DYNAMIC(x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06342">duktape-1.5.2/src-noline/duktape.c:6342</a></div></div>
<div class="ttc" id="astructduk__hbuffer__dynamic_html"><div class="ttname"><a href="structduk__hbuffer__dynamic.html">duk_hbuffer_dynamic</a></div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06589">duktape-1.5.2/src-noline/duktape.c:6589</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a371d43477be59910af726eff300d757c" name="a371d43477be59910af726eff300d757c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a371d43477be59910af726eff300d757c">&#9670;&#160;</a></span>duk_heap_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> <a class="el" href="structduk__heap.html">duk_heap</a> * duk_heap_alloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a1881a3f7e4fcddcf16f235518e2b6ee2">duk_alloc_function</a></td>          <td class="paramname"><span class="paramname"><em>alloc_func</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a51d9c11eb80bcf9a067aacd10f8fbb02">duk_realloc_function</a></td>          <td class="paramname"><span class="paramname"><em>realloc_func</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a4c5e185ffa83345809b9a419729c5303">duk_free_function</a></td>          <td class="paramname"><span class="paramname"><em>free_func</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>heap_udata</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a2d2267efded325cf39ddd00e17c5da07">duk_fatal_function</a></td>          <td class="paramname"><span class="paramname"><em>fatal_func</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l41430">41430</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">41430</span>                                        : big<span class="stringliteral">&quot;));</span></div>
<div class="line"><span class="lineno">41431</span><span class="stringliteral">#else</span></div>
<div class="line"><span class="lineno">41432</span><span class="stringliteral">    DUK_D(DUK_DPRINT(&quot;</span>integer endianness: ???<span class="stringliteral">&quot;));</span></div>
<div class="line"><span class="lineno">41433</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">41434</span><span class="stringliteral">#if defined(DUK_USE_DOUBLE_LE)</span></div>
<div class="line"><span class="lineno">41435</span><span class="stringliteral">    DUK_D(DUK_DPRINT(&quot;</span>IEEE <span class="keywordtype">double</span> endianness: <a class="code hl_variable" href="lua-5_83_86_2src_2lstrlib_8c.html#a5831a9b38577f9ef9b30553737b5b7f9">little</a><span class="stringliteral">&quot;));</span></div>
<div class="line"><span class="lineno">41436</span><span class="stringliteral">#elif defined(DUK_USE_DOUBLE_ME)</span></div>
<div class="line"><span class="lineno">41437</span><span class="stringliteral">    DUK_D(DUK_DPRINT(&quot;</span>IEEE <span class="keywordtype">double</span> endianness: mixed<span class="stringliteral">&quot;));</span></div>
<div class="line"><span class="lineno">41438</span><span class="stringliteral">#elif defined(DUK_USE_DOUBLE_BE)</span></div>
<div class="line"><span class="lineno">41439</span><span class="stringliteral">    DUK_D(DUK_DPRINT(&quot;</span>IEEE <span class="keywordtype">double</span> endianness: big<span class="stringliteral">&quot;));</span></div>
<div class="line"><span class="lineno">41440</span><span class="stringliteral">#else</span></div>
<div class="line"><span class="lineno">41441</span><span class="stringliteral">    DUK_D(DUK_DPRINT(&quot;</span>IEEE <span class="keywordtype">double</span> endianness: ???<span class="stringliteral">&quot;));</span></div>
<div class="line"><span class="lineno">41442</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">41443</span><span class="stringliteral">}</span></div>
<div class="line"><span class="lineno">41444</span><span class="stringliteral">#endif  /* DUK_USE_DEBUG */</span></div>
<div class="line"><span class="lineno">41445</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41446</span><span class="stringliteral">DUK_INTERNAL</span></div>
<div class="line"><span class="lineno">41447</span><span class="stringliteral">duk_heap *duk_heap_alloc(duk_alloc_function alloc_func,</span></div>
<div class="line"><span class="lineno">41448</span><span class="stringliteral">                         duk_realloc_function realloc_func,</span></div>
<div class="line"><span class="lineno">41449</span><span class="stringliteral">                         duk_free_function free_func,</span></div>
<div class="line"><span class="lineno">41450</span><span class="stringliteral">                         void *heap_udata,</span></div>
<div class="line"><span class="lineno">41451</span><span class="stringliteral">                         duk_fatal_function fatal_func) {</span></div>
<div class="line"><span class="lineno">41452</span><span class="stringliteral">    duk_heap *res = NULL;</span></div>
<div class="line"><span class="lineno">41453</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41454</span><span class="stringliteral">    /* Silence a few global unused warnings here. */</span></div>
<div class="line"><span class="lineno">41455</span><span class="stringliteral">    DUK_UNREF(duk_str_unsupported);</span></div>
<div class="line"><span class="lineno">41456</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41457</span><span class="stringliteral">    DUK_D(DUK_DPRINT(&quot;</span>allocate heap<span class="stringliteral">&quot;));</span></div>
<div class="line"><span class="lineno">41458</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41459</span><span class="stringliteral">    /*</span></div>
<div class="line"><span class="lineno">41460</span><span class="stringliteral">     *  Debug dump type sizes</span></div>
<div class="line"><span class="lineno">41461</span><span class="stringliteral">     */</span></div>
<div class="line"><span class="lineno">41462</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41463</span><span class="stringliteral">#if defined(DUK_USE_DEBUG)</span></div>
<div class="line"><span class="lineno">41464</span><span class="stringliteral">    duk__dump_misc_options();</span></div>
<div class="line"><span class="lineno">41465</span><span class="stringliteral">    duk__dump_type_sizes();</span></div>
<div class="line"><span class="lineno">41466</span><span class="stringliteral">    duk__dump_type_limits();</span></div>
<div class="line"><span class="lineno">41467</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">41468</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41469</span><span class="stringliteral">    /*</span></div>
<div class="line"><span class="lineno">41470</span><span class="stringliteral">     *  If selftests enabled, run them as early as possible</span></div>
<div class="line"><span class="lineno">41471</span><span class="stringliteral">     */</span></div>
<div class="line"><span class="lineno">41472</span><span class="stringliteral">#if defined(DUK_USE_SELF_TESTS)</span></div>
<div class="line"><span class="lineno">41473</span><span class="stringliteral">    DUK_D(DUK_DPRINT(&quot;</span>running self tests<span class="stringliteral">&quot;));</span></div>
<div class="line"><span class="lineno">41474</span><span class="stringliteral">    duk_selftest_run_tests();</span></div>
<div class="line"><span class="lineno">41475</span><span class="stringliteral">    DUK_D(DUK_DPRINT(&quot;</span>self tests passed<span class="stringliteral">&quot;));</span></div>
<div class="line"><span class="lineno">41476</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">41477</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41478</span><span class="stringliteral">    /*</span></div>
<div class="line"><span class="lineno">41479</span><span class="stringliteral">     *  Computed values (e.g. INFINITY)</span></div>
<div class="line"><span class="lineno">41480</span><span class="stringliteral">     */</span></div>
<div class="line"><span class="lineno">41481</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41482</span><span class="stringliteral">#if defined(DUK_USE_COMPUTED_NAN)</span></div>
<div class="line"><span class="lineno">41483</span><span class="stringliteral">    do {</span></div>
<div class="line"><span class="lineno">41484</span><span class="stringliteral">        /* Workaround for some exotic platforms where NAN is missing</span></div>
<div class="line"><span class="lineno">41485</span><span class="stringliteral">         * and the expression (0.0 / 0.0) does NOT result in a NaN.</span></div>
<div class="line"><span class="lineno">41486</span><span class="stringliteral">         * Such platforms use the global &#39;duk_computed_nan&#39; which must</span></div>
<div class="line"><span class="lineno">41487</span><span class="stringliteral">         * be initialized at runtime.  Use &#39;volatile&#39; to ensure that</span></div>
<div class="line"><span class="lineno">41488</span><span class="stringliteral">         * the compiler will actually do the computation and not try</span></div>
<div class="line"><span class="lineno">41489</span><span class="stringliteral">         * to do constant folding which might result in the original</span></div>
<div class="line"><span class="lineno">41490</span><span class="stringliteral">         * problem.</span></div>
<div class="line"><span class="lineno">41491</span><span class="stringliteral">         */</span></div>
<div class="line"><span class="lineno">41492</span><span class="stringliteral">        volatile double dbl1 = 0.0;</span></div>
<div class="line"><span class="lineno">41493</span><span class="stringliteral">        volatile double dbl2 = 0.0;</span></div>
<div class="line"><span class="lineno">41494</span><span class="stringliteral">        duk_computed_nan = dbl1 / dbl2;</span></div>
<div class="line"><span class="lineno">41495</span><span class="stringliteral">    } while (0);</span></div>
<div class="line"><span class="lineno">41496</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">41497</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41498</span><span class="stringliteral">#if defined(DUK_USE_COMPUTED_INFINITY)</span></div>
<div class="line"><span class="lineno">41499</span><span class="stringliteral">    do {</span></div>
<div class="line"><span class="lineno">41500</span><span class="stringliteral">        /* Similar workaround for INFINITY. */</span></div>
<div class="line"><span class="lineno">41501</span><span class="stringliteral">        volatile double dbl1 = 1.0;</span></div>
<div class="line"><span class="lineno">41502</span><span class="stringliteral">        volatile double dbl2 = 0.0;</span></div>
<div class="line"><span class="lineno">41503</span><span class="stringliteral">        duk_computed_infinity = dbl1 / dbl2;</span></div>
<div class="line"><span class="lineno">41504</span><span class="stringliteral">    } while (0);</span></div>
<div class="line"><span class="lineno">41505</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">41506</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41507</span><span class="stringliteral">    /*</span></div>
<div class="line"><span class="lineno">41508</span><span class="stringliteral">     *  Allocate heap struct</span></div>
<div class="line"><span class="lineno">41509</span><span class="stringliteral">     *</span></div>
<div class="line"><span class="lineno">41510</span><span class="stringliteral">     *  Use a raw call, all macros expect the heap to be initialized</span></div>
<div class="line"><span class="lineno">41511</span><span class="stringliteral">     */</span></div>
<div class="line"><span class="lineno">41512</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41513</span><span class="stringliteral">    res = (duk_heap *) alloc_func(heap_udata, sizeof(duk_heap));</span></div>
<div class="line"><span class="lineno">41514</span><span class="stringliteral">    if (!res) {</span></div>
<div class="line"><span class="lineno">41515</span><span class="stringliteral">        goto error;</span></div>
<div class="line"><span class="lineno">41516</span><span class="stringliteral">    }</span></div>
<div class="line"><span class="lineno">41517</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41518</span><span class="stringliteral">    /*</span></div>
<div class="line"><span class="lineno">41519</span><span class="stringliteral">     *  Zero the struct, and start initializing roughly in order</span></div>
<div class="line"><span class="lineno">41520</span><span class="stringliteral">     */</span></div>
<div class="line"><span class="lineno">41521</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41522</span><span class="stringliteral">    DUK_MEMZERO(res, sizeof(*res));</span></div>
<div class="line"><span class="lineno">41523</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41524</span><span class="stringliteral">    /* explicit NULL inits */</span></div>
<div class="line"><span class="lineno">41525</span><span class="stringliteral">#if defined(DUK_USE_EXPLICIT_NULL_INIT)</span></div>
<div class="line"><span class="lineno">41526</span><span class="stringliteral">    res-&gt;heap_udata = NULL;</span></div>
<div class="line"><span class="lineno">41527</span><span class="stringliteral">    res-&gt;heap_allocated = NULL;</span></div>
<div class="line"><span class="lineno">41528</span><span class="stringliteral">#if defined(DUK_USE_REFERENCE_COUNTING)</span></div>
<div class="line"><span class="lineno">41529</span><span class="stringliteral">    res-&gt;refzero_list = NULL;</span></div>
<div class="line"><span class="lineno">41530</span><span class="stringliteral">    res-&gt;refzero_list_tail = NULL;</span></div>
<div class="line"><span class="lineno">41531</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">41532</span><span class="stringliteral">#if defined(DUK_USE_MARK_AND_SWEEP)</span></div>
<div class="line"><span class="lineno">41533</span><span class="stringliteral">    res-&gt;finalize_list = NULL;</span></div>
<div class="line"><span class="lineno">41534</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">41535</span><span class="stringliteral">    res-&gt;heap_thread = NULL;</span></div>
<div class="line"><span class="lineno">41536</span><span class="stringliteral">    res-&gt;curr_thread = NULL;</span></div>
<div class="line"><span class="lineno">41537</span><span class="stringliteral">    res-&gt;heap_object = NULL;</span></div>
<div class="line"><span class="lineno">41538</span><span class="stringliteral">#if defined(DUK_USE_STRTAB_CHAIN)</span></div>
<div class="line"><span class="lineno">41539</span><span class="stringliteral">    /* nothing to NULL */</span></div>
<div class="line"><span class="lineno">41540</span><span class="stringliteral">#elif defined(DUK_USE_STRTAB_PROBE)</span></div>
<div class="line"><span class="lineno">41541</span><span class="stringliteral">#if defined(DUK_USE_HEAPPTR16)</span></div>
<div class="line"><span class="lineno">41542</span><span class="stringliteral">    res-&gt;strtable16 = (duk_uint16_t *) NULL;</span></div>
<div class="line"><span class="lineno">41543</span><span class="stringliteral">#else</span></div>
<div class="line"><span class="lineno">41544</span><span class="stringliteral">    res-&gt;strtable = (duk_hstring **) NULL;</span></div>
<div class="line"><span class="lineno">41545</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">41546</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">41547</span><span class="stringliteral">#if defined(DUK_USE_ROM_STRINGS)</span></div>
<div class="line"><span class="lineno">41548</span><span class="stringliteral">    /* no res-&gt;strs[] */</span></div>
<div class="line"><span class="lineno">41549</span><span class="stringliteral">#else  /* DUK_USE_ROM_STRINGS */</span></div>
<div class="line"><span class="lineno">41550</span><span class="stringliteral">#if defined(DUK_USE_HEAPPTR16)</span></div>
<div class="line"><span class="lineno">41551</span><span class="stringliteral">    /* res-&gt;strs16[] is zeroed and zero decodes to NULL, so no NULL inits. */</span></div>
<div class="line"><span class="lineno">41552</span><span class="stringliteral">#else</span></div>
<div class="line"><span class="lineno">41553</span><span class="stringliteral">    {</span></div>
<div class="line"><span class="lineno">41554</span><span class="stringliteral">        duk_small_uint_t i;</span></div>
<div class="line"><span class="lineno">41555</span><span class="stringliteral">            for (i = 0; i &lt; DUK_HEAP_NUM_STRINGS; i++) {</span></div>
<div class="line"><span class="lineno">41556</span><span class="stringliteral">            res-&gt;strs[i] = NULL;</span></div>
<div class="line"><span class="lineno">41557</span><span class="stringliteral">            }</span></div>
<div class="line"><span class="lineno">41558</span><span class="stringliteral">    }</span></div>
<div class="line"><span class="lineno">41559</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">41560</span><span class="stringliteral">#endif  /* DUK_USE_ROM_STRINGS */</span></div>
<div class="line"><span class="lineno">41561</span><span class="stringliteral">#if defined(DUK_USE_DEBUGGER_SUPPORT)</span></div>
<div class="line"><span class="lineno">41562</span><span class="stringliteral">    res-&gt;dbg_read_cb = NULL;</span></div>
<div class="line"><span class="lineno">41563</span><span class="stringliteral">    res-&gt;dbg_write_cb = NULL;</span></div>
<div class="line"><span class="lineno">41564</span><span class="stringliteral">    res-&gt;dbg_peek_cb = NULL;</span></div>
<div class="line"><span class="lineno">41565</span><span class="stringliteral">    res-&gt;dbg_read_flush_cb = NULL;</span></div>
<div class="line"><span class="lineno">41566</span><span class="stringliteral">    res-&gt;dbg_write_flush_cb = NULL;</span></div>
<div class="line"><span class="lineno">41567</span><span class="stringliteral">    res-&gt;dbg_request_cb = NULL;</span></div>
<div class="line"><span class="lineno">41568</span><span class="stringliteral">    res-&gt;dbg_udata = NULL;</span></div>
<div class="line"><span class="lineno">41569</span><span class="stringliteral">    res-&gt;dbg_step_thread = NULL;</span></div>
<div class="line"><span class="lineno">41570</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">41571</span><span class="stringliteral">#endif  /* DUK_USE_EXPLICIT_NULL_INIT */</span></div>
<div class="line"><span class="lineno">41572</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41573</span><span class="stringliteral">    res-&gt;alloc_func = alloc_func;</span></div>
<div class="line"><span class="lineno">41574</span><span class="stringliteral">    res-&gt;realloc_func = realloc_func;</span></div>
<div class="line"><span class="lineno">41575</span><span class="stringliteral">    res-&gt;free_func = free_func;</span></div>
<div class="line"><span class="lineno">41576</span><span class="stringliteral">    res-&gt;heap_udata = heap_udata;</span></div>
<div class="line"><span class="lineno">41577</span><span class="stringliteral">    res-&gt;fatal_func = fatal_func;</span></div>
<div class="line"><span class="lineno">41578</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41579</span><span class="stringliteral">#if defined(DUK_USE_HEAPPTR16)</span></div>
<div class="line"><span class="lineno">41580</span><span class="stringliteral">    /* XXX: zero assumption */</span></div>
<div class="line"><span class="lineno">41581</span><span class="stringliteral">    res-&gt;heapptr_null16 = DUK_USE_HEAPPTR_ENC16(res-&gt;heap_udata, (void *) NULL);</span></div>
<div class="line"><span class="lineno">41582</span><span class="stringliteral">    res-&gt;heapptr_deleted16 = DUK_USE_HEAPPTR_ENC16(res-&gt;heap_udata, (void *) DUK_STRTAB_DELETED_MARKER(res));</span></div>
<div class="line"><span class="lineno">41583</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">41584</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41585</span><span class="stringliteral">    /* res-&gt;mark_and_sweep_trigger_counter == 0 -&gt; now causes immediate GC; which is OK */</span></div>
<div class="line"><span class="lineno">41586</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41587</span><span class="stringliteral">    res-&gt;call_recursion_depth = 0;</span></div>
<div class="line"><span class="lineno">41588</span><span class="stringliteral">    res-&gt;call_recursion_limit = DUK_USE_NATIVE_CALL_RECLIMIT;</span></div>
<div class="line"><span class="lineno">41589</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41590</span><span class="stringliteral">    /* XXX: use the pointer as a seed for now: mix in time at least */</span></div>
<div class="line"><span class="lineno">41591</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41592</span><span class="stringliteral">    /* The casts through duk_intr_pt is to avoid the following GCC warning:</span></div>
<div class="line"><span class="lineno">41593</span><span class="stringliteral">     *</span></div>
<div class="line"><span class="lineno">41594</span><span class="stringliteral">     *   warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]</span></div>
<div class="line"><span class="lineno">41595</span><span class="stringliteral">     *</span></div>
<div class="line"><span class="lineno">41596</span><span class="stringliteral">     * This still generates a /Wp64 warning on VS2010 when compiling for x86.</span></div>
<div class="line"><span class="lineno">41597</span><span class="stringliteral">     */</span></div>
<div class="line"><span class="lineno">41598</span><span class="stringliteral">#if defined(DUK_USE_ROM_STRINGS)</span></div>
<div class="line"><span class="lineno">41599</span><span class="stringliteral">    /* XXX: make a common DUK_USE_ option, and allow custom fixed seed? */</span></div>
<div class="line"><span class="lineno">41600</span><span class="stringliteral">    DUK_D(DUK_DPRINT(&quot;</span><span class="keyword">using </span>rom strings, force heap hash_seed to fixed <a class="code hl_variable" href="lsqlite3_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> 0x%08lx<span class="stringliteral">&quot;, (long) DUK__FIXED_HASH_SEED));</span></div>
<div class="line"><span class="lineno">41601</span><span class="stringliteral">    res-&gt;hash_seed = (duk_uint32_t) DUK__FIXED_HASH_SEED;</span></div>
<div class="line"><span class="lineno">41602</span><span class="stringliteral">#else  /* DUK_USE_ROM_STRINGS */</span></div>
<div class="line"><span class="lineno">41603</span><span class="stringliteral">    res-&gt;hash_seed = (duk_uint32_t) (duk_intptr_t) res;</span></div>
<div class="line"><span class="lineno">41604</span><span class="stringliteral">    res-&gt;rnd_state = (duk_uint32_t) (duk_intptr_t) res;</span></div>
<div class="line"><span class="lineno">41605</span><span class="stringliteral">#if !defined(DUK_USE_STRHASH_DENSE)</span></div>
<div class="line"><span class="lineno">41606</span><span class="stringliteral">    res-&gt;hash_seed ^= 5381;  /* Bernstein hash init value is normally 5381; XOR it in in case pointer low bits are 0 */</span></div>
<div class="line"><span class="lineno">41607</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">41608</span><span class="stringliteral">#endif  /* DUK_USE_ROM_STRINGS */</span></div>
<div class="line"><span class="lineno">41609</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41610</span><span class="stringliteral">#if defined(DUK_USE_EXPLICIT_NULL_INIT)</span></div>
<div class="line"><span class="lineno">41611</span><span class="stringliteral">    res-&gt;lj.jmpbuf_ptr = NULL;</span></div>
<div class="line"><span class="lineno">41612</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">41613</span><span class="stringliteral">    DUK_ASSERT(res-&gt;lj.type == DUK_LJ_TYPE_UNKNOWN);  /* zero */</span></div>
<div class="line"><span class="lineno">41614</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41615</span><span class="stringliteral">    DUK_TVAL_SET_UNDEFINED(&amp;res-&gt;lj.value1);</span></div>
<div class="line"><span class="lineno">41616</span><span class="stringliteral">    DUK_TVAL_SET_UNDEFINED(&amp;res-&gt;lj.value2);</span></div>
<div class="line"><span class="lineno">41617</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41618</span><span class="stringliteral">#if (DUK_STRTAB_INITIAL_SIZE &lt; DUK_UTIL_MIN_HASH_PRIME)</span></div>
<div class="line"><span class="lineno">41619</span><span class="stringliteral">#error initial heap stringtable size is defined incorrectly</span></div>
<div class="line"><span class="lineno">41620</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">41621</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41622</span><span class="stringliteral">    /*</span></div>
<div class="line"><span class="lineno">41623</span><span class="stringliteral">     *  Init stringtable: fixed variant</span></div>
<div class="line"><span class="lineno">41624</span><span class="stringliteral">     */</span></div>
<div class="line"><span class="lineno">41625</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41626</span><span class="stringliteral">#if defined(DUK_USE_STRTAB_CHAIN)</span></div>
<div class="line"><span class="lineno">41627</span><span class="stringliteral">    DUK_MEMZERO(res-&gt;strtable, sizeof(duk_strtab_entry) * DUK_STRTAB_CHAIN_SIZE);</span></div>
<div class="line"><span class="lineno">41628</span><span class="stringliteral">#if defined(DUK_USE_EXPLICIT_NULL_INIT)</span></div>
<div class="line"><span class="lineno">41629</span><span class="stringliteral">    {</span></div>
<div class="line"><span class="lineno">41630</span><span class="stringliteral">        duk_small_uint_t i;</span></div>
<div class="line"><span class="lineno">41631</span><span class="stringliteral">            for (i = 0; i &lt; DUK_STRTAB_CHAIN_SIZE; i++) {</span></div>
<div class="line"><span class="lineno">41632</span><span class="stringliteral">#if defined(DUK_USE_HEAPPTR16)</span></div>
<div class="line"><span class="lineno">41633</span><span class="stringliteral">            res-&gt;strtable[i].u.str16 = res-&gt;heapptr_null16;</span></div>
<div class="line"><span class="lineno">41634</span><span class="stringliteral">#else</span></div>
<div class="line"><span class="lineno">41635</span><span class="stringliteral">            res-&gt;strtable[i].u.str = NULL;</span></div>
<div class="line"><span class="lineno">41636</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">41637</span><span class="stringliteral">            }</span></div>
<div class="line"><span class="lineno">41638</span><span class="stringliteral">    }</span></div>
<div class="line"><span class="lineno">41639</span><span class="stringliteral">#endif  /* DUK_USE_EXPLICIT_NULL_INIT */</span></div>
<div class="line"><span class="lineno">41640</span><span class="stringliteral">#endif  /* DUK_USE_STRTAB_CHAIN */</span></div>
<div class="line"><span class="lineno">41641</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41642</span><span class="stringliteral">    /*</span></div>
<div class="line"><span class="lineno">41643</span><span class="stringliteral">     *  Init stringtable: probe variant</span></div>
<div class="line"><span class="lineno">41644</span><span class="stringliteral">     */</span></div>
<div class="line"><span class="lineno">41645</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41646</span><span class="stringliteral">#if defined(DUK_USE_STRTAB_PROBE)</span></div>
<div class="line"><span class="lineno">41647</span><span class="stringliteral">#if defined(DUK_USE_HEAPPTR16)</span></div>
<div class="line"><span class="lineno">41648</span><span class="stringliteral">    res-&gt;strtable16 = (duk_uint16_t *) alloc_func(heap_udata, sizeof(duk_uint16_t) * DUK_STRTAB_INITIAL_SIZE);</span></div>
<div class="line"><span class="lineno">41649</span><span class="stringliteral">    if (!res-&gt;strtable16) {</span></div>
<div class="line"><span class="lineno">41650</span><span class="stringliteral">        goto error;</span></div>
<div class="line"><span class="lineno">41651</span><span class="stringliteral">    }</span></div>
<div class="line"><span class="lineno">41652</span><span class="stringliteral">#else  /* DUK_USE_HEAPPTR16 */</span></div>
<div class="line"><span class="lineno">41653</span><span class="stringliteral">    res-&gt;strtable = (duk_hstring **) alloc_func(heap_udata, sizeof(duk_hstring *) * DUK_STRTAB_INITIAL_SIZE);</span></div>
<div class="line"><span class="lineno">41654</span><span class="stringliteral">    if (!res-&gt;strtable) {</span></div>
<div class="line"><span class="lineno">41655</span><span class="stringliteral">        goto error;</span></div>
<div class="line"><span class="lineno">41656</span><span class="stringliteral">    }</span></div>
<div class="line"><span class="lineno">41657</span><span class="stringliteral">#endif  /* DUK_USE_HEAPPTR16 */</span></div>
<div class="line"><span class="lineno">41658</span><span class="stringliteral">    res-&gt;st_size = DUK_STRTAB_INITIAL_SIZE;</span></div>
<div class="line"><span class="lineno">41659</span><span class="stringliteral">#if defined(DUK_USE_EXPLICIT_NULL_INIT)</span></div>
<div class="line"><span class="lineno">41660</span><span class="stringliteral">    {</span></div>
<div class="line"><span class="lineno">41661</span><span class="stringliteral">        duk_small_uint_t i;</span></div>
<div class="line"><span class="lineno">41662</span><span class="stringliteral">        DUK_ASSERT(res-&gt;st_size == DUK_STRTAB_INITIAL_SIZE);</span></div>
<div class="line"><span class="lineno">41663</span><span class="stringliteral">            for (i = 0; i &lt; DUK_STRTAB_INITIAL_SIZE; i++) {</span></div>
<div class="line"><span class="lineno">41664</span><span class="stringliteral">#if defined(DUK_USE_HEAPPTR16)</span></div>
<div class="line"><span class="lineno">41665</span><span class="stringliteral">            res-&gt;strtable16[i] = res-&gt;heapptr_null16;</span></div>
<div class="line"><span class="lineno">41666</span><span class="stringliteral">#else</span></div>
<div class="line"><span class="lineno">41667</span><span class="stringliteral">            res-&gt;strtable[i] = NULL;</span></div>
<div class="line"><span class="lineno">41668</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">41669</span><span class="stringliteral">            }</span></div>
<div class="line"><span class="lineno">41670</span><span class="stringliteral">    }</span></div>
<div class="line"><span class="lineno">41671</span><span class="stringliteral">#else  /* DUK_USE_EXPLICIT_NULL_INIT */</span></div>
<div class="line"><span class="lineno">41672</span><span class="stringliteral">#if defined(DUK_USE_HEAPPTR16)</span></div>
<div class="line"><span class="lineno">41673</span><span class="stringliteral">    DUK_MEMZERO(res-&gt;strtable16, sizeof(duk_uint16_t) * DUK_STRTAB_INITIAL_SIZE);</span></div>
<div class="line"><span class="lineno">41674</span><span class="stringliteral">#else</span></div>
<div class="line"><span class="lineno">41675</span><span class="stringliteral">    DUK_MEMZERO(res-&gt;strtable, sizeof(duk_hstring *) * DUK_STRTAB_INITIAL_SIZE);</span></div>
<div class="line"><span class="lineno">41676</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">41677</span><span class="stringliteral">#endif  /* DUK_USE_EXPLICIT_NULL_INIT */</span></div>
<div class="line"><span class="lineno">41678</span><span class="stringliteral">#endif  /* DUK_USE_STRTAB_PROBE */</span></div>
<div class="line"><span class="lineno">41679</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41680</span><span class="stringliteral">    /*</span></div>
<div class="line"><span class="lineno">41681</span><span class="stringliteral">     *  Init stringcache</span></div>
<div class="line"><span class="lineno">41682</span><span class="stringliteral">     */</span></div>
<div class="line"><span class="lineno">41683</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41684</span><span class="stringliteral">#if defined(DUK_USE_EXPLICIT_NULL_INIT)</span></div>
<div class="line"><span class="lineno">41685</span><span class="stringliteral">    {</span></div>
<div class="line"><span class="lineno">41686</span><span class="stringliteral">        duk_small_uint_t i;</span></div>
<div class="line"><span class="lineno">41687</span><span class="stringliteral">        for (i = 0; i &lt; DUK_HEAP_STRCACHE_SIZE; i++) {</span></div>
<div class="line"><span class="lineno">41688</span><span class="stringliteral">            res-&gt;strcache[i].h = NULL;</span></div>
<div class="line"><span class="lineno">41689</span><span class="stringliteral">        }</span></div>
<div class="line"><span class="lineno">41690</span><span class="stringliteral">    }</span></div>
<div class="line"><span class="lineno">41691</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">41692</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41693</span><span class="stringliteral">    /* XXX: error handling is incomplete.  It would be cleanest if</span></div>
<div class="line"><span class="lineno">41694</span><span class="stringliteral">     * there was a setjmp catchpoint, so that all init code could</span></div>
<div class="line"><span class="lineno">41695</span><span class="stringliteral">     * freely throw errors.  If that were the case, the return code</span></div>
<div class="line"><span class="lineno">41696</span><span class="stringliteral">     * passing here could be removed.</span></div>
<div class="line"><span class="lineno">41697</span><span class="stringliteral">     */</span></div>
<div class="line"><span class="lineno">41698</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41699</span><span class="stringliteral">    /*</span></div>
<div class="line"><span class="lineno">41700</span><span class="stringliteral">     *  Init built-in strings</span></div>
<div class="line"><span class="lineno">41701</span><span class="stringliteral">     */</span></div>
<div class="line"><span class="lineno">41702</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41703</span><span class="stringliteral">    DUK_DD(DUK_DDPRINT(&quot;</span>HEAP: INIT STRINGS<span class="stringliteral">&quot;));</span></div>
<div class="line"><span class="lineno">41704</span><span class="stringliteral">    if (!duk__init_heap_strings(res)) {</span></div>
<div class="line"><span class="lineno">41705</span><span class="stringliteral">        goto error;</span></div>
<div class="line"><span class="lineno">41706</span><span class="stringliteral">    }</span></div>
<div class="line"><span class="lineno">41707</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41708</span><span class="stringliteral">    /*</span></div>
<div class="line"><span class="lineno">41709</span><span class="stringliteral">     *  Init the heap thread</span></div>
<div class="line"><span class="lineno">41710</span><span class="stringliteral">     */</span></div>
<div class="line"><span class="lineno">41711</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41712</span><span class="stringliteral">    DUK_DD(DUK_DDPRINT(&quot;</span>HEAP: INIT HEAP THREAD<span class="stringliteral">&quot;));</span></div>
<div class="line"><span class="lineno">41713</span><span class="stringliteral">    if (!duk__init_heap_thread(res)) {</span></div>
<div class="line"><span class="lineno">41714</span><span class="stringliteral">        goto error;</span></div>
<div class="line"><span class="lineno">41715</span><span class="stringliteral">    }</span></div>
<div class="line"><span class="lineno">41716</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41717</span><span class="stringliteral">    /*</span></div>
<div class="line"><span class="lineno">41718</span><span class="stringliteral">     *  Init the heap object</span></div>
<div class="line"><span class="lineno">41719</span><span class="stringliteral">     */</span></div>
<div class="line"><span class="lineno">41720</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41721</span><span class="stringliteral">    DUK_DD(DUK_DDPRINT(&quot;</span>HEAP: INIT HEAP OBJECT<span class="stringliteral">&quot;));</span></div>
<div class="line"><span class="lineno">41722</span><span class="stringliteral">    DUK_ASSERT(res-&gt;heap_thread != NULL);</span></div>
<div class="line"><span class="lineno">41723</span><span class="stringliteral">    res-&gt;heap_object = duk_hobject_alloc(res, DUK_HOBJECT_FLAG_EXTENSIBLE |</span></div>
<div class="line"><span class="lineno">41724</span><span class="stringliteral">                                              DUK_HOBJECT_CLASS_AS_FLAGS(DUK_HOBJECT_CLASS_OBJECT));</span></div>
<div class="line"><span class="lineno">41725</span><span class="stringliteral">    if (!res-&gt;heap_object) {</span></div>
<div class="line"><span class="lineno">41726</span><span class="stringliteral">        goto error;</span></div>
<div class="line"><span class="lineno">41727</span><span class="stringliteral">    }</span></div>
<div class="line"><span class="lineno">41728</span><span class="stringliteral">    DUK_HOBJECT_INCREF(res-&gt;heap_thread, res-&gt;heap_object);</span></div>
<div class="line"><span class="lineno">41729</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">41730</span><span class="stringliteral">    /*</span></div>
<div class="line"><span class="lineno">41731</span><span class="stringliteral">     *  All done</span></div>
<div class="line"><span class="lineno">41732</span><span class="stringliteral">     */</span></div>
<div class="line"><span class="lineno">41733</span><span class="stringliteral"></span> </div>
<div class="ttc" id="alsqlite3_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="lsqlite3_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition</b> <a href="lsqlite3_8c_source.html#l02155">lsqlite3.c:2155</a></div></div>
<div class="ttc" id="alua-5_83_86_2src_2lstrlib_8c_html_a5831a9b38577f9ef9b30553737b5b7f9"><div class="ttname"><a href="lua-5_83_86_2src_2lstrlib_8c.html#a5831a9b38577f9ef9b30553737b5b7f9">little</a></div><div class="ttdeci">char little</div><div class="ttdef"><b>Definition</b> <a href="lua-5_83_86_2src_2lstrlib_8c_source.html#l01126">lua-5.3.6/src/lstrlib.c:1126</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae291e911b9bf492deb5b5ac113236326" name="ae291e911b9bf492deb5b5ac113236326"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae291e911b9bf492deb5b5ac113236326">&#9670;&#160;</a></span>duk_heap_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void duk_heap_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structduk__heap.html">duk_heap</a> *</td>          <td class="paramname"><span class="paramname"><em>heap</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l40971">40971</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">40974</span>                                  {</div>
<div class="line"><span class="lineno">40975</span>            <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9e1528b8eb0a41bc4b37a09a77961e6c">DUK_D</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a50dbac8614f67a4a6d575791664ebc07">DUK_DPRINT</a>(<span class="stringliteral">&quot;no more finalizable objects, forced finalization finished&quot;</span>));</div>
<div class="line"><span class="lineno">40976</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">40977</span>        }</div>
<div class="line"><span class="lineno">40978</span>        <span class="keywordflow">if</span> (count_finalized &gt;= curr_limit) {</div>
<div class="line"><span class="lineno">40979</span>            <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9e1528b8eb0a41bc4b37a09a77961e6c">DUK_D</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a50dbac8614f67a4a6d575791664ebc07">DUK_DPRINT</a>(<span class="stringliteral">&quot;finalizer count above limit, potentially runaway finalizer; skip remaining finalizers&quot;</span>));</div>
<div class="line"><span class="lineno">40980</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">40981</span>        }</div>
<div class="line"><span class="lineno">40982</span>    }</div>
<div class="line"><span class="lineno">40983</span> </div>
<div class="line"><span class="lineno">40984</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8eaa2088eb15b600eb46501093dfb1a4">DUK_HEAP_HAS_MARKANDSWEEP_RUNNING</a>(heap));</div>
<div class="line"><span class="lineno">40985</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a4441ff9a935f7e08e2dbaf3fd1d9a052">DUK_HEAP_CLEAR_MARKANDSWEEP_RUNNING</a>(heap);</div>
<div class="line"><span class="lineno">40986</span>}</div>
<div class="line"><span class="lineno">40987</span> </div>
<div class="line"><span class="lineno">40988</span><a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <span class="keywordtype">void</span> <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a00952cf697fdf8ca72e2789ba9ceac8b">duk_heap_free</a>(<a class="code hl_struct" href="structduk__heap.html">duk_heap</a> *heap) {</div>
<div class="line"><span class="lineno">40989</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9e1528b8eb0a41bc4b37a09a77961e6c">DUK_D</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a50dbac8614f67a4a6d575791664ebc07">DUK_DPRINT</a>(<span class="stringliteral">&quot;free heap: %p&quot;</span>, (<span class="keywordtype">void</span> *) heap));</div>
<div class="line"><span class="lineno">40990</span> </div>
<div class="line"><span class="lineno">40991</span><span class="preprocessor">#if defined(DUK_USE_DEBUG)</span></div>
<div class="line"><span class="lineno">40992</span>    duk_heap_dump_strtab(heap);</div>
<div class="line"><span class="lineno">40993</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">40994</span> </div>
<div class="line"><span class="lineno">40995</span><span class="preprocessor">#if defined(DUK_USE_DEBUGGER_SUPPORT)</span></div>
<div class="line"><span class="lineno">40996</span>    <span class="comment">/* Detach a debugger if attached (can be called multiple times)</span></div>
<div class="line"><span class="lineno">40997</span><span class="comment">     * safely.</span></div>
<div class="line"><span class="lineno">40998</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">40999</span>    <span class="comment">/* XXX: Add a flag to reject an attempt to re-attach?  Otherwise</span></div>
<div class="line"><span class="lineno">41000</span><span class="comment">     * the detached callback may immediately reattach.</span></div>
<div class="line"><span class="lineno">41001</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">41002</span>    duk_debug_do_detach(heap);</div>
<div class="line"><span class="lineno">41003</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">41004</span> </div>
<div class="line"><span class="lineno">41005</span>    <span class="comment">/* Execute finalizers before freeing the heap, even for reachable</span></div>
<div class="line"><span class="lineno">41006</span><span class="comment">     * objects, and regardless of whether or not mark-and-sweep is</span></div>
<div class="line"><span class="lineno">41007</span><span class="comment">     * enabled.  This gives finalizers the chance to free any native</span></div>
<div class="line"><span class="lineno">41008</span><span class="comment">     * resources like file handles, allocations made outside Duktape,</span></div>
<div class="line"><span class="lineno">41009</span><span class="comment">     * etc.  This is quite tricky to get right, so that all finalizer</span></div>
<div class="line"><span class="lineno">41010</span><span class="comment">     * guarantees are honored.</span></div>
<div class="line"><span class="lineno">41011</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno">41012</span><span class="comment">     * XXX: this perhaps requires an execution time limit.</span></div>
<div class="line"><span class="lineno">41013</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">41014</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9e1528b8eb0a41bc4b37a09a77961e6c">DUK_D</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a50dbac8614f67a4a6d575791664ebc07">DUK_DPRINT</a>(<span class="stringliteral">&quot;execute finalizers before freeing heap&quot;</span>));</div>
<div class="line"><span class="lineno">41015</span><span class="preprocessor">#if defined(DUK_USE_MARK_AND_SWEEP)</span></div>
<div class="line"><span class="lineno">41016</span>    <span class="comment">/* Run mark-and-sweep a few times just in case (unreachable object</span></div>
<div class="line"><span class="lineno">41017</span><span class="comment">     * finalizers run already here).  The last round must rescue objects</span></div>
<div class="line"><span class="lineno">41018</span><span class="comment">     * from the previous round without running any more finalizers.  This</span></div>
<div class="line"><span class="lineno">41019</span><span class="comment">     * ensures rescued objects get their FINALIZED flag cleared so that</span></div>
<div class="line"><span class="lineno">41020</span><span class="comment">     * their finalizer is called once more in forced finalization to</span></div>
<div class="line"><span class="lineno">41021</span><span class="comment">     * satisfy finalizer guarantees.  However, we don&#39;t want to run any</span></div>
<div class="line"><span class="lineno">41022</span><span class="comment">     * more finalizer because that&#39;d required one more loop, and so on.</span></div>
<div class="line"><span class="lineno">41023</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">41024</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9e1528b8eb0a41bc4b37a09a77961e6c">DUK_D</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a50dbac8614f67a4a6d575791664ebc07">DUK_DPRINT</a>(<span class="stringliteral">&quot;forced gc #1 in heap destruction&quot;</span>));</div>
<div class="line"><span class="lineno">41025</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a7aa2439b012a88cb8862456154e431f8">duk_heap_mark_and_sweep</a>(heap, 0);</div>
<div class="line"><span class="lineno">41026</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9e1528b8eb0a41bc4b37a09a77961e6c">DUK_D</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a50dbac8614f67a4a6d575791664ebc07">DUK_DPRINT</a>(<span class="stringliteral">&quot;forced gc #2 in heap destruction&quot;</span>));</div>
<div class="line"><span class="lineno">41027</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a7aa2439b012a88cb8862456154e431f8">duk_heap_mark_and_sweep</a>(heap, 0);</div>
<div class="line"><span class="lineno">41028</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9e1528b8eb0a41bc4b37a09a77961e6c">DUK_D</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a50dbac8614f67a4a6d575791664ebc07">DUK_DPRINT</a>(<span class="stringliteral">&quot;forced gc #3 in heap destruction (don&#39;t run finalizers)&quot;</span>));</div>
<div class="line"><span class="lineno">41029</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a7aa2439b012a88cb8862456154e431f8">duk_heap_mark_and_sweep</a>(heap, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aebbc9f3d3f13e590652b6a2f5b51ffcc">DUK_MS_FLAG_SKIP_FINALIZERS</a>);  <span class="comment">/* skip finalizers; queue finalizable objects to heap_allocated */</span></div>
<div class="line"><span class="lineno">41030</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">41031</span> </div>
<div class="line"><span class="lineno">41032</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a1db0f8dd029a34bd404c55828347e7f4">DUK_HEAP_SET_FINALIZER_NORESCUE</a>(heap);  <span class="comment">/* rescue no longer supported */</span></div>
<div class="line"><span class="lineno">41033</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a053bf102bfcedfa9f19fac8379884ef0">duk__free_run_finalizers</a>(heap);</div>
<div class="line"><span class="lineno">41034</span> </div>
<div class="line"><span class="lineno">41035</span>    <span class="comment">/* Note: heap-&gt;heap_thread, heap-&gt;curr_thread, and heap-&gt;heap_object</span></div>
<div class="line"><span class="lineno">41036</span><span class="comment">     * are on the heap allocated list.</span></div>
<div class="line"><span class="lineno">41037</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">41038</span> </div>
<div class="line"><span class="lineno">41039</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9e1528b8eb0a41bc4b37a09a77961e6c">DUK_D</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a50dbac8614f67a4a6d575791664ebc07">DUK_DPRINT</a>(<span class="stringliteral">&quot;freeing heap objects of heap: %p&quot;</span>, (<span class="keywordtype">void</span> *) heap));</div>
<div class="line"><span class="lineno">41040</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#abd2ddc84095804c35127f83a319b0fe9">duk__free_allocated</a>(heap);</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_a19032f251b36af6bfb17f4450b829521"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a></div><div class="ttdeci">#define DUK_INTERNAL</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l02548">duktape-1.5.2/src-noline/duk_config.h:2548</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a00952cf697fdf8ca72e2789ba9ceac8b"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a00952cf697fdf8ca72e2789ba9ceac8b">duk_heap_free</a></div><div class="ttdeci">DUK_INTERNAL_DECL void duk_heap_free(duk_heap *heap)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l40971">duktape-1.5.2/src-noline/duktape.c:40971</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a053bf102bfcedfa9f19fac8379884ef0"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a053bf102bfcedfa9f19fac8379884ef0">duk__free_run_finalizers</a></div><div class="ttdeci">DUK_LOCAL void duk__free_run_finalizers(duk_heap *heap)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l40877">duktape-1.5.2/src-noline/duktape.c:40877</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a1db0f8dd029a34bd404c55828347e7f4"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a1db0f8dd029a34bd404c55828347e7f4">DUK_HEAP_SET_FINALIZER_NORESCUE</a></div><div class="ttdeci">#define DUK_HEAP_SET_FINALIZER_NORESCUE(heap)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06688">duktape-1.5.2/src-noline/duktape.c:6688</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a4441ff9a935f7e08e2dbaf3fd1d9a052"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a4441ff9a935f7e08e2dbaf3fd1d9a052">DUK_HEAP_CLEAR_MARKANDSWEEP_RUNNING</a></div><div class="ttdeci">#define DUK_HEAP_CLEAR_MARKANDSWEEP_RUNNING(heap)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06690">duktape-1.5.2/src-noline/duktape.c:6690</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a50dbac8614f67a4a6d575791664ebc07"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a50dbac8614f67a4a6d575791664ebc07">DUK_DPRINT</a></div><div class="ttdeci">#define DUK_DPRINT</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07507">duktape-1.5.2/src-noline/duktape.c:7507</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a7aa2439b012a88cb8862456154e431f8"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a7aa2439b012a88cb8862456154e431f8">duk_heap_mark_and_sweep</a></div><div class="ttdeci">DUK_INTERNAL_DECL duk_bool_t duk_heap_mark_and_sweep(duk_heap *heap, duk_small_uint_t flags)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l43012">duktape-1.5.2/src-noline/duktape.c:43012</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a8eaa2088eb15b600eb46501093dfb1a4"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8eaa2088eb15b600eb46501093dfb1a4">DUK_HEAP_HAS_MARKANDSWEEP_RUNNING</a></div><div class="ttdeci">#define DUK_HEAP_HAS_MARKANDSWEEP_RUNNING(heap)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06676">duktape-1.5.2/src-noline/duktape.c:6676</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a9e1528b8eb0a41bc4b37a09a77961e6c"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9e1528b8eb0a41bc4b37a09a77961e6c">DUK_D</a></div><div class="ttdeci">#define DUK_D(x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07495">duktape-1.5.2/src-noline/duktape.c:7495</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_abd2ddc84095804c35127f83a319b0fe9"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#abd2ddc84095804c35127f83a319b0fe9">duk__free_allocated</a></div><div class="ttdeci">DUK_LOCAL void duk__free_allocated(duk_heap *heap)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l40822">duktape-1.5.2/src-noline/duktape.c:40822</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_aebbc9f3d3f13e590652b6a2f5b51ffcc"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#aebbc9f3d3f13e590652b6a2f5b51ffcc">DUK_MS_FLAG_SKIP_FINALIZERS</a></div><div class="ttdeci">#define DUK_MS_FLAG_SKIP_FINALIZERS</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06722">duktape-1.5.2/src-noline/duktape.c:6722</a></div></div>
<div class="ttc" id="astructduk__heap_html"><div class="ttname"><a href="structduk__heap.html">duk_heap</a></div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06982">duktape-1.5.2/src-noline/duktape.c:6982</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d4671eeebc58449d35bfe1ddf44c153" name="a2d4671eeebc58449d35bfe1ddf44c153"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d4671eeebc58449d35bfe1ddf44c153">&#9670;&#160;</a></span>duk_heap_free_heaphdr_raw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void duk_heap_free_heaphdr_raw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structduk__heap.html">duk_heap</a> *</td>          <td class="paramname"><span class="paramname"><em>heap</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structduk__heaphdr.html">duk_heaphdr</a> *</td>          <td class="paramname"><span class="paramname"><em>hdr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l40786">40786</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">40787</span>                                                                         {</div>
<div class="line"><span class="lineno">40788</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(heap != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">40789</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(h != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">40790</span> </div>
<div class="line"><span class="lineno">40791</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9170138f330dbcaabfae9d2c59cc9684">DUK_UNREF</a>(heap);</div>
<div class="line"><span class="lineno">40792</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9170138f330dbcaabfae9d2c59cc9684">DUK_UNREF</a>(h);</div>
<div class="line"><span class="lineno">40793</span> </div>
<div class="line"><span class="lineno">40794</span><span class="preprocessor">#if defined(DUK_USE_HSTRING_EXTDATA) &amp;&amp; defined(DUK_USE_EXTSTR_FREE)</span></div>
<div class="line"><span class="lineno">40795</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a606cd61e4cbb2e8b933f1c8bcce0e727">DUK_HSTRING_HAS_EXTDATA</a>(h)) {</div>
<div class="line"><span class="lineno">40796</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;free extstr: hstring %!O, extdata: %p&quot;</span>,</div>
<div class="line"><span class="lineno">40797</span>                             h, DUK_HSTRING_GET_EXTDATA((<a class="code hl_struct" href="structduk__hstring__external.html">duk_hstring_external</a> *) h)));</div>
<div class="line"><span class="lineno">40798</span>        DUK_USE_EXTSTR_FREE(heap-&gt;<a class="code hl_variable" href="structduk__heap.html#a6e176bfba7eee4c2986a33bc29387328">heap_udata</a>, (<span class="keyword">const</span> <span class="keywordtype">void</span> *) DUK_HSTRING_GET_EXTDATA((<a class="code hl_struct" href="structduk__hstring__external.html">duk_hstring_external</a> *) h));</div>
<div class="line"><span class="lineno">40799</span>    }</div>
<div class="line"><span class="lineno">40800</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">40801</span>}</div>
<div class="line"><span class="lineno">40802</span> </div>
<div class="line"><span class="lineno">40803</span><a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <span class="keywordtype">void</span> <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa348bb6642ada6ecd5ec8e27673feb6">duk_heap_free_heaphdr_raw</a>(<a class="code hl_struct" href="structduk__heap.html">duk_heap</a> *heap, <a class="code hl_struct" href="structduk__heaphdr.html">duk_heaphdr</a> *hdr) {</div>
<div class="line"><span class="lineno">40804</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(heap);</div>
<div class="line"><span class="lineno">40805</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(hdr);</div>
<div class="line"><span class="lineno">40806</span> </div>
<div class="line"><span class="lineno">40807</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;free heaphdr %p, htype %ld&quot;</span>, (<span class="keywordtype">void</span> *) hdr, (<span class="keywordtype">long</span>) <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a10b634cfa62e44dc0e720230fc7b2968">DUK_HEAPHDR_GET_TYPE</a>(hdr)));</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a10b634cfa62e44dc0e720230fc7b2968"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a10b634cfa62e44dc0e720230fc7b2968">DUK_HEAPHDR_GET_TYPE</a></div><div class="ttdeci">#define DUK_HEAPHDR_GET_TYPE(h)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l03621">duktape-1.5.2/src-noline/duktape.c:3621</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a606cd61e4cbb2e8b933f1c8bcce0e727"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a606cd61e4cbb2e8b933f1c8bcce0e727">DUK_HSTRING_HAS_EXTDATA</a></div><div class="ttdeci">#define DUK_HSTRING_HAS_EXTDATA(x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04450">duktape-1.5.2/src-noline/duktape.c:4450</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_afa348bb6642ada6ecd5ec8e27673feb6"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa348bb6642ada6ecd5ec8e27673feb6">duk_heap_free_heaphdr_raw</a></div><div class="ttdeci">DUK_INTERNAL_DECL void duk_heap_free_heaphdr_raw(duk_heap *heap, duk_heaphdr *hdr)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l40786">duktape-1.5.2/src-noline/duktape.c:40786</a></div></div>
<div class="ttc" id="astructduk__heap_html_a6e176bfba7eee4c2986a33bc29387328"><div class="ttname"><a href="structduk__heap.html#a6e176bfba7eee4c2986a33bc29387328">duk_heap::heap_udata</a></div><div class="ttdeci">void * heap_udata</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06993">duktape-1.5.2/src-noline/duktape.c:6993</a></div></div>
<div class="ttc" id="astructduk__heaphdr_html"><div class="ttname"><a href="structduk__heaphdr.html">duk_heaphdr</a></div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l03479">duktape-1.5.2/src-noline/duktape.c:3479</a></div></div>
<div class="ttc" id="astructduk__hstring__external_html"><div class="ttname"><a href="structduk__hstring__external.html">duk_hstring_external</a></div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04592">duktape-1.5.2/src-noline/duktape.c:4592</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad142e6936dcbc8b2e885cc76c59b318f" name="ad142e6936dcbc8b2e885cc76c59b318f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad142e6936dcbc8b2e885cc76c59b318f">&#9670;&#160;</a></span>duk_heap_free_strtab()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> void duk_heap_free_strtab </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structduk__heap.html">duk_heap</a> *</td>          <td class="paramname"><span class="paramname"><em>heap</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l45796">45796</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">45802</span>                           {</div>
<div class="line"><span class="lineno">45803</span>                <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a57e933dd38b986a357486784a4b1a88e">duk_free_hstring_inner</a>(heap, h);</div>
<div class="line"><span class="lineno">45804</span>                <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a571cb7da08d904b60be353682be305a6">DUK_FREE</a>(heap, h);</div>
<div class="line"><span class="lineno">45805</span>            }</div>
<div class="line"><span class="lineno">45806</span>        }</div>
<div class="line"><span class="lineno">45807</span>        e-&gt;listlen = 0;</div>
<div class="line"><span class="lineno">45808</span>    }</div>
<div class="line"><span class="lineno">45809</span>}</div>
<div class="line"><span class="lineno">45810</span><span class="preprocessor">#endif  </span><span class="comment">/* DUK_USE_STRTAB_CHAIN */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">45811</span> </div>
<div class="line"><span class="lineno">45812</span><span class="preprocessor">#if defined(DUK_USE_STRTAB_PROBE)</span></div>
<div class="line"><span class="lineno">45813</span><a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <span class="keywordtype">void</span> <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ad142e6936dcbc8b2e885cc76c59b318f">duk_heap_free_strtab</a>(<a class="code hl_struct" href="structduk__heap.html">duk_heap</a> *heap) {</div>
<div class="line"><span class="lineno">45814</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#afb6f9b695c07e55f671ddef49a2c0fbd">duk_uint_fast32_t</a> i;</div>
<div class="line"><span class="lineno">45815</span>    <a class="code hl_struct" href="structduk__hstring.html">duk_hstring</a> *h;</div>
<div class="line"><span class="lineno">45816</span> </div>
<div class="line"><span class="lineno">45817</span><span class="preprocessor">#if defined(DUK_USE_HEAPPTR16)</span></div>
<div class="line"><span class="lineno">45818</span>    <span class="keywordflow">if</span> (heap-&gt;strtable16) {</div>
<div class="line"><span class="lineno">45819</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">45820</span>    <span class="keywordflow">if</span> (heap-&gt;<a class="code hl_variable" href="structduk__heap.html#a465d9e78f80bec2ccad5459a2d869603">strtable</a>) {</div>
<div class="line"><span class="lineno">45821</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">45822</span>        <span class="keywordflow">for</span> (i = 0; i &lt; (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#afb6f9b695c07e55f671ddef49a2c0fbd">duk_uint_fast32_t</a>) heap-&gt;<a class="code hl_variable" href="structduk__heap.html#aa249660205399aec495d86034217c9ee">st_size</a>; i++) {</div>
<div class="line"><span class="lineno">45823</span><span class="preprocessor">#if defined(DUK_USE_HEAPPTR16)</span></div>
<div class="line"><span class="lineno">45824</span>            h = (<a class="code hl_struct" href="structduk__hstring.html">duk_hstring</a> *) DUK_USE_HEAPPTR_DEC16(heap-&gt;<a class="code hl_variable" href="structduk__heap.html#a6e176bfba7eee4c2986a33bc29387328">heap_udata</a>, heap-&gt;strtable16[i]);</div>
<div class="line"><span class="lineno">45825</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">45826</span>            h = heap-&gt;<a class="code hl_variable" href="structduk__heap.html#a465d9e78f80bec2ccad5459a2d869603">strtable</a>[i];</div>
<div class="line"><span class="lineno">45827</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">45828</span>            <span class="keywordflow">if</span> (h == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || h == <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a03a6b2ef1626b68ab1751f404f51cc22">DUK_STRTAB_DELETED_MARKER</a>(heap)) {</div>
<div class="line"><span class="lineno">45829</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">45830</span>            }</div>
<div class="line"><span class="lineno">45831</span>            <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(h != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">45832</span> </div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_afb6f9b695c07e55f671ddef49a2c0fbd"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#afb6f9b695c07e55f671ddef49a2c0fbd">duk_uint_fast32_t</a></div><div class="ttdeci">duk_uint32_t duk_uint_fast32_t</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l01631">duktape-1.5.2/src-noline/duk_config.h:1631</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a03a6b2ef1626b68ab1751f404f51cc22"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a03a6b2ef1626b68ab1751f404f51cc22">DUK_STRTAB_DELETED_MARKER</a></div><div class="ttdeci">#define DUK_STRTAB_DELETED_MARKER(heap)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06783">duktape-1.5.2/src-noline/duktape.c:6783</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a57e933dd38b986a357486784a4b1a88e"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a57e933dd38b986a357486784a4b1a88e">duk_free_hstring_inner</a></div><div class="ttdeci">DUK_INTERNAL_DECL void duk_free_hstring_inner(duk_heap *heap, duk_hstring *h)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l40770">duktape-1.5.2/src-noline/duktape.c:40770</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_ad142e6936dcbc8b2e885cc76c59b318f"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#ad142e6936dcbc8b2e885cc76c59b318f">duk_heap_free_strtab</a></div><div class="ttdeci">DUK_INTERNAL void duk_heap_free_strtab(duk_heap *heap)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l45796">duktape-1.5.2/src-noline/duktape.c:45796</a></div></div>
<div class="ttc" id="astructduk__heap_html_a465d9e78f80bec2ccad5459a2d869603"><div class="ttname"><a href="structduk__heap.html#a465d9e78f80bec2ccad5459a2d869603">duk_heap::strtable</a></div><div class="ttdeci">duk_hstring ** strtable</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07111">duktape-1.5.2/src-noline/duktape.c:7111</a></div></div>
<div class="ttc" id="astructduk__heap_html_aa249660205399aec495d86034217c9ee"><div class="ttname"><a href="structduk__heap.html#aa249660205399aec495d86034217c9ee">duk_heap::st_size</a></div><div class="ttdeci">duk_uint32_t st_size</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07113">duktape-1.5.2/src-noline/duktape.c:7113</a></div></div>
<div class="ttc" id="astructduk__hstring_html"><div class="ttname"><a href="structduk__hstring.html">duk_hstring</a></div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04546">duktape-1.5.2/src-noline/duktape.c:4546</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab0119a8c56a3c2eb39025289bd72b226" name="ab0119a8c56a3c2eb39025289bd72b226"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0119a8c56a3c2eb39025289bd72b226">&#9670;&#160;</a></span>duk_heap_hashstring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> duk_uint32_t duk_heap_hashstring </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structduk__heap.html">duk_heap</a> *</td>          <td class="paramname"><span class="paramname"><em>heap</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const duk_uint8_t *</td>          <td class="paramname"><span class="paramname"><em>str</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#ab0a71934d59f38f195fea2f353032392">duk_size_t</a></td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l41829">41829</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">41846</span>                                                                                                      {</div>
<div class="line"><span class="lineno">41847</span>    duk_uint32_t hash;</div>
<div class="line"><span class="lineno">41848</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#ab0a71934d59f38f195fea2f353032392">duk_size_t</a> step;</div>
<div class="line"><span class="lineno">41849</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#ab0a71934d59f38f195fea2f353032392">duk_size_t</a> off;</div>
<div class="line"><span class="lineno">41850</span> </div>
<div class="line"><span class="lineno">41851</span>    <span class="comment">/* Slightly modified &quot;Bernstein hash&quot; from:</span></div>
<div class="line"><span class="lineno">41852</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno">41853</span><span class="comment">     *     http://eternallyconfuzzled.com/tuts/algorithms/jsw_tut_hashing.aspx</span></div>
<div class="line"><span class="lineno">41854</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno">41855</span><span class="comment">     * Modifications: string skipping and reverse direction similar to</span></div>
<div class="line"><span class="lineno">41856</span><span class="comment">     * Lua 5.1.5, and different hash initializer.</span></div>
<div class="line"><span class="lineno">41857</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno">41858</span><span class="comment">     * The reverse direction ensures last byte it always included in the</span></div>
<div class="line"><span class="lineno">41859</span><span class="comment">     * hash which is a good default as changing parts of the string are</span></div>
<div class="line"><span class="lineno">41860</span><span class="comment">     * more often in the suffix than in the prefix.</span></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_ab0a71934d59f38f195fea2f353032392"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#ab0a71934d59f38f195fea2f353032392">duk_size_t</a></div><div class="ttdeci">size_t duk_size_t</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l01770">duktape-1.5.2/src-noline/duk_config.h:1770</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af3308e7b3cf43f19c9a00ae72d58fc37" name="af3308e7b3cf43f19c9a00ae72d58fc37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3308e7b3cf43f19c9a00ae72d58fc37">&#9670;&#160;</a></span>duk_heap_insert_into_heap_allocated()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void duk_heap_insert_into_heap_allocated </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structduk__heap.html">duk_heap</a> *</td>          <td class="paramname"><span class="paramname"><em>heap</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structduk__heaphdr.html">duk_heaphdr</a> *</td>          <td class="paramname"><span class="paramname"><em>hdr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l43698">43698</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">43699</span>           {</div>
<div class="line"><span class="lineno">43700</span>        heap-&gt;<a class="code hl_variable" href="structduk__heap.html#ac4718d3e8c84c5e09cfe6e0ed7ba5856">heap_allocated</a> = <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#addc7a86db87360933414770ddc42b7cf">DUK_HEAPHDR_GET_NEXT</a>(heap, hdr);</div>
<div class="line"><span class="lineno">43701</span>    }</div>
<div class="line"><span class="lineno">43702</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#addc7a86db87360933414770ddc42b7cf">DUK_HEAPHDR_GET_NEXT</a>(heap, hdr)) {</div>
<div class="line"><span class="lineno">43703</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a38e1fd65c077569cf5a4e291ae8af6b8">DUK_HEAPHDR_SET_PREV</a>(heap, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#addc7a86db87360933414770ddc42b7cf">DUK_HEAPHDR_GET_NEXT</a>(heap, hdr), <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a357e85a60310a84534374063a44758f6">DUK_HEAPHDR_GET_PREV</a>(heap, hdr));</div>
<div class="line"><span class="lineno">43704</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">43705</span>        ;</div>
<div class="line"><span class="lineno">43706</span>    }</div>
<div class="line"><span class="lineno">43707</span> </div>
<div class="line"><span class="lineno">43708</span>    <span class="comment">/* The prev/next pointers of the removed duk_heaphdr are left as garbage.</span></div>
<div class="line"><span class="lineno">43709</span><span class="comment">     * It&#39;s up to the caller to ensure they&#39;re written before inserting the</span></div>
<div class="line"><span class="lineno">43710</span><span class="comment">     * object back.</span></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a357e85a60310a84534374063a44758f6"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a357e85a60310a84534374063a44758f6">DUK_HEAPHDR_GET_PREV</a></div><div class="ttdeci">#define DUK_HEAPHDR_GET_PREV(heap, h)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l03582">duktape-1.5.2/src-noline/duktape.c:3582</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a38e1fd65c077569cf5a4e291ae8af6b8"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a38e1fd65c077569cf5a4e291ae8af6b8">DUK_HEAPHDR_SET_PREV</a></div><div class="ttdeci">#define DUK_HEAPHDR_SET_PREV(heap, h, val)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l03583">duktape-1.5.2/src-noline/duktape.c:3583</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_addc7a86db87360933414770ddc42b7cf"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#addc7a86db87360933414770ddc42b7cf">DUK_HEAPHDR_GET_NEXT</a></div><div class="ttdeci">#define DUK_HEAPHDR_GET_NEXT(heap, h)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l03568">duktape-1.5.2/src-noline/duktape.c:3568</a></div></div>
<div class="ttc" id="astructduk__heap_html_ac4718d3e8c84c5e09cfe6e0ed7ba5856"><div class="ttname"><a href="structduk__heap.html#ac4718d3e8c84c5e09cfe6e0ed7ba5856">duk_heap::heap_allocated</a></div><div class="ttdeci">duk_heaphdr * heap_allocated</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07009">duktape-1.5.2/src-noline/duktape.c:7009</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a23665fb95afebe489bb453e57dc79441" name="a23665fb95afebe489bb453e57dc79441"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23665fb95afebe489bb453e57dc79441">&#9670;&#160;</a></span>duk_heap_mem_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void * duk_heap_mem_alloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structduk__heap.html">duk_heap</a> *</td>          <td class="paramname"><span class="paramname"><em>heap</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#ab0a71934d59f38f195fea2f353032392">duk_size_t</a></td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l43327">43327</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">43344</span>                                                                       {</div>
<div class="line"><span class="lineno">43345</span>    <span class="keywordtype">void</span> *res;</div>
<div class="line"><span class="lineno">43346</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af32ca4c30431e819676401ce2b11c2e7">duk_bool_t</a> rc;</div>
<div class="line"><span class="lineno">43347</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a041e9b0b2d41c5af8429259808290726">duk_small_int_t</a> i;</div>
<div class="line"><span class="lineno">43348</span> </div>
<div class="line"><span class="lineno">43349</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(heap != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">43350</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a5b32dd67a8481ffa404a403c0cfac2a6">DUK_ASSERT_DISABLE</a>(size &gt;= 0);</div>
<div class="line"><span class="lineno">43351</span> </div>
<div class="line"><span class="lineno">43352</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">43353</span><span class="comment">     *  Voluntary periodic GC (if enabled)</span></div>
<div class="line"><span class="lineno">43354</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">43355</span> </div>
<div class="line"><span class="lineno">43356</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#abd183ffd10d51ee14e9f841cc2eed90f">DUK__VOLUNTARY_PERIODIC_GC</a>(heap);</div>
<div class="line"><span class="lineno">43357</span> </div>
<div class="line"><span class="lineno">43358</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">43359</span><span class="comment">     *  First attempt</span></div>
<div class="line"><span class="lineno">43360</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">43361</span> </div>
<div class="line"><span class="lineno">43362</span><span class="preprocessor">#ifdef DUK_USE_GC_TORTURE</span></div>
<div class="line"><span class="lineno">43363</span>    <span class="comment">/* simulate alloc failure on every alloc (except when mark-and-sweep is running) */</span></div>
<div class="line"><span class="lineno">43364</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8eaa2088eb15b600eb46501093dfb1a4">DUK_HEAP_HAS_MARKANDSWEEP_RUNNING</a>(heap)) {</div>
<div class="line"><span class="lineno">43365</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;gc torture enabled, pretend that first alloc attempt fails&quot;</span>));</div>
<div class="line"><span class="lineno">43366</span>        res = <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">43367</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9170138f330dbcaabfae9d2c59cc9684">DUK_UNREF</a>(res);</div>
<div class="line"><span class="lineno">43368</span>        <span class="keywordflow">goto</span> skip_attempt;</div>
<div class="line"><span class="lineno">43369</span>    }</div>
<div class="line"><span class="lineno">43370</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">43371</span>    res = heap-&gt;<a class="code hl_variable" href="structduk__heap.html#ab812ddb1d5d41e6f77b2f4477ba9a8db">alloc_func</a>(heap-&gt;<a class="code hl_variable" href="structduk__heap.html#a6e176bfba7eee4c2986a33bc29387328">heap_udata</a>, size);</div>
<div class="line"><span class="lineno">43372</span>    <span class="keywordflow">if</span> (res || size == 0) {</div>
<div class="line"><span class="lineno">43373</span>        <span class="comment">/* for zero size allocations NULL is allowed */</span></div>
<div class="line"><span class="lineno">43374</span>        <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno">43375</span>    }</div>
<div class="line"><span class="lineno">43376</span><span class="preprocessor">#ifdef DUK_USE_GC_TORTURE</span></div>
<div class="line"><span class="lineno">43377</span> skip_attempt:</div>
<div class="line"><span class="lineno">43378</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">43379</span> </div>
<div class="line"><span class="lineno">43380</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9e1528b8eb0a41bc4b37a09a77961e6c">DUK_D</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a50dbac8614f67a4a6d575791664ebc07">DUK_DPRINT</a>(<span class="stringliteral">&quot;first alloc attempt failed, attempt to gc and retry&quot;</span>));</div>
<div class="line"><span class="lineno">43381</span> </div>
<div class="line"><span class="lineno">43382</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">43383</span><span class="comment">     *  Avoid a GC if GC is already running.  This can happen at a late</span></div>
<div class="line"><span class="lineno">43384</span><span class="comment">     *  stage in a GC when we try to e.g. resize the stringtable</span></div>
<div class="line"><span class="lineno">43385</span><span class="comment">     *  or compact objects.</span></div>
<div class="line"><span class="lineno">43386</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">43387</span> </div>
<div class="line"><span class="lineno">43388</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8eaa2088eb15b600eb46501093dfb1a4">DUK_HEAP_HAS_MARKANDSWEEP_RUNNING</a>(heap)) {</div>
<div class="line"><span class="lineno">43389</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9e1528b8eb0a41bc4b37a09a77961e6c">DUK_D</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a50dbac8614f67a4a6d575791664ebc07">DUK_DPRINT</a>(<span class="stringliteral">&quot;duk_heap_mem_alloc() failed, gc in progress (gc skipped), alloc size %ld&quot;</span>, (<span class="keywordtype">long</span>) size));</div>
<div class="line"><span class="lineno">43390</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">43391</span>    }</div>
<div class="line"><span class="lineno">43392</span> </div>
<div class="line"><span class="lineno">43393</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">43394</span><span class="comment">     *  Retry with several GC attempts.  Initial attempts are made without</span></div>
<div class="line"><span class="lineno">43395</span><span class="comment">     *  emergency mode; later attempts use emergency mode which minimizes</span></div>
<div class="line"><span class="lineno">43396</span><span class="comment">     *  memory allocations forcibly.</span></div>
<div class="line"><span class="lineno">43397</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">43398</span> </div>
<div class="line"><span class="lineno">43399</span>    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa75d3bf194fe262e83871c86fe2581b2">DUK_HEAP_ALLOC_FAIL_MARKANDSWEEP_LIMIT</a>; i++) {</div>
<div class="line"><span class="lineno">43400</span>        <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a2b7ba45bf826058a9b7720b5e258efc6">duk_small_uint_t</a> flags;</div>
<div class="line"><span class="lineno">43401</span> </div>
<div class="line"><span class="lineno">43402</span>        flags = 0;</div>
<div class="line"><span class="lineno">43403</span>        <span class="keywordflow">if</span> (i &gt;= <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac23c62266546a73bb6caf28270f9e9cb">DUK_HEAP_ALLOC_FAIL_MARKANDSWEEP_EMERGENCY_LIMIT</a> - 1) {</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_a041e9b0b2d41c5af8429259808290726"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a041e9b0b2d41c5af8429259808290726">duk_small_int_t</a></div><div class="ttdeci">int duk_small_int_t</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l01807">duktape-1.5.2/src-noline/duk_config.h:1807</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_a2b7ba45bf826058a9b7720b5e258efc6"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a2b7ba45bf826058a9b7720b5e258efc6">duk_small_uint_t</a></div><div class="ttdeci">unsigned int duk_small_uint_t</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l01808">duktape-1.5.2/src-noline/duk_config.h:1808</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_af32ca4c30431e819676401ce2b11c2e7"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af32ca4c30431e819676401ce2b11c2e7">duk_bool_t</a></div><div class="ttdeci">duk_small_int_t duk_bool_t</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l01825">duktape-1.5.2/src-noline/duk_config.h:1825</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a5b32dd67a8481ffa404a403c0cfac2a6"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a5b32dd67a8481ffa404a403c0cfac2a6">DUK_ASSERT_DISABLE</a></div><div class="ttdeci">#define DUK_ASSERT_DISABLE(x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07764">duktape-1.5.2/src-noline/duktape.c:7764</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_aa75d3bf194fe262e83871c86fe2581b2"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa75d3bf194fe262e83871c86fe2581b2">DUK_HEAP_ALLOC_FAIL_MARKANDSWEEP_LIMIT</a></div><div class="ttdeci">#define DUK_HEAP_ALLOC_FAIL_MARKANDSWEEP_LIMIT</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06872">duktape-1.5.2/src-noline/duktape.c:6872</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_abd183ffd10d51ee14e9f841cc2eed90f"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#abd183ffd10d51ee14e9f841cc2eed90f">DUK__VOLUNTARY_PERIODIC_GC</a></div><div class="ttdeci">#define DUK__VOLUNTARY_PERIODIC_GC(heap)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l43298">duktape-1.5.2/src-noline/duktape.c:43298</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_ac23c62266546a73bb6caf28270f9e9cb"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac23c62266546a73bb6caf28270f9e9cb">DUK_HEAP_ALLOC_FAIL_MARKANDSWEEP_EMERGENCY_LIMIT</a></div><div class="ttdeci">#define DUK_HEAP_ALLOC_FAIL_MARKANDSWEEP_EMERGENCY_LIMIT</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06874">duktape-1.5.2/src-noline/duktape.c:6874</a></div></div>
<div class="ttc" id="astructduk__heap_html_ab812ddb1d5d41e6f77b2f4477ba9a8db"><div class="ttname"><a href="structduk__heap.html#ab812ddb1d5d41e6f77b2f4477ba9a8db">duk_heap::alloc_func</a></div><div class="ttdeci">duk_alloc_function alloc_func</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06986">duktape-1.5.2/src-noline/duktape.c:6986</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae1a2442b19d790cc16292a10c302a3f3" name="ae1a2442b19d790cc16292a10c302a3f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1a2442b19d790cc16292a10c302a3f3">&#9670;&#160;</a></span>duk_heap_mem_alloc_zeroed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void * duk_heap_mem_alloc_zeroed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structduk__heap.html">duk_heap</a> *</td>          <td class="paramname"><span class="paramname"><em>heap</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#ab0a71934d59f38f195fea2f353032392">duk_size_t</a></td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l43417">43417</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">43426</span>                                                                       {</div>
<div class="line"><span class="lineno">43427</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(heap != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">43428</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a5b32dd67a8481ffa404a403c0cfac2a6">DUK_ASSERT_DISABLE</a>(size &gt;= 0);</div>
<div class="line"><span class="lineno">43429</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0b0c28f065abdbdaa21dfa85538bd336" name="a0b0c28f065abdbdaa21dfa85538bd336"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b0c28f065abdbdaa21dfa85538bd336">&#9670;&#160;</a></span>duk_heap_mem_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void duk_heap_mem_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structduk__heap.html">duk_heap</a> *</td>          <td class="paramname"><span class="paramname"><em>heap</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>ptr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l43637">43637</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">43644</span>                                                                                                                  {</div>
<div class="line"><span class="lineno">43645</span>    <span class="keywordflow">return</span> heap-&gt;<a class="code hl_variable" href="structduk__heap.html#a648acd5968535fcf710bb5bb5c8fa3e7">realloc_func</a>(heap-&gt;<a class="code hl_variable" href="structduk__heap.html#a6e176bfba7eee4c2986a33bc29387328">heap_udata</a>, cb(heap, ud), newsize);</div>
<div class="line"><span class="lineno">43646</span>}</div>
<div class="line"><span class="lineno">43647</span><span class="preprocessor">#endif  </span><span class="comment">/* DUK_USE_MARK_AND_SWEEP */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">43648</span> </div>
<div class="line"><span class="lineno">43649</span><span class="comment">/*</span></div>
<div class="line"><span class="lineno">43650</span><span class="comment"> *  Free memory</span></div>
<div class="line"><span class="lineno">43651</span><span class="comment"> */</span></div>
<div class="line"><span class="lineno">43652</span> </div>
<div class="line"><span class="lineno">43653</span><span class="preprocessor">#ifdef DUK_USE_MARK_AND_SWEEP</span></div>
<div class="line"><span class="lineno">43654</span><a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <span class="keywordtype">void</span> <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a4b845914496f34f1da1fa30a20c6bcb4">duk_heap_mem_free</a>(<a class="code hl_struct" href="structduk__heap.html">duk_heap</a> *heap, <span class="keywordtype">void</span> *ptr) {</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a4b845914496f34f1da1fa30a20c6bcb4"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a4b845914496f34f1da1fa30a20c6bcb4">duk_heap_mem_free</a></div><div class="ttdeci">DUK_INTERNAL_DECL void duk_heap_mem_free(duk_heap *heap, void *ptr)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l43637">duktape-1.5.2/src-noline/duktape.c:43637</a></div></div>
<div class="ttc" id="astructduk__heap_html_a648acd5968535fcf710bb5bb5c8fa3e7"><div class="ttname"><a href="structduk__heap.html#a648acd5968535fcf710bb5bb5c8fa3e7">duk_heap::realloc_func</a></div><div class="ttdeci">duk_realloc_function realloc_func</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06987">duktape-1.5.2/src-noline/duktape.c:6987</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0e04736a90411498c33c55c359a13178" name="a0e04736a90411498c33c55c359a13178"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e04736a90411498c33c55c359a13178">&#9670;&#160;</a></span>duk_heap_mem_realloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void * duk_heap_mem_realloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structduk__heap.html">duk_heap</a> *</td>          <td class="paramname"><span class="paramname"><em>heap</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#ab0a71934d59f38f195fea2f353032392">duk_size_t</a></td>          <td class="paramname"><span class="paramname"><em>newsize</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l43436">43436</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">43441</span>             {</div>
<div class="line"><span class="lineno">43442</span>        <span class="comment">/* assume memset with zero size is OK */</span></div>
<div class="line"><span class="lineno">43443</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#ace325eaae44f64bffe3918e912d80ffc">DUK_MEMZERO</a>(res, size);</div>
<div class="line"><span class="lineno">43444</span>    }</div>
<div class="line"><span class="lineno">43445</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno">43446</span>}</div>
<div class="line"><span class="lineno">43447</span> </div>
<div class="line"><span class="lineno">43448</span><span class="comment">/*</span></div>
<div class="line"><span class="lineno">43449</span><span class="comment"> *  Reallocate memory with garbage collection</span></div>
<div class="line"><span class="lineno">43450</span><span class="comment"> */</span></div>
<div class="line"><span class="lineno">43451</span> </div>
<div class="line"><span class="lineno">43452</span><span class="preprocessor">#ifdef DUK_USE_MARK_AND_SWEEP</span></div>
<div class="line"><span class="lineno">43453</span><a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <span class="keywordtype">void</span> *<a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ae24131292b7c879d1e77f0d93239bd17">duk_heap_mem_realloc</a>(<a class="code hl_struct" href="structduk__heap.html">duk_heap</a> *heap, <span class="keywordtype">void</span> *ptr, <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#ab0a71934d59f38f195fea2f353032392">duk_size_t</a> newsize) {</div>
<div class="line"><span class="lineno">43454</span>    <span class="keywordtype">void</span> *res;</div>
<div class="line"><span class="lineno">43455</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af32ca4c30431e819676401ce2b11c2e7">duk_bool_t</a> rc;</div>
<div class="line"><span class="lineno">43456</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a041e9b0b2d41c5af8429259808290726">duk_small_int_t</a> i;</div>
<div class="line"><span class="lineno">43457</span> </div>
<div class="line"><span class="lineno">43458</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(heap != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">43459</span>    <span class="comment">/* ptr may be NULL */</span></div>
<div class="line"><span class="lineno">43460</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a5b32dd67a8481ffa404a403c0cfac2a6">DUK_ASSERT_DISABLE</a>(newsize &gt;= 0);</div>
<div class="line"><span class="lineno">43461</span> </div>
<div class="line"><span class="lineno">43462</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">43463</span><span class="comment">     *  Voluntary periodic GC (if enabled)</span></div>
<div class="line"><span class="lineno">43464</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">43465</span> </div>
<div class="line"><span class="lineno">43466</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#abd183ffd10d51ee14e9f841cc2eed90f">DUK__VOLUNTARY_PERIODIC_GC</a>(heap);</div>
<div class="line"><span class="lineno">43467</span> </div>
<div class="line"><span class="lineno">43468</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">43469</span><span class="comment">     *  First attempt</span></div>
<div class="line"><span class="lineno">43470</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">43471</span> </div>
<div class="line"><span class="lineno">43472</span><span class="preprocessor">#ifdef DUK_USE_GC_TORTURE</span></div>
<div class="line"><span class="lineno">43473</span>    <span class="comment">/* simulate alloc failure on every realloc (except when mark-and-sweep is running) */</span></div>
<div class="line"><span class="lineno">43474</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8eaa2088eb15b600eb46501093dfb1a4">DUK_HEAP_HAS_MARKANDSWEEP_RUNNING</a>(heap)) {</div>
<div class="line"><span class="lineno">43475</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;gc torture enabled, pretend that first realloc attempt fails&quot;</span>));</div>
<div class="line"><span class="lineno">43476</span>        res = <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">43477</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9170138f330dbcaabfae9d2c59cc9684">DUK_UNREF</a>(res);</div>
<div class="line"><span class="lineno">43478</span>        <span class="keywordflow">goto</span> skip_attempt;</div>
<div class="line"><span class="lineno">43479</span>    }</div>
<div class="line"><span class="lineno">43480</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">43481</span>    res = heap-&gt;<a class="code hl_variable" href="structduk__heap.html#a648acd5968535fcf710bb5bb5c8fa3e7">realloc_func</a>(heap-&gt;<a class="code hl_variable" href="structduk__heap.html#a6e176bfba7eee4c2986a33bc29387328">heap_udata</a>, ptr, newsize);</div>
<div class="line"><span class="lineno">43482</span>    <span class="keywordflow">if</span> (res || newsize == 0) {</div>
<div class="line"><span class="lineno">43483</span>        <span class="comment">/* for zero size allocations NULL is allowed */</span></div>
<div class="line"><span class="lineno">43484</span>        <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno">43485</span>    }</div>
<div class="line"><span class="lineno">43486</span><span class="preprocessor">#ifdef DUK_USE_GC_TORTURE</span></div>
<div class="line"><span class="lineno">43487</span> skip_attempt:</div>
<div class="line"><span class="lineno">43488</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">43489</span> </div>
<div class="line"><span class="lineno">43490</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9e1528b8eb0a41bc4b37a09a77961e6c">DUK_D</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a50dbac8614f67a4a6d575791664ebc07">DUK_DPRINT</a>(<span class="stringliteral">&quot;first realloc attempt failed, attempt to gc and retry&quot;</span>));</div>
<div class="line"><span class="lineno">43491</span> </div>
<div class="line"><span class="lineno">43492</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">43493</span><span class="comment">     *  Avoid a GC if GC is already running.  See duk_heap_mem_alloc().</span></div>
<div class="line"><span class="lineno">43494</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">43495</span> </div>
<div class="line"><span class="lineno">43496</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8eaa2088eb15b600eb46501093dfb1a4">DUK_HEAP_HAS_MARKANDSWEEP_RUNNING</a>(heap)) {</div>
<div class="line"><span class="lineno">43497</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9e1528b8eb0a41bc4b37a09a77961e6c">DUK_D</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a50dbac8614f67a4a6d575791664ebc07">DUK_DPRINT</a>(<span class="stringliteral">&quot;duk_heap_mem_realloc() failed, gc in progress (gc skipped), alloc size %ld&quot;</span>, (<span class="keywordtype">long</span>) newsize));</div>
<div class="line"><span class="lineno">43498</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">43499</span>    }</div>
<div class="line"><span class="lineno">43500</span> </div>
<div class="line"><span class="lineno">43501</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">43502</span><span class="comment">     *  Retry with several GC attempts.  Initial attempts are made without</span></div>
<div class="line"><span class="lineno">43503</span><span class="comment">     *  emergency mode; later attempts use emergency mode which minimizes</span></div>
<div class="line"><span class="lineno">43504</span><span class="comment">     *  memory allocations forcibly.</span></div>
<div class="line"><span class="lineno">43505</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">43506</span> </div>
<div class="line"><span class="lineno">43507</span>    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa75d3bf194fe262e83871c86fe2581b2">DUK_HEAP_ALLOC_FAIL_MARKANDSWEEP_LIMIT</a>; i++) {</div>
<div class="line"><span class="lineno">43508</span>        <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a2b7ba45bf826058a9b7720b5e258efc6">duk_small_uint_t</a> flags;</div>
<div class="line"><span class="lineno">43509</span> </div>
<div class="line"><span class="lineno">43510</span>        flags = 0;</div>
<div class="line"><span class="lineno">43511</span>        <span class="keywordflow">if</span> (i &gt;= <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac23c62266546a73bb6caf28270f9e9cb">DUK_HEAP_ALLOC_FAIL_MARKANDSWEEP_EMERGENCY_LIMIT</a> - 1) {</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_ace325eaae44f64bffe3918e912d80ffc"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#ace325eaae44f64bffe3918e912d80ffc">DUK_MEMZERO</a></div><div class="ttdeci">#define DUK_MEMZERO(p, n)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l02056">duktape-1.5.2/src-noline/duk_config.h:2056</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_ae24131292b7c879d1e77f0d93239bd17"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#ae24131292b7c879d1e77f0d93239bd17">duk_heap_mem_realloc</a></div><div class="ttdeci">DUK_INTERNAL_DECL void * duk_heap_mem_realloc(duk_heap *heap, void *ptr, duk_size_t newsize)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l43436">duktape-1.5.2/src-noline/duktape.c:43436</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7cbbad362d04e3e77cd8febcf98e9a1f" name="a7cbbad362d04e3e77cd8febcf98e9a1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cbbad362d04e3e77cd8febcf98e9a1f">&#9670;&#160;</a></span>duk_heap_mem_realloc_indirect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void * duk_heap_mem_realloc_indirect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structduk__heap.html">duk_heap</a> *</td>          <td class="paramname"><span class="paramname"><em>heap</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c.html#abfae686d4ccf7b98df6e9abdac473c7d">duk_mem_getptr</a></td>          <td class="paramname"><span class="paramname"><em>cb</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>ud</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#ab0a71934d59f38f195fea2f353032392">duk_size_t</a></td>          <td class="paramname"><span class="paramname"><em>newsize</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l43530">43530</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">43531</span>                                                                                       {</div>
<div class="line"><span class="lineno">43532</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(heap != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">43533</span>    <span class="comment">/* ptr may be NULL */</span></div>
<div class="line"><span class="lineno">43534</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a5b32dd67a8481ffa404a403c0cfac2a6">DUK_ASSERT_DISABLE</a>(newsize &gt;= 0);</div>
<div class="line"><span class="lineno">43535</span> </div>
<div class="line"><span class="lineno">43536</span>    <span class="keywordflow">return</span> heap-&gt;<a class="code hl_variable" href="structduk__heap.html#a648acd5968535fcf710bb5bb5c8fa3e7">realloc_func</a>(heap-&gt;<a class="code hl_variable" href="structduk__heap.html#a6e176bfba7eee4c2986a33bc29387328">heap_udata</a>, ptr, newsize);</div>
<div class="line"><span class="lineno">43537</span>}</div>
<div class="line"><span class="lineno">43538</span><span class="preprocessor">#endif  </span><span class="comment">/* DUK_USE_MARK_AND_SWEEP */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">43539</span> </div>
<div class="line"><span class="lineno">43540</span><span class="comment">/*</span></div>
<div class="line"><span class="lineno">43541</span><span class="comment"> *  Reallocate memory with garbage collection, using a callback to provide</span></div>
<div class="line"><span class="lineno">43542</span><span class="comment"> *  the current allocated pointer.  This variant is used when a mark-and-sweep</span></div>
<div class="line"><span class="lineno">43543</span><span class="comment"> *  (e.g. finalizers) might change the original pointer.</span></div>
<div class="line"><span class="lineno">43544</span><span class="comment"> */</span></div>
<div class="line"><span class="lineno">43545</span> </div>
<div class="line"><span class="lineno">43546</span><span class="preprocessor">#ifdef DUK_USE_MARK_AND_SWEEP</span></div>
<div class="line"><span class="lineno">43547</span><a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <span class="keywordtype">void</span> *<a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a7892e3ec198ae07821ab9adcd58d5557">duk_heap_mem_realloc_indirect</a>(<a class="code hl_struct" href="structduk__heap.html">duk_heap</a> *heap, <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duktape_8c.html#abfae686d4ccf7b98df6e9abdac473c7d">duk_mem_getptr</a> cb, <span class="keywordtype">void</span> *ud, <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#ab0a71934d59f38f195fea2f353032392">duk_size_t</a> newsize) {</div>
<div class="line"><span class="lineno">43548</span>    <span class="keywordtype">void</span> *res;</div>
<div class="line"><span class="lineno">43549</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af32ca4c30431e819676401ce2b11c2e7">duk_bool_t</a> rc;</div>
<div class="line"><span class="lineno">43550</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a041e9b0b2d41c5af8429259808290726">duk_small_int_t</a> i;</div>
<div class="line"><span class="lineno">43551</span> </div>
<div class="line"><span class="lineno">43552</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(heap != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">43553</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a5b32dd67a8481ffa404a403c0cfac2a6">DUK_ASSERT_DISABLE</a>(newsize &gt;= 0);</div>
<div class="line"><span class="lineno">43554</span> </div>
<div class="line"><span class="lineno">43555</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">43556</span><span class="comment">     *  Voluntary periodic GC (if enabled)</span></div>
<div class="line"><span class="lineno">43557</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">43558</span> </div>
<div class="line"><span class="lineno">43559</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#abd183ffd10d51ee14e9f841cc2eed90f">DUK__VOLUNTARY_PERIODIC_GC</a>(heap);</div>
<div class="line"><span class="lineno">43560</span> </div>
<div class="line"><span class="lineno">43561</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">43562</span><span class="comment">     *  First attempt</span></div>
<div class="line"><span class="lineno">43563</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">43564</span> </div>
<div class="line"><span class="lineno">43565</span><span class="preprocessor">#ifdef DUK_USE_GC_TORTURE</span></div>
<div class="line"><span class="lineno">43566</span>    <span class="comment">/* simulate alloc failure on every realloc (except when mark-and-sweep is running) */</span></div>
<div class="line"><span class="lineno">43567</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8eaa2088eb15b600eb46501093dfb1a4">DUK_HEAP_HAS_MARKANDSWEEP_RUNNING</a>(heap)) {</div>
<div class="line"><span class="lineno">43568</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;gc torture enabled, pretend that first indirect realloc attempt fails&quot;</span>));</div>
<div class="line"><span class="lineno">43569</span>        res = <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">43570</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9170138f330dbcaabfae9d2c59cc9684">DUK_UNREF</a>(res);</div>
<div class="line"><span class="lineno">43571</span>        <span class="keywordflow">goto</span> skip_attempt;</div>
<div class="line"><span class="lineno">43572</span>    }</div>
<div class="line"><span class="lineno">43573</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">43574</span>    res = heap-&gt;<a class="code hl_variable" href="structduk__heap.html#a648acd5968535fcf710bb5bb5c8fa3e7">realloc_func</a>(heap-&gt;<a class="code hl_variable" href="structduk__heap.html#a6e176bfba7eee4c2986a33bc29387328">heap_udata</a>, cb(heap, ud), newsize);</div>
<div class="line"><span class="lineno">43575</span>    <span class="keywordflow">if</span> (res || newsize == 0) {</div>
<div class="line"><span class="lineno">43576</span>        <span class="comment">/* for zero size allocations NULL is allowed */</span></div>
<div class="line"><span class="lineno">43577</span>        <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno">43578</span>    }</div>
<div class="line"><span class="lineno">43579</span><span class="preprocessor">#ifdef DUK_USE_GC_TORTURE</span></div>
<div class="line"><span class="lineno">43580</span> skip_attempt:</div>
<div class="line"><span class="lineno">43581</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">43582</span> </div>
<div class="line"><span class="lineno">43583</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9e1528b8eb0a41bc4b37a09a77961e6c">DUK_D</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a50dbac8614f67a4a6d575791664ebc07">DUK_DPRINT</a>(<span class="stringliteral">&quot;first indirect realloc attempt failed, attempt to gc and retry&quot;</span>));</div>
<div class="line"><span class="lineno">43584</span> </div>
<div class="line"><span class="lineno">43585</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">43586</span><span class="comment">     *  Avoid a GC if GC is already running.  See duk_heap_mem_alloc().</span></div>
<div class="line"><span class="lineno">43587</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">43588</span> </div>
<div class="line"><span class="lineno">43589</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8eaa2088eb15b600eb46501093dfb1a4">DUK_HEAP_HAS_MARKANDSWEEP_RUNNING</a>(heap)) {</div>
<div class="line"><span class="lineno">43590</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9e1528b8eb0a41bc4b37a09a77961e6c">DUK_D</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a50dbac8614f67a4a6d575791664ebc07">DUK_DPRINT</a>(<span class="stringliteral">&quot;duk_heap_mem_realloc_indirect() failed, gc in progress (gc skipped), alloc size %ld&quot;</span>, (<span class="keywordtype">long</span>) newsize));</div>
<div class="line"><span class="lineno">43591</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">43592</span>    }</div>
<div class="line"><span class="lineno">43593</span> </div>
<div class="line"><span class="lineno">43594</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">43595</span><span class="comment">     *  Retry with several GC attempts.  Initial attempts are made without</span></div>
<div class="line"><span class="lineno">43596</span><span class="comment">     *  emergency mode; later attempts use emergency mode which minimizes</span></div>
<div class="line"><span class="lineno">43597</span><span class="comment">     *  memory allocations forcibly.</span></div>
<div class="line"><span class="lineno">43598</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">43599</span> </div>
<div class="line"><span class="lineno">43600</span>    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa75d3bf194fe262e83871c86fe2581b2">DUK_HEAP_ALLOC_FAIL_MARKANDSWEEP_LIMIT</a>; i++) {</div>
<div class="line"><span class="lineno">43601</span>        <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a2b7ba45bf826058a9b7720b5e258efc6">duk_small_uint_t</a> flags;</div>
<div class="line"><span class="lineno">43602</span> </div>
<div class="line"><span class="lineno">43603</span><span class="preprocessor">#ifdef DUK_USE_ASSERTIONS</span></div>
<div class="line"><span class="lineno">43604</span>        <span class="keywordtype">void</span> *ptr_pre;  <span class="comment">/* ptr before mark-and-sweep */</span></div>
<div class="line"><span class="lineno">43605</span>        <span class="keywordtype">void</span> *ptr_post;</div>
<div class="line"><span class="lineno">43606</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">43607</span> </div>
<div class="line"><span class="lineno">43608</span><span class="preprocessor">#ifdef DUK_USE_ASSERTIONS</span></div>
<div class="line"><span class="lineno">43609</span>        ptr_pre = cb(heap, ud);</div>
<div class="line"><span class="lineno">43610</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">43611</span>        flags = 0;</div>
<div class="line"><span class="lineno">43612</span>        <span class="keywordflow">if</span> (i &gt;= <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac23c62266546a73bb6caf28270f9e9cb">DUK_HEAP_ALLOC_FAIL_MARKANDSWEEP_EMERGENCY_LIMIT</a> - 1) {</div>
<div class="line"><span class="lineno">43613</span>            flags |= <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a01bd2d35612c776aded52350eb23b790">DUK_MS_FLAG_EMERGENCY</a>;</div>
<div class="line"><span class="lineno">43614</span>        }</div>
<div class="line"><span class="lineno">43615</span> </div>
<div class="line"><span class="lineno">43616</span>        rc = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a7aa2439b012a88cb8862456154e431f8">duk_heap_mark_and_sweep</a>(heap, flags);</div>
<div class="line"><span class="lineno">43617</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9170138f330dbcaabfae9d2c59cc9684">DUK_UNREF</a>(rc);</div>
<div class="line"><span class="lineno">43618</span><span class="preprocessor">#ifdef DUK_USE_ASSERTIONS</span></div>
<div class="line"><span class="lineno">43619</span>        ptr_post = cb(heap, ud);</div>
<div class="line"><span class="lineno">43620</span>        <span class="keywordflow">if</span> (ptr_pre != ptr_post) {</div>
<div class="line"><span class="lineno">43621</span>            <span class="comment">/* useful for debugging */</span></div>
<div class="line"><span class="lineno">43622</span>            <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a6c3a2adb6e09294c7e65f69821e5e81a">DUK_DD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa66ca9adc2b4187c5d549a9b117b03d3">DUK_DDPRINT</a>(<span class="stringliteral">&quot;note: base pointer changed by mark-and-sweep: %p -&gt; %p&quot;</span>,</div>
<div class="line"><span class="lineno">43623</span>                               (<span class="keywordtype">void</span> *) ptr_pre, (<span class="keywordtype">void</span> *) ptr_post));</div>
<div class="line"><span class="lineno">43624</span>        }</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a01bd2d35612c776aded52350eb23b790"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a01bd2d35612c776aded52350eb23b790">DUK_MS_FLAG_EMERGENCY</a></div><div class="ttdeci">#define DUK_MS_FLAG_EMERGENCY</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06718">duktape-1.5.2/src-noline/duktape.c:6718</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a6c3a2adb6e09294c7e65f69821e5e81a"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a6c3a2adb6e09294c7e65f69821e5e81a">DUK_DD</a></div><div class="ttdeci">#define DUK_DD(x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07496">duktape-1.5.2/src-noline/duktape.c:7496</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a7892e3ec198ae07821ab9adcd58d5557"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a7892e3ec198ae07821ab9adcd58d5557">duk_heap_mem_realloc_indirect</a></div><div class="ttdeci">DUK_INTERNAL_DECL void * duk_heap_mem_realloc_indirect(duk_heap *heap, duk_mem_getptr cb, void *ud, duk_size_t newsize)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l43530">duktape-1.5.2/src-noline/duktape.c:43530</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_aa66ca9adc2b4187c5d549a9b117b03d3"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa66ca9adc2b4187c5d549a9b117b03d3">DUK_DDPRINT</a></div><div class="ttdeci">#define DUK_DDPRINT</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07508">duktape-1.5.2/src-noline/duktape.c:7508</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_abfae686d4ccf7b98df6e9abdac473c7d"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#abfae686d4ccf7b98df6e9abdac473c7d">duk_mem_getptr</a></div><div class="ttdeci">void *(* duk_mem_getptr)(duk_heap *heap, void *ud)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06860">duktape-1.5.2/src-noline/duktape.c:6860</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a942ee733cfbc54f294201427bc17a3aa" name="a942ee733cfbc54f294201427bc17a3aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a942ee733cfbc54f294201427bc17a3aa">&#9670;&#160;</a></span>duk_heap_strcache_offset_char2byte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#afb6f9b695c07e55f671ddef49a2c0fbd">duk_uint_fast32_t</a> duk_heap_strcache_offset_char2byte </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structduk__hthread.html">duk_hthread</a> *</td>          <td class="paramname"><span class="paramname"><em>thr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structduk__hstring.html">duk_hstring</a> *</td>          <td class="paramname"><span class="paramname"><em>h</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#afb6f9b695c07e55f671ddef49a2c0fbd">duk_uint_fast32_t</a></td>          <td class="paramname"><span class="paramname"><em>char_offset</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l44448">44448</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">44465</span>                                                                                                                                   {</div>
<div class="line"><span class="lineno">44466</span>    <a class="code hl_struct" href="structduk__heap.html">duk_heap</a> *heap;</div>
<div class="line"><span class="lineno">44467</span>    <a class="code hl_struct" href="structduk__strcache.html">duk_strcache</a> *sce;</div>
<div class="line"><span class="lineno">44468</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#afb6f9b695c07e55f671ddef49a2c0fbd">duk_uint_fast32_t</a> byte_offset;</div>
<div class="line"><span class="lineno">44469</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a041e9b0b2d41c5af8429259808290726">duk_small_int_t</a> i;</div>
<div class="line"><span class="lineno">44470</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af32ca4c30431e819676401ce2b11c2e7">duk_bool_t</a> use_cache;</div>
<div class="line"><span class="lineno">44471</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#afb6f9b695c07e55f671ddef49a2c0fbd">duk_uint_fast32_t</a> dist_start, dist_end, dist_sce;</div>
<div class="line"><span class="lineno">44472</span>    <span class="keyword">const</span> duk_uint8_t *p_start;</div>
<div class="line"><span class="lineno">44473</span>    <span class="keyword">const</span> duk_uint8_t *p_end;</div>
<div class="line"><span class="lineno">44474</span>    <span class="keyword">const</span> duk_uint8_t *p_found;</div>
<div class="line"><span class="lineno">44475</span> </div>
<div class="line"><span class="lineno">44476</span>    <span class="keywordflow">if</span> (char_offset &gt; <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a4a5456d628992ecc1075eaf902052bd7">DUK_HSTRING_GET_CHARLEN</a>(h)) {</div>
<div class="line"><span class="lineno">44477</span>        <span class="keywordflow">goto</span> <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>;</div>
<div class="line"><span class="lineno">44478</span>    }</div>
<div class="line"><span class="lineno">44479</span> </div>
<div class="line"><span class="lineno">44480</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">44481</span><span class="comment">     *  For ASCII strings, the answer is simple.</span></div>
<div class="line"><span class="lineno">44482</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">44483</span> </div>
<div class="line"><span class="lineno">44484</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a0e2c2a5cccbcafc23d04e01f001db882">DUK_HSTRING_IS_ASCII</a>(h)) {</div>
<div class="line"><span class="lineno">44485</span>        <span class="comment">/* clen == blen -&gt; pure ascii */</span></div>
<div class="line"><span class="lineno">44486</span>        <span class="keywordflow">return</span> char_offset;</div>
<div class="line"><span class="lineno">44487</span>    }</div>
<div class="line"><span class="lineno">44488</span> </div>
<div class="line"><span class="lineno">44489</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">44490</span><span class="comment">     *  For non-ASCII strings, we need to scan forwards or backwards</span></div>
<div class="line"><span class="lineno">44491</span><span class="comment">     *  from some starting point.  The starting point may be the start</span></div>
<div class="line"><span class="lineno">44492</span><span class="comment">     *  or end of the string, or some cached midpoint in the string</span></div>
<div class="line"><span class="lineno">44493</span><span class="comment">     *  cache.</span></div>
<div class="line"><span class="lineno">44494</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno">44495</span><span class="comment">     *  For &quot;short&quot; strings we simply scan without checking or updating</span></div>
<div class="line"><span class="lineno">44496</span><span class="comment">     *  the cache.  For longer strings we check and update the cache as</span></div>
<div class="line"><span class="lineno">44497</span><span class="comment">     *  necessary, inserting a new cache entry if none exists.</span></div>
<div class="line"><span class="lineno">44498</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">44499</span> </div>
<div class="line"><span class="lineno">44500</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;non-ascii string %p, char_offset=%ld, clen=%ld, blen=%ld&quot;</span>,</div>
<div class="line"><span class="lineno">44501</span>                         (<span class="keywordtype">void</span> *) h, (<span class="keywordtype">long</span>) char_offset,</div>
<div class="line"><span class="lineno">44502</span>                         (<span class="keywordtype">long</span>) <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a4a5456d628992ecc1075eaf902052bd7">DUK_HSTRING_GET_CHARLEN</a>(h),</div>
<div class="line"><span class="lineno">44503</span>                         (<span class="keywordtype">long</span>) <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8067240555ec3eaebfa234e10a0ff5db">DUK_HSTRING_GET_BYTELEN</a>(h)));</div>
<div class="line"><span class="lineno">44504</span> </div>
<div class="line"><span class="lineno">44505</span>    heap = thr-&gt;<a class="code hl_variable" href="structduk__hthread.html#a1c6d2e1f36b0b7011f0e52343ca5ed05">heap</a>;</div>
<div class="line"><span class="lineno">44506</span>    sce = <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">44507</span>    use_cache = (<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a4a5456d628992ecc1075eaf902052bd7">DUK_HSTRING_GET_CHARLEN</a>(h) &gt; <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa0a6bcede582e43c9281b0bc556becc4">DUK_HEAP_STRINGCACHE_NOCACHE_LIMIT</a>);</div>
<div class="line"><span class="lineno">44508</span> </div>
<div class="line"><span class="lineno">44509</span>    <span class="keywordflow">if</span> (use_cache) {</div>
<div class="line"><span class="lineno">44510</span><span class="preprocessor">#ifdef DUK_USE_DDDPRINT</span></div>
<div class="line"><span class="lineno">44511</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;stringcache before char2byte (using cache):&quot;</span>));</div>
<div class="line"><span class="lineno">44512</span>        <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aaf0664a61a1ec888600acbc9acea93c8">DUK_HEAP_STRCACHE_SIZE</a>; i++) {</div>
<div class="line"><span class="lineno">44513</span>            <a class="code hl_struct" href="structduk__strcache.html">duk_strcache</a> *c = heap-&gt;<a class="code hl_variable" href="structduk__heap.html#a297a7d8325fe8e8307d1afe995e9821e">strcache</a> + i;</div>
<div class="line"><span class="lineno">44514</span>            <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;  [%ld] -&gt; h=%p, cidx=%ld, bidx=%ld&quot;</span>,</div>
<div class="line"><span class="lineno">44515</span>                                 (<span class="keywordtype">long</span>) i, (<span class="keywordtype">void</span> *) c-&gt;<a class="code hl_variable" href="structduk__strcache.html#ae2ae1c0d637f1fd33569dc4efc786569">h</a>, (<span class="keywordtype">long</span>) c-&gt;<a class="code hl_variable" href="structduk__strcache.html#a32b1672372728ccf90ae43c47b020465">cidx</a>, (<span class="keywordtype">long</span>) c-&gt;<a class="code hl_variable" href="structduk__strcache.html#a899391f49c844b539e2d8b9beaaf06e9">bidx</a>));</div>
<div class="line"><span class="lineno">44516</span>        }</div>
<div class="line"><span class="lineno">44517</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">44518</span> </div>
<div class="line"><span class="lineno">44519</span>        <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aaf0664a61a1ec888600acbc9acea93c8">DUK_HEAP_STRCACHE_SIZE</a>; i++) {</div>
<div class="line"><span class="lineno">44520</span>            <a class="code hl_struct" href="structduk__strcache.html">duk_strcache</a> *c = heap-&gt;<a class="code hl_variable" href="structduk__heap.html#a297a7d8325fe8e8307d1afe995e9821e">strcache</a> + i;</div>
<div class="line"><span class="lineno">44521</span> </div>
<div class="line"><span class="lineno">44522</span>            <span class="keywordflow">if</span> (c-&gt;<a class="code hl_variable" href="structduk__strcache.html#ae2ae1c0d637f1fd33569dc4efc786569">h</a> == h) {</div>
<div class="line"><span class="lineno">44523</span>                sce = c;</div>
<div class="line"><span class="lineno">44524</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">44525</span>            }</div>
<div class="line"><span class="lineno">44526</span>        }</div>
<div class="line"><span class="lineno">44527</span>    }</div>
<div class="line"><span class="lineno">44528</span> </div>
<div class="line"><span class="lineno">44529</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">44530</span><span class="comment">     *  Scan from shortest distance:</span></div>
<div class="line"><span class="lineno">44531</span><span class="comment">     *    - start of string</span></div>
<div class="line"><span class="lineno">44532</span><span class="comment">     *    - end of string</span></div>
<div class="line"><span class="lineno">44533</span><span class="comment">     *    - cache entry (if exists)</span></div>
<div class="line"><span class="lineno">44534</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">44535</span> </div>
<div class="line"><span class="lineno">44536</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a4a5456d628992ecc1075eaf902052bd7">DUK_HSTRING_GET_CHARLEN</a>(h) &gt;= char_offset);</div>
<div class="line"><span class="lineno">44537</span>    dist_start = char_offset;</div>
<div class="line"><span class="lineno">44538</span>    dist_end = <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a4a5456d628992ecc1075eaf902052bd7">DUK_HSTRING_GET_CHARLEN</a>(h) - char_offset;</div>
<div class="line"><span class="lineno">44539</span>    dist_sce = 0; <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9170138f330dbcaabfae9d2c59cc9684">DUK_UNREF</a>(dist_sce);  <span class="comment">/* initialize for debug prints, needed if sce==NULL */</span></div>
<div class="line"><span class="lineno">44540</span> </div>
<div class="line"><span class="lineno">44541</span>    p_start = (<span class="keyword">const</span> duk_uint8_t *) <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a0d205166ff35a99b65ad9032423e6c42">DUK_HSTRING_GET_DATA</a>(h);</div>
<div class="line"><span class="lineno">44542</span>    p_end = (<span class="keyword">const</span> duk_uint8_t *) (p_start + <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8067240555ec3eaebfa234e10a0ff5db">DUK_HSTRING_GET_BYTELEN</a>(h));</div>
<div class="line"><span class="lineno">44543</span>    p_found = <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">44544</span> </div>
<div class="line"><span class="lineno">44545</span>    <span class="keywordflow">if</span> (sce) {</div>
<div class="line"><span class="lineno">44546</span>        <span class="keywordflow">if</span> (char_offset &gt;= sce-&gt;<a class="code hl_variable" href="structduk__strcache.html#a32b1672372728ccf90ae43c47b020465">cidx</a>) {</div>
<div class="line"><span class="lineno">44547</span>            dist_sce = char_offset - sce-&gt;<a class="code hl_variable" href="structduk__strcache.html#a32b1672372728ccf90ae43c47b020465">cidx</a>;</div>
<div class="line"><span class="lineno">44548</span>            <span class="keywordflow">if</span> ((dist_sce &lt;= dist_start) &amp;&amp; (dist_sce &lt;= dist_end)) {</div>
<div class="line"><span class="lineno">44549</span>                <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;non-ascii string, use_cache=%ld, sce=%p:%ld:%ld, &quot;</span></div>
<div class="line"><span class="lineno">44550</span>                                     <span class="stringliteral">&quot;dist_start=%ld, dist_end=%ld, dist_sce=%ld =&gt; &quot;</span></div>
<div class="line"><span class="lineno">44551</span>                                     <span class="stringliteral">&quot;scan forwards from sce&quot;</span>,</div>
<div class="line"><span class="lineno">44552</span>                                     (<span class="keywordtype">long</span>) use_cache, (<span class="keywordtype">void</span> *) (sce ? sce-&gt;<a class="code hl_variable" href="structduk__strcache.html#ae2ae1c0d637f1fd33569dc4efc786569">h</a> : <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div>
<div class="line"><span class="lineno">44553</span>                                     (sce ? (long) sce-&gt;cidx : (long) -1),</div>
<div class="line"><span class="lineno">44554</span>                                     (sce ? (long) sce-&gt;bidx : (long) -1),</div>
<div class="line"><span class="lineno">44555</span>                                     (long) dist_start, (long) dist_end, (long) dist_sce));</div>
<div class="line"><span class="lineno">44556</span> </div>
<div class="line"><span class="lineno">44557</span>                p_found = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9d18a7b928273db1d70b1bf0c7579dcb">duk__scan_forwards</a>(p_start + sce-&gt;<a class="code hl_variable" href="structduk__strcache.html#a899391f49c844b539e2d8b9beaaf06e9">bidx</a>,</div>
<div class="line"><span class="lineno">44558</span>                                             p_end,</div>
<div class="line"><span class="lineno">44559</span>                                             dist_sce);</div>
<div class="line"><span class="lineno">44560</span>                <span class="keywordflow">goto</span> scan_done;</div>
<div class="line"><span class="lineno">44561</span>            }</div>
<div class="line"><span class="lineno">44562</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">44563</span>            dist_sce = sce-&gt;<a class="code hl_variable" href="structduk__strcache.html#a32b1672372728ccf90ae43c47b020465">cidx</a> - char_offset;</div>
<div class="line"><span class="lineno">44564</span>            <span class="keywordflow">if</span> ((dist_sce &lt;= dist_start) &amp;&amp; (dist_sce &lt;= dist_end)) {</div>
<div class="line"><span class="lineno">44565</span>                <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;non-ascii string, use_cache=%ld, sce=%p:%ld:%ld, &quot;</span></div>
<div class="line"><span class="lineno">44566</span>                                     <span class="stringliteral">&quot;dist_start=%ld, dist_end=%ld, dist_sce=%ld =&gt; &quot;</span></div>
<div class="line"><span class="lineno">44567</span>                                     <span class="stringliteral">&quot;scan backwards from sce&quot;</span>,</div>
<div class="line"><span class="lineno">44568</span>                                     (<span class="keywordtype">long</span>) use_cache, (<span class="keywordtype">void</span> *) (sce ? sce-&gt;<a class="code hl_variable" href="structduk__strcache.html#ae2ae1c0d637f1fd33569dc4efc786569">h</a> : <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div>
<div class="line"><span class="lineno">44569</span>                                     (sce ? (long) sce-&gt;cidx : (long) -1),</div>
<div class="line"><span class="lineno">44570</span>                                     (sce ? (long) sce-&gt;bidx : (long) -1),</div>
<div class="line"><span class="lineno">44571</span>                                     (long) dist_start, (long) dist_end, (long) dist_sce));</div>
<div class="line"><span class="lineno">44572</span> </div>
<div class="line"><span class="lineno">44573</span>                p_found = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afb3414a25ad1c341894bb992d14e7222">duk__scan_backwards</a>(p_start + sce-&gt;<a class="code hl_variable" href="structduk__strcache.html#a899391f49c844b539e2d8b9beaaf06e9">bidx</a>,</div>
<div class="line"><span class="lineno">44574</span>                                              p_start,</div>
<div class="line"><span class="lineno">44575</span>                                              dist_sce);</div>
<div class="line"><span class="lineno">44576</span>                <span class="keywordflow">goto</span> scan_done;</div>
<div class="line"><span class="lineno">44577</span>            }</div>
<div class="line"><span class="lineno">44578</span>        }</div>
<div class="line"><span class="lineno">44579</span>    }</div>
<div class="line"><span class="lineno">44580</span> </div>
<div class="line"><span class="lineno">44581</span>    <span class="comment">/* no sce, or sce scan not best */</span></div>
<div class="line"><span class="lineno">44582</span> </div>
<div class="line"><span class="lineno">44583</span>    <span class="keywordflow">if</span> (dist_start &lt;= dist_end) {</div>
<div class="line"><span class="lineno">44584</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;non-ascii string, use_cache=%ld, sce=%p:%ld:%ld, &quot;</span></div>
<div class="line"><span class="lineno">44585</span>                             <span class="stringliteral">&quot;dist_start=%ld, dist_end=%ld, dist_sce=%ld =&gt; &quot;</span></div>
<div class="line"><span class="lineno">44586</span>                             <span class="stringliteral">&quot;scan forwards from string start&quot;</span>,</div>
<div class="line"><span class="lineno">44587</span>                             (<span class="keywordtype">long</span>) use_cache, (<span class="keywordtype">void</span> *) (sce ? sce-&gt;<a class="code hl_variable" href="structduk__strcache.html#ae2ae1c0d637f1fd33569dc4efc786569">h</a> : <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div>
<div class="line"><span class="lineno">44588</span>                             (sce ? (long) sce-&gt;cidx : (long) -1),</div>
<div class="line"><span class="lineno">44589</span>                             (sce ? (long) sce-&gt;bidx : (long) -1),</div>
<div class="line"><span class="lineno">44590</span>                             (long) dist_start, (long) dist_end, (long) dist_sce));</div>
<div class="line"><span class="lineno">44591</span> </div>
<div class="line"><span class="lineno">44592</span>        p_found = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9d18a7b928273db1d70b1bf0c7579dcb">duk__scan_forwards</a>(p_start,</div>
<div class="line"><span class="lineno">44593</span>                                     p_end,</div>
<div class="line"><span class="lineno">44594</span>                                     dist_start);</div>
<div class="line"><span class="lineno">44595</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">44596</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;non-ascii string, use_cache=%ld, sce=%p:%ld:%ld, &quot;</span></div>
<div class="line"><span class="lineno">44597</span>                             <span class="stringliteral">&quot;dist_start=%ld, dist_end=%ld, dist_sce=%ld =&gt; &quot;</span></div>
<div class="line"><span class="lineno">44598</span>                             <span class="stringliteral">&quot;scan backwards from string end&quot;</span>,</div>
<div class="line"><span class="lineno">44599</span>                             (<span class="keywordtype">long</span>) use_cache, (<span class="keywordtype">void</span> *) (sce ? sce-&gt;<a class="code hl_variable" href="structduk__strcache.html#ae2ae1c0d637f1fd33569dc4efc786569">h</a> : <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div>
<div class="line"><span class="lineno">44600</span>                             (sce ? (long) sce-&gt;cidx : (long) -1),</div>
<div class="line"><span class="lineno">44601</span>                             (sce ? (long) sce-&gt;bidx : (long) -1),</div>
<div class="line"><span class="lineno">44602</span>                             (long) dist_start, (long) dist_end, (long) dist_sce));</div>
<div class="line"><span class="lineno">44603</span> </div>
<div class="line"><span class="lineno">44604</span>        p_found = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afb3414a25ad1c341894bb992d14e7222">duk__scan_backwards</a>(p_end,</div>
<div class="line"><span class="lineno">44605</span>                                      p_start,</div>
<div class="line"><span class="lineno">44606</span>                                      dist_end);</div>
<div class="line"><span class="lineno">44607</span>    }</div>
<div class="line"><span class="lineno">44608</span> </div>
<div class="line"><span class="lineno">44609</span> scan_done:</div>
<div class="line"><span class="lineno">44610</span> </div>
<div class="line"><span class="lineno">44611</span>    <span class="keywordflow">if</span> (!p_found) {</div>
<div class="line"><span class="lineno">44612</span>        <span class="comment">/* Scan error: this shouldn&#39;t normally happen; it could happen if</span></div>
<div class="line"><span class="lineno">44613</span><span class="comment">         * string is not valid UTF-8 data, and clen/blen are not consistent</span></div>
<div class="line"><span class="lineno">44614</span><span class="comment">         * with the scanning algorithm.</span></div>
<div class="line"><span class="lineno">44615</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">44616</span>        <span class="keywordflow">goto</span> <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>;</div>
<div class="line"><span class="lineno">44617</span>    }</div>
<div class="line"><span class="lineno">44618</span> </div>
<div class="line"><span class="lineno">44619</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(p_found &gt;= p_start);</div>
<div class="line"><span class="lineno">44620</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(p_found &lt;= p_end);  <span class="comment">/* may be equal */</span></div>
<div class="line"><span class="lineno">44621</span>    byte_offset = (duk_uint32_t) (p_found - p_start);</div>
<div class="line"><span class="lineno">44622</span> </div>
<div class="line"><span class="lineno">44623</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;-&gt; string %p, cidx %ld -&gt; bidx %ld&quot;</span>,</div>
<div class="line"><span class="lineno">44624</span>                         (<span class="keywordtype">void</span> *) h, (<span class="keywordtype">long</span>) char_offset, (<span class="keywordtype">long</span>) byte_offset));</div>
<div class="line"><span class="lineno">44625</span> </div>
<div class="line"><span class="lineno">44626</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">44627</span><span class="comment">     *  Update cache entry (allocating if necessary), and move the</span></div>
<div class="line"><span class="lineno">44628</span><span class="comment">     *  cache entry to the first place (in an &quot;LRU&quot; policy).</span></div>
<div class="line"><span class="lineno">44629</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">44630</span> </div>
<div class="line"><span class="lineno">44631</span>    <span class="keywordflow">if</span> (use_cache) {</div>
<div class="line"><span class="lineno">44632</span>        <span class="comment">/* update entry, allocating if necessary */</span></div>
<div class="line"><span class="lineno">44633</span>        <span class="keywordflow">if</span> (!sce) {</div>
<div class="line"><span class="lineno">44634</span>            sce = heap-&gt;<a class="code hl_variable" href="structduk__heap.html#a297a7d8325fe8e8307d1afe995e9821e">strcache</a> + <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aaf0664a61a1ec888600acbc9acea93c8">DUK_HEAP_STRCACHE_SIZE</a> - 1;  <span class="comment">/* take last entry */</span></div>
<div class="line"><span class="lineno">44635</span>            sce-&gt;<a class="code hl_variable" href="structduk__strcache.html#ae2ae1c0d637f1fd33569dc4efc786569">h</a> = h;</div>
<div class="line"><span class="lineno">44636</span>        }</div>
<div class="line"><span class="lineno">44637</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(sce != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">44638</span>        sce-&gt;<a class="code hl_variable" href="structduk__strcache.html#a899391f49c844b539e2d8b9beaaf06e9">bidx</a> = (duk_uint32_t) (p_found - p_start);</div>
<div class="line"><span class="lineno">44639</span>        sce-&gt;<a class="code hl_variable" href="structduk__strcache.html#a32b1672372728ccf90ae43c47b020465">cidx</a> = (duk_uint32_t) char_offset;</div>
<div class="line"><span class="lineno">44640</span> </div>
<div class="line"><span class="lineno">44641</span>        <span class="comment">/* LRU: move our entry to first */</span></div>
<div class="line"><span class="lineno">44642</span>        <span class="keywordflow">if</span> (sce &gt; &amp;heap-&gt;<a class="code hl_variable" href="structduk__heap.html#a297a7d8325fe8e8307d1afe995e9821e">strcache</a>[0]) {</div>
<div class="line"><span class="lineno">44643</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno">44644</span><span class="comment">             *   A                  C</span></div>
<div class="line"><span class="lineno">44645</span><span class="comment">             *   B                  A</span></div>
<div class="line"><span class="lineno">44646</span><span class="comment">             *   C &lt;- sce    ==&gt;    B</span></div>
<div class="line"><span class="lineno">44647</span><span class="comment">             *   D                  D</span></div>
<div class="line"><span class="lineno">44648</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno">44649</span>            <a class="code hl_struct" href="structduk__strcache.html">duk_strcache</a> tmp;</div>
<div class="line"><span class="lineno">44650</span> </div>
<div class="line"><span class="lineno">44651</span>            tmp = *sce;</div>
<div class="line"><span class="lineno">44652</span>            <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a09ab8a505a526bb93f8b2dda6167c7f1">DUK_MEMMOVE</a>((<span class="keywordtype">void</span> *) (&amp;heap-&gt;<a class="code hl_variable" href="structduk__heap.html#a297a7d8325fe8e8307d1afe995e9821e">strcache</a>[1]),</div>
<div class="line"><span class="lineno">44653</span>                        (<span class="keyword">const</span> <span class="keywordtype">void</span> *) (&amp;heap-&gt;<a class="code hl_variable" href="structduk__heap.html#a297a7d8325fe8e8307d1afe995e9821e">strcache</a>[0]),</div>
<div class="line"><span class="lineno">44654</span>                        (<span class="keywordtype">size_t</span>) (((<span class="keywordtype">char</span> *) sce) - ((<span class="keywordtype">char</span> *) &amp;heap-&gt;<a class="code hl_variable" href="structduk__heap.html#a297a7d8325fe8e8307d1afe995e9821e">strcache</a>[0])));</div>
<div class="line"><span class="lineno">44655</span>            heap-&gt;<a class="code hl_variable" href="structduk__heap.html#a297a7d8325fe8e8307d1afe995e9821e">strcache</a>[0] = tmp;</div>
<div class="line"><span class="lineno">44656</span> </div>
<div class="line"><span class="lineno">44657</span>            <span class="comment">/* &#39;sce&#39; points to the wrong entry here, but is no longer used */</span></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_a09ab8a505a526bb93f8b2dda6167c7f1"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a09ab8a505a526bb93f8b2dda6167c7f1">DUK_MEMMOVE</a></div><div class="ttdeci">#define DUK_MEMMOVE</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l01988">duktape-1.5.2/src-noline/duk_config.h:1988</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a0d205166ff35a99b65ad9032423e6c42"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a0d205166ff35a99b65ad9032423e6c42">DUK_HSTRING_GET_DATA</a></div><div class="ttdeci">#define DUK_HSTRING_GET_DATA(x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04522">duktape-1.5.2/src-noline/duktape.c:4522</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a0e2c2a5cccbcafc23d04e01f001db882"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a0e2c2a5cccbcafc23d04e01f001db882">DUK_HSTRING_IS_ASCII</a></div><div class="ttdeci">#define DUK_HSTRING_IS_ASCII(x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04473">duktape-1.5.2/src-noline/duktape.c:4473</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a4a5456d628992ecc1075eaf902052bd7"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a4a5456d628992ecc1075eaf902052bd7">DUK_HSTRING_GET_CHARLEN</a></div><div class="ttdeci">#define DUK_HSTRING_GET_CHARLEN(x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04509">duktape-1.5.2/src-noline/duktape.c:4509</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a8067240555ec3eaebfa234e10a0ff5db"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8067240555ec3eaebfa234e10a0ff5db">DUK_HSTRING_GET_BYTELEN</a></div><div class="ttdeci">#define DUK_HSTRING_GET_BYTELEN(x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04505">duktape-1.5.2/src-noline/duktape.c:4505</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a9d18a7b928273db1d70b1bf0c7579dcb"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9d18a7b928273db1d70b1bf0c7579dcb">duk__scan_forwards</a></div><div class="ttdeci">DUK_LOCAL const duk_uint8_t * duk__scan_forwards(const duk_uint8_t *p, const duk_uint8_t *q, duk_uint_fast32_t n)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l44404">duktape-1.5.2/src-noline/duktape.c:44404</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_aa0a6bcede582e43c9281b0bc556becc4"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa0a6bcede582e43c9281b0bc556becc4">DUK_HEAP_STRINGCACHE_NOCACHE_LIMIT</a></div><div class="ttdeci">#define DUK_HEAP_STRINGCACHE_NOCACHE_LIMIT</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06770">duktape-1.5.2/src-noline/duktape.c:6770</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_aaf0664a61a1ec888600acbc9acea93c8"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#aaf0664a61a1ec888600acbc9acea93c8">DUK_HEAP_STRCACHE_SIZE</a></div><div class="ttdeci">#define DUK_HEAP_STRCACHE_SIZE</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06769">duktape-1.5.2/src-noline/duktape.c:6769</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_afb3414a25ad1c341894bb992d14e7222"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#afb3414a25ad1c341894bb992d14e7222">duk__scan_backwards</a></div><div class="ttdeci">DUK_LOCAL const duk_uint8_t * duk__scan_backwards(const duk_uint8_t *p, const duk_uint8_t *q, duk_uint_fast32_t n)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l44420">duktape-1.5.2/src-noline/duktape.c:44420</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lundump_8c_html_a6776ffdd5e2abf4119b1d45731e9e668"><div class="ttname"><a href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a></div><div class="ttdeci">static void error(LoadState *S, const char *why)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lundump_8c_source.html#l00036">lua-5.1.5/src/lundump.c:36</a></div></div>
<div class="ttc" id="astructduk__heap_html_a297a7d8325fe8e8307d1afe995e9821e"><div class="ttname"><a href="structduk__heap.html#a297a7d8325fe8e8307d1afe995e9821e">duk_heap::strcache</a></div><div class="ttdeci">duk_strcache strcache[DUK_HEAP_STRCACHE_SIZE]</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07127">duktape-1.5.2/src-noline/duktape.c:7127</a></div></div>
<div class="ttc" id="astructduk__hthread_html_a1c6d2e1f36b0b7011f0e52343ca5ed05"><div class="ttname"><a href="structduk__hthread.html#a1c6d2e1f36b0b7011f0e52343ca5ed05">duk_hthread::heap</a></div><div class="ttdeci">duk_heap * heap</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06202">duktape-1.5.2/src-noline/duktape.c:6202</a></div></div>
<div class="ttc" id="astructduk__strcache_html"><div class="ttname"><a href="structduk__strcache.html">duk_strcache</a></div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06936">duktape-1.5.2/src-noline/duktape.c:6936</a></div></div>
<div class="ttc" id="astructduk__strcache_html_a32b1672372728ccf90ae43c47b020465"><div class="ttname"><a href="structduk__strcache.html#a32b1672372728ccf90ae43c47b020465">duk_strcache::cidx</a></div><div class="ttdeci">duk_uint32_t cidx</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06939">duktape-1.5.2/src-noline/duktape.c:6939</a></div></div>
<div class="ttc" id="astructduk__strcache_html_a899391f49c844b539e2d8b9beaaf06e9"><div class="ttname"><a href="structduk__strcache.html#a899391f49c844b539e2d8b9beaaf06e9">duk_strcache::bidx</a></div><div class="ttdeci">duk_uint32_t bidx</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06938">duktape-1.5.2/src-noline/duktape.c:6938</a></div></div>
<div class="ttc" id="astructduk__strcache_html_ae2ae1c0d637f1fd33569dc4efc786569"><div class="ttname"><a href="structduk__strcache.html#ae2ae1c0d637f1fd33569dc4efc786569">duk_strcache::h</a></div><div class="ttdeci">duk_hstring * h</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06937">duktape-1.5.2/src-noline/duktape.c:6937</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7e3ef65028fdc180ce864dc5e9f5c2c4" name="a7e3ef65028fdc180ce864dc5e9f5c2c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e3ef65028fdc180ce864dc5e9f5c2c4">&#9670;&#160;</a></span>duk_heap_strcache_string_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void duk_heap_strcache_string_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structduk__heap.html">duk_heap</a> *</td>          <td class="paramname"><span class="paramname"><em>heap</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structduk__hstring.html">duk_hstring</a> *</td>          <td class="paramname"><span class="paramname"><em>h</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l44379">44379</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>

</div>
</div>
<a id="a5c705ee65dbc261bc36e94b6f55e2848" name="a5c705ee65dbc261bc36e94b6f55e2848"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c705ee65dbc261bc36e94b6f55e2848">&#9670;&#160;</a></span>duk_heap_string_intern()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> <a class="el" href="structduk__hstring.html">duk_hstring</a> * duk_heap_string_intern </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structduk__heap.html">duk_heap</a> *</td>          <td class="paramname"><span class="paramname"><em>heap</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const duk_uint8_t *</td>          <td class="paramname"><span class="paramname"><em>str</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">duk_uint32_t</td>          <td class="paramname"><span class="paramname"><em>blen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l45637">45637</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">45648</span>                                                                                                            {</div>
<div class="line"><span class="lineno">45649</span>    duk_uint32_t strhash;  <span class="comment">/* dummy */</span></div>
<div class="line"><span class="lineno">45650</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a4448feb38a6ba3056b574b94a2d0dbf3">duk__do_lookup</a>(heap, str, blen, &amp;strhash);</div>
<div class="line"><span class="lineno">45651</span>}</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a4448feb38a6ba3056b574b94a2d0dbf3"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a4448feb38a6ba3056b574b94a2d0dbf3">duk__do_lookup</a></div><div class="ttdeci">DUK_LOCAL duk_hstring * duk__do_lookup(duk_heap *heap, const duk_uint8_t *str, duk_uint32_t blen, duk_uint32_t *out_strhash)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l45578">duktape-1.5.2/src-noline/duktape.c:45578</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a78c10014bae3b888bf31595711e019b8" name="a78c10014bae3b888bf31595711e019b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78c10014bae3b888bf31595711e019b8">&#9670;&#160;</a></span>duk_heap_string_intern_checked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> <a class="el" href="structduk__hstring.html">duk_hstring</a> * duk_heap_string_intern_checked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structduk__hthread.html">duk_hthread</a> *</td>          <td class="paramname"><span class="paramname"><em>thr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const duk_uint8_t *</td>          <td class="paramname"><span class="paramname"><em>str</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">duk_uint32_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l45653">45653</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">45654</span>                                                                                                            {</div>
<div class="line"><span class="lineno">45655</span>    <a class="code hl_struct" href="structduk__hstring.html">duk_hstring</a> *res;</div>
<div class="line"><span class="lineno">45656</span>    duk_uint32_t strhash;</div>
<div class="line"><span class="lineno">45657</span> </div>
<div class="line"><span class="lineno">45658</span>    <span class="comment">/* caller is responsible for ensuring this */</span></div>
<div class="line"><span class="lineno">45659</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(blen &lt;= <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a911b8e16727851b6925e934ae7d449b0">DUK_HSTRING_MAX_BYTELEN</a>);</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a911b8e16727851b6925e934ae7d449b0"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a911b8e16727851b6925e934ae7d449b0">DUK_HSTRING_MAX_BYTELEN</a></div><div class="ttdeci">#define DUK_HSTRING_MAX_BYTELEN</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04427">duktape-1.5.2/src-noline/duktape.c:4427</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a37357983fa3b528b0af34ee927e59d7d" name="a37357983fa3b528b0af34ee927e59d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37357983fa3b528b0af34ee927e59d7d">&#9670;&#160;</a></span>duk_heap_string_intern_u32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> <a class="el" href="structduk__hstring.html">duk_hstring</a> * duk_heap_string_intern_u32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structduk__heap.html">duk_heap</a> *</td>          <td class="paramname"><span class="paramname"><em>heap</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">duk_uint32_t</td>          <td class="paramname"><span class="paramname"><em>val</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l45671">45671</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">45672</span>              {</div>
<div class="line"><span class="lineno">45673</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a5fc109d385b92565eabeee85564cbfd3">DUK_ERROR_ALLOC_DEFMSG</a>(thr);</div>
<div class="line"><span class="lineno">45674</span>    }</div>
<div class="line"><span class="lineno">45675</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno">45676</span>}</div>
<div class="line"><span class="lineno">45677</span> </div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a5fc109d385b92565eabeee85564cbfd3"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a5fc109d385b92565eabeee85564cbfd3">DUK_ERROR_ALLOC_DEFMSG</a></div><div class="ttdeci">#define DUK_ERROR_ALLOC_DEFMSG(thr)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07862">duktape-1.5.2/src-noline/duktape.c:7862</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aabdbee1c3b9a8602dbf7fcdaa5f1b00e" name="aabdbee1c3b9a8602dbf7fcdaa5f1b00e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabdbee1c3b9a8602dbf7fcdaa5f1b00e">&#9670;&#160;</a></span>duk_heap_string_intern_u32_checked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> <a class="el" href="structduk__hstring.html">duk_hstring</a> * duk_heap_string_intern_u32_checked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structduk__hthread.html">duk_hthread</a> *</td>          <td class="paramname"><span class="paramname"><em>thr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">duk_uint32_t</td>          <td class="paramname"><span class="paramname"><em>val</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l45679">45679</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">45679</span>                                                                                       {</div>
<div class="line"><span class="lineno">45680</span>    <span class="keywordtype">char</span> buf[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ad795e6f23fa46d46f505333337b4c9b5">DUK_STRTAB_U32_MAX_STRLEN</a>+1];</div>
<div class="line"><span class="lineno">45681</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#ae9f6c09f56ebaf403fb5ac57cd2814e1">DUK_SNPRINTF</a>(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;%lu&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) val);</div>
<div class="line"><span class="lineno">45682</span>    buf[<span class="keyword">sizeof</span>(buf) - 1] = (<span class="keywordtype">char</span>) 0;</div>
<div class="line"><span class="lineno">45683</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#abe9e971fadd59b3f6819f140e3981bc5">DUK_STRLEN</a>(buf) &lt;= <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a992ae923a8767c4099c2a7c9fe1ecb0b">DUK_UINT32_MAX</a>);  <span class="comment">/* formatted result limited */</span></div>
<div class="line"><span class="lineno">45684</span>    <span class="keywordflow">return</span> duk_heap_string_lookup(heap, (<span class="keyword">const</span> duk_uint8_t *) buf, (duk_uint32_t) <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#abe9e971fadd59b3f6819f140e3981bc5">DUK_STRLEN</a>(buf));</div>
<div class="line"><span class="lineno">45685</span>}</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_a992ae923a8767c4099c2a7c9fe1ecb0b"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a992ae923a8767c4099c2a7c9fe1ecb0b">DUK_UINT32_MAX</a></div><div class="ttdeci">#define DUK_UINT32_MAX</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l01676">duktape-1.5.2/src-noline/duk_config.h:1676</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_abe9e971fadd59b3f6819f140e3981bc5"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#abe9e971fadd59b3f6819f140e3981bc5">DUK_STRLEN</a></div><div class="ttdeci">#define DUK_STRLEN</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l01997">duktape-1.5.2/src-noline/duk_config.h:1997</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_ae9f6c09f56ebaf403fb5ac57cd2814e1"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#ae9f6c09f56ebaf403fb5ac57cd2814e1">DUK_SNPRINTF</a></div><div class="ttdeci">#define DUK_SNPRINTF</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l02016">duktape-1.5.2/src-noline/duk_config.h:2016</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_ad795e6f23fa46d46f505333337b4c9b5"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#ad795e6f23fa46d46f505333337b4c9b5">DUK_STRTAB_U32_MAX_STRLEN</a></div><div class="ttdeci">#define DUK_STRTAB_U32_MAX_STRLEN</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06790">duktape-1.5.2/src-noline/duktape.c:6790</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_1e03628437b642463b7b6eb98fac43e1.html">vendor</a></li><li class="navelem"><a class="el" href="dir_84591d08937a968859b7757c3b203700.html">civetweb</a></li><li class="navelem"><a class="el" href="dir_34c971402fa1824d9c500953fc75cb63.html">third_party</a></li><li class="navelem"><a class="el" href="dir_463c33e0ae291ddbfec061ad19861570.html">duktape-1.5.2</a></li><li class="navelem"><a class="el" href="dir_e6ae68e9a9f72807e14f61863ae5cc0a.html">src-separate</a></li><li class="navelem"><a class="el" href="duktape-1_85_82_2src-separate_2duk__heap_8h.html">duk_heap.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
