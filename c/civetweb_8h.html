<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Github User Fetcher: civetweb.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Github User Fetcher<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">C/C++ Application with Server and GUI</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('civetweb_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">civetweb.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
</div>
<p><a href="civetweb_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmg__header.html">mg_header</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmg__request__info.html">mg_request_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmg__response__info.html">mg_response_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmg__client__cert.html">mg_client_cert</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmg__callbacks.html">mg_callbacks</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmg__websocket__subprotocols.html">mg_websocket_subprotocols</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmg__option.html">mg_option</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmg__server__port.html">mg_server_port</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmg__form__data__handler.html">mg_form_data_handler</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmg__match__element.html">mg_match_element</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmg__match__context.html">mg_match_context</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmg__client__options.html">mg_client_options</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmg__error__data.html">mg_error_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmg__init__data.html">mg_init_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2a38653ae23013ece7ae6a38db041f94" id="r_a2a38653ae23013ece7ae6a38db041f94"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2a38653ae23013ece7ae6a38db041f94">CIVETWEB_VERSION</a>&#160;&#160;&#160;&quot;1.16&quot;</td></tr>
<tr class="separator:a2a38653ae23013ece7ae6a38db041f94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a009c893a105da6f3494f7e9641ca4c17" id="r_a009c893a105da6f3494f7e9641ca4c17"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a009c893a105da6f3494f7e9641ca4c17">CIVETWEB_VERSION_MAJOR</a>&#160;&#160;&#160;(1)</td></tr>
<tr class="separator:a009c893a105da6f3494f7e9641ca4c17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5680eeae076cde72a194855a5af12eba" id="r_a5680eeae076cde72a194855a5af12eba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5680eeae076cde72a194855a5af12eba">CIVETWEB_VERSION_MINOR</a>&#160;&#160;&#160;(16)</td></tr>
<tr class="separator:a5680eeae076cde72a194855a5af12eba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4026847b3941535a36eef61f9a3a627a" id="r_a4026847b3941535a36eef61f9a3a627a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4026847b3941535a36eef61f9a3a627a">CIVETWEB_VERSION_PATCH</a>&#160;&#160;&#160;(0)</td></tr>
<tr class="separator:a4026847b3941535a36eef61f9a3a627a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dbf083d19889dba3fef7503ce764ef6" id="r_a5dbf083d19889dba3fef7503ce764ef6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a></td></tr>
<tr class="separator:a5dbf083d19889dba3fef7503ce764ef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a13e84141de39780fed2bba427631fd" id="r_a0a13e84141de39780fed2bba427631fd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0a13e84141de39780fed2bba427631fd">MG_MAX_HEADERS</a>&#160;&#160;&#160;(64)</td></tr>
<tr class="separator:a0a13e84141de39780fed2bba427631fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a617e52f70a64c5fb09f6da00ecc8adbf" id="r_a617e52f70a64c5fb09f6da00ecc8adbf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a617e52f70a64c5fb09f6da00ecc8adbf">mg_server_ports</a>&#160;&#160;&#160;<a class="el" href="structmg__server__port.html">mg_server_port</a></td></tr>
<tr class="separator:a617e52f70a64c5fb09f6da00ecc8adbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bb9db6ffe087ec4f44662ed3dfa0abd" id="r_a2bb9db6ffe087ec4f44662ed3dfa0abd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2bb9db6ffe087ec4f44662ed3dfa0abd">PRINTF_FORMAT_STRING</a>(<a class="el" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>)&#160;&#160;&#160;<a class="el" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a></td></tr>
<tr class="separator:a2bb9db6ffe087ec4f44662ed3dfa0abd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabeba45019b494e33206b4a3a9a8ba17" id="r_aabeba45019b494e33206b4a3a9a8ba17"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aabeba45019b494e33206b4a3a9a8ba17">PRINTF_ARGS</a>(x,  y)</td></tr>
<tr class="separator:aabeba45019b494e33206b4a3a9a8ba17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dd0158a204b647849a5b28642de740f" id="r_a0dd0158a204b647849a5b28642de740f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0dd0158a204b647849a5b28642de740f">MG_MATCH_CONTEXT_MAX_MATCHES</a>&#160;&#160;&#160;(32)</td></tr>
<tr class="separator:a0dd0158a204b647849a5b28642de740f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ac452a63f6ff0d7fd18a143de72a7fd08" id="r_ac452a63f6ff0d7fd18a143de72a7fd08"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac452a63f6ff0d7fd18a143de72a7fd08">mg_request_handler</a>) (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, void *cbdata)</td></tr>
<tr class="separator:ac452a63f6ff0d7fd18a143de72a7fd08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1e201a8ea4f6895a8cc4e2e2c58da03" id="r_ae1e201a8ea4f6895a8cc4e2e2c58da03"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae1e201a8ea4f6895a8cc4e2e2c58da03">mg_websocket_connect_handler</a>) (const struct <a class="el" href="structmg__connection.html">mg_connection</a> *, void *)</td></tr>
<tr class="separator:ae1e201a8ea4f6895a8cc4e2e2c58da03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b940f052d5de72f651a9a1e810bed0f" id="r_a5b940f052d5de72f651a9a1e810bed0f"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5b940f052d5de72f651a9a1e810bed0f">mg_websocket_ready_handler</a>) (struct <a class="el" href="structmg__connection.html">mg_connection</a> *, void *)</td></tr>
<tr class="separator:a5b940f052d5de72f651a9a1e810bed0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0e8e90ed1e8b0af95b9a940f6fee3a9" id="r_ac0e8e90ed1e8b0af95b9a940f6fee3a9"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac0e8e90ed1e8b0af95b9a940f6fee3a9">mg_websocket_data_handler</a>) (struct <a class="el" href="structmg__connection.html">mg_connection</a> *, int, char *, size_t, void *)</td></tr>
<tr class="separator:ac0e8e90ed1e8b0af95b9a940f6fee3a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7e7633a49e5a5e748b0c8bdb22c336d" id="r_ad7e7633a49e5a5e748b0c8bdb22c336d"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad7e7633a49e5a5e748b0c8bdb22c336d">mg_websocket_close_handler</a>) (const struct <a class="el" href="structmg__connection.html">mg_connection</a> *, void *)</td></tr>
<tr class="separator:ad7e7633a49e5a5e748b0c8bdb22c336d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e8733a4d6d7ae85f0daec45df36f024" id="r_a3e8733a4d6d7ae85f0daec45df36f024"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3e8733a4d6d7ae85f0daec45df36f024">mg_authorization_handler</a>) (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, void *cbdata)</td></tr>
<tr class="separator:a3e8733a4d6d7ae85f0daec45df36f024"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11f18a1c01860c3928019a829cae3ba6" id="r_a11f18a1c01860c3928019a829cae3ba6"><td class="memItemLeft" align="right" valign="top">typedef void *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a11f18a1c01860c3928019a829cae3ba6">mg_thread_func_t</a>) (void *)</td></tr>
<tr class="separator:a11f18a1c01860c3928019a829cae3ba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a0411cd49bb5b71852cecd93bcbf0ca2d" id="r_a0411cd49bb5b71852cecd93bcbf0ca2d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="#a0411cd49bb5b71852cecd93bcbf0ca2da8c5ba5c3477db3ee940a77a9364a4b5b">MG_FEATURES_DEFAULT</a> = 0x0u
, <a class="el" href="#a0411cd49bb5b71852cecd93bcbf0ca2da79f7476503d279aebb8e29415c310ba1">MG_FEATURES_FILES</a> = 0x1u
, <a class="el" href="#a0411cd49bb5b71852cecd93bcbf0ca2da976c9faad41b9bc5c161c37d8e4c72ec">MG_FEATURES_TLS</a> = 0x2u
, <a class="el" href="#a0411cd49bb5b71852cecd93bcbf0ca2daba4b4d11dd0dec1ba0833f0bb1de2b0e">MG_FEATURES_SSL</a> = 0x2u
, <br />
&#160;&#160;<a class="el" href="#a0411cd49bb5b71852cecd93bcbf0ca2da84fc7ef257026875a66d71eddd99a52a">MG_FEATURES_CGI</a> = 0x4u
, <a class="el" href="#a0411cd49bb5b71852cecd93bcbf0ca2da899e17934638eaac9928e3ca39c4b4ba">MG_FEATURES_IPV6</a> = 0x8u
, <a class="el" href="#a0411cd49bb5b71852cecd93bcbf0ca2daeb94a2a63430c86ebbae4dfe84e7f8de">MG_FEATURES_WEBSOCKET</a> = 0x10u
, <a class="el" href="#a0411cd49bb5b71852cecd93bcbf0ca2dad09716f1978e57ab93c65da1c53ccb1d">MG_FEATURES_LUA</a> = 0x20u
, <br />
&#160;&#160;<a class="el" href="#a0411cd49bb5b71852cecd93bcbf0ca2daec89c7f60acc1228627d697da889dfa6">MG_FEATURES_SSJS</a> = 0x40u
, <a class="el" href="#a0411cd49bb5b71852cecd93bcbf0ca2da65c4232cdd767df45fcd9abea0cc66e2">MG_FEATURES_CACHE</a> = 0x80u
, <a class="el" href="#a0411cd49bb5b71852cecd93bcbf0ca2da56a0059eeae63a991e650d956719db5b">MG_FEATURES_STATS</a> = 0x100u
, <a class="el" href="#a0411cd49bb5b71852cecd93bcbf0ca2dafafb5cadff6871526c7b6db515983eef">MG_FEATURES_COMPRESSION</a> = 0x200u
, <br />
&#160;&#160;<a class="el" href="#a0411cd49bb5b71852cecd93bcbf0ca2da04681512f408a96ac398846b65eb74ec">MG_FEATURES_HTTP2</a> = 0x400u
, <a class="el" href="#a0411cd49bb5b71852cecd93bcbf0ca2daabd5074b3d3bb11e9528c539274c6841">MG_FEATURES_X_DOMAIN_SOCKET</a> = 0x800u
, <a class="el" href="#a0411cd49bb5b71852cecd93bcbf0ca2da55b0951581e039178ebb3fa57df4f5db">MG_FEATURES_ALL</a> = 0xFFFFu
<br />
 }</td></tr>
<tr class="separator:a0411cd49bb5b71852cecd93bcbf0ca2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abed82baf7f470b522273a3e37c24c600" id="r_abed82baf7f470b522273a3e37c24c600"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="#abed82baf7f470b522273a3e37c24c600a09f469b2a45a8616aab9e493beeb153c">MG_CONFIG_TYPE_UNKNOWN</a> = 0x0
, <a class="el" href="#abed82baf7f470b522273a3e37c24c600ae06caa2e5345f4284fe47b84901faf9a">MG_CONFIG_TYPE_NUMBER</a> = 0x1
, <a class="el" href="#abed82baf7f470b522273a3e37c24c600a376b9b6b1e491b1db9e2acbfec0d9cba">MG_CONFIG_TYPE_STRING</a> = 0x2
, <a class="el" href="#abed82baf7f470b522273a3e37c24c600a11fa4436ce6263e57055a419729e4793">MG_CONFIG_TYPE_FILE</a> = 0x3
, <br />
&#160;&#160;<a class="el" href="#abed82baf7f470b522273a3e37c24c600a41339873036c88d2acef38ccd7b4fbb3">MG_CONFIG_TYPE_DIRECTORY</a> = 0x4
, <a class="el" href="#abed82baf7f470b522273a3e37c24c600aeb3df5014f0adcd01524c03d9ca55b36">MG_CONFIG_TYPE_BOOLEAN</a> = 0x5
, <a class="el" href="#abed82baf7f470b522273a3e37c24c600a54d16bf53123bb3b1260d1d8fad3a230">MG_CONFIG_TYPE_EXT_PATTERN</a> = 0x6
, <a class="el" href="#abed82baf7f470b522273a3e37c24c600a870bd7148183409ae6b69f90cab74617">MG_CONFIG_TYPE_STRING_LIST</a> = 0x7
, <br />
&#160;&#160;<a class="el" href="#abed82baf7f470b522273a3e37c24c600a69352c89f82b9b6fcf3d22b2e642efdd">MG_CONFIG_TYPE_STRING_MULTILINE</a> = 0x8
, <a class="el" href="#abed82baf7f470b522273a3e37c24c600accb77faf0653d18c1660c73d2b87f7df">MG_CONFIG_TYPE_YES_NO_OPTIONAL</a> = 0x9
<br />
 }</td></tr>
<tr class="separator:abed82baf7f470b522273a3e37c24c600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab04a0655cd1e3bcac5e8f48c18df1a57" id="r_ab04a0655cd1e3bcac5e8f48c18df1a57"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="#ab04a0655cd1e3bcac5e8f48c18df1a57ac07ba73ba24b6f3d002223fa17dec5f9">MG_WEBSOCKET_OPCODE_CONTINUATION</a> = 0x0
, <a class="el" href="#ab04a0655cd1e3bcac5e8f48c18df1a57a7571dc0675f027c0f964081c89196b89">MG_WEBSOCKET_OPCODE_TEXT</a> = 0x1
, <a class="el" href="#ab04a0655cd1e3bcac5e8f48c18df1a57a1bbfef3039b4e499a3147df4b682169e">MG_WEBSOCKET_OPCODE_BINARY</a> = 0x2
, <a class="el" href="#ab04a0655cd1e3bcac5e8f48c18df1a57a0a30ded34f2d15fab56a5fdfd66fcb9c">MG_WEBSOCKET_OPCODE_CONNECTION_CLOSE</a> = 0x8
, <br />
&#160;&#160;<a class="el" href="#ab04a0655cd1e3bcac5e8f48c18df1a57ac44e200b2129dc11d6bb565c5ea4c6f8">MG_WEBSOCKET_OPCODE_PING</a> = 0x9
, <a class="el" href="#ab04a0655cd1e3bcac5e8f48c18df1a57a71c04ff1c8f8a290533b2af0e7f4516d">MG_WEBSOCKET_OPCODE_PONG</a> = 0xa
<br />
 }</td></tr>
<tr class="separator:ab04a0655cd1e3bcac5e8f48c18df1a57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a385c44f6fb256e5716a2302a5b940388" id="r_a385c44f6fb256e5716a2302a5b940388"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="#a385c44f6fb256e5716a2302a5b940388a93f1dd7e1e0e4e631f649dc2a0f6af58">MG_FORM_FIELD_STORAGE_SKIP</a> = 0x0
, <a class="el" href="#a385c44f6fb256e5716a2302a5b940388a39d1bc3d0bbe4a4d37820a4930f0e173">MG_FORM_FIELD_STORAGE_GET</a> = 0x1
, <a class="el" href="#a385c44f6fb256e5716a2302a5b940388a7a7bfa5e7377ef2803d812c682a3da66">MG_FORM_FIELD_STORAGE_STORE</a> = 0x2
, <a class="el" href="#a385c44f6fb256e5716a2302a5b940388a522e745bb497391254b6e316b5a27dd7">MG_FORM_FIELD_STORAGE_ABORT</a> = 0x10
 }</td></tr>
<tr class="separator:a385c44f6fb256e5716a2302a5b940388"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc5c98fcc1211af2b80116dd6e0a035d" id="r_abc5c98fcc1211af2b80116dd6e0a035d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="#abc5c98fcc1211af2b80116dd6e0a035dab622e0ff83cb53f45032b8c8c8e71414">MG_FORM_FIELD_HANDLE_GET</a> = 0x1
, <a class="el" href="#abc5c98fcc1211af2b80116dd6e0a035da7d4b6bab41141a877c2ebc7d84a6d0e1">MG_FORM_FIELD_HANDLE_NEXT</a> = 0x8
, <a class="el" href="#abc5c98fcc1211af2b80116dd6e0a035dace39d55d0a23bf473681fa478c02320d">MG_FORM_FIELD_HANDLE_ABORT</a> = 0x10
 }</td></tr>
<tr class="separator:abc5c98fcc1211af2b80116dd6e0a035d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac36f475ca5b446f4fde4c9b90bec77c8" id="r_ac36f475ca5b446f4fde4c9b90bec77c8"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="#ac36f475ca5b446f4fde4c9b90bec77c8a1515219c91583f8a1ee4d472ae800d57">MG_TIMEOUT_INFINITE</a> = -1
 }</td></tr>
<tr class="separator:ac36f475ca5b446f4fde4c9b90bec77c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05589fbab0657f08285ebdfe93f5ec9e" id="r_a05589fbab0657f08285ebdfe93f5ec9e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="#a05589fbab0657f08285ebdfe93f5ec9ea6f2b13fd162f7422b5ff4e6dc317e650">MG_ERROR_DATA_CODE_OK</a> = 0u
, <a class="el" href="#a05589fbab0657f08285ebdfe93f5ec9eac88d510f7057b262ab4931fa17bd12d8">MG_ERROR_DATA_CODE_INVALID_PARAM</a> = 1u
, <a class="el" href="#a05589fbab0657f08285ebdfe93f5ec9ea7fc609256283dbb6d75046dc307f38cc">MG_ERROR_DATA_CODE_INVALID_OPTION</a> = 2u
, <a class="el" href="#a05589fbab0657f08285ebdfe93f5ec9ead5f94e3f9ddc28c9d4a05f18bed659c7">MG_ERROR_DATA_CODE_INIT_TLS_FAILED</a> = 3u
, <br />
&#160;&#160;<a class="el" href="#a05589fbab0657f08285ebdfe93f5ec9ea50ff3faabf936dfe44447e80289c57c3">MG_ERROR_DATA_CODE_MISSING_OPTION</a> = 4u
, <a class="el" href="#a05589fbab0657f08285ebdfe93f5ec9ea6f5aa810d39bc339497eba62fb401785">MG_ERROR_DATA_CODE_DUPLICATE_DOMAIN</a> = 5u
, <a class="el" href="#a05589fbab0657f08285ebdfe93f5ec9ead54ef9d63e339f4c05c12cb56564e319">MG_ERROR_DATA_CODE_OUT_OF_MEMORY</a> = 6u
, <a class="el" href="#a05589fbab0657f08285ebdfe93f5ec9eae05172a302f4cb45bf87aea55ec6cdc6">MG_ERROR_DATA_CODE_SERVER_STOPPED</a> = 7u
, <br />
&#160;&#160;<a class="el" href="#a05589fbab0657f08285ebdfe93f5ec9ea352663dbd53fd8f4dfcf80887961c7e4">MG_ERROR_DATA_CODE_INIT_LIBRARY_FAILED</a> = 8u
, <a class="el" href="#a05589fbab0657f08285ebdfe93f5ec9ea4ec7bbc93f6f6d5d1f91b2bda132b7f6">MG_ERROR_DATA_CODE_OS_ERROR</a> = 9u
, <a class="el" href="#a05589fbab0657f08285ebdfe93f5ec9eab450ab40c3dc55b101012568d07d6ccc">MG_ERROR_DATA_CODE_INIT_PORTS_FAILED</a> = 10u
, <a class="el" href="#a05589fbab0657f08285ebdfe93f5ec9ead9cfc7dc6349cd93cd1530cf59a8fa21">MG_ERROR_DATA_CODE_INIT_USER_FAILED</a> = 11u
, <br />
&#160;&#160;<a class="el" href="#a05589fbab0657f08285ebdfe93f5ec9ea9d7507f92b0660c66f03dd89210a8740">MG_ERROR_DATA_CODE_INIT_ACL_FAILED</a> = 12u
, <a class="el" href="#a05589fbab0657f08285ebdfe93f5ec9eae33de5d81924866d43155b8a3531135f">MG_ERROR_DATA_CODE_INVALID_PASS_FILE</a> = 13u
, <a class="el" href="#a05589fbab0657f08285ebdfe93f5ec9eaa90fd2d35bca54ead229eac4bad9b02d">MG_ERROR_DATA_CODE_SCRIPT_ERROR</a> = 14u
, <a class="el" href="#a05589fbab0657f08285ebdfe93f5ec9ead55df55a4cb29a0171081362e2ba6e2e">MG_ERROR_DATA_CODE_HOST_NOT_FOUND</a> = 15u
, <br />
&#160;&#160;<a class="el" href="#a05589fbab0657f08285ebdfe93f5ec9eab3dad203f6b87c5def4c7bc16085d8b1">MG_ERROR_DATA_CODE_CONNECT_TIMEOUT</a> = 16u
, <a class="el" href="#a05589fbab0657f08285ebdfe93f5ec9ea5b03c913ece04130cb582c88ae994f69">MG_ERROR_DATA_CODE_CONNECT_FAILED</a> = 17u
, <a class="el" href="#a05589fbab0657f08285ebdfe93f5ec9eaecf7f3126fc1b6947b427962f8018b93">MG_ERROR_DATA_CODE_TLS_CLIENT_CERT_ERROR</a> = 18u
, <a class="el" href="#a05589fbab0657f08285ebdfe93f5ec9ea972160ef063d2c1c3a712d616860272e">MG_ERROR_DATA_CODE_TLS_SERVER_CERT_ERROR</a> = 19u
, <br />
&#160;&#160;<a class="el" href="#a05589fbab0657f08285ebdfe93f5ec9ea2874806b86f32e40ef428caa15d27c08">MG_ERROR_DATA_CODE_TLS_CONNECT_ERROR</a> = 20u
<br />
 }</td></tr>
<tr class="separator:a05589fbab0657f08285ebdfe93f5ec9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac6e9ad2a3e4f0beb2a938f52c3df50a9" id="r_ac6e9ad2a3e4f0beb2a938f52c3df50a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac6e9ad2a3e4f0beb2a938f52c3df50a9">mg_init_library</a> (unsigned features)</td></tr>
<tr class="separator:ac6e9ad2a3e4f0beb2a938f52c3df50a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f1f2195be687bba095938a263869d61" id="r_a6f1f2195be687bba095938a263869d61"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6f1f2195be687bba095938a263869d61">mg_exit_library</a> (void)</td></tr>
<tr class="separator:a6f1f2195be687bba095938a263869d61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae94c557007b3e3d0bf5903f5a5b07330" id="r_ae94c557007b3e3d0bf5903f5a5b07330"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> struct <a class="el" href="structmg__context.html">mg_context</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae94c557007b3e3d0bf5903f5a5b07330">mg_start</a> (const struct <a class="el" href="structmg__callbacks.html">mg_callbacks</a> *callbacks, void *user_data, const char **configuration_options)</td></tr>
<tr class="separator:ae94c557007b3e3d0bf5903f5a5b07330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6694ad3b80ffbdb9cdcee88c6e8f611e" id="r_a6694ad3b80ffbdb9cdcee88c6e8f611e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6694ad3b80ffbdb9cdcee88c6e8f611e">mg_stop</a> (struct <a class="el" href="structmg__context.html">mg_context</a> *)</td></tr>
<tr class="separator:a6694ad3b80ffbdb9cdcee88c6e8f611e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9106145c9ea01c3039ef7b244cbf5c7c" id="r_a9106145c9ea01c3039ef7b244cbf5c7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9106145c9ea01c3039ef7b244cbf5c7c">mg_start_domain</a> (struct <a class="el" href="structmg__context.html">mg_context</a> *ctx, const char **configuration_options)</td></tr>
<tr class="separator:a9106145c9ea01c3039ef7b244cbf5c7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef622eb42a2ac7fcc825620b952a36dc" id="r_aef622eb42a2ac7fcc825620b952a36dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aef622eb42a2ac7fcc825620b952a36dc">mg_set_request_handler</a> (struct <a class="el" href="structmg__context.html">mg_context</a> *ctx, const char *uri, <a class="el" href="#ac452a63f6ff0d7fd18a143de72a7fd08">mg_request_handler</a> handler, void *cbdata)</td></tr>
<tr class="separator:aef622eb42a2ac7fcc825620b952a36dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37cd18006941f3abb1538db60cf4f805" id="r_a37cd18006941f3abb1538db60cf4f805"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a37cd18006941f3abb1538db60cf4f805">mg_set_websocket_handler</a> (struct <a class="el" href="structmg__context.html">mg_context</a> *ctx, const char *uri, <a class="el" href="#ae1e201a8ea4f6895a8cc4e2e2c58da03">mg_websocket_connect_handler</a> connect_handler, <a class="el" href="#a5b940f052d5de72f651a9a1e810bed0f">mg_websocket_ready_handler</a> ready_handler, <a class="el" href="#ac0e8e90ed1e8b0af95b9a940f6fee3a9">mg_websocket_data_handler</a> data_handler, <a class="el" href="#ad7e7633a49e5a5e748b0c8bdb22c336d">mg_websocket_close_handler</a> close_handler, void *cbdata)</td></tr>
<tr class="separator:a37cd18006941f3abb1538db60cf4f805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07eff82d8b7be88f16ba1a1653d09d3d" id="r_a07eff82d8b7be88f16ba1a1653d09d3d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a07eff82d8b7be88f16ba1a1653d09d3d">mg_set_websocket_handler_with_subprotocols</a> (struct <a class="el" href="structmg__context.html">mg_context</a> *ctx, const char *uri, struct <a class="el" href="structmg__websocket__subprotocols.html">mg_websocket_subprotocols</a> *subprotocols, <a class="el" href="#ae1e201a8ea4f6895a8cc4e2e2c58da03">mg_websocket_connect_handler</a> connect_handler, <a class="el" href="#a5b940f052d5de72f651a9a1e810bed0f">mg_websocket_ready_handler</a> ready_handler, <a class="el" href="#ac0e8e90ed1e8b0af95b9a940f6fee3a9">mg_websocket_data_handler</a> data_handler, <a class="el" href="#ad7e7633a49e5a5e748b0c8bdb22c336d">mg_websocket_close_handler</a> close_handler, void *cbdata)</td></tr>
<tr class="separator:a07eff82d8b7be88f16ba1a1653d09d3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cacb89c8bc07d18aa4d895d154653a9" id="r_a8cacb89c8bc07d18aa4d895d154653a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8cacb89c8bc07d18aa4d895d154653a9">mg_set_auth_handler</a> (struct <a class="el" href="structmg__context.html">mg_context</a> *ctx, const char *uri, <a class="el" href="#a3e8733a4d6d7ae85f0daec45df36f024">mg_authorization_handler</a> handler, void *cbdata)</td></tr>
<tr class="separator:a8cacb89c8bc07d18aa4d895d154653a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e4552bbdf9a0c9a6a579ed38e813a4e" id="r_a9e4552bbdf9a0c9a6a579ed38e813a4e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e4552bbdf9a0c9a6a579ed38e813a4e">mg_get_option</a> (const struct <a class="el" href="structmg__context.html">mg_context</a> *ctx, const char *<a class="el" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="separator:a9e4552bbdf9a0c9a6a579ed38e813a4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7377f2af53b0a3e0a154a2c186f2f2d4" id="r_a7377f2af53b0a3e0a154a2c186f2f2d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> struct <a class="el" href="structmg__context.html">mg_context</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7377f2af53b0a3e0a154a2c186f2f2d4">mg_get_context</a> (const struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn)</td></tr>
<tr class="separator:a7377f2af53b0a3e0a154a2c186f2f2d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17a41b88e5484900a2d01cad3c8fec20" id="r_a17a41b88e5484900a2d01cad3c8fec20"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a17a41b88e5484900a2d01cad3c8fec20">mg_get_user_data</a> (const struct <a class="el" href="structmg__context.html">mg_context</a> *ctx)</td></tr>
<tr class="separator:a17a41b88e5484900a2d01cad3c8fec20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae08477dcd7ad0ea27a6a35becf732e50" id="r_ae08477dcd7ad0ea27a6a35becf732e50"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae08477dcd7ad0ea27a6a35becf732e50">mg_get_user_context_data</a> (const struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn)</td></tr>
<tr class="separator:ae08477dcd7ad0ea27a6a35becf732e50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1563cc12250b9d00836709ac8bbe804b" id="r_a1563cc12250b9d00836709ac8bbe804b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1563cc12250b9d00836709ac8bbe804b">mg_get_thread_pointer</a> (const struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn)</td></tr>
<tr class="separator:a1563cc12250b9d00836709ac8bbe804b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f8bcc4ab7528a62367e661419f944f5" id="r_a1f8bcc4ab7528a62367e661419f944f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f8bcc4ab7528a62367e661419f944f5">mg_set_user_connection_data</a> (const struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, void *data)</td></tr>
<tr class="separator:a1f8bcc4ab7528a62367e661419f944f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97448fad91e328252f159bbbdeaed589" id="r_a97448fad91e328252f159bbbdeaed589"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a97448fad91e328252f159bbbdeaed589">mg_get_user_connection_data</a> (const struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn)</td></tr>
<tr class="separator:a97448fad91e328252f159bbbdeaed589"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81ef64a9ffadd917ddc7f4615cf5dc07" id="r_a81ef64a9ffadd917ddc7f4615cf5dc07"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a81ef64a9ffadd917ddc7f4615cf5dc07">mg_get_request_link</a> (const struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, char *buf, size_t buflen)</td></tr>
<tr class="separator:a81ef64a9ffadd917ddc7f4615cf5dc07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86730990d410cecb18a1dbeee4ccd657" id="r_a86730990d410cecb18a1dbeee4ccd657"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> const struct <a class="el" href="structmg__option.html">mg_option</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a86730990d410cecb18a1dbeee4ccd657">mg_get_valid_options</a> (void)</td></tr>
<tr class="separator:a86730990d410cecb18a1dbeee4ccd657"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dce566e09bfb338699720d1ce69c8d4" id="r_a4dce566e09bfb338699720d1ce69c8d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4dce566e09bfb338699720d1ce69c8d4">mg_get_server_ports</a> (const struct <a class="el" href="structmg__context.html">mg_context</a> *ctx, int size, struct <a class="el" href="structmg__server__port.html">mg_server_port</a> *ports)</td></tr>
<tr class="separator:a4dce566e09bfb338699720d1ce69c8d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a169b5f537b5fa9d52d549ec1e57e81d4" id="r_a169b5f537b5fa9d52d549ec1e57e81d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a169b5f537b5fa9d52d549ec1e57e81d4">mg_modify_passwords_file</a> (const char *passwords_file_name, const char *realm, const char *user, const char *password)</td></tr>
<tr class="separator:a169b5f537b5fa9d52d549ec1e57e81d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae38956af457b5fb269ce735b0bc387e8" id="r_ae38956af457b5fb269ce735b0bc387e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae38956af457b5fb269ce735b0bc387e8">mg_modify_passwords_file_ha1</a> (const char *passwords_file_name, const char *realm, const char *user, const char *ha1)</td></tr>
<tr class="separator:ae38956af457b5fb269ce735b0bc387e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a72ef05254fb0be23bac8a2210ea1ac" id="r_a6a72ef05254fb0be23bac8a2210ea1ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> const struct <a class="el" href="structmg__request__info.html">mg_request_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a72ef05254fb0be23bac8a2210ea1ac">mg_get_request_info</a> (const struct <a class="el" href="structmg__connection.html">mg_connection</a> *)</td></tr>
<tr class="separator:a6a72ef05254fb0be23bac8a2210ea1ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82bd7c5dd0b41c7df5908f65673712d2" id="r_a82bd7c5dd0b41c7df5908f65673712d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> const struct <a class="el" href="structmg__response__info.html">mg_response_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a82bd7c5dd0b41c7df5908f65673712d2">mg_get_response_info</a> (const struct <a class="el" href="structmg__connection.html">mg_connection</a> *)</td></tr>
<tr class="separator:a82bd7c5dd0b41c7df5908f65673712d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cc91a6d8ed39079e7d805cc459a4224" id="r_a4cc91a6d8ed39079e7d805cc459a4224"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4cc91a6d8ed39079e7d805cc459a4224">mg_write</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *, const void *buf, size_t len)</td></tr>
<tr class="separator:a4cc91a6d8ed39079e7d805cc459a4224"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11d2fbe891254028a4aabf041b4dba6c" id="r_a11d2fbe891254028a4aabf041b4dba6c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a11d2fbe891254028a4aabf041b4dba6c">mg_websocket_write</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, int opcode, const char *data, size_t data_len)</td></tr>
<tr class="separator:a11d2fbe891254028a4aabf041b4dba6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5096962c35c3a51d8df5a2773377634e" id="r_a5096962c35c3a51d8df5a2773377634e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5096962c35c3a51d8df5a2773377634e">mg_websocket_client_write</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, int opcode, const char *data, size_t data_len)</td></tr>
<tr class="separator:a5096962c35c3a51d8df5a2773377634e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a149a7777de4ad5702dfc3a50271e6fb9" id="r_a149a7777de4ad5702dfc3a50271e6fb9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a149a7777de4ad5702dfc3a50271e6fb9">mg_lock_connection</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn)</td></tr>
<tr class="separator:a149a7777de4ad5702dfc3a50271e6fb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23acf2c99018649c40b525c8bde45960" id="r_a23acf2c99018649c40b525c8bde45960"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a23acf2c99018649c40b525c8bde45960">mg_unlock_connection</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn)</td></tr>
<tr class="separator:a23acf2c99018649c40b525c8bde45960"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0110b7fe742fb4ee2ab467151e4df7c2" id="r_a0110b7fe742fb4ee2ab467151e4df7c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0110b7fe742fb4ee2ab467151e4df7c2">mg_lock_context</a> (struct <a class="el" href="structmg__context.html">mg_context</a> *ctx)</td></tr>
<tr class="separator:a0110b7fe742fb4ee2ab467151e4df7c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40bc6a84aa4f6dc3af32fcb62e74a848" id="r_a40bc6a84aa4f6dc3af32fcb62e74a848"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a40bc6a84aa4f6dc3af32fcb62e74a848">mg_unlock_context</a> (struct <a class="el" href="structmg__context.html">mg_context</a> *ctx)</td></tr>
<tr class="separator:a40bc6a84aa4f6dc3af32fcb62e74a848"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8290b802bcbe66bacc49416e5e671a89" id="r_a8290b802bcbe66bacc49416e5e671a89"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8290b802bcbe66bacc49416e5e671a89">mg_printf</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *, <a class="el" href="#a2bb9db6ffe087ec4f44662ed3dfa0abd">PRINTF_FORMAT_STRING</a>(const char *fmt),...) <a class="el" href="#aabeba45019b494e33206b4a3a9a8ba17">PRINTF_ARGS</a>(2</td></tr>
<tr class="separator:a8290b802bcbe66bacc49416e5e671a89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af37a61d80b59003a64f12c34233ead19" id="r_af37a61d80b59003a64f12c34233ead19"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int <a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af37a61d80b59003a64f12c34233ead19">mg_send_chunk</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, const char *<a class="el" href="lua-5_81_85_2src_2lparser_8c.html#a250d5faeaacc40c8a7e1822f5621c292">chunk</a>, unsigned int chunk_len)</td></tr>
<tr class="separator:af37a61d80b59003a64f12c34233ead19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af485479c8d173f829c88a4aed927d6fc" id="r_af485479c8d173f829c88a4aed927d6fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af485479c8d173f829c88a4aed927d6fc">mg_send_file</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, const char *path)</td></tr>
<tr class="separator:af485479c8d173f829c88a4aed927d6fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c440a246bb1f1d223456de874c17f59" id="r_a4c440a246bb1f1d223456de874c17f59"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4c440a246bb1f1d223456de874c17f59">mg_send_file_body</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, const char *path)</td></tr>
<tr class="separator:a4c440a246bb1f1d223456de874c17f59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a537039cf2306b2689d8d4a37681c24" id="r_a6a537039cf2306b2689d8d4a37681c24"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a537039cf2306b2689d8d4a37681c24">mg_send_http_error</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, int status_code, <a class="el" href="#a2bb9db6ffe087ec4f44662ed3dfa0abd">PRINTF_FORMAT_STRING</a>(const char *fmt),...) <a class="el" href="#aabeba45019b494e33206b4a3a9a8ba17">PRINTF_ARGS</a>(3</td></tr>
<tr class="separator:a6a537039cf2306b2689d8d4a37681c24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a819afb28dc882c9eeef043acc65fbad9" id="r_a819afb28dc882c9eeef043acc65fbad9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int <a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a819afb28dc882c9eeef043acc65fbad9">mg_send_http_ok</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, const char *<a class="el" href="civetweb_8c.html#a12139285594e136f3f40ec07d2fdc5c5">mime_type</a>, long long content_length)</td></tr>
<tr class="separator:a819afb28dc882c9eeef043acc65fbad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbacd157c3e4a32ef99a0088a36e06af" id="r_acbacd157c3e4a32ef99a0088a36e06af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acbacd157c3e4a32ef99a0088a36e06af">mg_send_http_redirect</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, const char *target_url, int redirect_code)</td></tr>
<tr class="separator:acbacd157c3e4a32ef99a0088a36e06af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62341459408ee3d4ae77df385a4d332f" id="r_a62341459408ee3d4ae77df385a4d332f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a62341459408ee3d4ae77df385a4d332f">mg_send_digest_access_authentication_request</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, const char *realm)</td></tr>
<tr class="separator:a62341459408ee3d4ae77df385a4d332f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e38f4db9a8d42ff57623b15f11f93b1" id="r_a8e38f4db9a8d42ff57623b15f11f93b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8e38f4db9a8d42ff57623b15f11f93b1">mg_check_digest_access_authentication</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, const char *realm, const char *filename)</td></tr>
<tr class="separator:a8e38f4db9a8d42ff57623b15f11f93b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1999d3a7cd176207cc30dcc3205a57c3" id="r_a1999d3a7cd176207cc30dcc3205a57c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1999d3a7cd176207cc30dcc3205a57c3">mg_send_mime_file</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, const char *path, const char *<a class="el" href="civetweb_8c.html#a12139285594e136f3f40ec07d2fdc5c5">mime_type</a>)</td></tr>
<tr class="separator:a1999d3a7cd176207cc30dcc3205a57c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7547ded66b30ef8d6924f8b8734cfe3" id="r_ac7547ded66b30ef8d6924f8b8734cfe3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac7547ded66b30ef8d6924f8b8734cfe3">mg_send_mime_file2</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, const char *path, const char *<a class="el" href="civetweb_8c.html#a12139285594e136f3f40ec07d2fdc5c5">mime_type</a>, const char *additional_headers)</td></tr>
<tr class="separator:ac7547ded66b30ef8d6924f8b8734cfe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1973d17da3ae4db49964b93ab92c5b06" id="r_a1973d17da3ae4db49964b93ab92c5b06"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1973d17da3ae4db49964b93ab92c5b06">mg_store_body</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, const char *path)</td></tr>
<tr class="separator:a1973d17da3ae4db49964b93ab92c5b06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbd71d73913b532051e689f50031093e" id="r_afbd71d73913b532051e689f50031093e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afbd71d73913b532051e689f50031093e">mg_read</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *, void *buf, size_t len)</td></tr>
<tr class="separator:afbd71d73913b532051e689f50031093e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58962f3100da9412f608eea656a3fbf2" id="r_a58962f3100da9412f608eea656a3fbf2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a58962f3100da9412f608eea656a3fbf2">mg_get_header</a> (const struct <a class="el" href="structmg__connection.html">mg_connection</a> *, const char *<a class="el" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="separator:a58962f3100da9412f608eea656a3fbf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd798183352c103a4096bd86b0aed7b9" id="r_acd798183352c103a4096bd86b0aed7b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acd798183352c103a4096bd86b0aed7b9">mg_get_var</a> (const char *data, size_t data_len, const char *var_name, char *dst, size_t dst_len)</td></tr>
<tr class="separator:acd798183352c103a4096bd86b0aed7b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eea4a7006dc9f35980d696aad722539" id="r_a7eea4a7006dc9f35980d696aad722539"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7eea4a7006dc9f35980d696aad722539">mg_get_var2</a> (const char *data, size_t data_len, const char *var_name, char *dst, size_t dst_len, size_t occurrence)</td></tr>
<tr class="separator:a7eea4a7006dc9f35980d696aad722539"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4568e555e11dae99b04de8c0a22e358" id="r_ae4568e555e11dae99b04de8c0a22e358"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae4568e555e11dae99b04de8c0a22e358">mg_split_form_urlencoded</a> (char *data, struct <a class="el" href="structmg__header.html">mg_header</a> *form_fields, unsigned num_form_fields)</td></tr>
<tr class="separator:ae4568e555e11dae99b04de8c0a22e358"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ec7ced8044b2a0114f18e9ed2b45b4b" id="r_a0ec7ced8044b2a0114f18e9ed2b45b4b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ec7ced8044b2a0114f18e9ed2b45b4b">mg_get_cookie</a> (const char *cookie, const char *var_name, char *buf, size_t buf_len)</td></tr>
<tr class="separator:a0ec7ced8044b2a0114f18e9ed2b45b4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6259f245d2c99ba1b989b8ce41a8beb6" id="r_a6259f245d2c99ba1b989b8ce41a8beb6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> struct <a class="el" href="structmg__connection.html">mg_connection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6259f245d2c99ba1b989b8ce41a8beb6">mg_download</a> (const char *host, int port, int use_ssl, char *error_buffer, size_t error_buffer_size, <a class="el" href="#a2bb9db6ffe087ec4f44662ed3dfa0abd">PRINTF_FORMAT_STRING</a>(const char *request_fmt),...) <a class="el" href="#aabeba45019b494e33206b4a3a9a8ba17">PRINTF_ARGS</a>(6</td></tr>
<tr class="separator:a6259f245d2c99ba1b989b8ce41a8beb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1633f8dddf537749c79ac85bb45ac1e" id="r_aa1633f8dddf537749c79ac85bb45ac1e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> struct <a class="el" href="structmg__connection.html">mg_connection</a> <a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa1633f8dddf537749c79ac85bb45ac1e">mg_close_connection</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn)</td></tr>
<tr class="separator:aa1633f8dddf537749c79ac85bb45ac1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63698531881e9cdd7a046cb44f32d2a8" id="r_a63698531881e9cdd7a046cb44f32d2a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a63698531881e9cdd7a046cb44f32d2a8">mg_handle_form_request</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, struct <a class="el" href="structmg__form__data__handler.html">mg_form_data_handler</a> *fdh)</td></tr>
<tr class="separator:a63698531881e9cdd7a046cb44f32d2a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c12d8cc958f8d80ff92d6cee5ab54da" id="r_a5c12d8cc958f8d80ff92d6cee5ab54da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5c12d8cc958f8d80ff92d6cee5ab54da">mg_start_thread</a> (<a class="el" href="#a11f18a1c01860c3928019a829cae3ba6">mg_thread_func_t</a> f, void *p)</td></tr>
<tr class="separator:a5c12d8cc958f8d80ff92d6cee5ab54da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0de2d85bdcaa73d028dc7b212cc6b1fa" id="r_a0de2d85bdcaa73d028dc7b212cc6b1fa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0de2d85bdcaa73d028dc7b212cc6b1fa">mg_get_builtin_mime_type</a> (const char *file_name)</td></tr>
<tr class="separator:a0de2d85bdcaa73d028dc7b212cc6b1fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08ef1e77e39a65d2b0eb84328291cae1" id="r_a08ef1e77e39a65d2b0eb84328291cae1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a08ef1e77e39a65d2b0eb84328291cae1">mg_get_response_code_text</a> (const struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, int response_code)</td></tr>
<tr class="separator:a08ef1e77e39a65d2b0eb84328291cae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a057ebd236dc84e6e8f6c9765da609329" id="r_a057ebd236dc84e6e8f6c9765da609329"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a057ebd236dc84e6e8f6c9765da609329">mg_version</a> (void)</td></tr>
<tr class="separator:a057ebd236dc84e6e8f6c9765da609329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bdfbeb661f200bdbe2e19e6258bb937" id="r_a3bdfbeb661f200bdbe2e19e6258bb937"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3bdfbeb661f200bdbe2e19e6258bb937">mg_url_decode</a> (const char *src, int src_len, char *dst, int dst_len, int is_form_url_encoded)</td></tr>
<tr class="separator:a3bdfbeb661f200bdbe2e19e6258bb937"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afec55bb47160c2d4fe76c5df4ce54f56" id="r_afec55bb47160c2d4fe76c5df4ce54f56"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afec55bb47160c2d4fe76c5df4ce54f56">mg_url_encode</a> (const char *src, char *dst, size_t dst_len)</td></tr>
<tr class="separator:afec55bb47160c2d4fe76c5df4ce54f56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16f495b82ab6766de6c2d0e86ea4a82d" id="r_a16f495b82ab6766de6c2d0e86ea4a82d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a16f495b82ab6766de6c2d0e86ea4a82d">mg_base64_encode</a> (const unsigned char *src, size_t src_len, char *dst, size_t *dst_len)</td></tr>
<tr class="separator:a16f495b82ab6766de6c2d0e86ea4a82d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40d10ad1edce124016cf9efee6cb79c7" id="r_a40d10ad1edce124016cf9efee6cb79c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a40d10ad1edce124016cf9efee6cb79c7">mg_base64_decode</a> (const char *src, size_t src_len, unsigned char *dst, size_t *dst_len)</td></tr>
<tr class="separator:a40d10ad1edce124016cf9efee6cb79c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a1f27cd059fa56ead5cecaf7885582f" id="r_a9a1f27cd059fa56ead5cecaf7885582f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9a1f27cd059fa56ead5cecaf7885582f">mg_md5</a> (char buf[33],...)</td></tr>
<tr class="separator:a9a1f27cd059fa56ead5cecaf7885582f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a274aaa219aaf0c8172890ee6138f5e38" id="r_a274aaa219aaf0c8172890ee6138f5e38"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a274aaa219aaf0c8172890ee6138f5e38">mg_cry</a> (const struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, <a class="el" href="#a2bb9db6ffe087ec4f44662ed3dfa0abd">PRINTF_FORMAT_STRING</a>(const char *fmt),...) <a class="el" href="#aabeba45019b494e33206b4a3a9a8ba17">PRINTF_ARGS</a>(2</td></tr>
<tr class="separator:a274aaa219aaf0c8172890ee6138f5e38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9f9136408375834d87a8aa01e6633ca" id="r_ab9f9136408375834d87a8aa01e6633ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void <a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab9f9136408375834d87a8aa01e6633ca">mg_strcasecmp</a> (const char *s1, const char *s2)</td></tr>
<tr class="separator:ab9f9136408375834d87a8aa01e6633ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e22e846cc0308d6521ed516918f380f" id="r_a1e22e846cc0308d6521ed516918f380f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1e22e846cc0308d6521ed516918f380f">mg_strncasecmp</a> (const char *s1, const char *s2, size_t len)</td></tr>
<tr class="separator:a1e22e846cc0308d6521ed516918f380f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5da8b47d8e2795d68cccc0f72b231835" id="r_a5da8b47d8e2795d68cccc0f72b231835"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> struct <a class="el" href="structmg__connection.html">mg_connection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5da8b47d8e2795d68cccc0f72b231835">mg_connect_websocket_client</a> (const char *host, int port, int use_ssl, char *error_buffer, size_t error_buffer_size, const char *path, const char *origin, <a class="el" href="#ac0e8e90ed1e8b0af95b9a940f6fee3a9">mg_websocket_data_handler</a> data_func, <a class="el" href="#ad7e7633a49e5a5e748b0c8bdb22c336d">mg_websocket_close_handler</a> <a class="el" href="lua-5_81_85_2src_2lparser_8c.html#a46bd6da1ec8052eeaf6fd524199ca72a">close_func</a>, void *user_data)</td></tr>
<tr class="separator:a5da8b47d8e2795d68cccc0f72b231835"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfcb6a406ff449ca3eb9b78ab37805d4" id="r_adfcb6a406ff449ca3eb9b78ab37805d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> struct <a class="el" href="structmg__connection.html">mg_connection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adfcb6a406ff449ca3eb9b78ab37805d4">mg_connect_websocket_client_extensions</a> (const char *host, int port, int use_ssl, char *error_buffer, size_t error_buffer_size, const char *path, const char *origin, const char *extensions, <a class="el" href="#ac0e8e90ed1e8b0af95b9a940f6fee3a9">mg_websocket_data_handler</a> data_func, <a class="el" href="#ad7e7633a49e5a5e748b0c8bdb22c336d">mg_websocket_close_handler</a> <a class="el" href="lua-5_81_85_2src_2lparser_8c.html#a46bd6da1ec8052eeaf6fd524199ca72a">close_func</a>, void *user_data)</td></tr>
<tr class="separator:adfcb6a406ff449ca3eb9b78ab37805d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace350941110e963aeb1ce985260c6a51" id="r_ace350941110e963aeb1ce985260c6a51"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> struct <a class="el" href="structmg__connection.html">mg_connection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace350941110e963aeb1ce985260c6a51">mg_connect_client</a> (const char *host, int port, int use_ssl, char *error_buffer, size_t error_buffer_size)</td></tr>
<tr class="separator:ace350941110e963aeb1ce985260c6a51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0900e7049ba69cd81fd36844820ae95" id="r_aa0900e7049ba69cd81fd36844820ae95"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> struct <a class="el" href="structmg__connection.html">mg_connection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa0900e7049ba69cd81fd36844820ae95">mg_connect_client_secure</a> (const struct <a class="el" href="structmg__client__options.html">mg_client_options</a> *client_options, char *error_buffer, size_t error_buffer_size)</td></tr>
<tr class="separator:aa0900e7049ba69cd81fd36844820ae95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82872c373eedb743614f2df8653a1fb9" id="r_a82872c373eedb743614f2df8653a1fb9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> struct <a class="el" href="structmg__connection.html">mg_connection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a82872c373eedb743614f2df8653a1fb9">mg_connect_websocket_client_secure</a> (const struct <a class="el" href="structmg__client__options.html">mg_client_options</a> *client_options, char *error_buffer, size_t error_buffer_size, const char *path, const char *origin, <a class="el" href="#ac0e8e90ed1e8b0af95b9a940f6fee3a9">mg_websocket_data_handler</a> data_func, <a class="el" href="#ad7e7633a49e5a5e748b0c8bdb22c336d">mg_websocket_close_handler</a> <a class="el" href="lua-5_81_85_2src_2lparser_8c.html#a46bd6da1ec8052eeaf6fd524199ca72a">close_func</a>, void *user_data)</td></tr>
<tr class="separator:a82872c373eedb743614f2df8653a1fb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c7dc2b030def4a350fecbb70652aaa0" id="r_a6c7dc2b030def4a350fecbb70652aaa0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> struct <a class="el" href="structmg__connection.html">mg_connection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c7dc2b030def4a350fecbb70652aaa0">mg_connect_websocket_client_secure_extensions</a> (const struct <a class="el" href="structmg__client__options.html">mg_client_options</a> *client_options, char *error_buffer, size_t error_buffer_size, const char *path, const char *origin, const char *extensions, <a class="el" href="#ac0e8e90ed1e8b0af95b9a940f6fee3a9">mg_websocket_data_handler</a> data_func, <a class="el" href="#ad7e7633a49e5a5e748b0c8bdb22c336d">mg_websocket_close_handler</a> <a class="el" href="lua-5_81_85_2src_2lparser_8c.html#a46bd6da1ec8052eeaf6fd524199ca72a">close_func</a>, void *user_data)</td></tr>
<tr class="separator:a6c7dc2b030def4a350fecbb70652aaa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b725ab96450f33c87ab3ef5e7e8baab" id="r_a6b725ab96450f33c87ab3ef5e7e8baab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6b725ab96450f33c87ab3ef5e7e8baab">mg_get_response</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, char *ebuf, size_t ebuf_len, int timeout)</td></tr>
<tr class="separator:a6b725ab96450f33c87ab3ef5e7e8baab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf61373a94705446c56f0331639dd619" id="r_acf61373a94705446c56f0331639dd619"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acf61373a94705446c56f0331639dd619">mg_response_header_start</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, int status)</td></tr>
<tr class="separator:acf61373a94705446c56f0331639dd619"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a487cdeb41049480452d49e52a9f24465" id="r_a487cdeb41049480452d49e52a9f24465"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a487cdeb41049480452d49e52a9f24465">mg_response_header_add</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, const char *header, const char *<a class="el" href="lsqlite3_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, int value_len)</td></tr>
<tr class="separator:a487cdeb41049480452d49e52a9f24465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2fea4b4a82311588a9914b6d8491661" id="r_af2fea4b4a82311588a9914b6d8491661"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af2fea4b4a82311588a9914b6d8491661">mg_response_header_add_lines</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, const char *http1_headers)</td></tr>
<tr class="separator:af2fea4b4a82311588a9914b6d8491661"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ca8aca1da1713557d4eee7526887e12" id="r_a2ca8aca1da1713557d4eee7526887e12"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2ca8aca1da1713557d4eee7526887e12">mg_response_header_send</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn)</td></tr>
<tr class="separator:a2ca8aca1da1713557d4eee7526887e12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6e4a71c131991d1bf9dac0c74b7e8b2" id="r_ad6e4a71c131991d1bf9dac0c74b7e8b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad6e4a71c131991d1bf9dac0c74b7e8b2">mg_check_feature</a> (unsigned feature)</td></tr>
<tr class="separator:ad6e4a71c131991d1bf9dac0c74b7e8b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7b80bf53a5b2c2453734e64203d3f7e" id="r_af7b80bf53a5b2c2453734e64203d3f7e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af7b80bf53a5b2c2453734e64203d3f7e">mg_get_system_info</a> (char *buffer, int buflen)</td></tr>
<tr class="separator:af7b80bf53a5b2c2453734e64203d3f7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73bb6d799210c1e057478648919f8fa8" id="r_a73bb6d799210c1e057478648919f8fa8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a73bb6d799210c1e057478648919f8fa8">mg_get_context_info</a> (const struct <a class="el" href="structmg__context.html">mg_context</a> *ctx, char *buffer, int buflen)</td></tr>
<tr class="separator:a73bb6d799210c1e057478648919f8fa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e467f9e2b0dcca696fbbd1da1a01f21" id="r_a9e467f9e2b0dcca696fbbd1da1a01f21"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e467f9e2b0dcca696fbbd1da1a01f21">mg_disable_connection_keep_alive</a> (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn)</td></tr>
<tr class="separator:a9e467f9e2b0dcca696fbbd1da1a01f21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a220e3ffb5ea3741a7c830a9668068617" id="r_a220e3ffb5ea3741a7c830a9668068617"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> struct <a class="el" href="structmg__context.html">mg_context</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a220e3ffb5ea3741a7c830a9668068617">mg_start2</a> (struct <a class="el" href="structmg__init__data.html">mg_init_data</a> *init, struct <a class="el" href="structmg__error__data.html">mg_error_data</a> *<a class="el" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>)</td></tr>
<tr class="separator:a220e3ffb5ea3741a7c830a9668068617"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01c4d57db6b6894909cce40dd50f74d7" id="r_a01c4d57db6b6894909cce40dd50f74d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a01c4d57db6b6894909cce40dd50f74d7">mg_start_domain2</a> (struct <a class="el" href="structmg__context.html">mg_context</a> *ctx, const char **configuration_options, struct <a class="el" href="structmg__error__data.html">mg_error_data</a> *<a class="el" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>)</td></tr>
<tr class="separator:a01c4d57db6b6894909cce40dd50f74d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a5dbf083d19889dba3fef7503ce764ef6" name="a5dbf083d19889dba3fef7503ce764ef6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dbf083d19889dba3fef7503ce764ef6">&#9670;&#160;</a></span>CIVETWEB_API</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CIVETWEB_API</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8h_source.html#l00043">43</a> of file <a class="el" href="civetweb_8h_source.html">civetweb.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l09287">connect_socket()</a>.</p>

</div>
</div>
<a id="a2a38653ae23013ece7ae6a38db041f94" name="a2a38653ae23013ece7ae6a38db041f94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a38653ae23013ece7ae6a38db041f94">&#9670;&#160;</a></span>CIVETWEB_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CIVETWEB_VERSION&#160;&#160;&#160;&quot;1.16&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8h_source.html#l00026">26</a> of file <a class="el" href="civetweb_8h_source.html">civetweb.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l03514">mg_version()</a>.</p>

</div>
</div>
<a id="a009c893a105da6f3494f7e9641ca4c17" name="a009c893a105da6f3494f7e9641ca4c17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a009c893a105da6f3494f7e9641ca4c17">&#9670;&#160;</a></span>CIVETWEB_VERSION_MAJOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CIVETWEB_VERSION_MAJOR&#160;&#160;&#160;(1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8h_source.html#l00027">27</a> of file <a class="el" href="civetweb_8h_source.html">civetweb.h</a>.</p>

</div>
</div>
<a id="a5680eeae076cde72a194855a5af12eba" name="a5680eeae076cde72a194855a5af12eba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5680eeae076cde72a194855a5af12eba">&#9670;&#160;</a></span>CIVETWEB_VERSION_MINOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CIVETWEB_VERSION_MINOR&#160;&#160;&#160;(16)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8h_source.html#l00028">28</a> of file <a class="el" href="civetweb_8h_source.html">civetweb.h</a>.</p>

</div>
</div>
<a id="a4026847b3941535a36eef61f9a3a627a" name="a4026847b3941535a36eef61f9a3a627a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4026847b3941535a36eef61f9a3a627a">&#9670;&#160;</a></span>CIVETWEB_VERSION_PATCH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CIVETWEB_VERSION_PATCH&#160;&#160;&#160;(0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8h_source.html#l00029">29</a> of file <a class="el" href="civetweb_8h_source.html">civetweb.h</a>.</p>

</div>
</div>
<a id="a0dd0158a204b647849a5b28642de740f" name="a0dd0158a204b647849a5b28642de740f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dd0158a204b647849a5b28642de740f">&#9670;&#160;</a></span>MG_MATCH_CONTEXT_MAX_MATCHES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MG_MATCH_CONTEXT_MAX_MATCHES&#160;&#160;&#160;(32)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8h_source.html#l01370">1370</a> of file <a class="el" href="civetweb_8h_source.html">civetweb.h</a>.</p>

</div>
</div>
<a id="a0a13e84141de39780fed2bba427631fd" name="a0a13e84141de39780fed2bba427631fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a13e84141de39780fed2bba427631fd">&#9670;&#160;</a></span>MG_MAX_HEADERS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MG_MAX_HEADERS&#160;&#160;&#160;(64)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8h_source.html#l00141">141</a> of file <a class="el" href="civetweb_8h_source.html">civetweb.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l10725">parse_http_headers()</a>.</p>

</div>
</div>
<a id="a617e52f70a64c5fb09f6da00ecc8adbf" name="a617e52f70a64c5fb09f6da00ecc8adbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a617e52f70a64c5fb09f6da00ecc8adbf">&#9670;&#160;</a></span>mg_server_ports</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define mg_server_ports&#160;&#160;&#160;<a class="el" href="structmg__server__port.html">mg_server_port</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8h_source.html#l00724">724</a> of file <a class="el" href="civetweb_8h_source.html">civetweb.h</a>.</p>

</div>
</div>
<a id="aabeba45019b494e33206b4a3a9a8ba17" name="aabeba45019b494e33206b4a3a9a8ba17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabeba45019b494e33206b4a3a9a8ba17">&#9670;&#160;</a></span>PRINTF_ARGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PRINTF_ARGS</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">x, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">y</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8h_source.html#l00883">883</a> of file <a class="el" href="civetweb_8h_source.html">civetweb.h</a>.</p>

</div>
</div>
<a id="a2bb9db6ffe087ec4f44662ed3dfa0abd" name="a2bb9db6ffe087ec4f44662ed3dfa0abd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bb9db6ffe087ec4f44662ed3dfa0abd">&#9670;&#160;</a></span>PRINTF_FORMAT_STRING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PRINTF_FORMAT_STRING</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><a class="el" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a></span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8h_source.html#l00877">877</a> of file <a class="el" href="civetweb_8h_source.html">civetweb.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a3e8733a4d6d7ae85f0daec45df36f024" name="a3e8733a4d6d7ae85f0daec45df36f024"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e8733a4d6d7ae85f0daec45df36f024">&#9670;&#160;</a></span>mg_authorization_handler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* mg_authorization_handler) (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, void *cbdata)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8h_source.html#l00606">606</a> of file <a class="el" href="civetweb_8h_source.html">civetweb.h</a>.</p>

</div>
</div>
<a id="ac452a63f6ff0d7fd18a143de72a7fd08" name="ac452a63f6ff0d7fd18a143de72a7fd08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac452a63f6ff0d7fd18a143de72a7fd08">&#9670;&#160;</a></span>mg_request_handler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* mg_request_handler) (struct <a class="el" href="structmg__connection.html">mg_connection</a> *conn, void *cbdata)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8h_source.html#l00492">492</a> of file <a class="el" href="civetweb_8h_source.html">civetweb.h</a>.</p>

</div>
</div>
<a id="a11f18a1c01860c3928019a829cae3ba6" name="a11f18a1c01860c3928019a829cae3ba6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11f18a1c01860c3928019a829cae3ba6">&#9670;&#160;</a></span>mg_thread_func_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void *(* mg_thread_func_t) (void *)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8h_source.html#l01307">1307</a> of file <a class="el" href="civetweb_8h_source.html">civetweb.h</a>.</p>

</div>
</div>
<a id="ad7e7633a49e5a5e748b0c8bdb22c336d" name="ad7e7633a49e5a5e748b0c8bdb22c336d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7e7633a49e5a5e748b0c8bdb22c336d">&#9670;&#160;</a></span>mg_websocket_close_handler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* mg_websocket_close_handler) (const struct <a class="el" href="structmg__connection.html">mg_connection</a> *, void *)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8h_source.html#l00555">555</a> of file <a class="el" href="civetweb_8h_source.html">civetweb.h</a>.</p>

</div>
</div>
<a id="ae1e201a8ea4f6895a8cc4e2e2c58da03" name="ae1e201a8ea4f6895a8cc4e2e2c58da03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1e201a8ea4f6895a8cc4e2e2c58da03">&#9670;&#160;</a></span>mg_websocket_connect_handler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* mg_websocket_connect_handler) (const struct <a class="el" href="structmg__connection.html">mg_connection</a> *, void *)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8h_source.html#l00547">547</a> of file <a class="el" href="civetweb_8h_source.html">civetweb.h</a>.</p>

</div>
</div>
<a id="ac0e8e90ed1e8b0af95b9a940f6fee3a9" name="ac0e8e90ed1e8b0af95b9a940f6fee3a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0e8e90ed1e8b0af95b9a940f6fee3a9">&#9670;&#160;</a></span>mg_websocket_data_handler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* mg_websocket_data_handler) (struct <a class="el" href="structmg__connection.html">mg_connection</a> *, int, char *, size_t, void *)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8h_source.html#l00550">550</a> of file <a class="el" href="civetweb_8h_source.html">civetweb.h</a>.</p>

</div>
</div>
<a id="a5b940f052d5de72f651a9a1e810bed0f" name="a5b940f052d5de72f651a9a1e810bed0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b940f052d5de72f651a9a1e810bed0f">&#9670;&#160;</a></span>mg_websocket_ready_handler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* mg_websocket_ready_handler) (struct <a class="el" href="structmg__connection.html">mg_connection</a> *, void *)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8h_source.html#l00549">549</a> of file <a class="el" href="civetweb_8h_source.html">civetweb.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a385c44f6fb256e5716a2302a5b940388" name="a385c44f6fb256e5716a2302a5b940388"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a385c44f6fb256e5716a2302a5b940388">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a385c44f6fb256e5716a2302a5b940388a93f1dd7e1e0e4e631f649dc2a0f6af58" name="a385c44f6fb256e5716a2302a5b940388a93f1dd7e1e0e4e631f649dc2a0f6af58"></a>MG_FORM_FIELD_STORAGE_SKIP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a385c44f6fb256e5716a2302a5b940388a39d1bc3d0bbe4a4d37820a4930f0e173" name="a385c44f6fb256e5716a2302a5b940388a39d1bc3d0bbe4a4d37820a4930f0e173"></a>MG_FORM_FIELD_STORAGE_GET&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a385c44f6fb256e5716a2302a5b940388a7a7bfa5e7377ef2803d812c682a3da66" name="a385c44f6fb256e5716a2302a5b940388a7a7bfa5e7377ef2803d812c682a3da66"></a>MG_FORM_FIELD_STORAGE_STORE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a385c44f6fb256e5716a2302a5b940388a522e745bb497391254b6e316b5a27dd7" name="a385c44f6fb256e5716a2302a5b940388a522e745bb497391254b6e316b5a27dd7"></a>MG_FORM_FIELD_STORAGE_ABORT&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="civetweb_8h_source.html#l01270">1270</a> of file <a class="el" href="civetweb_8h_source.html">civetweb.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1270</span>     {</div>
<div class="line"><span class="lineno"> 1271</span>    <span class="comment">/* Skip this field (neither get nor store it). Continue with the</span></div>
<div class="line"><span class="lineno"> 1272</span><span class="comment">     * next field. */</span></div>
<div class="line"><span class="lineno"> 1273</span>    <a class="code hl_enumvalue" href="#a385c44f6fb256e5716a2302a5b940388a93f1dd7e1e0e4e631f649dc2a0f6af58">MG_FORM_FIELD_STORAGE_SKIP</a> = 0x0,</div>
<div class="line"><span class="lineno"> 1274</span>    <span class="comment">/* Get the field value. */</span></div>
<div class="line"><span class="lineno"> 1275</span>    <a class="code hl_enumvalue" href="#a385c44f6fb256e5716a2302a5b940388a39d1bc3d0bbe4a4d37820a4930f0e173">MG_FORM_FIELD_STORAGE_GET</a> = 0x1,</div>
<div class="line"><span class="lineno"> 1276</span>    <span class="comment">/* Store the field value into a file. */</span></div>
<div class="line"><span class="lineno"> 1277</span>    <a class="code hl_enumvalue" href="#a385c44f6fb256e5716a2302a5b940388a7a7bfa5e7377ef2803d812c682a3da66">MG_FORM_FIELD_STORAGE_STORE</a> = 0x2,</div>
<div class="line"><span class="lineno"> 1278</span>    <span class="comment">/* Stop parsing this request. Skip the remaining fields. */</span></div>
<div class="line"><span class="lineno"> 1279</span>    <a class="code hl_enumvalue" href="#a385c44f6fb256e5716a2302a5b940388a522e745bb497391254b6e316b5a27dd7">MG_FORM_FIELD_STORAGE_ABORT</a> = 0x10</div>
<div class="line"><span class="lineno"> 1280</span>};</div>
<div class="ttc" id="acivetweb_8h_html_a385c44f6fb256e5716a2302a5b940388a39d1bc3d0bbe4a4d37820a4930f0e173"><div class="ttname"><a href="#a385c44f6fb256e5716a2302a5b940388a39d1bc3d0bbe4a4d37820a4930f0e173">MG_FORM_FIELD_STORAGE_GET</a></div><div class="ttdeci">@ MG_FORM_FIELD_STORAGE_GET</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01275">civetweb.h:1275</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a385c44f6fb256e5716a2302a5b940388a522e745bb497391254b6e316b5a27dd7"><div class="ttname"><a href="#a385c44f6fb256e5716a2302a5b940388a522e745bb497391254b6e316b5a27dd7">MG_FORM_FIELD_STORAGE_ABORT</a></div><div class="ttdeci">@ MG_FORM_FIELD_STORAGE_ABORT</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01280">civetweb.h:1279</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a385c44f6fb256e5716a2302a5b940388a7a7bfa5e7377ef2803d812c682a3da66"><div class="ttname"><a href="#a385c44f6fb256e5716a2302a5b940388a7a7bfa5e7377ef2803d812c682a3da66">MG_FORM_FIELD_STORAGE_STORE</a></div><div class="ttdeci">@ MG_FORM_FIELD_STORAGE_STORE</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01277">civetweb.h:1277</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a385c44f6fb256e5716a2302a5b940388a93f1dd7e1e0e4e631f649dc2a0f6af58"><div class="ttname"><a href="#a385c44f6fb256e5716a2302a5b940388a93f1dd7e1e0e4e631f649dc2a0f6af58">MG_FORM_FIELD_STORAGE_SKIP</a></div><div class="ttdeci">@ MG_FORM_FIELD_STORAGE_SKIP</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01273">civetweb.h:1273</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abc5c98fcc1211af2b80116dd6e0a035d" name="abc5c98fcc1211af2b80116dd6e0a035d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc5c98fcc1211af2b80116dd6e0a035d">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="abc5c98fcc1211af2b80116dd6e0a035dab622e0ff83cb53f45032b8c8c8e71414" name="abc5c98fcc1211af2b80116dd6e0a035dab622e0ff83cb53f45032b8c8c8e71414"></a>MG_FORM_FIELD_HANDLE_GET&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abc5c98fcc1211af2b80116dd6e0a035da7d4b6bab41141a877c2ebc7d84a6d0e1" name="abc5c98fcc1211af2b80116dd6e0a035da7d4b6bab41141a877c2ebc7d84a6d0e1"></a>MG_FORM_FIELD_HANDLE_NEXT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abc5c98fcc1211af2b80116dd6e0a035dace39d55d0a23bf473681fa478c02320d" name="abc5c98fcc1211af2b80116dd6e0a035dace39d55d0a23bf473681fa478c02320d"></a>MG_FORM_FIELD_HANDLE_ABORT&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="civetweb_8h_source.html#l01283">1283</a> of file <a class="el" href="civetweb_8h_source.html">civetweb.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1283</span>     {</div>
<div class="line"><span class="lineno"> 1284</span>    <span class="comment">/* Only &quot;field_get&quot;: If there is more data in this field, get the next</span></div>
<div class="line"><span class="lineno"> 1285</span><span class="comment">     * chunk. Otherwise: handle the next field. */</span></div>
<div class="line"><span class="lineno"> 1286</span>    <a class="code hl_enumvalue" href="#abc5c98fcc1211af2b80116dd6e0a035dab622e0ff83cb53f45032b8c8c8e71414">MG_FORM_FIELD_HANDLE_GET</a> = 0x1,</div>
<div class="line"><span class="lineno"> 1287</span>    <span class="comment">/* Handle the next field */</span></div>
<div class="line"><span class="lineno"> 1288</span>    <a class="code hl_enumvalue" href="#abc5c98fcc1211af2b80116dd6e0a035da7d4b6bab41141a877c2ebc7d84a6d0e1">MG_FORM_FIELD_HANDLE_NEXT</a> = 0x8,</div>
<div class="line"><span class="lineno"> 1289</span>    <span class="comment">/* Stop parsing this request */</span></div>
<div class="line"><span class="lineno"> 1290</span>    <a class="code hl_enumvalue" href="#abc5c98fcc1211af2b80116dd6e0a035dace39d55d0a23bf473681fa478c02320d">MG_FORM_FIELD_HANDLE_ABORT</a> = 0x10</div>
<div class="line"><span class="lineno"> 1291</span>};</div>
<div class="ttc" id="acivetweb_8h_html_abc5c98fcc1211af2b80116dd6e0a035da7d4b6bab41141a877c2ebc7d84a6d0e1"><div class="ttname"><a href="#abc5c98fcc1211af2b80116dd6e0a035da7d4b6bab41141a877c2ebc7d84a6d0e1">MG_FORM_FIELD_HANDLE_NEXT</a></div><div class="ttdeci">@ MG_FORM_FIELD_HANDLE_NEXT</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01288">civetweb.h:1288</a></div></div>
<div class="ttc" id="acivetweb_8h_html_abc5c98fcc1211af2b80116dd6e0a035dab622e0ff83cb53f45032b8c8c8e71414"><div class="ttname"><a href="#abc5c98fcc1211af2b80116dd6e0a035dab622e0ff83cb53f45032b8c8c8e71414">MG_FORM_FIELD_HANDLE_GET</a></div><div class="ttdeci">@ MG_FORM_FIELD_HANDLE_GET</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01286">civetweb.h:1286</a></div></div>
<div class="ttc" id="acivetweb_8h_html_abc5c98fcc1211af2b80116dd6e0a035dace39d55d0a23bf473681fa478c02320d"><div class="ttname"><a href="#abc5c98fcc1211af2b80116dd6e0a035dace39d55d0a23bf473681fa478c02320d">MG_FORM_FIELD_HANDLE_ABORT</a></div><div class="ttdeci">@ MG_FORM_FIELD_HANDLE_ABORT</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01291">civetweb.h:1290</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac36f475ca5b446f4fde4c9b90bec77c8" name="ac36f475ca5b446f4fde4c9b90bec77c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac36f475ca5b446f4fde4c9b90bec77c8">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ac36f475ca5b446f4fde4c9b90bec77c8a1515219c91583f8a1ee4d472ae800d57" name="ac36f475ca5b446f4fde4c9b90bec77c8a1515219c91583f8a1ee4d472ae800d57"></a>MG_TIMEOUT_INFINITE&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="civetweb_8h_source.html#l01524">1524</a> of file <a class="el" href="civetweb_8h_source.html">civetweb.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1524</span>{ <a class="code hl_enumvalue" href="#ac36f475ca5b446f4fde4c9b90bec77c8a1515219c91583f8a1ee4d472ae800d57">MG_TIMEOUT_INFINITE</a> = -1 };</div>
<div class="ttc" id="acivetweb_8h_html_ac36f475ca5b446f4fde4c9b90bec77c8a1515219c91583f8a1ee4d472ae800d57"><div class="ttname"><a href="#ac36f475ca5b446f4fde4c9b90bec77c8a1515219c91583f8a1ee4d472ae800d57">MG_TIMEOUT_INFINITE</a></div><div class="ttdeci">@ MG_TIMEOUT_INFINITE</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01524">civetweb.h:1524</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a05589fbab0657f08285ebdfe93f5ec9e" name="a05589fbab0657f08285ebdfe93f5ec9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05589fbab0657f08285ebdfe93f5ec9e">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a05589fbab0657f08285ebdfe93f5ec9ea6f2b13fd162f7422b5ff4e6dc317e650" name="a05589fbab0657f08285ebdfe93f5ec9ea6f2b13fd162f7422b5ff4e6dc317e650"></a>MG_ERROR_DATA_CODE_OK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a05589fbab0657f08285ebdfe93f5ec9eac88d510f7057b262ab4931fa17bd12d8" name="a05589fbab0657f08285ebdfe93f5ec9eac88d510f7057b262ab4931fa17bd12d8"></a>MG_ERROR_DATA_CODE_INVALID_PARAM&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a05589fbab0657f08285ebdfe93f5ec9ea7fc609256283dbb6d75046dc307f38cc" name="a05589fbab0657f08285ebdfe93f5ec9ea7fc609256283dbb6d75046dc307f38cc"></a>MG_ERROR_DATA_CODE_INVALID_OPTION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a05589fbab0657f08285ebdfe93f5ec9ead5f94e3f9ddc28c9d4a05f18bed659c7" name="a05589fbab0657f08285ebdfe93f5ec9ead5f94e3f9ddc28c9d4a05f18bed659c7"></a>MG_ERROR_DATA_CODE_INIT_TLS_FAILED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a05589fbab0657f08285ebdfe93f5ec9ea50ff3faabf936dfe44447e80289c57c3" name="a05589fbab0657f08285ebdfe93f5ec9ea50ff3faabf936dfe44447e80289c57c3"></a>MG_ERROR_DATA_CODE_MISSING_OPTION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a05589fbab0657f08285ebdfe93f5ec9ea6f5aa810d39bc339497eba62fb401785" name="a05589fbab0657f08285ebdfe93f5ec9ea6f5aa810d39bc339497eba62fb401785"></a>MG_ERROR_DATA_CODE_DUPLICATE_DOMAIN&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a05589fbab0657f08285ebdfe93f5ec9ead54ef9d63e339f4c05c12cb56564e319" name="a05589fbab0657f08285ebdfe93f5ec9ead54ef9d63e339f4c05c12cb56564e319"></a>MG_ERROR_DATA_CODE_OUT_OF_MEMORY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a05589fbab0657f08285ebdfe93f5ec9eae05172a302f4cb45bf87aea55ec6cdc6" name="a05589fbab0657f08285ebdfe93f5ec9eae05172a302f4cb45bf87aea55ec6cdc6"></a>MG_ERROR_DATA_CODE_SERVER_STOPPED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a05589fbab0657f08285ebdfe93f5ec9ea352663dbd53fd8f4dfcf80887961c7e4" name="a05589fbab0657f08285ebdfe93f5ec9ea352663dbd53fd8f4dfcf80887961c7e4"></a>MG_ERROR_DATA_CODE_INIT_LIBRARY_FAILED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a05589fbab0657f08285ebdfe93f5ec9ea4ec7bbc93f6f6d5d1f91b2bda132b7f6" name="a05589fbab0657f08285ebdfe93f5ec9ea4ec7bbc93f6f6d5d1f91b2bda132b7f6"></a>MG_ERROR_DATA_CODE_OS_ERROR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a05589fbab0657f08285ebdfe93f5ec9eab450ab40c3dc55b101012568d07d6ccc" name="a05589fbab0657f08285ebdfe93f5ec9eab450ab40c3dc55b101012568d07d6ccc"></a>MG_ERROR_DATA_CODE_INIT_PORTS_FAILED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a05589fbab0657f08285ebdfe93f5ec9ead9cfc7dc6349cd93cd1530cf59a8fa21" name="a05589fbab0657f08285ebdfe93f5ec9ead9cfc7dc6349cd93cd1530cf59a8fa21"></a>MG_ERROR_DATA_CODE_INIT_USER_FAILED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a05589fbab0657f08285ebdfe93f5ec9ea9d7507f92b0660c66f03dd89210a8740" name="a05589fbab0657f08285ebdfe93f5ec9ea9d7507f92b0660c66f03dd89210a8740"></a>MG_ERROR_DATA_CODE_INIT_ACL_FAILED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a05589fbab0657f08285ebdfe93f5ec9eae33de5d81924866d43155b8a3531135f" name="a05589fbab0657f08285ebdfe93f5ec9eae33de5d81924866d43155b8a3531135f"></a>MG_ERROR_DATA_CODE_INVALID_PASS_FILE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a05589fbab0657f08285ebdfe93f5ec9eaa90fd2d35bca54ead229eac4bad9b02d" name="a05589fbab0657f08285ebdfe93f5ec9eaa90fd2d35bca54ead229eac4bad9b02d"></a>MG_ERROR_DATA_CODE_SCRIPT_ERROR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a05589fbab0657f08285ebdfe93f5ec9ead55df55a4cb29a0171081362e2ba6e2e" name="a05589fbab0657f08285ebdfe93f5ec9ead55df55a4cb29a0171081362e2ba6e2e"></a>MG_ERROR_DATA_CODE_HOST_NOT_FOUND&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a05589fbab0657f08285ebdfe93f5ec9eab3dad203f6b87c5def4c7bc16085d8b1" name="a05589fbab0657f08285ebdfe93f5ec9eab3dad203f6b87c5def4c7bc16085d8b1"></a>MG_ERROR_DATA_CODE_CONNECT_TIMEOUT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a05589fbab0657f08285ebdfe93f5ec9ea5b03c913ece04130cb582c88ae994f69" name="a05589fbab0657f08285ebdfe93f5ec9ea5b03c913ece04130cb582c88ae994f69"></a>MG_ERROR_DATA_CODE_CONNECT_FAILED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a05589fbab0657f08285ebdfe93f5ec9eaecf7f3126fc1b6947b427962f8018b93" name="a05589fbab0657f08285ebdfe93f5ec9eaecf7f3126fc1b6947b427962f8018b93"></a>MG_ERROR_DATA_CODE_TLS_CLIENT_CERT_ERROR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a05589fbab0657f08285ebdfe93f5ec9ea972160ef063d2c1c3a712d616860272e" name="a05589fbab0657f08285ebdfe93f5ec9ea972160ef063d2c1c3a712d616860272e"></a>MG_ERROR_DATA_CODE_TLS_SERVER_CERT_ERROR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a05589fbab0657f08285ebdfe93f5ec9ea2874806b86f32e40ef428caa15d27c08" name="a05589fbab0657f08285ebdfe93f5ec9ea2874806b86f32e40ef428caa15d27c08"></a>MG_ERROR_DATA_CODE_TLS_CONNECT_ERROR&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="civetweb_8h_source.html#l01732">1732</a> of file <a class="el" href="civetweb_8h_source.html">civetweb.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1732</span>     {</div>
<div class="line"><span class="lineno"> 1733</span>    <span class="comment">/* No error */</span></div>
<div class="line"><span class="lineno"> 1734</span>    <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea6f2b13fd162f7422b5ff4e6dc317e650">MG_ERROR_DATA_CODE_OK</a> = 0u,</div>
<div class="line"><span class="lineno"> 1735</span> </div>
<div class="line"><span class="lineno"> 1736</span>    <span class="comment">/* Caller provided invalid parameter */</span></div>
<div class="line"><span class="lineno"> 1737</span>    <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9eac88d510f7057b262ab4931fa17bd12d8">MG_ERROR_DATA_CODE_INVALID_PARAM</a> = 1u,</div>
<div class="line"><span class="lineno"> 1738</span> </div>
<div class="line"><span class="lineno"> 1739</span>    <span class="comment">/* &quot;configuration_option&quot; contains invalid element */</span></div>
<div class="line"><span class="lineno"> 1740</span>    <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea7fc609256283dbb6d75046dc307f38cc">MG_ERROR_DATA_CODE_INVALID_OPTION</a> = 2u,</div>
<div class="line"><span class="lineno"> 1741</span> </div>
<div class="line"><span class="lineno"> 1742</span>    <span class="comment">/* Initializen TLS / SSL library failed */</span></div>
<div class="line"><span class="lineno"> 1743</span>    <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ead5f94e3f9ddc28c9d4a05f18bed659c7">MG_ERROR_DATA_CODE_INIT_TLS_FAILED</a> = 3u,</div>
<div class="line"><span class="lineno"> 1744</span> </div>
<div class="line"><span class="lineno"> 1745</span>    <span class="comment">/* Mandatory &quot;configuration_option&quot; missing */</span></div>
<div class="line"><span class="lineno"> 1746</span>    <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea50ff3faabf936dfe44447e80289c57c3">MG_ERROR_DATA_CODE_MISSING_OPTION</a> = 4u,</div>
<div class="line"><span class="lineno"> 1747</span> </div>
<div class="line"><span class="lineno"> 1748</span>    <span class="comment">/* Duplicate &quot;authentication_domain&quot; option */</span></div>
<div class="line"><span class="lineno"> 1749</span>    <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea6f5aa810d39bc339497eba62fb401785">MG_ERROR_DATA_CODE_DUPLICATE_DOMAIN</a> = 5u,</div>
<div class="line"><span class="lineno"> 1750</span> </div>
<div class="line"><span class="lineno"> 1751</span>    <span class="comment">/* Not enough memory */</span></div>
<div class="line"><span class="lineno"> 1752</span>    <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ead54ef9d63e339f4c05c12cb56564e319">MG_ERROR_DATA_CODE_OUT_OF_MEMORY</a> = 6u,</div>
<div class="line"><span class="lineno"> 1753</span> </div>
<div class="line"><span class="lineno"> 1754</span>    <span class="comment">/* Server already stopped */</span></div>
<div class="line"><span class="lineno"> 1755</span>    <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9eae05172a302f4cb45bf87aea55ec6cdc6">MG_ERROR_DATA_CODE_SERVER_STOPPED</a> = 7u,</div>
<div class="line"><span class="lineno"> 1756</span> </div>
<div class="line"><span class="lineno"> 1757</span>    <span class="comment">/* mg_init_library must be called first */</span></div>
<div class="line"><span class="lineno"> 1758</span>    <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea352663dbd53fd8f4dfcf80887961c7e4">MG_ERROR_DATA_CODE_INIT_LIBRARY_FAILED</a> = 8u,</div>
<div class="line"><span class="lineno"> 1759</span> </div>
<div class="line"><span class="lineno"> 1760</span>    <span class="comment">/* Operating system function failed */</span></div>
<div class="line"><span class="lineno"> 1761</span>    <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea4ec7bbc93f6f6d5d1f91b2bda132b7f6">MG_ERROR_DATA_CODE_OS_ERROR</a> = 9u,</div>
<div class="line"><span class="lineno"> 1762</span> </div>
<div class="line"><span class="lineno"> 1763</span>    <span class="comment">/* Failed to bind to server ports */</span></div>
<div class="line"><span class="lineno"> 1764</span>    <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9eab450ab40c3dc55b101012568d07d6ccc">MG_ERROR_DATA_CODE_INIT_PORTS_FAILED</a> = 10u,</div>
<div class="line"><span class="lineno"> 1765</span> </div>
<div class="line"><span class="lineno"> 1766</span>    <span class="comment">/* Failed to switch user (option &quot;run_as_user&quot;) */</span></div>
<div class="line"><span class="lineno"> 1767</span>    <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ead9cfc7dc6349cd93cd1530cf59a8fa21">MG_ERROR_DATA_CODE_INIT_USER_FAILED</a> = 11u,</div>
<div class="line"><span class="lineno"> 1768</span> </div>
<div class="line"><span class="lineno"> 1769</span>    <span class="comment">/* Access Control List error */</span></div>
<div class="line"><span class="lineno"> 1770</span>    <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea9d7507f92b0660c66f03dd89210a8740">MG_ERROR_DATA_CODE_INIT_ACL_FAILED</a> = 12u,</div>
<div class="line"><span class="lineno"> 1771</span> </div>
<div class="line"><span class="lineno"> 1772</span>    <span class="comment">/* Global password file error */</span></div>
<div class="line"><span class="lineno"> 1773</span>    <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9eae33de5d81924866d43155b8a3531135f">MG_ERROR_DATA_CODE_INVALID_PASS_FILE</a> = 13u,</div>
<div class="line"><span class="lineno"> 1774</span> </div>
<div class="line"><span class="lineno"> 1775</span>    <span class="comment">/* Lua background script init error */</span></div>
<div class="line"><span class="lineno"> 1776</span>    <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9eaa90fd2d35bca54ead229eac4bad9b02d">MG_ERROR_DATA_CODE_SCRIPT_ERROR</a> = 14u,</div>
<div class="line"><span class="lineno"> 1777</span> </div>
<div class="line"><span class="lineno"> 1778</span>    <span class="comment">/* Client: Host not found, invalid IP to connect */</span></div>
<div class="line"><span class="lineno"> 1779</span>    <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ead55df55a4cb29a0171081362e2ba6e2e">MG_ERROR_DATA_CODE_HOST_NOT_FOUND</a> = 15u,</div>
<div class="line"><span class="lineno"> 1780</span> </div>
<div class="line"><span class="lineno"> 1781</span>    <span class="comment">/* Client: TCP connect timeout */</span></div>
<div class="line"><span class="lineno"> 1782</span>    <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9eab3dad203f6b87c5def4c7bc16085d8b1">MG_ERROR_DATA_CODE_CONNECT_TIMEOUT</a> = 16u,</div>
<div class="line"><span class="lineno"> 1783</span> </div>
<div class="line"><span class="lineno"> 1784</span>    <span class="comment">/* Client: TCP connect failed */</span></div>
<div class="line"><span class="lineno"> 1785</span>    <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea5b03c913ece04130cb582c88ae994f69">MG_ERROR_DATA_CODE_CONNECT_FAILED</a> = 17u,</div>
<div class="line"><span class="lineno"> 1786</span> </div>
<div class="line"><span class="lineno"> 1787</span>    <span class="comment">/* Error using TLS client certificate */</span></div>
<div class="line"><span class="lineno"> 1788</span>    <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9eaecf7f3126fc1b6947b427962f8018b93">MG_ERROR_DATA_CODE_TLS_CLIENT_CERT_ERROR</a> = 18u,</div>
<div class="line"><span class="lineno"> 1789</span> </div>
<div class="line"><span class="lineno"> 1790</span>    <span class="comment">/* Error setting trusted TLS server certificate for client connection */</span></div>
<div class="line"><span class="lineno"> 1791</span>    <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea972160ef063d2c1c3a712d616860272e">MG_ERROR_DATA_CODE_TLS_SERVER_CERT_ERROR</a> = 19u,</div>
<div class="line"><span class="lineno"> 1792</span> </div>
<div class="line"><span class="lineno"> 1793</span>    <span class="comment">/* Error establishing TLS connection to HTTPS server */</span></div>
<div class="line"><span class="lineno"> 1794</span>    <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea2874806b86f32e40ef428caa15d27c08">MG_ERROR_DATA_CODE_TLS_CONNECT_ERROR</a> = 20u</div>
<div class="line"><span class="lineno"> 1795</span>};</div>
<div class="ttc" id="acivetweb_8h_html_a05589fbab0657f08285ebdfe93f5ec9ea2874806b86f32e40ef428caa15d27c08"><div class="ttname"><a href="#a05589fbab0657f08285ebdfe93f5ec9ea2874806b86f32e40ef428caa15d27c08">MG_ERROR_DATA_CODE_TLS_CONNECT_ERROR</a></div><div class="ttdeci">@ MG_ERROR_DATA_CODE_TLS_CONNECT_ERROR</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01795">civetweb.h:1794</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a05589fbab0657f08285ebdfe93f5ec9ea352663dbd53fd8f4dfcf80887961c7e4"><div class="ttname"><a href="#a05589fbab0657f08285ebdfe93f5ec9ea352663dbd53fd8f4dfcf80887961c7e4">MG_ERROR_DATA_CODE_INIT_LIBRARY_FAILED</a></div><div class="ttdeci">@ MG_ERROR_DATA_CODE_INIT_LIBRARY_FAILED</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01758">civetweb.h:1758</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a05589fbab0657f08285ebdfe93f5ec9ea4ec7bbc93f6f6d5d1f91b2bda132b7f6"><div class="ttname"><a href="#a05589fbab0657f08285ebdfe93f5ec9ea4ec7bbc93f6f6d5d1f91b2bda132b7f6">MG_ERROR_DATA_CODE_OS_ERROR</a></div><div class="ttdeci">@ MG_ERROR_DATA_CODE_OS_ERROR</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01761">civetweb.h:1761</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a05589fbab0657f08285ebdfe93f5ec9ea50ff3faabf936dfe44447e80289c57c3"><div class="ttname"><a href="#a05589fbab0657f08285ebdfe93f5ec9ea50ff3faabf936dfe44447e80289c57c3">MG_ERROR_DATA_CODE_MISSING_OPTION</a></div><div class="ttdeci">@ MG_ERROR_DATA_CODE_MISSING_OPTION</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01746">civetweb.h:1746</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a05589fbab0657f08285ebdfe93f5ec9ea5b03c913ece04130cb582c88ae994f69"><div class="ttname"><a href="#a05589fbab0657f08285ebdfe93f5ec9ea5b03c913ece04130cb582c88ae994f69">MG_ERROR_DATA_CODE_CONNECT_FAILED</a></div><div class="ttdeci">@ MG_ERROR_DATA_CODE_CONNECT_FAILED</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01785">civetweb.h:1785</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a05589fbab0657f08285ebdfe93f5ec9ea6f2b13fd162f7422b5ff4e6dc317e650"><div class="ttname"><a href="#a05589fbab0657f08285ebdfe93f5ec9ea6f2b13fd162f7422b5ff4e6dc317e650">MG_ERROR_DATA_CODE_OK</a></div><div class="ttdeci">@ MG_ERROR_DATA_CODE_OK</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01734">civetweb.h:1734</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a05589fbab0657f08285ebdfe93f5ec9ea6f5aa810d39bc339497eba62fb401785"><div class="ttname"><a href="#a05589fbab0657f08285ebdfe93f5ec9ea6f5aa810d39bc339497eba62fb401785">MG_ERROR_DATA_CODE_DUPLICATE_DOMAIN</a></div><div class="ttdeci">@ MG_ERROR_DATA_CODE_DUPLICATE_DOMAIN</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01749">civetweb.h:1749</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a05589fbab0657f08285ebdfe93f5ec9ea7fc609256283dbb6d75046dc307f38cc"><div class="ttname"><a href="#a05589fbab0657f08285ebdfe93f5ec9ea7fc609256283dbb6d75046dc307f38cc">MG_ERROR_DATA_CODE_INVALID_OPTION</a></div><div class="ttdeci">@ MG_ERROR_DATA_CODE_INVALID_OPTION</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01740">civetweb.h:1740</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a05589fbab0657f08285ebdfe93f5ec9ea972160ef063d2c1c3a712d616860272e"><div class="ttname"><a href="#a05589fbab0657f08285ebdfe93f5ec9ea972160ef063d2c1c3a712d616860272e">MG_ERROR_DATA_CODE_TLS_SERVER_CERT_ERROR</a></div><div class="ttdeci">@ MG_ERROR_DATA_CODE_TLS_SERVER_CERT_ERROR</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01791">civetweb.h:1791</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a05589fbab0657f08285ebdfe93f5ec9ea9d7507f92b0660c66f03dd89210a8740"><div class="ttname"><a href="#a05589fbab0657f08285ebdfe93f5ec9ea9d7507f92b0660c66f03dd89210a8740">MG_ERROR_DATA_CODE_INIT_ACL_FAILED</a></div><div class="ttdeci">@ MG_ERROR_DATA_CODE_INIT_ACL_FAILED</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01770">civetweb.h:1770</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a05589fbab0657f08285ebdfe93f5ec9eaa90fd2d35bca54ead229eac4bad9b02d"><div class="ttname"><a href="#a05589fbab0657f08285ebdfe93f5ec9eaa90fd2d35bca54ead229eac4bad9b02d">MG_ERROR_DATA_CODE_SCRIPT_ERROR</a></div><div class="ttdeci">@ MG_ERROR_DATA_CODE_SCRIPT_ERROR</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01776">civetweb.h:1776</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a05589fbab0657f08285ebdfe93f5ec9eab3dad203f6b87c5def4c7bc16085d8b1"><div class="ttname"><a href="#a05589fbab0657f08285ebdfe93f5ec9eab3dad203f6b87c5def4c7bc16085d8b1">MG_ERROR_DATA_CODE_CONNECT_TIMEOUT</a></div><div class="ttdeci">@ MG_ERROR_DATA_CODE_CONNECT_TIMEOUT</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01782">civetweb.h:1782</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a05589fbab0657f08285ebdfe93f5ec9eab450ab40c3dc55b101012568d07d6ccc"><div class="ttname"><a href="#a05589fbab0657f08285ebdfe93f5ec9eab450ab40c3dc55b101012568d07d6ccc">MG_ERROR_DATA_CODE_INIT_PORTS_FAILED</a></div><div class="ttdeci">@ MG_ERROR_DATA_CODE_INIT_PORTS_FAILED</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01764">civetweb.h:1764</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a05589fbab0657f08285ebdfe93f5ec9eac88d510f7057b262ab4931fa17bd12d8"><div class="ttname"><a href="#a05589fbab0657f08285ebdfe93f5ec9eac88d510f7057b262ab4931fa17bd12d8">MG_ERROR_DATA_CODE_INVALID_PARAM</a></div><div class="ttdeci">@ MG_ERROR_DATA_CODE_INVALID_PARAM</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01737">civetweb.h:1737</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a05589fbab0657f08285ebdfe93f5ec9ead54ef9d63e339f4c05c12cb56564e319"><div class="ttname"><a href="#a05589fbab0657f08285ebdfe93f5ec9ead54ef9d63e339f4c05c12cb56564e319">MG_ERROR_DATA_CODE_OUT_OF_MEMORY</a></div><div class="ttdeci">@ MG_ERROR_DATA_CODE_OUT_OF_MEMORY</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01752">civetweb.h:1752</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a05589fbab0657f08285ebdfe93f5ec9ead55df55a4cb29a0171081362e2ba6e2e"><div class="ttname"><a href="#a05589fbab0657f08285ebdfe93f5ec9ead55df55a4cb29a0171081362e2ba6e2e">MG_ERROR_DATA_CODE_HOST_NOT_FOUND</a></div><div class="ttdeci">@ MG_ERROR_DATA_CODE_HOST_NOT_FOUND</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01779">civetweb.h:1779</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a05589fbab0657f08285ebdfe93f5ec9ead5f94e3f9ddc28c9d4a05f18bed659c7"><div class="ttname"><a href="#a05589fbab0657f08285ebdfe93f5ec9ead5f94e3f9ddc28c9d4a05f18bed659c7">MG_ERROR_DATA_CODE_INIT_TLS_FAILED</a></div><div class="ttdeci">@ MG_ERROR_DATA_CODE_INIT_TLS_FAILED</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01743">civetweb.h:1743</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a05589fbab0657f08285ebdfe93f5ec9ead9cfc7dc6349cd93cd1530cf59a8fa21"><div class="ttname"><a href="#a05589fbab0657f08285ebdfe93f5ec9ead9cfc7dc6349cd93cd1530cf59a8fa21">MG_ERROR_DATA_CODE_INIT_USER_FAILED</a></div><div class="ttdeci">@ MG_ERROR_DATA_CODE_INIT_USER_FAILED</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01767">civetweb.h:1767</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a05589fbab0657f08285ebdfe93f5ec9eae05172a302f4cb45bf87aea55ec6cdc6"><div class="ttname"><a href="#a05589fbab0657f08285ebdfe93f5ec9eae05172a302f4cb45bf87aea55ec6cdc6">MG_ERROR_DATA_CODE_SERVER_STOPPED</a></div><div class="ttdeci">@ MG_ERROR_DATA_CODE_SERVER_STOPPED</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01755">civetweb.h:1755</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a05589fbab0657f08285ebdfe93f5ec9eae33de5d81924866d43155b8a3531135f"><div class="ttname"><a href="#a05589fbab0657f08285ebdfe93f5ec9eae33de5d81924866d43155b8a3531135f">MG_ERROR_DATA_CODE_INVALID_PASS_FILE</a></div><div class="ttdeci">@ MG_ERROR_DATA_CODE_INVALID_PASS_FILE</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01773">civetweb.h:1773</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a05589fbab0657f08285ebdfe93f5ec9eaecf7f3126fc1b6947b427962f8018b93"><div class="ttname"><a href="#a05589fbab0657f08285ebdfe93f5ec9eaecf7f3126fc1b6947b427962f8018b93">MG_ERROR_DATA_CODE_TLS_CLIENT_CERT_ERROR</a></div><div class="ttdeci">@ MG_ERROR_DATA_CODE_TLS_CLIENT_CERT_ERROR</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01788">civetweb.h:1788</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0411cd49bb5b71852cecd93bcbf0ca2d" name="a0411cd49bb5b71852cecd93bcbf0ca2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0411cd49bb5b71852cecd93bcbf0ca2d">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a0411cd49bb5b71852cecd93bcbf0ca2da8c5ba5c3477db3ee940a77a9364a4b5b" name="a0411cd49bb5b71852cecd93bcbf0ca2da8c5ba5c3477db3ee940a77a9364a4b5b"></a>MG_FEATURES_DEFAULT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0411cd49bb5b71852cecd93bcbf0ca2da79f7476503d279aebb8e29415c310ba1" name="a0411cd49bb5b71852cecd93bcbf0ca2da79f7476503d279aebb8e29415c310ba1"></a>MG_FEATURES_FILES&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0411cd49bb5b71852cecd93bcbf0ca2da976c9faad41b9bc5c161c37d8e4c72ec" name="a0411cd49bb5b71852cecd93bcbf0ca2da976c9faad41b9bc5c161c37d8e4c72ec"></a>MG_FEATURES_TLS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0411cd49bb5b71852cecd93bcbf0ca2daba4b4d11dd0dec1ba0833f0bb1de2b0e" name="a0411cd49bb5b71852cecd93bcbf0ca2daba4b4d11dd0dec1ba0833f0bb1de2b0e"></a>MG_FEATURES_SSL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0411cd49bb5b71852cecd93bcbf0ca2da84fc7ef257026875a66d71eddd99a52a" name="a0411cd49bb5b71852cecd93bcbf0ca2da84fc7ef257026875a66d71eddd99a52a"></a>MG_FEATURES_CGI&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0411cd49bb5b71852cecd93bcbf0ca2da899e17934638eaac9928e3ca39c4b4ba" name="a0411cd49bb5b71852cecd93bcbf0ca2da899e17934638eaac9928e3ca39c4b4ba"></a>MG_FEATURES_IPV6&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0411cd49bb5b71852cecd93bcbf0ca2daeb94a2a63430c86ebbae4dfe84e7f8de" name="a0411cd49bb5b71852cecd93bcbf0ca2daeb94a2a63430c86ebbae4dfe84e7f8de"></a>MG_FEATURES_WEBSOCKET&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0411cd49bb5b71852cecd93bcbf0ca2dad09716f1978e57ab93c65da1c53ccb1d" name="a0411cd49bb5b71852cecd93bcbf0ca2dad09716f1978e57ab93c65da1c53ccb1d"></a>MG_FEATURES_LUA&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0411cd49bb5b71852cecd93bcbf0ca2daec89c7f60acc1228627d697da889dfa6" name="a0411cd49bb5b71852cecd93bcbf0ca2daec89c7f60acc1228627d697da889dfa6"></a>MG_FEATURES_SSJS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0411cd49bb5b71852cecd93bcbf0ca2da65c4232cdd767df45fcd9abea0cc66e2" name="a0411cd49bb5b71852cecd93bcbf0ca2da65c4232cdd767df45fcd9abea0cc66e2"></a>MG_FEATURES_CACHE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0411cd49bb5b71852cecd93bcbf0ca2da56a0059eeae63a991e650d956719db5b" name="a0411cd49bb5b71852cecd93bcbf0ca2da56a0059eeae63a991e650d956719db5b"></a>MG_FEATURES_STATS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0411cd49bb5b71852cecd93bcbf0ca2dafafb5cadff6871526c7b6db515983eef" name="a0411cd49bb5b71852cecd93bcbf0ca2dafafb5cadff6871526c7b6db515983eef"></a>MG_FEATURES_COMPRESSION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0411cd49bb5b71852cecd93bcbf0ca2da04681512f408a96ac398846b65eb74ec" name="a0411cd49bb5b71852cecd93bcbf0ca2da04681512f408a96ac398846b65eb74ec"></a>MG_FEATURES_HTTP2&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0411cd49bb5b71852cecd93bcbf0ca2daabd5074b3d3bb11e9528c539274c6841" name="a0411cd49bb5b71852cecd93bcbf0ca2daabd5074b3d3bb11e9528c539274c6841"></a>MG_FEATURES_X_DOMAIN_SOCKET&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0411cd49bb5b71852cecd93bcbf0ca2da55b0951581e039178ebb3fa57df4f5db" name="a0411cd49bb5b71852cecd93bcbf0ca2da55b0951581e039178ebb3fa57df4f5db"></a>MG_FEATURES_ALL&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="civetweb_8h_source.html#l00056">56</a> of file <a class="el" href="civetweb_8h_source.html">civetweb.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   56</span>     {</div>
<div class="line"><span class="lineno">   57</span>    <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2da8c5ba5c3477db3ee940a77a9364a4b5b">MG_FEATURES_DEFAULT</a> = 0x0u,</div>
<div class="line"><span class="lineno">   58</span> </div>
<div class="line"><span class="lineno">   59</span>    <span class="comment">/* Support files from local directories */</span></div>
<div class="line"><span class="lineno">   60</span>    <span class="comment">/* Will only work, if NO_FILES is not set. */</span></div>
<div class="line"><span class="lineno">   61</span>    <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2da79f7476503d279aebb8e29415c310ba1">MG_FEATURES_FILES</a> = 0x1u,</div>
<div class="line"><span class="lineno">   62</span> </div>
<div class="line"><span class="lineno">   63</span>    <span class="comment">/* Support transport layer security (TLS). */</span></div>
<div class="line"><span class="lineno">   64</span>    <span class="comment">/* SSL is still often used synonymously for TLS. */</span></div>
<div class="line"><span class="lineno">   65</span>    <span class="comment">/* Will only work, if NO_SSL is not set. */</span></div>
<div class="line"><span class="lineno">   66</span>    <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2da976c9faad41b9bc5c161c37d8e4c72ec">MG_FEATURES_TLS</a> = 0x2u,</div>
<div class="line"><span class="lineno">   67</span>    <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2daba4b4d11dd0dec1ba0833f0bb1de2b0e">MG_FEATURES_SSL</a> = 0x2u,</div>
<div class="line"><span class="lineno">   68</span> </div>
<div class="line"><span class="lineno">   69</span>    <span class="comment">/* Support common gateway interface (CGI). */</span></div>
<div class="line"><span class="lineno">   70</span>    <span class="comment">/* Will only work, if NO_CGI is not set. */</span></div>
<div class="line"><span class="lineno">   71</span>    <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2da84fc7ef257026875a66d71eddd99a52a">MG_FEATURES_CGI</a> = 0x4u,</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>    <span class="comment">/* Support IPv6. */</span></div>
<div class="line"><span class="lineno">   74</span>    <span class="comment">/* Will only work, if USE_IPV6 is set. */</span></div>
<div class="line"><span class="lineno">   75</span>    <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2da899e17934638eaac9928e3ca39c4b4ba">MG_FEATURES_IPV6</a> = 0x8u,</div>
<div class="line"><span class="lineno">   76</span> </div>
<div class="line"><span class="lineno">   77</span>    <span class="comment">/* Support WebSocket protocol. */</span></div>
<div class="line"><span class="lineno">   78</span>    <span class="comment">/* Will only work, if USE_WEBSOCKET is set. */</span></div>
<div class="line"><span class="lineno">   79</span>    <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2daeb94a2a63430c86ebbae4dfe84e7f8de">MG_FEATURES_WEBSOCKET</a> = 0x10u,</div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   81</span>    <span class="comment">/* Support server side Lua scripting. */</span></div>
<div class="line"><span class="lineno">   82</span>    <span class="comment">/* Will only work, if USE_LUA is set. */</span></div>
<div class="line"><span class="lineno">   83</span>    <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2dad09716f1978e57ab93c65da1c53ccb1d">MG_FEATURES_LUA</a> = 0x20u,</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span>    <span class="comment">/* Support server side JavaScript scripting. */</span></div>
<div class="line"><span class="lineno">   86</span>    <span class="comment">/* Will only work, if USE_DUKTAPE is set. */</span></div>
<div class="line"><span class="lineno">   87</span>    <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2daec89c7f60acc1228627d697da889dfa6">MG_FEATURES_SSJS</a> = 0x40u,</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>    <span class="comment">/* Provide data required for caching files. */</span></div>
<div class="line"><span class="lineno">   90</span>    <span class="comment">/* Will only work, if NO_CACHING is not set. */</span></div>
<div class="line"><span class="lineno">   91</span>    <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2da65c4232cdd767df45fcd9abea0cc66e2">MG_FEATURES_CACHE</a> = 0x80u,</div>
<div class="line"><span class="lineno">   92</span> </div>
<div class="line"><span class="lineno">   93</span>    <span class="comment">/* Collect server status information. */</span></div>
<div class="line"><span class="lineno">   94</span>    <span class="comment">/* Will only work, if USE_SERVER_STATS is set. */</span></div>
<div class="line"><span class="lineno">   95</span>    <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2da56a0059eeae63a991e650d956719db5b">MG_FEATURES_STATS</a> = 0x100u,</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>    <span class="comment">/* Support on-the-fly compression. */</span></div>
<div class="line"><span class="lineno">   98</span>    <span class="comment">/* Will only work, if USE_ZLIB is set. */</span></div>
<div class="line"><span class="lineno">   99</span>    <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2dafafb5cadff6871526c7b6db515983eef">MG_FEATURES_COMPRESSION</a> = 0x200u,</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>    <span class="comment">/* HTTP/2 support enabled. */</span></div>
<div class="line"><span class="lineno">  102</span>    <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2da04681512f408a96ac398846b65eb74ec">MG_FEATURES_HTTP2</a> = 0x400u,</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span>    <span class="comment">/* Support unix domain sockets. */</span></div>
<div class="line"><span class="lineno">  105</span>    <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2daabd5074b3d3bb11e9528c539274c6841">MG_FEATURES_X_DOMAIN_SOCKET</a> = 0x800u,</div>
<div class="line"><span class="lineno">  106</span> </div>
<div class="line"><span class="lineno">  107</span>    <span class="comment">/* Bit mask for all feature defines. */</span></div>
<div class="line"><span class="lineno">  108</span>    <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2da55b0951581e039178ebb3fa57df4f5db">MG_FEATURES_ALL</a> = 0xFFFFu</div>
<div class="line"><span class="lineno">  109</span>};</div>
<div class="ttc" id="acivetweb_8h_html_a0411cd49bb5b71852cecd93bcbf0ca2da04681512f408a96ac398846b65eb74ec"><div class="ttname"><a href="#a0411cd49bb5b71852cecd93bcbf0ca2da04681512f408a96ac398846b65eb74ec">MG_FEATURES_HTTP2</a></div><div class="ttdeci">@ MG_FEATURES_HTTP2</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00102">civetweb.h:102</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a0411cd49bb5b71852cecd93bcbf0ca2da55b0951581e039178ebb3fa57df4f5db"><div class="ttname"><a href="#a0411cd49bb5b71852cecd93bcbf0ca2da55b0951581e039178ebb3fa57df4f5db">MG_FEATURES_ALL</a></div><div class="ttdeci">@ MG_FEATURES_ALL</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00109">civetweb.h:108</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a0411cd49bb5b71852cecd93bcbf0ca2da56a0059eeae63a991e650d956719db5b"><div class="ttname"><a href="#a0411cd49bb5b71852cecd93bcbf0ca2da56a0059eeae63a991e650d956719db5b">MG_FEATURES_STATS</a></div><div class="ttdeci">@ MG_FEATURES_STATS</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00095">civetweb.h:95</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a0411cd49bb5b71852cecd93bcbf0ca2da65c4232cdd767df45fcd9abea0cc66e2"><div class="ttname"><a href="#a0411cd49bb5b71852cecd93bcbf0ca2da65c4232cdd767df45fcd9abea0cc66e2">MG_FEATURES_CACHE</a></div><div class="ttdeci">@ MG_FEATURES_CACHE</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00091">civetweb.h:91</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a0411cd49bb5b71852cecd93bcbf0ca2da79f7476503d279aebb8e29415c310ba1"><div class="ttname"><a href="#a0411cd49bb5b71852cecd93bcbf0ca2da79f7476503d279aebb8e29415c310ba1">MG_FEATURES_FILES</a></div><div class="ttdeci">@ MG_FEATURES_FILES</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00061">civetweb.h:61</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a0411cd49bb5b71852cecd93bcbf0ca2da84fc7ef257026875a66d71eddd99a52a"><div class="ttname"><a href="#a0411cd49bb5b71852cecd93bcbf0ca2da84fc7ef257026875a66d71eddd99a52a">MG_FEATURES_CGI</a></div><div class="ttdeci">@ MG_FEATURES_CGI</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00071">civetweb.h:71</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a0411cd49bb5b71852cecd93bcbf0ca2da899e17934638eaac9928e3ca39c4b4ba"><div class="ttname"><a href="#a0411cd49bb5b71852cecd93bcbf0ca2da899e17934638eaac9928e3ca39c4b4ba">MG_FEATURES_IPV6</a></div><div class="ttdeci">@ MG_FEATURES_IPV6</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00075">civetweb.h:75</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a0411cd49bb5b71852cecd93bcbf0ca2da8c5ba5c3477db3ee940a77a9364a4b5b"><div class="ttname"><a href="#a0411cd49bb5b71852cecd93bcbf0ca2da8c5ba5c3477db3ee940a77a9364a4b5b">MG_FEATURES_DEFAULT</a></div><div class="ttdeci">@ MG_FEATURES_DEFAULT</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00057">civetweb.h:57</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a0411cd49bb5b71852cecd93bcbf0ca2da976c9faad41b9bc5c161c37d8e4c72ec"><div class="ttname"><a href="#a0411cd49bb5b71852cecd93bcbf0ca2da976c9faad41b9bc5c161c37d8e4c72ec">MG_FEATURES_TLS</a></div><div class="ttdeci">@ MG_FEATURES_TLS</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00066">civetweb.h:66</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a0411cd49bb5b71852cecd93bcbf0ca2daabd5074b3d3bb11e9528c539274c6841"><div class="ttname"><a href="#a0411cd49bb5b71852cecd93bcbf0ca2daabd5074b3d3bb11e9528c539274c6841">MG_FEATURES_X_DOMAIN_SOCKET</a></div><div class="ttdeci">@ MG_FEATURES_X_DOMAIN_SOCKET</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00105">civetweb.h:105</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a0411cd49bb5b71852cecd93bcbf0ca2daba4b4d11dd0dec1ba0833f0bb1de2b0e"><div class="ttname"><a href="#a0411cd49bb5b71852cecd93bcbf0ca2daba4b4d11dd0dec1ba0833f0bb1de2b0e">MG_FEATURES_SSL</a></div><div class="ttdeci">@ MG_FEATURES_SSL</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00067">civetweb.h:67</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a0411cd49bb5b71852cecd93bcbf0ca2dad09716f1978e57ab93c65da1c53ccb1d"><div class="ttname"><a href="#a0411cd49bb5b71852cecd93bcbf0ca2dad09716f1978e57ab93c65da1c53ccb1d">MG_FEATURES_LUA</a></div><div class="ttdeci">@ MG_FEATURES_LUA</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00083">civetweb.h:83</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a0411cd49bb5b71852cecd93bcbf0ca2daeb94a2a63430c86ebbae4dfe84e7f8de"><div class="ttname"><a href="#a0411cd49bb5b71852cecd93bcbf0ca2daeb94a2a63430c86ebbae4dfe84e7f8de">MG_FEATURES_WEBSOCKET</a></div><div class="ttdeci">@ MG_FEATURES_WEBSOCKET</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00079">civetweb.h:79</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a0411cd49bb5b71852cecd93bcbf0ca2daec89c7f60acc1228627d697da889dfa6"><div class="ttname"><a href="#a0411cd49bb5b71852cecd93bcbf0ca2daec89c7f60acc1228627d697da889dfa6">MG_FEATURES_SSJS</a></div><div class="ttdeci">@ MG_FEATURES_SSJS</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00087">civetweb.h:87</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a0411cd49bb5b71852cecd93bcbf0ca2dafafb5cadff6871526c7b6db515983eef"><div class="ttname"><a href="#a0411cd49bb5b71852cecd93bcbf0ca2dafafb5cadff6871526c7b6db515983eef">MG_FEATURES_COMPRESSION</a></div><div class="ttdeci">@ MG_FEATURES_COMPRESSION</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00099">civetweb.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abed82baf7f470b522273a3e37c24c600" name="abed82baf7f470b522273a3e37c24c600"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abed82baf7f470b522273a3e37c24c600">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="abed82baf7f470b522273a3e37c24c600a09f469b2a45a8616aab9e493beeb153c" name="abed82baf7f470b522273a3e37c24c600a09f469b2a45a8616aab9e493beeb153c"></a>MG_CONFIG_TYPE_UNKNOWN&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abed82baf7f470b522273a3e37c24c600ae06caa2e5345f4284fe47b84901faf9a" name="abed82baf7f470b522273a3e37c24c600ae06caa2e5345f4284fe47b84901faf9a"></a>MG_CONFIG_TYPE_NUMBER&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abed82baf7f470b522273a3e37c24c600a376b9b6b1e491b1db9e2acbfec0d9cba" name="abed82baf7f470b522273a3e37c24c600a376b9b6b1e491b1db9e2acbfec0d9cba"></a>MG_CONFIG_TYPE_STRING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abed82baf7f470b522273a3e37c24c600a11fa4436ce6263e57055a419729e4793" name="abed82baf7f470b522273a3e37c24c600a11fa4436ce6263e57055a419729e4793"></a>MG_CONFIG_TYPE_FILE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abed82baf7f470b522273a3e37c24c600a41339873036c88d2acef38ccd7b4fbb3" name="abed82baf7f470b522273a3e37c24c600a41339873036c88d2acef38ccd7b4fbb3"></a>MG_CONFIG_TYPE_DIRECTORY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abed82baf7f470b522273a3e37c24c600aeb3df5014f0adcd01524c03d9ca55b36" name="abed82baf7f470b522273a3e37c24c600aeb3df5014f0adcd01524c03d9ca55b36"></a>MG_CONFIG_TYPE_BOOLEAN&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abed82baf7f470b522273a3e37c24c600a54d16bf53123bb3b1260d1d8fad3a230" name="abed82baf7f470b522273a3e37c24c600a54d16bf53123bb3b1260d1d8fad3a230"></a>MG_CONFIG_TYPE_EXT_PATTERN&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abed82baf7f470b522273a3e37c24c600a870bd7148183409ae6b69f90cab74617" name="abed82baf7f470b522273a3e37c24c600a870bd7148183409ae6b69f90cab74617"></a>MG_CONFIG_TYPE_STRING_LIST&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abed82baf7f470b522273a3e37c24c600a69352c89f82b9b6fcf3d22b2e642efdd" name="abed82baf7f470b522273a3e37c24c600a69352c89f82b9b6fcf3d22b2e642efdd"></a>MG_CONFIG_TYPE_STRING_MULTILINE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abed82baf7f470b522273a3e37c24c600accb77faf0653d18c1660c73d2b87f7df" name="abed82baf7f470b522273a3e37c24c600accb77faf0653d18c1660c73d2b87f7df"></a>MG_CONFIG_TYPE_YES_NO_OPTIONAL&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="civetweb_8h_source.html#l00693">693</a> of file <a class="el" href="civetweb_8h_source.html">civetweb.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  693</span>     {</div>
<div class="line"><span class="lineno">  694</span>    <a class="code hl_enumvalue" href="#abed82baf7f470b522273a3e37c24c600a09f469b2a45a8616aab9e493beeb153c">MG_CONFIG_TYPE_UNKNOWN</a> = 0x0,</div>
<div class="line"><span class="lineno">  695</span>    <a class="code hl_enumvalue" href="#abed82baf7f470b522273a3e37c24c600ae06caa2e5345f4284fe47b84901faf9a">MG_CONFIG_TYPE_NUMBER</a> = 0x1,</div>
<div class="line"><span class="lineno">  696</span>    <a class="code hl_enumvalue" href="#abed82baf7f470b522273a3e37c24c600a376b9b6b1e491b1db9e2acbfec0d9cba">MG_CONFIG_TYPE_STRING</a> = 0x2,</div>
<div class="line"><span class="lineno">  697</span>    <a class="code hl_enumvalue" href="#abed82baf7f470b522273a3e37c24c600a11fa4436ce6263e57055a419729e4793">MG_CONFIG_TYPE_FILE</a> = 0x3,</div>
<div class="line"><span class="lineno">  698</span>    <a class="code hl_enumvalue" href="#abed82baf7f470b522273a3e37c24c600a41339873036c88d2acef38ccd7b4fbb3">MG_CONFIG_TYPE_DIRECTORY</a> = 0x4,</div>
<div class="line"><span class="lineno">  699</span>    <a class="code hl_enumvalue" href="#abed82baf7f470b522273a3e37c24c600aeb3df5014f0adcd01524c03d9ca55b36">MG_CONFIG_TYPE_BOOLEAN</a> = 0x5,</div>
<div class="line"><span class="lineno">  700</span>    <a class="code hl_enumvalue" href="#abed82baf7f470b522273a3e37c24c600a54d16bf53123bb3b1260d1d8fad3a230">MG_CONFIG_TYPE_EXT_PATTERN</a> = 0x6,</div>
<div class="line"><span class="lineno">  701</span>    <a class="code hl_enumvalue" href="#abed82baf7f470b522273a3e37c24c600a870bd7148183409ae6b69f90cab74617">MG_CONFIG_TYPE_STRING_LIST</a> = 0x7,</div>
<div class="line"><span class="lineno">  702</span>    <a class="code hl_enumvalue" href="#abed82baf7f470b522273a3e37c24c600a69352c89f82b9b6fcf3d22b2e642efdd">MG_CONFIG_TYPE_STRING_MULTILINE</a> = 0x8,</div>
<div class="line"><span class="lineno">  703</span>    <a class="code hl_enumvalue" href="#abed82baf7f470b522273a3e37c24c600accb77faf0653d18c1660c73d2b87f7df">MG_CONFIG_TYPE_YES_NO_OPTIONAL</a> = 0x9</div>
<div class="line"><span class="lineno">  704</span>};</div>
<div class="ttc" id="acivetweb_8h_html_abed82baf7f470b522273a3e37c24c600a09f469b2a45a8616aab9e493beeb153c"><div class="ttname"><a href="#abed82baf7f470b522273a3e37c24c600a09f469b2a45a8616aab9e493beeb153c">MG_CONFIG_TYPE_UNKNOWN</a></div><div class="ttdeci">@ MG_CONFIG_TYPE_UNKNOWN</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00694">civetweb.h:694</a></div></div>
<div class="ttc" id="acivetweb_8h_html_abed82baf7f470b522273a3e37c24c600a11fa4436ce6263e57055a419729e4793"><div class="ttname"><a href="#abed82baf7f470b522273a3e37c24c600a11fa4436ce6263e57055a419729e4793">MG_CONFIG_TYPE_FILE</a></div><div class="ttdeci">@ MG_CONFIG_TYPE_FILE</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00697">civetweb.h:697</a></div></div>
<div class="ttc" id="acivetweb_8h_html_abed82baf7f470b522273a3e37c24c600a376b9b6b1e491b1db9e2acbfec0d9cba"><div class="ttname"><a href="#abed82baf7f470b522273a3e37c24c600a376b9b6b1e491b1db9e2acbfec0d9cba">MG_CONFIG_TYPE_STRING</a></div><div class="ttdeci">@ MG_CONFIG_TYPE_STRING</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00696">civetweb.h:696</a></div></div>
<div class="ttc" id="acivetweb_8h_html_abed82baf7f470b522273a3e37c24c600a41339873036c88d2acef38ccd7b4fbb3"><div class="ttname"><a href="#abed82baf7f470b522273a3e37c24c600a41339873036c88d2acef38ccd7b4fbb3">MG_CONFIG_TYPE_DIRECTORY</a></div><div class="ttdeci">@ MG_CONFIG_TYPE_DIRECTORY</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00698">civetweb.h:698</a></div></div>
<div class="ttc" id="acivetweb_8h_html_abed82baf7f470b522273a3e37c24c600a54d16bf53123bb3b1260d1d8fad3a230"><div class="ttname"><a href="#abed82baf7f470b522273a3e37c24c600a54d16bf53123bb3b1260d1d8fad3a230">MG_CONFIG_TYPE_EXT_PATTERN</a></div><div class="ttdeci">@ MG_CONFIG_TYPE_EXT_PATTERN</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00700">civetweb.h:700</a></div></div>
<div class="ttc" id="acivetweb_8h_html_abed82baf7f470b522273a3e37c24c600a69352c89f82b9b6fcf3d22b2e642efdd"><div class="ttname"><a href="#abed82baf7f470b522273a3e37c24c600a69352c89f82b9b6fcf3d22b2e642efdd">MG_CONFIG_TYPE_STRING_MULTILINE</a></div><div class="ttdeci">@ MG_CONFIG_TYPE_STRING_MULTILINE</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00702">civetweb.h:702</a></div></div>
<div class="ttc" id="acivetweb_8h_html_abed82baf7f470b522273a3e37c24c600a870bd7148183409ae6b69f90cab74617"><div class="ttname"><a href="#abed82baf7f470b522273a3e37c24c600a870bd7148183409ae6b69f90cab74617">MG_CONFIG_TYPE_STRING_LIST</a></div><div class="ttdeci">@ MG_CONFIG_TYPE_STRING_LIST</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00701">civetweb.h:701</a></div></div>
<div class="ttc" id="acivetweb_8h_html_abed82baf7f470b522273a3e37c24c600accb77faf0653d18c1660c73d2b87f7df"><div class="ttname"><a href="#abed82baf7f470b522273a3e37c24c600accb77faf0653d18c1660c73d2b87f7df">MG_CONFIG_TYPE_YES_NO_OPTIONAL</a></div><div class="ttdeci">@ MG_CONFIG_TYPE_YES_NO_OPTIONAL</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00704">civetweb.h:703</a></div></div>
<div class="ttc" id="acivetweb_8h_html_abed82baf7f470b522273a3e37c24c600ae06caa2e5345f4284fe47b84901faf9a"><div class="ttname"><a href="#abed82baf7f470b522273a3e37c24c600ae06caa2e5345f4284fe47b84901faf9a">MG_CONFIG_TYPE_NUMBER</a></div><div class="ttdeci">@ MG_CONFIG_TYPE_NUMBER</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00695">civetweb.h:695</a></div></div>
<div class="ttc" id="acivetweb_8h_html_abed82baf7f470b522273a3e37c24c600aeb3df5014f0adcd01524c03d9ca55b36"><div class="ttname"><a href="#abed82baf7f470b522273a3e37c24c600aeb3df5014f0adcd01524c03d9ca55b36">MG_CONFIG_TYPE_BOOLEAN</a></div><div class="ttdeci">@ MG_CONFIG_TYPE_BOOLEAN</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00699">civetweb.h:699</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab04a0655cd1e3bcac5e8f48c18df1a57" name="ab04a0655cd1e3bcac5e8f48c18df1a57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab04a0655cd1e3bcac5e8f48c18df1a57">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ab04a0655cd1e3bcac5e8f48c18df1a57ac07ba73ba24b6f3d002223fa17dec5f9" name="ab04a0655cd1e3bcac5e8f48c18df1a57ac07ba73ba24b6f3d002223fa17dec5f9"></a>MG_WEBSOCKET_OPCODE_CONTINUATION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab04a0655cd1e3bcac5e8f48c18df1a57a7571dc0675f027c0f964081c89196b89" name="ab04a0655cd1e3bcac5e8f48c18df1a57a7571dc0675f027c0f964081c89196b89"></a>MG_WEBSOCKET_OPCODE_TEXT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab04a0655cd1e3bcac5e8f48c18df1a57a1bbfef3039b4e499a3147df4b682169e" name="ab04a0655cd1e3bcac5e8f48c18df1a57a1bbfef3039b4e499a3147df4b682169e"></a>MG_WEBSOCKET_OPCODE_BINARY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab04a0655cd1e3bcac5e8f48c18df1a57a0a30ded34f2d15fab56a5fdfd66fcb9c" name="ab04a0655cd1e3bcac5e8f48c18df1a57a0a30ded34f2d15fab56a5fdfd66fcb9c"></a>MG_WEBSOCKET_OPCODE_CONNECTION_CLOSE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab04a0655cd1e3bcac5e8f48c18df1a57ac44e200b2129dc11d6bb565c5ea4c6f8" name="ab04a0655cd1e3bcac5e8f48c18df1a57ac44e200b2129dc11d6bb565c5ea4c6f8"></a>MG_WEBSOCKET_OPCODE_PING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab04a0655cd1e3bcac5e8f48c18df1a57a71c04ff1c8f8a290533b2af0e7f4516d" name="ab04a0655cd1e3bcac5e8f48c18df1a57a71c04ff1c8f8a290533b2af0e7f4516d"></a>MG_WEBSOCKET_OPCODE_PONG&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="civetweb_8h_source.html#l00857">857</a> of file <a class="el" href="civetweb_8h_source.html">civetweb.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  857</span>     {</div>
<div class="line"><span class="lineno">  858</span>    <a class="code hl_enumvalue" href="#ab04a0655cd1e3bcac5e8f48c18df1a57ac07ba73ba24b6f3d002223fa17dec5f9">MG_WEBSOCKET_OPCODE_CONTINUATION</a> = 0x0,</div>
<div class="line"><span class="lineno">  859</span>    <a class="code hl_enumvalue" href="#ab04a0655cd1e3bcac5e8f48c18df1a57a7571dc0675f027c0f964081c89196b89">MG_WEBSOCKET_OPCODE_TEXT</a> = 0x1,</div>
<div class="line"><span class="lineno">  860</span>    <a class="code hl_enumvalue" href="#ab04a0655cd1e3bcac5e8f48c18df1a57a1bbfef3039b4e499a3147df4b682169e">MG_WEBSOCKET_OPCODE_BINARY</a> = 0x2,</div>
<div class="line"><span class="lineno">  861</span>    <a class="code hl_enumvalue" href="#ab04a0655cd1e3bcac5e8f48c18df1a57a0a30ded34f2d15fab56a5fdfd66fcb9c">MG_WEBSOCKET_OPCODE_CONNECTION_CLOSE</a> = 0x8,</div>
<div class="line"><span class="lineno">  862</span>    <a class="code hl_enumvalue" href="#ab04a0655cd1e3bcac5e8f48c18df1a57ac44e200b2129dc11d6bb565c5ea4c6f8">MG_WEBSOCKET_OPCODE_PING</a> = 0x9,</div>
<div class="line"><span class="lineno">  863</span>    <a class="code hl_enumvalue" href="#ab04a0655cd1e3bcac5e8f48c18df1a57a71c04ff1c8f8a290533b2af0e7f4516d">MG_WEBSOCKET_OPCODE_PONG</a> = 0xa</div>
<div class="line"><span class="lineno">  864</span>};</div>
<div class="ttc" id="acivetweb_8h_html_ab04a0655cd1e3bcac5e8f48c18df1a57a0a30ded34f2d15fab56a5fdfd66fcb9c"><div class="ttname"><a href="#ab04a0655cd1e3bcac5e8f48c18df1a57a0a30ded34f2d15fab56a5fdfd66fcb9c">MG_WEBSOCKET_OPCODE_CONNECTION_CLOSE</a></div><div class="ttdeci">@ MG_WEBSOCKET_OPCODE_CONNECTION_CLOSE</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00861">civetweb.h:861</a></div></div>
<div class="ttc" id="acivetweb_8h_html_ab04a0655cd1e3bcac5e8f48c18df1a57a1bbfef3039b4e499a3147df4b682169e"><div class="ttname"><a href="#ab04a0655cd1e3bcac5e8f48c18df1a57a1bbfef3039b4e499a3147df4b682169e">MG_WEBSOCKET_OPCODE_BINARY</a></div><div class="ttdeci">@ MG_WEBSOCKET_OPCODE_BINARY</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00860">civetweb.h:860</a></div></div>
<div class="ttc" id="acivetweb_8h_html_ab04a0655cd1e3bcac5e8f48c18df1a57a71c04ff1c8f8a290533b2af0e7f4516d"><div class="ttname"><a href="#ab04a0655cd1e3bcac5e8f48c18df1a57a71c04ff1c8f8a290533b2af0e7f4516d">MG_WEBSOCKET_OPCODE_PONG</a></div><div class="ttdeci">@ MG_WEBSOCKET_OPCODE_PONG</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00864">civetweb.h:863</a></div></div>
<div class="ttc" id="acivetweb_8h_html_ab04a0655cd1e3bcac5e8f48c18df1a57a7571dc0675f027c0f964081c89196b89"><div class="ttname"><a href="#ab04a0655cd1e3bcac5e8f48c18df1a57a7571dc0675f027c0f964081c89196b89">MG_WEBSOCKET_OPCODE_TEXT</a></div><div class="ttdeci">@ MG_WEBSOCKET_OPCODE_TEXT</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00859">civetweb.h:859</a></div></div>
<div class="ttc" id="acivetweb_8h_html_ab04a0655cd1e3bcac5e8f48c18df1a57ac07ba73ba24b6f3d002223fa17dec5f9"><div class="ttname"><a href="#ab04a0655cd1e3bcac5e8f48c18df1a57ac07ba73ba24b6f3d002223fa17dec5f9">MG_WEBSOCKET_OPCODE_CONTINUATION</a></div><div class="ttdeci">@ MG_WEBSOCKET_OPCODE_CONTINUATION</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00858">civetweb.h:858</a></div></div>
<div class="ttc" id="acivetweb_8h_html_ab04a0655cd1e3bcac5e8f48c18df1a57ac44e200b2129dc11d6bb565c5ea4c6f8"><div class="ttname"><a href="#ab04a0655cd1e3bcac5e8f48c18df1a57ac44e200b2129dc11d6bb565c5ea4c6f8">MG_WEBSOCKET_OPCODE_PING</a></div><div class="ttdeci">@ MG_WEBSOCKET_OPCODE_PING</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00862">civetweb.h:862</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a40d10ad1edce124016cf9efee6cb79c7" name="a40d10ad1edce124016cf9efee6cb79c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40d10ad1edce124016cf9efee6cb79c7">&#9670;&#160;</a></span>mg_base64_decode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_base64_decode </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>src</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>src_len</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *</td>          <td class="paramname"><span class="paramname"><em>dst</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *</td>          <td class="paramname"><span class="paramname"><em>dst_len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l07383">7383</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7387</span>{</div>
<div class="line"><span class="lineno"> 7388</span>    <span class="keywordtype">size_t</span> i;</div>
<div class="line"><span class="lineno"> 7389</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_class" href="classa.html">a</a>, b, c, d;</div>
<div class="line"><span class="lineno"> 7390</span>    <span class="keywordtype">size_t</span> dst_len_limit = (size_t)-1;</div>
<div class="line"><span class="lineno"> 7391</span>    <span class="keywordtype">size_t</span> dst_len_used = 0;</div>
<div class="line"><span class="lineno"> 7392</span> </div>
<div class="line"><span class="lineno"> 7393</span>    <span class="keywordflow">if</span> (dst_len != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno"> 7394</span>        dst_len_limit = *dst_len;</div>
<div class="line"><span class="lineno"> 7395</span>        *dst_len = 0;</div>
<div class="line"><span class="lineno"> 7396</span>    }</div>
<div class="line"><span class="lineno"> 7397</span> </div>
<div class="line"><span class="lineno"> 7398</span>    <span class="keywordflow">for</span> (i = 0; i &lt; src_len; i += 4) {</div>
<div class="line"><span class="lineno"> 7399</span>        <span class="comment">/* Read 4 characters from BASE64 string */</span></div>
<div class="line"><span class="lineno"> 7400</span>        <a class="code hl_class" href="classa.html">a</a> = <a class="code hl_function" href="civetweb_8c.html#accf1ea390b445a26d81f9e25692fc267">b64reverse</a>(src[i]);</div>
<div class="line"><span class="lineno"> 7401</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="classa.html">a</a> &gt;= 254) {</div>
<div class="line"><span class="lineno"> 7402</span>            <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)i;</div>
<div class="line"><span class="lineno"> 7403</span>        }</div>
<div class="line"><span class="lineno"> 7404</span> </div>
<div class="line"><span class="lineno"> 7405</span>        b = <a class="code hl_function" href="civetweb_8c.html#accf1ea390b445a26d81f9e25692fc267">b64reverse</a>(((i + 1) &gt;= src_len) ? 0 : src[i + 1]);</div>
<div class="line"><span class="lineno"> 7406</span>        <span class="keywordflow">if</span> (b &gt;= 254) {</div>
<div class="line"><span class="lineno"> 7407</span>            <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)i + 1;</div>
<div class="line"><span class="lineno"> 7408</span>        }</div>
<div class="line"><span class="lineno"> 7409</span> </div>
<div class="line"><span class="lineno"> 7410</span>        c = <a class="code hl_function" href="civetweb_8c.html#accf1ea390b445a26d81f9e25692fc267">b64reverse</a>(((i + 2) &gt;= src_len) ? 0 : src[i + 2]);</div>
<div class="line"><span class="lineno"> 7411</span>        <span class="keywordflow">if</span> (c == 254) {</div>
<div class="line"><span class="lineno"> 7412</span>            <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)i + 2;</div>
<div class="line"><span class="lineno"> 7413</span>        }</div>
<div class="line"><span class="lineno"> 7414</span> </div>
<div class="line"><span class="lineno"> 7415</span>        d = <a class="code hl_function" href="civetweb_8c.html#accf1ea390b445a26d81f9e25692fc267">b64reverse</a>(((i + 3) &gt;= src_len) ? 0 : src[i + 3]);</div>
<div class="line"><span class="lineno"> 7416</span>        <span class="keywordflow">if</span> (d == 254) {</div>
<div class="line"><span class="lineno"> 7417</span>            <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)i + 3;</div>
<div class="line"><span class="lineno"> 7418</span>        }</div>
<div class="line"><span class="lineno"> 7419</span> </div>
<div class="line"><span class="lineno"> 7420</span>        <span class="comment">/* Add first (of 3) decoded character */</span></div>
<div class="line"><span class="lineno"> 7421</span>        <span class="keywordflow">if</span> (dst_len_used &lt; dst_len_limit) {</div>
<div class="line"><span class="lineno"> 7422</span>            dst[dst_len_used] = (<span class="keywordtype">unsigned</span> char)((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(<a class="code hl_class" href="classa.html">a</a> &lt;&lt; 2)</div>
<div class="line"><span class="lineno"> 7423</span>                                                + (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(b &gt;&gt; 4));</div>
<div class="line"><span class="lineno"> 7424</span>        }</div>
<div class="line"><span class="lineno"> 7425</span>        dst_len_used++;</div>
<div class="line"><span class="lineno"> 7426</span> </div>
<div class="line"><span class="lineno"> 7427</span>        <span class="keywordflow">if</span> (c != 255) {</div>
<div class="line"><span class="lineno"> 7428</span>            <span class="keywordflow">if</span> (dst_len_used &lt; dst_len_limit) {</div>
<div class="line"><span class="lineno"> 7429</span> </div>
<div class="line"><span class="lineno"> 7430</span>                dst[dst_len_used] = (<span class="keywordtype">unsigned</span> char)((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(b &lt;&lt; 4)</div>
<div class="line"><span class="lineno"> 7431</span>                                                    + (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(c &gt;&gt; 2));</div>
<div class="line"><span class="lineno"> 7432</span>            }</div>
<div class="line"><span class="lineno"> 7433</span>            dst_len_used++;</div>
<div class="line"><span class="lineno"> 7434</span>            <span class="keywordflow">if</span> (d != 255) {</div>
<div class="line"><span class="lineno"> 7435</span>                <span class="keywordflow">if</span> (dst_len_used &lt; dst_len_limit) {</div>
<div class="line"><span class="lineno"> 7436</span>                    dst[dst_len_used] =</div>
<div class="line"><span class="lineno"> 7437</span>                        (<span class="keywordtype">unsigned</span> char)((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(c &lt;&lt; 6) + d);</div>
<div class="line"><span class="lineno"> 7438</span>                }</div>
<div class="line"><span class="lineno"> 7439</span>                dst_len_used++;</div>
<div class="line"><span class="lineno"> 7440</span>            }</div>
<div class="line"><span class="lineno"> 7441</span>        }</div>
<div class="line"><span class="lineno"> 7442</span>    }</div>
<div class="line"><span class="lineno"> 7443</span> </div>
<div class="line"><span class="lineno"> 7444</span>    <span class="comment">/* Add terminating zero */</span></div>
<div class="line"><span class="lineno"> 7445</span>    <span class="keywordflow">if</span> (dst_len_used &lt; dst_len_limit) {</div>
<div class="line"><span class="lineno"> 7446</span>        dst[dst_len_used] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 7447</span>    }</div>
<div class="line"><span class="lineno"> 7448</span>    dst_len_used++;</div>
<div class="line"><span class="lineno"> 7449</span>    <span class="keywordflow">if</span> (dst_len != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno"> 7450</span>        *dst_len = dst_len_used;</div>
<div class="line"><span class="lineno"> 7451</span>    }</div>
<div class="line"><span class="lineno"> 7452</span> </div>
<div class="line"><span class="lineno"> 7453</span>    <span class="keywordflow">if</span> (dst_len_used &gt; dst_len_limit) {</div>
<div class="line"><span class="lineno"> 7454</span>        <span class="comment">/* Out of memory */</span></div>
<div class="line"><span class="lineno"> 7455</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 7456</span>    }</div>
<div class="line"><span class="lineno"> 7457</span> </div>
<div class="line"><span class="lineno"> 7458</span>    <span class="comment">/* Return -1 for &quot;OK&quot; */</span></div>
<div class="line"><span class="lineno"> 7459</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 7460</span>}</div>
<div class="ttc" id="acivetweb_8c_html_accf1ea390b445a26d81f9e25692fc267"><div class="ttname"><a href="civetweb_8c.html#accf1ea390b445a26d81f9e25692fc267">b64reverse</a></div><div class="ttdeci">static unsigned char b64reverse(char letter)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l07358">civetweb.c:7358</a></div></div>
<div class="ttc" id="aclassa_html"><div class="ttname"><a href="classa.html">a</a></div></div>
<div class="ttc" id="agmacros_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> <a href="gmacros_8h_source.html#l00924">gmacros.h:924</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l07358">b64reverse()</a>, and <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l08555">parse_auth_header()</a>.</p>

</div>
</div>
<a id="a16f495b82ab6766de6c2d0e86ea4a82d" name="a16f495b82ab6766de6c2d0e86ea4a82d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16f495b82ab6766de6c2d0e86ea4a82d">&#9670;&#160;</a></span>mg_base64_encode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_base64_encode </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *</td>          <td class="paramname"><span class="paramname"><em>src</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>src_len</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>dst</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *</td>          <td class="paramname"><span class="paramname"><em>dst_len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l07305">7305</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7309</span>{</div>
<div class="line"><span class="lineno"> 7310</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *b64 =</div>
<div class="line"><span class="lineno"> 7311</span>        <span class="stringliteral">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&quot;</span>;</div>
<div class="line"><span class="lineno"> 7312</span>    <span class="keywordtype">size_t</span> i, j;</div>
<div class="line"><span class="lineno"> 7313</span>    <span class="keywordtype">int</span> <a class="code hl_class" href="classa.html">a</a>, b, c;</div>
<div class="line"><span class="lineno"> 7314</span> </div>
<div class="line"><span class="lineno"> 7315</span>    <span class="keywordflow">if</span> (dst_len != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno"> 7316</span>        <span class="comment">/* Expected length including 0 termination: */</span></div>
<div class="line"><span class="lineno"> 7317</span>        <span class="comment">/* IN 1 -&gt; OUT 5, IN 2 -&gt; OUT 5, IN 3 -&gt; OUT 5, IN 4 -&gt; OUT 9,</span></div>
<div class="line"><span class="lineno"> 7318</span><span class="comment">         * IN 5 -&gt; OUT 9, IN 6 -&gt; OUT 9, IN 7 -&gt; OUT 13, etc. */</span></div>
<div class="line"><span class="lineno"> 7319</span>        <span class="keywordtype">size_t</span> expected_len = ((src_len + 2) / 3) * 4 + 1;</div>
<div class="line"><span class="lineno"> 7320</span>        <span class="keywordflow">if</span> (*dst_len &lt; expected_len) {</div>
<div class="line"><span class="lineno"> 7321</span>            <span class="keywordflow">if</span> (*dst_len &gt; 0) {</div>
<div class="line"><span class="lineno"> 7322</span>                dst[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 7323</span>            }</div>
<div class="line"><span class="lineno"> 7324</span>            *dst_len = expected_len;</div>
<div class="line"><span class="lineno"> 7325</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 7326</span>        }</div>
<div class="line"><span class="lineno"> 7327</span>    }</div>
<div class="line"><span class="lineno"> 7328</span> </div>
<div class="line"><span class="lineno"> 7329</span>    <span class="keywordflow">for</span> (i = j = 0; i &lt; src_len; i += 3) {</div>
<div class="line"><span class="lineno"> 7330</span>        <a class="code hl_class" href="classa.html">a</a> = src[i];</div>
<div class="line"><span class="lineno"> 7331</span>        b = ((i + 1) &gt;= src_len) ? 0 : src[i + 1];</div>
<div class="line"><span class="lineno"> 7332</span>        c = ((i + 2) &gt;= src_len) ? 0 : src[i + 2];</div>
<div class="line"><span class="lineno"> 7333</span> </div>
<div class="line"><span class="lineno"> 7334</span>        dst[j++] = b64[<a class="code hl_class" href="classa.html">a</a> &gt;&gt; 2];</div>
<div class="line"><span class="lineno"> 7335</span>        dst[j++] = b64[((<a class="code hl_class" href="classa.html">a</a> &amp; 3) &lt;&lt; 4) | (b &gt;&gt; 4)];</div>
<div class="line"><span class="lineno"> 7336</span>        <span class="keywordflow">if</span> (i + 1 &lt; src_len) {</div>
<div class="line"><span class="lineno"> 7337</span>            dst[j++] = b64[(b &amp; 15) &lt;&lt; 2 | (c &gt;&gt; 6)];</div>
<div class="line"><span class="lineno"> 7338</span>        }</div>
<div class="line"><span class="lineno"> 7339</span>        <span class="keywordflow">if</span> (i + 2 &lt; src_len) {</div>
<div class="line"><span class="lineno"> 7340</span>            dst[j++] = b64[c &amp; 63];</div>
<div class="line"><span class="lineno"> 7341</span>        }</div>
<div class="line"><span class="lineno"> 7342</span>    }</div>
<div class="line"><span class="lineno"> 7343</span>    <span class="keywordflow">while</span> (j % 4 != 0) {</div>
<div class="line"><span class="lineno"> 7344</span>        dst[j++] = <span class="charliteral">&#39;=&#39;</span>;</div>
<div class="line"><span class="lineno"> 7345</span>    }</div>
<div class="line"><span class="lineno"> 7346</span>    dst[j++] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 7347</span> </div>
<div class="line"><span class="lineno"> 7348</span>    <span class="keywordflow">if</span> (dst_len != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno"> 7349</span>        *dst_len = (size_t)j;</div>
<div class="line"><span class="lineno"> 7350</span>    }</div>
<div class="line"><span class="lineno"> 7351</span> </div>
<div class="line"><span class="lineno"> 7352</span>    <span class="comment">/* Return -1 for &quot;OK&quot; */</span></div>
<div class="line"><span class="lineno"> 7353</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 7354</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>.</p>

</div>
</div>
<a id="a8e38f4db9a8d42ff57623b15f11f93b1" name="a8e38f4db9a8d42ff57623b15f11f93b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e38f4db9a8d42ff57623b15f11f93b1">&#9670;&#160;</a></span>mg_check_digest_access_authentication()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_check_digest_access_authentication </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>realm</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l08893">8893</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 8896</span>{</div>
<div class="line"><span class="lineno"> 8897</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structmg__file.html">mg_file</a> file = <a class="code hl_define" href="civetweb_8c.html#af7932a261d02cf4b8431793664a4585b">STRUCT_FILE_INITIALIZER</a>;</div>
<div class="line"><span class="lineno"> 8898</span>    <span class="keywordtype">int</span> auth;</div>
<div class="line"><span class="lineno"> 8899</span> </div>
<div class="line"><span class="lineno"> 8900</span>    <span class="keywordflow">if</span> (!conn || !filename) {</div>
<div class="line"><span class="lineno"> 8901</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 8902</span>    }</div>
<div class="line"><span class="lineno"> 8903</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="civetweb_8c.html#a3341033fb439f4b1566fa8bc71f28e2b">mg_fopen</a>(conn, filename, <a class="code hl_define" href="civetweb_8c.html#a5bd58793b81cca07589b297470992a9e">MG_FOPEN_MODE_READ</a>, &amp;file)) {</div>
<div class="line"><span class="lineno"> 8904</span>        <span class="keywordflow">return</span> -2;</div>
<div class="line"><span class="lineno"> 8905</span>    }</div>
<div class="line"><span class="lineno"> 8906</span> </div>
<div class="line"><span class="lineno"> 8907</span>    auth = <a class="code hl_function" href="civetweb_8c.html#abbf5e7625b9c8d60ffc4d84b02923943">authorize</a>(conn, &amp;file, realm);</div>
<div class="line"><span class="lineno"> 8908</span> </div>
<div class="line"><span class="lineno"> 8909</span>    <a class="code hl_function" href="civetweb_8c.html#ada8ae98eea53a76bee149585c48beca3">mg_fclose</a>(&amp;file.<a class="code hl_variable" href="structmg__file.html#a90b5d07df0a357ba1f1311b92fdd3dc2">access</a>);</div>
<div class="line"><span class="lineno"> 8910</span> </div>
<div class="line"><span class="lineno"> 8911</span>    <span class="keywordflow">return</span> auth;</div>
<div class="line"><span class="lineno"> 8912</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a3341033fb439f4b1566fa8bc71f28e2b"><div class="ttname"><a href="civetweb_8c.html#a3341033fb439f4b1566fa8bc71f28e2b">mg_fopen</a></div><div class="ttdeci">static int mg_fopen(const struct mg_connection *conn, const char *path, int mode, struct mg_file *filep)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02915">civetweb.c:2915</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a5bd58793b81cca07589b297470992a9e"><div class="ttname"><a href="civetweb_8c.html#a5bd58793b81cca07589b297470992a9e">MG_FOPEN_MODE_READ</a></div><div class="ttdeci">#define MG_FOPEN_MODE_READ</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02843">civetweb.c:2843</a></div></div>
<div class="ttc" id="acivetweb_8c_html_abbf5e7625b9c8d60ffc4d84b02923943"><div class="ttname"><a href="civetweb_8c.html#abbf5e7625b9c8d60ffc4d84b02923943">authorize</a></div><div class="ttdeci">static int authorize(struct mg_connection *conn, struct mg_file *filep, const char *realm)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l08861">civetweb.c:8861</a></div></div>
<div class="ttc" id="acivetweb_8c_html_ada8ae98eea53a76bee149585c48beca3"><div class="ttname"><a href="civetweb_8c.html#ada8ae98eea53a76bee149585c48beca3">mg_fclose</a></div><div class="ttdeci">static int mg_fclose(struct mg_file_access *fileacc)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02986">civetweb.c:2986</a></div></div>
<div class="ttc" id="acivetweb_8c_html_af7932a261d02cf4b8431793664a4585b"><div class="ttname"><a href="civetweb_8c.html#af7932a261d02cf4b8431793664a4585b">STRUCT_FILE_INITIALIZER</a></div><div class="ttdeci">#define STRUCT_FILE_INITIALIZER</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01891">civetweb.c:1891</a></div></div>
<div class="ttc" id="astructmg__file_html"><div class="ttname"><a href="structmg__file.html">mg_file</a></div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01885">civetweb.c:1885</a></div></div>
<div class="ttc" id="astructmg__file_html_a90b5d07df0a357ba1f1311b92fdd3dc2"><div class="ttname"><a href="structmg__file.html#a90b5d07df0a357ba1f1311b92fdd3dc2">mg_file::access</a></div><div class="ttdeci">struct mg_file_access access</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01887">civetweb.c:1887</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l01887">mg_file::access</a>, <a class="el" href="civetweb_8c_source.html#l08861">authorize()</a>, <a class="el" href="civetweb_8c_source.html#l02986">mg_fclose()</a>, <a class="el" href="civetweb_8c_source.html#l02915">mg_fopen()</a>, <a class="el" href="civetweb_8c_source.html#l02843">MG_FOPEN_MODE_READ</a>, and <a class="el" href="civetweb_8c_source.html#l01891">STRUCT_FILE_INITIALIZER</a>.</p>

</div>
</div>
<a id="ad6e4a71c131991d1bf9dac0c74b7e8b2" name="ad6e4a71c131991d1bf9dac0c74b7e8b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6e4a71c131991d1bf9dac0c74b7e8b2">&#9670;&#160;</a></span>mg_check_feature()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> unsigned mg_check_feature </td>
          <td>(</td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>feature</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l21430">21430</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">21431</span>{</div>
<div class="line"><span class="lineno">21432</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> feature_set = 0</div>
<div class="line"><span class="lineno">21433</span>    <span class="comment">/* Set bits for available features according to API documentation.</span></div>
<div class="line"><span class="lineno">21434</span><span class="comment">     * This bit mask is created at compile time, according to the active</span></div>
<div class="line"><span class="lineno">21435</span><span class="comment">     * preprocessor defines. It is a single const value at runtime. */</span></div>
<div class="line"><span class="lineno">21436</span><span class="preprocessor">#if !defined(NO_FILES)</span></div>
<div class="line"><span class="lineno">21437</span>                                        | <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2da79f7476503d279aebb8e29415c310ba1">MG_FEATURES_FILES</a></div>
<div class="line"><span class="lineno">21438</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21439</span><span class="preprocessor">#if !defined(NO_SSL) || defined(USE_MBEDTLS)</span></div>
<div class="line"><span class="lineno">21440</span>                                        | <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2daba4b4d11dd0dec1ba0833f0bb1de2b0e">MG_FEATURES_SSL</a></div>
<div class="line"><span class="lineno">21441</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21442</span><span class="preprocessor">#if !defined(NO_CGI)</span></div>
<div class="line"><span class="lineno">21443</span>                                        | <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2da84fc7ef257026875a66d71eddd99a52a">MG_FEATURES_CGI</a></div>
<div class="line"><span class="lineno">21444</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21445</span><span class="preprocessor">#if defined(USE_IPV6)</span></div>
<div class="line"><span class="lineno">21446</span>                                        | <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2da899e17934638eaac9928e3ca39c4b4ba">MG_FEATURES_IPV6</a></div>
<div class="line"><span class="lineno">21447</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21448</span><span class="preprocessor">#if defined(USE_WEBSOCKET)</span></div>
<div class="line"><span class="lineno">21449</span>                                        | <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2daeb94a2a63430c86ebbae4dfe84e7f8de">MG_FEATURES_WEBSOCKET</a></div>
<div class="line"><span class="lineno">21450</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21451</span><span class="preprocessor">#if defined(USE_LUA)</span></div>
<div class="line"><span class="lineno">21452</span>                                        | <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2dad09716f1978e57ab93c65da1c53ccb1d">MG_FEATURES_LUA</a></div>
<div class="line"><span class="lineno">21453</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21454</span><span class="preprocessor">#if defined(USE_DUKTAPE)</span></div>
<div class="line"><span class="lineno">21455</span>                                        | <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2daec89c7f60acc1228627d697da889dfa6">MG_FEATURES_SSJS</a></div>
<div class="line"><span class="lineno">21456</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21457</span><span class="preprocessor">#if !defined(NO_CACHING)</span></div>
<div class="line"><span class="lineno">21458</span>                                        | <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2da65c4232cdd767df45fcd9abea0cc66e2">MG_FEATURES_CACHE</a></div>
<div class="line"><span class="lineno">21459</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21460</span><span class="preprocessor">#if defined(USE_SERVER_STATS)</span></div>
<div class="line"><span class="lineno">21461</span>                                        | <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2da56a0059eeae63a991e650d956719db5b">MG_FEATURES_STATS</a></div>
<div class="line"><span class="lineno">21462</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21463</span><span class="preprocessor">#if defined(USE_ZLIB)</span></div>
<div class="line"><span class="lineno">21464</span>                                        | <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2dafafb5cadff6871526c7b6db515983eef">MG_FEATURES_COMPRESSION</a></div>
<div class="line"><span class="lineno">21465</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21466</span><span class="preprocessor">#if defined(USE_HTTP2)</span></div>
<div class="line"><span class="lineno">21467</span>                                        | <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2da04681512f408a96ac398846b65eb74ec">MG_FEATURES_HTTP2</a></div>
<div class="line"><span class="lineno">21468</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21469</span><span class="preprocessor">#if defined(USE_X_DOM_SOCKET)</span></div>
<div class="line"><span class="lineno">21470</span>                                        | <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2daabd5074b3d3bb11e9528c539274c6841">MG_FEATURES_X_DOMAIN_SOCKET</a></div>
<div class="line"><span class="lineno">21471</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21472</span> </div>
<div class="line"><span class="lineno">21473</span>    <span class="comment">/* Set some extra bits not defined in the API documentation.</span></div>
<div class="line"><span class="lineno">21474</span><span class="comment">     * These bits may change without further notice. */</span></div>
<div class="line"><span class="lineno">21475</span><span class="preprocessor">#if defined(MG_LEGACY_INTERFACE)</span></div>
<div class="line"><span class="lineno">21476</span>                                        | 0x80000000u</div>
<div class="line"><span class="lineno">21477</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21478</span><span class="preprocessor">#if defined(MG_EXPERIMENTAL_INTERFACES)</span></div>
<div class="line"><span class="lineno">21479</span>                                        | 0x40000000u</div>
<div class="line"><span class="lineno">21480</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21481</span><span class="preprocessor">#if !defined(NO_RESPONSE_BUFFERING)</span></div>
<div class="line"><span class="lineno">21482</span>                                        | 0x20000000u</div>
<div class="line"><span class="lineno">21483</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21484</span><span class="preprocessor">#if defined(MEMORY_DEBUGGING)</span></div>
<div class="line"><span class="lineno">21485</span>                                        | 0x10000000u</div>
<div class="line"><span class="lineno">21486</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21487</span>        ;</div>
<div class="line"><span class="lineno">21488</span>    <span class="keywordflow">return</span> (feature &amp; feature_set);</div>
<div class="line"><span class="lineno">21489</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8h_source.html#l00091">MG_FEATURES_CACHE</a>, <a class="el" href="civetweb_8h_source.html#l00071">MG_FEATURES_CGI</a>, <a class="el" href="civetweb_8h_source.html#l00099">MG_FEATURES_COMPRESSION</a>, <a class="el" href="civetweb_8h_source.html#l00061">MG_FEATURES_FILES</a>, <a class="el" href="civetweb_8h_source.html#l00102">MG_FEATURES_HTTP2</a>, <a class="el" href="civetweb_8h_source.html#l00075">MG_FEATURES_IPV6</a>, <a class="el" href="civetweb_8h_source.html#l00083">MG_FEATURES_LUA</a>, <a class="el" href="civetweb_8h_source.html#l00087">MG_FEATURES_SSJS</a>, <a class="el" href="civetweb_8h_source.html#l00067">MG_FEATURES_SSL</a>, <a class="el" href="civetweb_8h_source.html#l00095">MG_FEATURES_STATS</a>, <a class="el" href="civetweb_8h_source.html#l00079">MG_FEATURES_WEBSOCKET</a>, and <a class="el" href="civetweb_8h_source.html#l00105">MG_FEATURES_X_DOMAIN_SOCKET</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l21512">mg_get_system_info()</a>, and <a class="el" href="civetweb_8c_source.html#l22347">mg_init_library()</a>.</p>

</div>
</div>
<a id="aa1633f8dddf537749c79ac85bb45ac1e" name="aa1633f8dddf537749c79ac85bb45ac1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1633f8dddf537749c79ac85bb45ac1e">&#9670;&#160;</a></span>mg_close_connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> struct <a class="el" href="structmg__connection.html">mg_connection</a> <a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void mg_close_connection </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l17938">17938</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">17939</span>{</div>
<div class="line"><span class="lineno">17940</span>    <span class="keywordflow">if</span> ((conn == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#aba76ab7aef56551015fe468e8fc306c1">phys_ctx</a> == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><span class="lineno">17941</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">17942</span>    }</div>
<div class="line"><span class="lineno">17943</span> </div>
<div class="line"><span class="lineno">17944</span><span class="preprocessor">#if defined(USE_WEBSOCKET)</span></div>
<div class="line"><span class="lineno">17945</span>    <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#aba76ab7aef56551015fe468e8fc306c1">phys_ctx</a>-&gt;<a class="code hl_variable" href="structmg__context.html#a90a2997b56e1c373156481a79c4e5d52">context_type</a> == <a class="code hl_enumvalue" href="civetweb_8c.html#a99fb83031ce9923c84392b4e92f956b5a6392e857a250daf7dd0a85461da6d099">CONTEXT_SERVER</a>) {</div>
<div class="line"><span class="lineno">17946</span>        <span class="keywordflow">if</span> (conn-&gt;in_websocket_handling) {</div>
<div class="line"><span class="lineno">17947</span>            <span class="comment">/* Set close flag, so the server thread can exit. */</span></div>
<div class="line"><span class="lineno">17948</span>            conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a7e246b550026933deb3bbcda123df48f">must_close</a> = 1;</div>
<div class="line"><span class="lineno">17949</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">17950</span>        }</div>
<div class="line"><span class="lineno">17951</span>    }</div>
<div class="line"><span class="lineno">17952</span>    <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#aba76ab7aef56551015fe468e8fc306c1">phys_ctx</a>-&gt;<a class="code hl_variable" href="structmg__context.html#a90a2997b56e1c373156481a79c4e5d52">context_type</a> == <a class="code hl_enumvalue" href="civetweb_8c.html#a99fb83031ce9923c84392b4e92f956b5a03e63e1c82cfb5e937a777e71c4a40f2">CONTEXT_WS_CLIENT</a>) {</div>
<div class="line"><span class="lineno">17953</span> </div>
<div class="line"><span class="lineno">17954</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">17955</span> </div>
<div class="line"><span class="lineno">17956</span>        <span class="comment">/* client context: loops must end */</span></div>
<div class="line"><span class="lineno">17957</span>        <a class="code hl_define" href="civetweb_8c.html#a5cd88c4a6b9186f77507c50a6ae6625f">STOP_FLAG_ASSIGN</a>(&amp;conn-&gt;<a class="code hl_variable" href="structmg__connection.html#aba76ab7aef56551015fe468e8fc306c1">phys_ctx</a>-&gt;<a class="code hl_variable" href="structmg__context.html#a733a0204e86fcf92d016bd08c9db2691">stop_flag</a>, 1);</div>
<div class="line"><span class="lineno">17958</span>        conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a7e246b550026933deb3bbcda123df48f">must_close</a> = 1;</div>
<div class="line"><span class="lineno">17959</span> </div>
<div class="line"><span class="lineno">17960</span>        <span class="comment">/* We need to get the client thread out of the select/recv call</span></div>
<div class="line"><span class="lineno">17961</span><span class="comment">         * here. */</span></div>
<div class="line"><span class="lineno">17962</span>        <span class="comment">/* Since we use a sleep quantum of some seconds to check for recv</span></div>
<div class="line"><span class="lineno">17963</span><span class="comment">         * timeouts, we will just wait a few seconds in mg_join_thread. */</span></div>
<div class="line"><span class="lineno">17964</span> </div>
<div class="line"><span class="lineno">17965</span>        <span class="comment">/* join worker thread */</span></div>
<div class="line"><span class="lineno">17966</span>        <span class="keywordflow">for</span> (i = 0; i &lt; conn-&gt;<a class="code hl_variable" href="structmg__connection.html#aba76ab7aef56551015fe468e8fc306c1">phys_ctx</a>-&gt;<a class="code hl_variable" href="structmg__context.html#afa57b9192357ddbae3c0fc3b5481425a">cfg_worker_threads</a>; i++) {</div>
<div class="line"><span class="lineno">17967</span>            <a class="code hl_function" href="civetweb_8c.html#adfdfa9abee970034383cfb3e832d2217">mg_join_thread</a>(conn-&gt;<a class="code hl_variable" href="structmg__connection.html#aba76ab7aef56551015fe468e8fc306c1">phys_ctx</a>-&gt;<a class="code hl_variable" href="structmg__context.html#a50c65eb1270eecad5834817246d86f2b">worker_threadids</a>[i]);</div>
<div class="line"><span class="lineno">17968</span>        }</div>
<div class="line"><span class="lineno">17969</span>    }</div>
<div class="line"><span class="lineno">17970</span><span class="preprocessor">#endif </span><span class="comment">/* defined(USE_WEBSOCKET) */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">17971</span> </div>
<div class="line"><span class="lineno">17972</span>    <a class="code hl_function" href="civetweb_8c.html#af4b9971ca12d36d97d92dd7980059fb0">close_connection</a>(conn);</div>
<div class="line"><span class="lineno">17973</span> </div>
<div class="line"><span class="lineno">17974</span><span class="preprocessor">#if !defined(NO_SSL) &amp;&amp; !defined(USE_MBEDTLS) </span><span class="comment">// TODO: mbedTLS client</span></div>
<div class="line"><span class="lineno">17975</span>    <span class="keywordflow">if</span> (((conn-&gt;<a class="code hl_variable" href="structmg__connection.html#aba76ab7aef56551015fe468e8fc306c1">phys_ctx</a>-&gt;<a class="code hl_variable" href="structmg__context.html#a90a2997b56e1c373156481a79c4e5d52">context_type</a> == <a class="code hl_enumvalue" href="civetweb_8c.html#a99fb83031ce9923c84392b4e92f956b5ac5e9108e1a7588fe9429108516575440">CONTEXT_HTTP_CLIENT</a>)</div>
<div class="line"><span class="lineno">17976</span>         || (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#aba76ab7aef56551015fe468e8fc306c1">phys_ctx</a>-&gt;<a class="code hl_variable" href="structmg__context.html#a90a2997b56e1c373156481a79c4e5d52">context_type</a> == <a class="code hl_enumvalue" href="civetweb_8c.html#a99fb83031ce9923c84392b4e92f956b5a03e63e1c82cfb5e937a777e71c4a40f2">CONTEXT_WS_CLIENT</a>))</div>
<div class="line"><span class="lineno">17977</span>        &amp;&amp; (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#aba76ab7aef56551015fe468e8fc306c1">phys_ctx</a>-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>.<a class="code hl_variable" href="structmg__domain__context.html#ad3a7a314204d9bb7fc0af8bccf826e58">ssl_ctx</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><span class="lineno">17978</span>        SSL_CTX_free(conn-&gt;<a class="code hl_variable" href="structmg__connection.html#aba76ab7aef56551015fe468e8fc306c1">phys_ctx</a>-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>.<a class="code hl_variable" href="structmg__domain__context.html#ad3a7a314204d9bb7fc0af8bccf826e58">ssl_ctx</a>);</div>
<div class="line"><span class="lineno">17979</span>    }</div>
<div class="line"><span class="lineno">17980</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">17981</span> </div>
<div class="line"><span class="lineno">17982</span><span class="preprocessor">#if defined(USE_WEBSOCKET)</span></div>
<div class="line"><span class="lineno">17983</span>    <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#aba76ab7aef56551015fe468e8fc306c1">phys_ctx</a>-&gt;<a class="code hl_variable" href="structmg__context.html#a90a2997b56e1c373156481a79c4e5d52">context_type</a> == <a class="code hl_enumvalue" href="civetweb_8c.html#a99fb83031ce9923c84392b4e92f956b5a03e63e1c82cfb5e937a777e71c4a40f2">CONTEXT_WS_CLIENT</a>) {</div>
<div class="line"><span class="lineno">17984</span>        <a class="code hl_function" href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a>(conn-&gt;<a class="code hl_variable" href="structmg__connection.html#aba76ab7aef56551015fe468e8fc306c1">phys_ctx</a>-&gt;<a class="code hl_variable" href="structmg__context.html#a50c65eb1270eecad5834817246d86f2b">worker_threadids</a>);</div>
<div class="line"><span class="lineno">17985</span>        (void)pthread_mutex_destroy(&amp;conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a641ac188409fd64c07e486b265d58a03">mutex</a>);</div>
<div class="line"><span class="lineno">17986</span>        <a class="code hl_function" href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a>(conn);</div>
<div class="line"><span class="lineno">17987</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#aba76ab7aef56551015fe468e8fc306c1">phys_ctx</a>-&gt;<a class="code hl_variable" href="structmg__context.html#a90a2997b56e1c373156481a79c4e5d52">context_type</a> == <a class="code hl_enumvalue" href="civetweb_8c.html#a99fb83031ce9923c84392b4e92f956b5ac5e9108e1a7588fe9429108516575440">CONTEXT_HTTP_CLIENT</a>) {</div>
<div class="line"><span class="lineno">17988</span>        (void)pthread_mutex_destroy(&amp;conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a641ac188409fd64c07e486b265d58a03">mutex</a>);</div>
<div class="line"><span class="lineno">17989</span>        <a class="code hl_function" href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a>(conn);</div>
<div class="line"><span class="lineno">17990</span>    }</div>
<div class="line"><span class="lineno">17991</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">17992</span>    <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#aba76ab7aef56551015fe468e8fc306c1">phys_ctx</a>-&gt;<a class="code hl_variable" href="structmg__context.html#a90a2997b56e1c373156481a79c4e5d52">context_type</a> == <a class="code hl_enumvalue" href="civetweb_8c.html#a99fb83031ce9923c84392b4e92f956b5ac5e9108e1a7588fe9429108516575440">CONTEXT_HTTP_CLIENT</a>) { <span class="comment">/* Client */</span></div>
<div class="line"><span class="lineno">17993</span>        (void)pthread_mutex_destroy(&amp;conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a641ac188409fd64c07e486b265d58a03">mutex</a>);</div>
<div class="line"><span class="lineno">17994</span>        <a class="code hl_function" href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a>(conn);</div>
<div class="line"><span class="lineno">17995</span>    }</div>
<div class="line"><span class="lineno">17996</span><span class="preprocessor">#endif </span><span class="comment">/* defined(USE_WEBSOCKET) */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">17997</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a5cd88c4a6b9186f77507c50a6ae6625f"><div class="ttname"><a href="civetweb_8c.html#a5cd88c4a6b9186f77507c50a6ae6625f">STOP_FLAG_ASSIGN</a></div><div class="ttdeci">#define STOP_FLAG_ASSIGN(f, v)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02324">civetweb.c:2324</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a99fb83031ce9923c84392b4e92f956b5a03e63e1c82cfb5e937a777e71c4a40f2"><div class="ttname"><a href="civetweb_8c.html#a99fb83031ce9923c84392b4e92f956b5a03e63e1c82cfb5e937a777e71c4a40f2">CONTEXT_WS_CLIENT</a></div><div class="ttdeci">@ CONTEXT_WS_CLIENT</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02266">civetweb.c:2265</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a99fb83031ce9923c84392b4e92f956b5a6392e857a250daf7dd0a85461da6d099"><div class="ttname"><a href="civetweb_8c.html#a99fb83031ce9923c84392b4e92f956b5a6392e857a250daf7dd0a85461da6d099">CONTEXT_SERVER</a></div><div class="ttdeci">@ CONTEXT_SERVER</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02263">civetweb.c:2263</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a99fb83031ce9923c84392b4e92f956b5ac5e9108e1a7588fe9429108516575440"><div class="ttname"><a href="civetweb_8c.html#a99fb83031ce9923c84392b4e92f956b5ac5e9108e1a7588fe9429108516575440">CONTEXT_HTTP_CLIENT</a></div><div class="ttdeci">@ CONTEXT_HTTP_CLIENT</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02264">civetweb.c:2264</a></div></div>
<div class="ttc" id="acivetweb_8c_html_adc85e6b6e1bec856e91dc0346f49d9da"><div class="ttname"><a href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a></div><div class="ttdeci">static __inline void mg_free(void *a)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01492">civetweb.c:1492</a></div></div>
<div class="ttc" id="acivetweb_8c_html_adfdfa9abee970034383cfb3e832d2217"><div class="ttname"><a href="civetweb_8c.html#adfdfa9abee970034383cfb3e832d2217">mg_join_thread</a></div><div class="ttdeci">static int mg_join_thread(pthread_t threadid)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l05757">civetweb.c:5757</a></div></div>
<div class="ttc" id="acivetweb_8c_html_af4b9971ca12d36d97d92dd7980059fb0"><div class="ttname"><a href="civetweb_8c.html#af4b9971ca12d36d97d92dd7980059fb0">close_connection</a></div><div class="ttdeci">static void close_connection(struct mg_connection *conn)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l17864">civetweb.c:17864</a></div></div>
<div class="ttc" id="astructmg__connection_html_a641ac188409fd64c07e486b265d58a03"><div class="ttname"><a href="structmg__connection.html#a641ac188409fd64c07e486b265d58a03">mg_connection::mutex</a></div><div class="ttdeci">pthread_mutex_t mutex</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02565">civetweb.c:2565</a></div></div>
<div class="ttc" id="astructmg__connection_html_a7e246b550026933deb3bbcda123df48f"><div class="ttname"><a href="structmg__connection.html#a7e246b550026933deb3bbcda123df48f">mg_connection::must_close</a></div><div class="ttdeci">int must_close</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02535">civetweb.c:2535</a></div></div>
<div class="ttc" id="astructmg__connection_html_aba76ab7aef56551015fe468e8fc306c1"><div class="ttname"><a href="structmg__connection.html#aba76ab7aef56551015fe468e8fc306c1">mg_connection::phys_ctx</a></div><div class="ttdeci">struct mg_context * phys_ctx</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02497">civetweb.c:2497</a></div></div>
<div class="ttc" id="astructmg__context_html_a50c65eb1270eecad5834817246d86f2b"><div class="ttname"><a href="structmg__context.html#a50c65eb1270eecad5834817246d86f2b">mg_context::worker_threadids</a></div><div class="ttdeci">pthread_t * worker_threadids</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02379">civetweb.c:2379</a></div></div>
<div class="ttc" id="astructmg__context_html_a733a0204e86fcf92d016bd08c9db2691"><div class="ttname"><a href="structmg__context.html#a733a0204e86fcf92d016bd08c9db2691">mg_context::stop_flag</a></div><div class="ttdeci">stop_flag_t stop_flag</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02373">civetweb.c:2373</a></div></div>
<div class="ttc" id="astructmg__context_html_a90a2997b56e1c373156481a79c4e5d52"><div class="ttname"><a href="structmg__context.html#a90a2997b56e1c373156481a79c4e5d52">mg_context::context_type</a></div><div class="ttdeci">int context_type</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02354">civetweb.c:2354</a></div></div>
<div class="ttc" id="astructmg__context_html_aa9f0218a15ae4f5f01985f2531660e4c"><div class="ttname"><a href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">mg_context::dd</a></div><div class="ttdeci">struct mg_domain_context dd</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02442">civetweb.c:2442</a></div></div>
<div class="ttc" id="astructmg__context_html_afa57b9192357ddbae3c0fc3b5481425a"><div class="ttname"><a href="structmg__context.html#afa57b9192357ddbae3c0fc3b5481425a">mg_context::cfg_worker_threads</a></div><div class="ttdeci">unsigned int cfg_worker_threads</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02378">civetweb.c:2378</a></div></div>
<div class="ttc" id="astructmg__domain__context_html_ad3a7a314204d9bb7fc0af8bccf826e58"><div class="ttname"><a href="structmg__domain__context.html#ad3a7a314204d9bb7fc0af8bccf826e58">mg_domain_context::ssl_ctx</a></div><div class="ttdeci">SSL_CTX * ssl_ctx</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02270">civetweb.c:2270</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l02378">mg_context::cfg_worker_threads</a>, <a class="el" href="civetweb_8c_source.html#l17864">close_connection()</a>, <a class="el" href="civetweb_8c_source.html#l02264">CONTEXT_HTTP_CLIENT</a>, <a class="el" href="civetweb_8c_source.html#l02263">CONTEXT_SERVER</a>, <a class="el" href="civetweb_8c_source.html#l02354">mg_context::context_type</a>, <a class="el" href="civetweb_8c_source.html#l02265">CONTEXT_WS_CLIENT</a>, <a class="el" href="civetweb_8c_source.html#l02442">mg_context::dd</a>, <a class="el" href="civetweb_8c_source.html#l01492">mg_free()</a>, <a class="el" href="civetweb_8c_source.html#l05757">mg_join_thread()</a>, <a class="el" href="civetweb_8c_source.html#l02535">mg_connection::must_close</a>, <a class="el" href="civetweb_8c_source.html#l02565">mg_connection::mutex</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, <a class="el" href="civetweb_8c_source.html#l02497">mg_connection::phys_ctx</a>, <a class="el" href="civetweb_8c_source.html#l02270">mg_domain_context::ssl_ctx</a>, <a class="el" href="civetweb_8c_source.html#l02373">mg_context::stop_flag</a>, <a class="el" href="civetweb_8c_source.html#l02324">STOP_FLAG_ASSIGN</a>, and <a class="el" href="civetweb_8c_source.html#l02379">mg_context::worker_threadids</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l18997">mg_connect_websocket_client_impl()</a>, <a class="el" href="civetweb_8c_source.html#l18874">mg_download()</a>, and <a class="el" href="vendor_2civetweb_2main_8c_source.html#l00995">run_client()</a>.</p>

</div>
</div>
<a id="ace350941110e963aeb1ce985260c6a51" name="ace350941110e963aeb1ce985260c6a51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace350941110e963aeb1ce985260c6a51">&#9670;&#160;</a></span>mg_connect_client()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> struct <a class="el" href="structmg__connection.html">mg_connection</a> * mg_connect_client </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>host</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>port</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>use_ssl</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>error_buffer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>error_buffer_size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l18253">18253</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">18258</span>{</div>
<div class="line"><span class="lineno">18259</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structmg__client__options.html">mg_client_options</a> opts;</div>
<div class="line"><span class="lineno">18260</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structmg__init__data.html">mg_init_data</a> init;</div>
<div class="line"><span class="lineno">18261</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structmg__error__data.html">mg_error_data</a> <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>;</div>
<div class="line"><span class="lineno">18262</span> </div>
<div class="line"><span class="lineno">18263</span>    memset(&amp;init, 0, <span class="keyword">sizeof</span>(init));</div>
<div class="line"><span class="lineno">18264</span> </div>
<div class="line"><span class="lineno">18265</span>    memset(&amp;<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>));</div>
<div class="line"><span class="lineno">18266</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>.text_buffer_size = error_buffer_size;</div>
<div class="line"><span class="lineno">18267</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>.text = error_buffer;</div>
<div class="line"><span class="lineno">18268</span> </div>
<div class="line"><span class="lineno">18269</span>    memset(&amp;opts, 0, <span class="keyword">sizeof</span>(opts));</div>
<div class="line"><span class="lineno">18270</span>    opts.host = host;</div>
<div class="line"><span class="lineno">18271</span>    opts.port = port;</div>
<div class="line"><span class="lineno">18272</span>    <span class="keywordflow">if</span> (use_ssl) {</div>
<div class="line"><span class="lineno">18273</span>        opts.host_name = host;</div>
<div class="line"><span class="lineno">18274</span>    }</div>
<div class="line"><span class="lineno">18275</span> </div>
<div class="line"><span class="lineno">18276</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="civetweb_8c.html#adc29128579a051d08c3d735ea3e1de2f">mg_connect_client_impl</a>(&amp;opts, use_ssl, &amp;init, &amp;<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>);</div>
<div class="line"><span class="lineno">18277</span>}</div>
<div class="ttc" id="acivetweb_8c_html_adc29128579a051d08c3d735ea3e1de2f"><div class="ttname"><a href="civetweb_8c.html#adc29128579a051d08c3d735ea3e1de2f">mg_connect_client_impl</a></div><div class="ttdeci">static struct mg_connection * mg_connect_client_impl(const struct mg_client_options *client_options, int use_ssl, struct mg_init_data *init, struct mg_error_data *error)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l18001">civetweb.c:18001</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lundump_8c_html_a6776ffdd5e2abf4119b1d45731e9e668"><div class="ttname"><a href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a></div><div class="ttdeci">static void error(LoadState *S, const char *why)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lundump_8c_source.html#l00036">lua-5.1.5/src/lundump.c:36</a></div></div>
<div class="ttc" id="astructmg__client__options_html"><div class="ttname"><a href="structmg__client__options.html">mg_client_options</a></div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01483">civetweb.h:1483</a></div></div>
<div class="ttc" id="astructmg__error__data_html"><div class="ttname"><a href="structmg__error__data.html">mg_error_data</a></div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01723">civetweb.h:1723</a></div></div>
<div class="ttc" id="astructmg__init__data_html"><div class="ttname"><a href="structmg__init__data.html">mg_init_data</a></div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01798">civetweb.h:1798</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lua-5_81_85_2src_2lundump_8c_source.html#l00036">error()</a>, <a class="el" href="civetweb_8h_source.html#l01484">mg_client_options::host</a>, <a class="el" href="civetweb_8h_source.html#l01488">mg_client_options::host_name</a>, <a class="el" href="civetweb_8c_source.html#l18001">mg_connect_client_impl()</a>, and <a class="el" href="civetweb_8h_source.html#l01485">mg_client_options::port</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l18874">mg_download()</a>, and <a class="el" href="vendor_2civetweb_2main_8c_source.html#l00995">run_client()</a>.</p>

</div>
</div>
<a id="aa0900e7049ba69cd81fd36844820ae95" name="aa0900e7049ba69cd81fd36844820ae95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0900e7049ba69cd81fd36844820ae95">&#9670;&#160;</a></span>mg_connect_client_secure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> struct <a class="el" href="structmg__connection.html">mg_connection</a> * mg_connect_client_secure </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmg__client__options.html">mg_client_options</a> *</td>          <td class="paramname"><span class="paramname"><em>client_options</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>error_buffer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>error_buffer_size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l18237">18237</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">18240</span>{</div>
<div class="line"><span class="lineno">18241</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structmg__init__data.html">mg_init_data</a> init;</div>
<div class="line"><span class="lineno">18242</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structmg__error__data.html">mg_error_data</a> <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>;</div>
<div class="line"><span class="lineno">18243</span> </div>
<div class="line"><span class="lineno">18244</span>    memset(&amp;init, 0, <span class="keyword">sizeof</span>(init));</div>
<div class="line"><span class="lineno">18245</span>    memset(&amp;<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>));</div>
<div class="line"><span class="lineno">18246</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>.text_buffer_size = error_buffer_size;</div>
<div class="line"><span class="lineno">18247</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>.text = error_buffer;</div>
<div class="line"><span class="lineno">18248</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="civetweb_8c.html#adc29128579a051d08c3d735ea3e1de2f">mg_connect_client_impl</a>(client_options, 1, &amp;init, &amp;<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>);</div>
<div class="line"><span class="lineno">18249</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lua-5_81_85_2src_2lundump_8c_source.html#l00036">error()</a>, and <a class="el" href="civetweb_8c_source.html#l18001">mg_connect_client_impl()</a>.</p>

</div>
</div>
<a id="a5da8b47d8e2795d68cccc0f72b231835" name="a5da8b47d8e2795d68cccc0f72b231835"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5da8b47d8e2795d68cccc0f72b231835">&#9670;&#160;</a></span>mg_connect_websocket_client()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> struct <a class="el" href="structmg__connection.html">mg_connection</a> * mg_connect_websocket_client </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>host</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>port</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>use_ssl</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>error_buffer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>error_buffer_size</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>origin</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ac0e8e90ed1e8b0af95b9a940f6fee3a9">mg_websocket_data_handler</a></td>          <td class="paramname"><span class="paramname"><em>data_func</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ad7e7633a49e5a5e748b0c8bdb22c336d">mg_websocket_close_handler</a></td>          <td class="paramname"><span class="paramname"><em>close_func</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>user_data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l19212">19212</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">19222</span>{</div>
<div class="line"><span class="lineno">19223</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structmg__client__options.html">mg_client_options</a> client_options;</div>
<div class="line"><span class="lineno">19224</span>    memset(&amp;client_options, 0, <span class="keyword">sizeof</span>(client_options));</div>
<div class="line"><span class="lineno">19225</span>    client_options.host = <a class="code hl_variable" href="structmg__client__options.html#aeaa7ef9674ac7115eff7ca61568c622c">host</a>;</div>
<div class="line"><span class="lineno">19226</span>    client_options.port = <a class="code hl_variable" href="structmg__client__options.html#a78729888713a12037fa617a6a8ee4461">port</a>;</div>
<div class="line"><span class="lineno">19227</span> </div>
<div class="line"><span class="lineno">19228</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="civetweb_8c.html#adaf75d5a293cb52138c36e0b7a4fb0e4">mg_connect_websocket_client_impl</a>(&amp;client_options,</div>
<div class="line"><span class="lineno">19229</span>                                            use_ssl,</div>
<div class="line"><span class="lineno">19230</span>                                            error_buffer,</div>
<div class="line"><span class="lineno">19231</span>                                            error_buffer_size,</div>
<div class="line"><span class="lineno">19232</span>                                            path,</div>
<div class="line"><span class="lineno">19233</span>                                            origin,</div>
<div class="line"><span class="lineno">19234</span>                                            <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">19235</span>                                            data_func,</div>
<div class="line"><span class="lineno">19236</span>                                            <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a46bd6da1ec8052eeaf6fd524199ca72a">close_func</a>,</div>
<div class="line"><span class="lineno">19237</span>                                            user_data);</div>
<div class="line"><span class="lineno">19238</span>}</div>
<div class="ttc" id="acivetweb_8c_html_adaf75d5a293cb52138c36e0b7a4fb0e4"><div class="ttname"><a href="civetweb_8c.html#adaf75d5a293cb52138c36e0b7a4fb0e4">mg_connect_websocket_client_impl</a></div><div class="ttdeci">static struct mg_connection * mg_connect_websocket_client_impl(const struct mg_client_options *client_options, int use_ssl, char *error_buffer, size_t error_buffer_size, const char *path, const char *origin, const char *extensions, mg_websocket_data_handler data_func, mg_websocket_close_handler close_func, void *user_data)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l18997">civetweb.c:18997</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lparser_8c_html_a46bd6da1ec8052eeaf6fd524199ca72a"><div class="ttname"><a href="lua-5_81_85_2src_2lparser_8c.html#a46bd6da1ec8052eeaf6fd524199ca72a">close_func</a></div><div class="ttdeci">static void close_func(LexState *ls)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lparser_8c_source.html#l00356">lua-5.1.5/src/lparser.c:356</a></div></div>
<div class="ttc" id="astructmg__client__options_html_a78729888713a12037fa617a6a8ee4461"><div class="ttname"><a href="structmg__client__options.html#a78729888713a12037fa617a6a8ee4461">mg_client_options::port</a></div><div class="ttdeci">int port</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01485">civetweb.h:1485</a></div></div>
<div class="ttc" id="astructmg__client__options_html_aeaa7ef9674ac7115eff7ca61568c622c"><div class="ttname"><a href="structmg__client__options.html#aeaa7ef9674ac7115eff7ca61568c622c">mg_client_options::host</a></div><div class="ttdeci">const char * host</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01484">civetweb.h:1484</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lua-5_81_85_2src_2lparser_8c_source.html#l00356">close_func()</a>, <a class="el" href="civetweb_8h_source.html#l01484">mg_client_options::host</a>, <a class="el" href="civetweb_8c_source.html#l18997">mg_connect_websocket_client_impl()</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, and <a class="el" href="civetweb_8h_source.html#l01485">mg_client_options::port</a>.</p>

</div>
</div>
<a id="adfcb6a406ff449ca3eb9b78ab37805d4" name="adfcb6a406ff449ca3eb9b78ab37805d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfcb6a406ff449ca3eb9b78ab37805d4">&#9670;&#160;</a></span>mg_connect_websocket_client_extensions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> struct <a class="el" href="structmg__connection.html">mg_connection</a> * mg_connect_websocket_client_extensions </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>host</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>port</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>use_ssl</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>error_buffer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>error_buffer_size</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>origin</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>extensions</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ac0e8e90ed1e8b0af95b9a940f6fee3a9">mg_websocket_data_handler</a></td>          <td class="paramname"><span class="paramname"><em>data_func</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ad7e7633a49e5a5e748b0c8bdb22c336d">mg_websocket_close_handler</a></td>          <td class="paramname"><span class="paramname"><em>close_func</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>user_data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l19269">19269</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">19280</span>{</div>
<div class="line"><span class="lineno">19281</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structmg__client__options.html">mg_client_options</a> client_options;</div>
<div class="line"><span class="lineno">19282</span>    memset(&amp;client_options, 0, <span class="keyword">sizeof</span>(client_options));</div>
<div class="line"><span class="lineno">19283</span>    client_options.host = <a class="code hl_variable" href="structmg__client__options.html#aeaa7ef9674ac7115eff7ca61568c622c">host</a>;</div>
<div class="line"><span class="lineno">19284</span>    client_options.port = <a class="code hl_variable" href="structmg__client__options.html#a78729888713a12037fa617a6a8ee4461">port</a>;</div>
<div class="line"><span class="lineno">19285</span> </div>
<div class="line"><span class="lineno">19286</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="civetweb_8c.html#adaf75d5a293cb52138c36e0b7a4fb0e4">mg_connect_websocket_client_impl</a>(&amp;client_options,</div>
<div class="line"><span class="lineno">19287</span>                                            use_ssl,</div>
<div class="line"><span class="lineno">19288</span>                                            error_buffer,</div>
<div class="line"><span class="lineno">19289</span>                                            error_buffer_size,</div>
<div class="line"><span class="lineno">19290</span>                                            path,</div>
<div class="line"><span class="lineno">19291</span>                                            origin,</div>
<div class="line"><span class="lineno">19292</span>                                            extensions,</div>
<div class="line"><span class="lineno">19293</span>                                            data_func,</div>
<div class="line"><span class="lineno">19294</span>                                            <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a46bd6da1ec8052eeaf6fd524199ca72a">close_func</a>,</div>
<div class="line"><span class="lineno">19295</span>                                            user_data);</div>
<div class="line"><span class="lineno">19296</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lua-5_81_85_2src_2lparser_8c_source.html#l00356">close_func()</a>, <a class="el" href="civetweb_8h_source.html#l01484">mg_client_options::host</a>, <a class="el" href="civetweb_8c_source.html#l18997">mg_connect_websocket_client_impl()</a>, and <a class="el" href="civetweb_8h_source.html#l01485">mg_client_options::port</a>.</p>

</div>
</div>
<a id="a82872c373eedb743614f2df8653a1fb9" name="a82872c373eedb743614f2df8653a1fb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82872c373eedb743614f2df8653a1fb9">&#9670;&#160;</a></span>mg_connect_websocket_client_secure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> struct <a class="el" href="structmg__connection.html">mg_connection</a> * mg_connect_websocket_client_secure </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmg__client__options.html">mg_client_options</a> *</td>          <td class="paramname"><span class="paramname"><em>client_options</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>error_buffer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>error_buffer_size</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>origin</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ac0e8e90ed1e8b0af95b9a940f6fee3a9">mg_websocket_data_handler</a></td>          <td class="paramname"><span class="paramname"><em>data_func</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ad7e7633a49e5a5e748b0c8bdb22c336d">mg_websocket_close_handler</a></td>          <td class="paramname"><span class="paramname"><em>close_func</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>user_data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l19242">19242</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">19251</span>{</div>
<div class="line"><span class="lineno">19252</span>    <span class="keywordflow">if</span> (!client_options) {</div>
<div class="line"><span class="lineno">19253</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">19254</span>    }</div>
<div class="line"><span class="lineno">19255</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="civetweb_8c.html#adaf75d5a293cb52138c36e0b7a4fb0e4">mg_connect_websocket_client_impl</a>(client_options,</div>
<div class="line"><span class="lineno">19256</span>                                            1,</div>
<div class="line"><span class="lineno">19257</span>                                            error_buffer,</div>
<div class="line"><span class="lineno">19258</span>                                            error_buffer_size,</div>
<div class="line"><span class="lineno">19259</span>                                            path,</div>
<div class="line"><span class="lineno">19260</span>                                            origin,</div>
<div class="line"><span class="lineno">19261</span>                                            <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">19262</span>                                            data_func,</div>
<div class="line"><span class="lineno">19263</span>                                            <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a46bd6da1ec8052eeaf6fd524199ca72a">close_func</a>,</div>
<div class="line"><span class="lineno">19264</span>                                            user_data);</div>
<div class="line"><span class="lineno">19265</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lua-5_81_85_2src_2lparser_8c_source.html#l00356">close_func()</a>, <a class="el" href="civetweb_8c_source.html#l18997">mg_connect_websocket_client_impl()</a>, and <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>.</p>

</div>
</div>
<a id="a6c7dc2b030def4a350fecbb70652aaa0" name="a6c7dc2b030def4a350fecbb70652aaa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c7dc2b030def4a350fecbb70652aaa0">&#9670;&#160;</a></span>mg_connect_websocket_client_secure_extensions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> struct <a class="el" href="structmg__connection.html">mg_connection</a> * mg_connect_websocket_client_secure_extensions </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmg__client__options.html">mg_client_options</a> *</td>          <td class="paramname"><span class="paramname"><em>client_options</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>error_buffer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>error_buffer_size</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>origin</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>extensions</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ac0e8e90ed1e8b0af95b9a940f6fee3a9">mg_websocket_data_handler</a></td>          <td class="paramname"><span class="paramname"><em>data_func</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ad7e7633a49e5a5e748b0c8bdb22c336d">mg_websocket_close_handler</a></td>          <td class="paramname"><span class="paramname"><em>close_func</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>user_data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l19300">19300</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">19310</span>{</div>
<div class="line"><span class="lineno">19311</span>    <span class="keywordflow">if</span> (!client_options) {</div>
<div class="line"><span class="lineno">19312</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">19313</span>    }</div>
<div class="line"><span class="lineno">19314</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="civetweb_8c.html#adaf75d5a293cb52138c36e0b7a4fb0e4">mg_connect_websocket_client_impl</a>(client_options,</div>
<div class="line"><span class="lineno">19315</span>                                            1,</div>
<div class="line"><span class="lineno">19316</span>                                            error_buffer,</div>
<div class="line"><span class="lineno">19317</span>                                            error_buffer_size,</div>
<div class="line"><span class="lineno">19318</span>                                            path,</div>
<div class="line"><span class="lineno">19319</span>                                            origin,</div>
<div class="line"><span class="lineno">19320</span>                                            extensions,</div>
<div class="line"><span class="lineno">19321</span>                                            data_func,</div>
<div class="line"><span class="lineno">19322</span>                                            <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a46bd6da1ec8052eeaf6fd524199ca72a">close_func</a>,</div>
<div class="line"><span class="lineno">19323</span>                                            user_data);</div>
<div class="line"><span class="lineno">19324</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lua-5_81_85_2src_2lparser_8c_source.html#l00356">close_func()</a>, <a class="el" href="civetweb_8c_source.html#l18997">mg_connect_websocket_client_impl()</a>, and <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>.</p>

</div>
</div>
<a id="a274aaa219aaf0c8172890ee6138f5e38" name="a274aaa219aaf0c8172890ee6138f5e38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a274aaa219aaf0c8172890ee6138f5e38">&#9670;&#160;</a></span>mg_cry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void mg_cry </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a2bb9db6ffe087ec4f44662ed3dfa0abd">PRINTF_FORMAT_STRING</a>(const char *fmt)</td>          <td class="paramname"><span class="paramname">, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9e467f9e2b0dcca696fbbd1da1a01f21" name="a9e467f9e2b0dcca696fbbd1da1a01f21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e467f9e2b0dcca696fbbd1da1a01f21">&#9670;&#160;</a></span>mg_disable_connection_keep_alive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void mg_disable_connection_keep_alive </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l22042">22042</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">22043</span>{</div>
<div class="line"><span class="lineno">22044</span>    <span class="comment">/* https://github.com/civetweb/civetweb/issues/727 */</span></div>
<div class="line"><span class="lineno">22045</span>    <span class="keywordflow">if</span> (conn != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">22046</span>        conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a7e246b550026933deb3bbcda123df48f">must_close</a> = 1;</div>
<div class="line"><span class="lineno">22047</span>    }</div>
<div class="line"><span class="lineno">22048</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l02535">mg_connection::must_close</a>, and <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>.</p>

</div>
</div>
<a id="a6259f245d2c99ba1b989b8ce41a8beb6" name="a6259f245d2c99ba1b989b8ce41a8beb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6259f245d2c99ba1b989b8ce41a8beb6">&#9670;&#160;</a></span>mg_download()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> struct <a class="el" href="structmg__connection.html">mg_connection</a> * mg_download </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>host</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>port</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>use_ssl</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>error_buffer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>error_buffer_size</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a2bb9db6ffe087ec4f44662ed3dfa0abd">PRINTF_FORMAT_STRING</a>(const char *request_fmt)</td>          <td class="paramname"><span class="paramname">, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6f1f2195be687bba095938a263869d61" name="a6f1f2195be687bba095938a263869d61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f1f2195be687bba095938a263869d61">&#9670;&#160;</a></span>mg_exit_library()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> unsigned mg_exit_library </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l22477">22477</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">22478</span>{</div>
<div class="line"><span class="lineno">22479</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="civetweb_8c.html#a553c3bf49335ca7c4ef0af9293ff30cb">mg_init_library_called</a> &lt;= 0) {</div>
<div class="line"><span class="lineno">22480</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">22481</span>    }</div>
<div class="line"><span class="lineno">22482</span> </div>
<div class="line"><span class="lineno">22483</span>    <a class="code hl_function" href="civetweb_8c.html#af9c2267422f7bd2de7c610a4e0eb8fb0">mg_global_lock</a>();</div>
<div class="line"><span class="lineno">22484</span> </div>
<div class="line"><span class="lineno">22485</span>    <a class="code hl_variable" href="civetweb_8c.html#a553c3bf49335ca7c4ef0af9293ff30cb">mg_init_library_called</a>--;</div>
<div class="line"><span class="lineno">22486</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="civetweb_8c.html#a553c3bf49335ca7c4ef0af9293ff30cb">mg_init_library_called</a> == 0) {</div>
<div class="line"><span class="lineno">22487</span><span class="preprocessor">#if (defined(OPENSSL_API_1_0) || defined(OPENSSL_API_1_1)) &amp;&amp; !defined(NO_SSL)</span></div>
<div class="line"><span class="lineno">22488</span>        <span class="keywordflow">if</span> (mg_openssl_initialized) {</div>
<div class="line"><span class="lineno">22489</span>            <a class="code hl_function" href="civetweb_8c.html#a8e8a676fa79a0e0095c1ebfeab44b224">uninitialize_openssl</a>();</div>
<div class="line"><span class="lineno">22490</span>            mg_openssl_initialized = 0;</div>
<div class="line"><span class="lineno">22491</span>        }</div>
<div class="line"><span class="lineno">22492</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">22493</span> </div>
<div class="line"><span class="lineno">22494</span><span class="preprocessor">#if defined(_WIN32)</span></div>
<div class="line"><span class="lineno">22495</span>        (void)WSACleanup();</div>
<div class="line"><span class="lineno">22496</span>        (void)pthread_mutex_destroy(&amp;global_log_file_lock);</div>
<div class="line"><span class="lineno">22497</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">22498</span>        (void)pthread_mutexattr_destroy(&amp;<a class="code hl_variable" href="civetweb_8c.html#a5fea1ce44dd3b119b5edd85d330d8143">pthread_mutex_attr</a>);</div>
<div class="line"><span class="lineno">22499</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">22500</span> </div>
<div class="line"><span class="lineno">22501</span>        (void)pthread_key_delete(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>);</div>
<div class="line"><span class="lineno">22502</span> </div>
<div class="line"><span class="lineno">22503</span><span class="preprocessor">#if defined(USE_LUA)</span></div>
<div class="line"><span class="lineno">22504</span>        lua_exit_optional_libraries();</div>
<div class="line"><span class="lineno">22505</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">22506</span>        <a class="code hl_function" href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a>(<a class="code hl_variable" href="civetweb_8c.html#a8c57fa7eeaaed403927368aa20e4efd5">all_methods</a>);</div>
<div class="line"><span class="lineno">22507</span>        <a class="code hl_variable" href="civetweb_8c.html#a8c57fa7eeaaed403927368aa20e4efd5">all_methods</a> = <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">22508</span> </div>
<div class="line"><span class="lineno">22509</span>        <a class="code hl_function" href="civetweb_8c.html#af8b5fc3bd1b6de9fe6137e7daea140ac">mg_global_unlock</a>();</div>
<div class="line"><span class="lineno">22510</span>        (void)pthread_mutex_destroy(&amp;<a class="code hl_variable" href="civetweb_8c.html#a52fa011c62bacc213572e7464ca702dd">global_lock_mutex</a>);</div>
<div class="line"><span class="lineno">22511</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">22512</span>    }</div>
<div class="line"><span class="lineno">22513</span> </div>
<div class="line"><span class="lineno">22514</span>    <a class="code hl_function" href="civetweb_8c.html#af8b5fc3bd1b6de9fe6137e7daea140ac">mg_global_unlock</a>();</div>
<div class="line"><span class="lineno">22515</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">22516</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a03c9b752bc27bdf5941ddde6f615dd44"><div class="ttname"><a href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a></div><div class="ttdeci">static pthread_key_t sTlsKey</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01580">civetweb.c:1580</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a52fa011c62bacc213572e7464ca702dd"><div class="ttname"><a href="civetweb_8c.html#a52fa011c62bacc213572e7464ca702dd">global_lock_mutex</a></div><div class="ttdeci">static pthread_mutex_t global_lock_mutex</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01089">civetweb.c:1089</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a553c3bf49335ca7c4ef0af9293ff30cb"><div class="ttname"><a href="civetweb_8c.html#a553c3bf49335ca7c4ef0af9293ff30cb">mg_init_library_called</a></div><div class="ttdeci">static int mg_init_library_called</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01552">civetweb.c:1552</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a5fea1ce44dd3b119b5edd85d330d8143"><div class="ttname"><a href="civetweb_8c.html#a5fea1ce44dd3b119b5edd85d330d8143">pthread_mutex_attr</a></div><div class="ttdeci">static pthread_mutexattr_t pthread_mutex_attr</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01074">civetweb.c:1074</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a8c57fa7eeaaed403927368aa20e4efd5"><div class="ttname"><a href="civetweb_8c.html#a8c57fa7eeaaed403927368aa20e4efd5">all_methods</a></div><div class="ttdeci">static char * all_methods</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l10876">civetweb.c:10876</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a8e8a676fa79a0e0095c1ebfeab44b224"><div class="ttname"><a href="civetweb_8c.html#a8e8a676fa79a0e0095c1ebfeab44b224">uninitialize_openssl</a></div><div class="ttdeci">static void uninitialize_openssl(void)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l17594">civetweb.c:17594</a></div></div>
<div class="ttc" id="acivetweb_8c_html_af8b5fc3bd1b6de9fe6137e7daea140ac"><div class="ttname"><a href="civetweb_8c.html#af8b5fc3bd1b6de9fe6137e7daea140ac">mg_global_unlock</a></div><div class="ttdeci">static FUNCTION_MAY_BE_UNUSED void mg_global_unlock(void)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01102">civetweb.c:1102</a></div></div>
<div class="ttc" id="acivetweb_8c_html_af9c2267422f7bd2de7c610a4e0eb8fb0"><div class="ttname"><a href="civetweb_8c.html#af9c2267422f7bd2de7c610a4e0eb8fb0">mg_global_lock</a></div><div class="ttdeci">static FUNCTION_MAY_BE_UNUSED void mg_global_lock(void)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01094">civetweb.c:1094</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l10876">all_methods</a>, <a class="el" href="civetweb_8c_source.html#l01089">global_lock_mutex</a>, <a class="el" href="civetweb_8c_source.html#l01492">mg_free()</a>, <a class="el" href="civetweb_8c_source.html#l01094">mg_global_lock()</a>, <a class="el" href="civetweb_8c_source.html#l01102">mg_global_unlock()</a>, <a class="el" href="civetweb_8c_source.html#l01552">mg_init_library_called</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, <a class="el" href="civetweb_8c_source.html#l01074">pthread_mutex_attr</a>, <a class="el" href="civetweb_8c_source.html#l01580">sTlsKey</a>, and <a class="el" href="civetweb_8c_source.html#l17594">uninitialize_openssl()</a>.</p>

<p class="reference">Referenced by <a class="el" href="vendor_2civetweb_2main_8c_source.html#l00995">run_client()</a>.</p>

</div>
</div>
<a id="a0de2d85bdcaa73d028dc7b212cc6b1fa" name="a0de2d85bdcaa73d028dc7b212cc6b1fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0de2d85bdcaa73d028dc7b212cc6b1fa">&#9670;&#160;</a></span>mg_get_builtin_mime_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> const char * mg_get_builtin_mime_type </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>file_name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l08332">8332</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 8333</span>{</div>
<div class="line"><span class="lineno"> 8334</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *ext;</div>
<div class="line"><span class="lineno"> 8335</span>    <span class="keywordtype">size_t</span> i, path_len;</div>
<div class="line"><span class="lineno"> 8336</span> </div>
<div class="line"><span class="lineno"> 8337</span>    path_len = strlen(path);</div>
<div class="line"><span class="lineno"> 8338</span> </div>
<div class="line"><span class="lineno"> 8339</span>    <span class="keywordflow">for</span> (i = 0; <a class="code hl_variable" href="civetweb_8c.html#a76f932e4783a1729837a1ea72e730127">builtin_mime_types</a>[i].extension != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; i++) {</div>
<div class="line"><span class="lineno"> 8340</span>        ext = path + (path_len - <a class="code hl_variable" href="civetweb_8c.html#a76f932e4783a1729837a1ea72e730127">builtin_mime_types</a>[i].ext_len);</div>
<div class="line"><span class="lineno"> 8341</span>        <span class="keywordflow">if</span> ((path_len &gt; <a class="code hl_variable" href="civetweb_8c.html#a76f932e4783a1729837a1ea72e730127">builtin_mime_types</a>[i].<a class="code hl_variable" href="civetweb_8c.html#a267ce87a2a38d9f1e99d345dbde97c28">ext_len</a>)</div>
<div class="line"><span class="lineno"> 8342</span>            &amp;&amp; (<a class="code hl_function" href="civetweb_8c.html#a5d0ea93d3ec8a90e631f7e7f53d28628">mg_strcasecmp</a>(ext, <a class="code hl_variable" href="civetweb_8c.html#a76f932e4783a1729837a1ea72e730127">builtin_mime_types</a>[i].<a class="code hl_variable" href="civetweb_8c.html#a3a21b674a056eab8a11436300ae02d00">extension</a>) == 0)) {</div>
<div class="line"><span class="lineno"> 8343</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="civetweb_8c.html#a76f932e4783a1729837a1ea72e730127">builtin_mime_types</a>[i].mime_type;</div>
<div class="line"><span class="lineno"> 8344</span>        }</div>
<div class="line"><span class="lineno"> 8345</span>    }</div>
<div class="line"><span class="lineno"> 8346</span> </div>
<div class="line"><span class="lineno"> 8347</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;text/plain&quot;</span>;</div>
<div class="line"><span class="lineno"> 8348</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a267ce87a2a38d9f1e99d345dbde97c28"><div class="ttname"><a href="civetweb_8c.html#a267ce87a2a38d9f1e99d345dbde97c28">ext_len</a></div><div class="ttdeci">size_t ext_len</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l08223">civetweb.c:8223</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a3a21b674a056eab8a11436300ae02d00"><div class="ttname"><a href="civetweb_8c.html#a3a21b674a056eab8a11436300ae02d00">extension</a></div><div class="ttdeci">const char * extension</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l08222">civetweb.c:8222</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a5d0ea93d3ec8a90e631f7e7f53d28628"><div class="ttname"><a href="civetweb_8c.html#a5d0ea93d3ec8a90e631f7e7f53d28628">mg_strcasecmp</a></div><div class="ttdeci">CIVETWEB_API int mg_strcasecmp(const char *s1, const char *s2)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l03034">civetweb.c:3034</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a76f932e4783a1729837a1ea72e730127"><div class="ttname"><a href="civetweb_8c.html#a76f932e4783a1729837a1ea72e730127">builtin_mime_types</a></div><div class="ttdeci">static const struct @5 builtin_mime_types[]</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c.html#a76f932e4783a1729837a1ea72e730127">builtin_mime_types</a>, <a class="el" href="civetweb_8c_source.html#l08223">ext_len</a>, <a class="el" href="civetweb_8c_source.html#l08222">extension</a>, <a class="el" href="civetweb_8c_source.html#l03034">mg_strcasecmp()</a>, and <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l08354">get_mime_type()</a>.</p>

</div>
</div>
<a id="a7377f2af53b0a3e0a154a2c186f2f2d4" name="a7377f2af53b0a3e0a154a2c186f2f2d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7377f2af53b0a3e0a154a2c186f2f2d4">&#9670;&#160;</a></span>mg_get_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> struct <a class="el" href="structmg__context.html">mg_context</a> * mg_get_context </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l03188">3188</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3189</span>{</div>
<div class="line"><span class="lineno"> 3190</span>    <span class="keywordflow">return</span> (conn == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ? (<span class="keyword">struct </span><a class="code hl_struct" href="structmg__context.html">mg_context</a> *)<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> : (conn-&gt;phys_ctx);</div>
<div class="line"><span class="lineno"> 3191</span>}</div>
<div class="ttc" id="astructmg__context_html"><div class="ttname"><a href="structmg__context.html">mg_context</a></div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02345">civetweb.c:2345</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, and <a class="el" href="civetweb_8c_source.html#l02497">mg_connection::phys_ctx</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l03202">mg_get_user_context_data()</a>.</p>

</div>
</div>
<a id="a73bb6d799210c1e057478648919f8fa8" name="a73bb6d799210c1e057478648919f8fa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73bb6d799210c1e057478648919f8fa8">&#9670;&#160;</a></span>mg_get_context_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_get_context_info </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmg__context.html">mg_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buffer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>buflen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l21843">21843</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">21844</span>{</div>
<div class="line"><span class="lineno">21845</span><span class="preprocessor">#if defined(USE_SERVER_STATS)</span></div>
<div class="line"><span class="lineno">21846</span>    <span class="keywordtype">char</span> *end, *append_eoobj = <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>[256];</div>
<div class="line"><span class="lineno">21847</span>    <span class="keywordtype">size_t</span> context_info_length = 0;</div>
<div class="line"><span class="lineno">21848</span> </div>
<div class="line"><span class="lineno">21849</span><span class="preprocessor">#if defined(_WIN32)</span></div>
<div class="line"><span class="lineno">21850</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> eol[] = <span class="stringliteral">&quot;\r\n&quot;</span>, eoobj[] = <span class="stringliteral">&quot;\r\n}\r\n&quot;</span>;</div>
<div class="line"><span class="lineno">21851</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">21852</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> eol[] = <span class="stringliteral">&quot;\n&quot;</span>, eoobj[] = <span class="stringliteral">&quot;\n}\n&quot;</span>;</div>
<div class="line"><span class="lineno">21853</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21854</span>    <span class="keyword">struct </span>mg_memory_stat *ms = get_memory_stat((<span class="keyword">struct</span> <a class="code hl_struct" href="structmg__context.html">mg_context</a> *)ctx);</div>
<div class="line"><span class="lineno">21855</span> </div>
<div class="line"><span class="lineno">21856</span>    <span class="keywordflow">if</span> ((buffer == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (buflen &lt; 1)) {</div>
<div class="line"><span class="lineno">21857</span>        buflen = 0;</div>
<div class="line"><span class="lineno">21858</span>        end = buffer;</div>
<div class="line"><span class="lineno">21859</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">21860</span>        *buffer = 0;</div>
<div class="line"><span class="lineno">21861</span>        end = buffer + buflen;</div>
<div class="line"><span class="lineno">21862</span>    }</div>
<div class="line"><span class="lineno">21863</span>    <span class="keywordflow">if</span> (buflen &gt; (<span class="keywordtype">int</span>)(<span class="keyword">sizeof</span>(eoobj) - 1)) {</div>
<div class="line"><span class="lineno">21864</span>        <span class="comment">/* has enough space to append eoobj */</span></div>
<div class="line"><span class="lineno">21865</span>        append_eoobj = buffer;</div>
<div class="line"><span class="lineno">21866</span>        end -= <span class="keyword">sizeof</span>(eoobj) - 1;</div>
<div class="line"><span class="lineno">21867</span>    }</div>
<div class="line"><span class="lineno">21868</span> </div>
<div class="line"><span class="lineno">21869</span>    context_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <span class="stringliteral">&quot;{&quot;</span>);</div>
<div class="line"><span class="lineno">21870</span> </div>
<div class="line"><span class="lineno">21871</span>    <span class="keywordflow">if</span> (ms) { <span class="comment">/* &lt;-- should be always true */</span></div>
<div class="line"><span class="lineno">21872</span>              <span class="comment">/* Memory information */</span></div>
<div class="line"><span class="lineno">21873</span>        <span class="keywordtype">int</span> blockCount = (int)ms-&gt;blockCount;</div>
<div class="line"><span class="lineno">21874</span>        int64_t totalMemUsed = ms-&gt;totalMemUsed;</div>
<div class="line"><span class="lineno">21875</span>        int64_t maxMemUsed = ms-&gt;maxMemUsed;</div>
<div class="line"><span class="lineno">21876</span>        <span class="keywordflow">if</span> (totalMemUsed &gt; maxMemUsed) {</div>
<div class="line"><span class="lineno">21877</span>            maxMemUsed = totalMemUsed;</div>
<div class="line"><span class="lineno">21878</span>        }</div>
<div class="line"><span class="lineno">21879</span> </div>
<div class="line"><span class="lineno">21880</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21881</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21882</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">21883</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">21884</span>                    <span class="stringliteral">&quot;%s\&quot;memory\&quot; : {%s&quot;</span></div>
<div class="line"><span class="lineno">21885</span>                    <span class="stringliteral">&quot;\&quot;blocks\&quot; : %i,%s&quot;</span></div>
<div class="line"><span class="lineno">21886</span>                    <span class="stringliteral">&quot;\&quot;used\&quot; : %&quot;</span> <a class="code hl_define" href="civetweb_8c.html#a57e353d6ce48ab7d414d094961d5e474">INT64_FMT</a> <span class="stringliteral">&quot;,%s&quot;</span></div>
<div class="line"><span class="lineno">21887</span>                    <span class="stringliteral">&quot;\&quot;maxUsed\&quot; : %&quot;</span> <a class="code hl_define" href="civetweb_8c.html#a57e353d6ce48ab7d414d094961d5e474">INT64_FMT</a> <span class="stringliteral">&quot;%s&quot;</span></div>
<div class="line"><span class="lineno">21888</span>                    <span class="stringliteral">&quot;}&quot;</span>,</div>
<div class="line"><span class="lineno">21889</span>                    eol,</div>
<div class="line"><span class="lineno">21890</span>                    eol,</div>
<div class="line"><span class="lineno">21891</span>                    blockCount,</div>
<div class="line"><span class="lineno">21892</span>                    eol,</div>
<div class="line"><span class="lineno">21893</span>                    totalMemUsed,</div>
<div class="line"><span class="lineno">21894</span>                    eol,</div>
<div class="line"><span class="lineno">21895</span>                    maxMemUsed,</div>
<div class="line"><span class="lineno">21896</span>                    eol);</div>
<div class="line"><span class="lineno">21897</span>        context_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21898</span>    }</div>
<div class="line"><span class="lineno">21899</span> </div>
<div class="line"><span class="lineno">21900</span>    <span class="keywordflow">if</span> (ctx) {</div>
<div class="line"><span class="lineno">21901</span>        <span class="comment">/* Declare all variables at begin of the block, to comply</span></div>
<div class="line"><span class="lineno">21902</span><span class="comment">         * with old C standards. */</span></div>
<div class="line"><span class="lineno">21903</span>        <span class="keywordtype">char</span> start_time_str[64] = {0};</div>
<div class="line"><span class="lineno">21904</span>        <span class="keywordtype">char</span> now_str[64] = {0};</div>
<div class="line"><span class="lineno">21905</span>        time_t start_time = ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a0084702a827547767b25513d4400ce46">start_time</a>;</div>
<div class="line"><span class="lineno">21906</span>        time_t now = time(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">21907</span>        int64_t total_data_read, total_data_written;</div>
<div class="line"><span class="lineno">21908</span>        <span class="keywordtype">int</span> active_connections = (int)ctx-&gt;active_connections;</div>
<div class="line"><span class="lineno">21909</span>        <span class="keywordtype">int</span> max_active_connections = (int)ctx-&gt;max_active_connections;</div>
<div class="line"><span class="lineno">21910</span>        <span class="keywordtype">int</span> total_connections = (int)ctx-&gt;total_connections;</div>
<div class="line"><span class="lineno">21911</span>        <span class="keywordflow">if</span> (active_connections &gt; max_active_connections) {</div>
<div class="line"><span class="lineno">21912</span>            max_active_connections = active_connections;</div>
<div class="line"><span class="lineno">21913</span>        }</div>
<div class="line"><span class="lineno">21914</span>        <span class="keywordflow">if</span> (active_connections &gt; total_connections) {</div>
<div class="line"><span class="lineno">21915</span>            total_connections = active_connections;</div>
<div class="line"><span class="lineno">21916</span>        }</div>
<div class="line"><span class="lineno">21917</span> </div>
<div class="line"><span class="lineno">21918</span>        <span class="comment">/* Connections information */</span></div>
<div class="line"><span class="lineno">21919</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21920</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21921</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">21922</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">21923</span>                    <span class="stringliteral">&quot;,%s\&quot;connections\&quot; : {%s&quot;</span></div>
<div class="line"><span class="lineno">21924</span>                    <span class="stringliteral">&quot;\&quot;active\&quot; : %i,%s&quot;</span></div>
<div class="line"><span class="lineno">21925</span>                    <span class="stringliteral">&quot;\&quot;maxActive\&quot; : %i,%s&quot;</span></div>
<div class="line"><span class="lineno">21926</span>                    <span class="stringliteral">&quot;\&quot;total\&quot; : %i%s&quot;</span></div>
<div class="line"><span class="lineno">21927</span>                    <span class="stringliteral">&quot;}&quot;</span>,</div>
<div class="line"><span class="lineno">21928</span>                    eol,</div>
<div class="line"><span class="lineno">21929</span>                    eol,</div>
<div class="line"><span class="lineno">21930</span>                    active_connections,</div>
<div class="line"><span class="lineno">21931</span>                    eol,</div>
<div class="line"><span class="lineno">21932</span>                    max_active_connections,</div>
<div class="line"><span class="lineno">21933</span>                    eol,</div>
<div class="line"><span class="lineno">21934</span>                    total_connections,</div>
<div class="line"><span class="lineno">21935</span>                    eol);</div>
<div class="line"><span class="lineno">21936</span>        context_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21937</span> </div>
<div class="line"><span class="lineno">21938</span>        <span class="comment">/* Queue information */</span></div>
<div class="line"><span class="lineno">21939</span><span class="preprocessor">#if !defined(ALTERNATIVE_QUEUE)</span></div>
<div class="line"><span class="lineno">21940</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21941</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21942</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">21943</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">21944</span>                    <span class="stringliteral">&quot;,%s\&quot;queue\&quot; : {%s&quot;</span></div>
<div class="line"><span class="lineno">21945</span>                    <span class="stringliteral">&quot;\&quot;length\&quot; : %i,%s&quot;</span></div>
<div class="line"><span class="lineno">21946</span>                    <span class="stringliteral">&quot;\&quot;filled\&quot; : %i,%s&quot;</span></div>
<div class="line"><span class="lineno">21947</span>                    <span class="stringliteral">&quot;\&quot;maxFilled\&quot; : %i,%s&quot;</span></div>
<div class="line"><span class="lineno">21948</span>                    <span class="stringliteral">&quot;\&quot;full\&quot; : %s%s&quot;</span></div>
<div class="line"><span class="lineno">21949</span>                    <span class="stringliteral">&quot;}&quot;</span>,</div>
<div class="line"><span class="lineno">21950</span>                    eol,</div>
<div class="line"><span class="lineno">21951</span>                    eol,</div>
<div class="line"><span class="lineno">21952</span>                    ctx-&gt;<a class="code hl_variable" href="structmg__context.html#ae906ea24151aba96333859c9b759ccc1">sq_size</a>,</div>
<div class="line"><span class="lineno">21953</span>                    eol,</div>
<div class="line"><span class="lineno">21954</span>                    ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a6df1d217787a1f213ddb9873f545d23f">sq_head</a> - ctx-&gt;<a class="code hl_variable" href="structmg__context.html#ad0b2da59bdd93d8eb819ef552025b654">sq_tail</a>,</div>
<div class="line"><span class="lineno">21955</span>                    eol,</div>
<div class="line"><span class="lineno">21956</span>                    ctx-&gt;sq_max_fill,</div>
<div class="line"><span class="lineno">21957</span>                    eol,</div>
<div class="line"><span class="lineno">21958</span>                    (ctx-&gt;<a class="code hl_variable" href="structmg__context.html#affbc1f904d30b616b26c9e9261ca4959">sq_blocked</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),</div>
<div class="line"><span class="lineno">21959</span>                    eol);</div>
<div class="line"><span class="lineno">21960</span>        context_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21961</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21962</span> </div>
<div class="line"><span class="lineno">21963</span>        <span class="comment">/* Requests information */</span></div>
<div class="line"><span class="lineno">21964</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21965</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21966</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">21967</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">21968</span>                    <span class="stringliteral">&quot;,%s\&quot;requests\&quot; : {%s&quot;</span></div>
<div class="line"><span class="lineno">21969</span>                    <span class="stringliteral">&quot;\&quot;total\&quot; : %lu%s&quot;</span></div>
<div class="line"><span class="lineno">21970</span>                    <span class="stringliteral">&quot;}&quot;</span>,</div>
<div class="line"><span class="lineno">21971</span>                    eol,</div>
<div class="line"><span class="lineno">21972</span>                    eol,</div>
<div class="line"><span class="lineno">21973</span>                    (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)ctx-&gt;total_requests,</div>
<div class="line"><span class="lineno">21974</span>                    eol);</div>
<div class="line"><span class="lineno">21975</span>        context_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21976</span> </div>
<div class="line"><span class="lineno">21977</span>        <span class="comment">/* Data information */</span></div>
<div class="line"><span class="lineno">21978</span>        total_data_read =</div>
<div class="line"><span class="lineno">21979</span>            mg_atomic_add64((<span class="keyword">volatile</span> int64_t *)&amp;ctx-&gt;total_data_read, 0);</div>
<div class="line"><span class="lineno">21980</span>        total_data_written =</div>
<div class="line"><span class="lineno">21981</span>            mg_atomic_add64((<span class="keyword">volatile</span> int64_t *)&amp;ctx-&gt;total_data_written, 0);</div>
<div class="line"><span class="lineno">21982</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21983</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21984</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">21985</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">21986</span>                    <span class="stringliteral">&quot;,%s\&quot;data\&quot; : {%s&quot;</span></div>
<div class="line"><span class="lineno">21987</span>                    <span class="stringliteral">&quot;\&quot;read\&quot; : %&quot;</span> <a class="code hl_define" href="civetweb_8c.html#a57e353d6ce48ab7d414d094961d5e474">INT64_FMT</a> <span class="stringliteral">&quot;,%s&quot;</span></div>
<div class="line"><span class="lineno">21988</span>                    <span class="stringliteral">&quot;\&quot;written\&quot; : %&quot;</span> <a class="code hl_define" href="civetweb_8c.html#a57e353d6ce48ab7d414d094961d5e474">INT64_FMT</a> <span class="stringliteral">&quot;%s&quot;</span></div>
<div class="line"><span class="lineno">21989</span>                    <span class="stringliteral">&quot;}&quot;</span>,</div>
<div class="line"><span class="lineno">21990</span>                    eol,</div>
<div class="line"><span class="lineno">21991</span>                    eol,</div>
<div class="line"><span class="lineno">21992</span>                    total_data_read,</div>
<div class="line"><span class="lineno">21993</span>                    eol,</div>
<div class="line"><span class="lineno">21994</span>                    total_data_written,</div>
<div class="line"><span class="lineno">21995</span>                    eol);</div>
<div class="line"><span class="lineno">21996</span>        context_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21997</span> </div>
<div class="line"><span class="lineno">21998</span>        <span class="comment">/* Execution time information */</span></div>
<div class="line"><span class="lineno">21999</span>        <a class="code hl_function" href="civetweb_8c.html#a7ef6ebce89c81f7218a0968e3aa9107f">gmt_time_string</a>(start_time_str,</div>
<div class="line"><span class="lineno">22000</span>                        <span class="keyword">sizeof</span>(start_time_str) - 1,</div>
<div class="line"><span class="lineno">22001</span>                        &amp;start_time);</div>
<div class="line"><span class="lineno">22002</span>        <a class="code hl_function" href="civetweb_8c.html#a7ef6ebce89c81f7218a0968e3aa9107f">gmt_time_string</a>(now_str, <span class="keyword">sizeof</span>(now_str) - 1, &amp;now);</div>
<div class="line"><span class="lineno">22003</span> </div>
<div class="line"><span class="lineno">22004</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">22005</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">22006</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">22007</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">22008</span>                    <span class="stringliteral">&quot;,%s\&quot;time\&quot; : {%s&quot;</span></div>
<div class="line"><span class="lineno">22009</span>                    <span class="stringliteral">&quot;\&quot;uptime\&quot; : %.0f,%s&quot;</span></div>
<div class="line"><span class="lineno">22010</span>                    <span class="stringliteral">&quot;\&quot;start\&quot; : \&quot;%s\&quot;,%s&quot;</span></div>
<div class="line"><span class="lineno">22011</span>                    <span class="stringliteral">&quot;\&quot;now\&quot; : \&quot;%s\&quot;%s&quot;</span></div>
<div class="line"><span class="lineno">22012</span>                    <span class="stringliteral">&quot;}&quot;</span>,</div>
<div class="line"><span class="lineno">22013</span>                    eol,</div>
<div class="line"><span class="lineno">22014</span>                    eol,</div>
<div class="line"><span class="lineno">22015</span>                    difftime(now, start_time),</div>
<div class="line"><span class="lineno">22016</span>                    eol,</div>
<div class="line"><span class="lineno">22017</span>                    start_time_str,</div>
<div class="line"><span class="lineno">22018</span>                    eol,</div>
<div class="line"><span class="lineno">22019</span>                    now_str,</div>
<div class="line"><span class="lineno">22020</span>                    eol);</div>
<div class="line"><span class="lineno">22021</span>        context_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">22022</span>    }</div>
<div class="line"><span class="lineno">22023</span> </div>
<div class="line"><span class="lineno">22024</span>    <span class="comment">/* Terminate string */</span></div>
<div class="line"><span class="lineno">22025</span>    <span class="keywordflow">if</span> (append_eoobj) {</div>
<div class="line"><span class="lineno">22026</span>        strcat(append_eoobj, eoobj);</div>
<div class="line"><span class="lineno">22027</span>    }</div>
<div class="line"><span class="lineno">22028</span>    context_info_length += <span class="keyword">sizeof</span>(eoobj) - 1;</div>
<div class="line"><span class="lineno">22029</span> </div>
<div class="line"><span class="lineno">22030</span>    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)context_info_length;</div>
<div class="line"><span class="lineno">22031</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">22032</span>    (void)ctx;</div>
<div class="line"><span class="lineno">22033</span>    <span class="keywordflow">if</span> ((buffer != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (buflen &gt; 0)) {</div>
<div class="line"><span class="lineno">22034</span>        *buffer = 0;</div>
<div class="line"><span class="lineno">22035</span>    }</div>
<div class="line"><span class="lineno">22036</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">22037</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">22038</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a56edd9d2b1961442b88fb2e0419cdac8"><div class="ttname"><a href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a></div><div class="ttdeci">static size_t mg_str_append(char **dst, char *end, const char *src)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l21493">civetweb.c:21493</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a57e353d6ce48ab7d414d094961d5e474"><div class="ttname"><a href="civetweb_8c.html#a57e353d6ce48ab7d414d094961d5e474">INT64_FMT</a></div><div class="ttdeci">#define INT64_FMT</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l00926">civetweb.c:926</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a7ef6ebce89c81f7218a0968e3aa9107f"><div class="ttname"><a href="civetweb_8c.html#a7ef6ebce89c81f7218a0968e3aa9107f">gmt_time_string</a></div><div class="ttdeci">static void gmt_time_string(char *buf, size_t buf_len, time_t *t)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l03341">civetweb.c:3341</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a847434a4a5f5ea7a1a1bca87625ccb81"><div class="ttname"><a href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a></div><div class="ttdeci">static void mg_snprintf(const struct mg_connection *conn, int *truncated, char *buf, size_t buflen, PRINTF_FORMAT_STRING(const char *fmt),...) PRINTF_ARGS(5</div></div>
<div class="ttc" id="alua-5_81_85_2src_2lparser_8c_html_a235428bed4c6be6cb6d2760cd0fa9d34"><div class="ttname"><a href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a></div><div class="ttdeci">static void block(LexState *ls)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lparser_8c_source.html#l00881">lua-5.1.5/src/lparser.c:881</a></div></div>
<div class="ttc" id="astructmg__context_html_a0084702a827547767b25513d4400ce46"><div class="ttname"><a href="structmg__context.html#a0084702a827547767b25513d4400ce46">mg_context::start_time</a></div><div class="ttdeci">time_t start_time</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02412">civetweb.c:2412</a></div></div>
<div class="ttc" id="astructmg__context_html_a6df1d217787a1f213ddb9873f545d23f"><div class="ttname"><a href="structmg__context.html#a6df1d217787a1f213ddb9873f545d23f">mg_context::sq_head</a></div><div class="ttdeci">volatile int sq_head</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02389">civetweb.c:2389</a></div></div>
<div class="ttc" id="astructmg__context_html_ad0b2da59bdd93d8eb819ef552025b654"><div class="ttname"><a href="structmg__context.html#ad0b2da59bdd93d8eb819ef552025b654">mg_context::sq_tail</a></div><div class="ttdeci">volatile int sq_tail</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02390">civetweb.c:2390</a></div></div>
<div class="ttc" id="astructmg__context_html_ae906ea24151aba96333859c9b759ccc1"><div class="ttname"><a href="structmg__context.html#ae906ea24151aba96333859c9b759ccc1">mg_context::sq_size</a></div><div class="ttdeci">int sq_size</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02394">civetweb.c:2394</a></div></div>
<div class="ttc" id="astructmg__context_html_affbc1f904d30b616b26c9e9261ca4959"><div class="ttname"><a href="structmg__context.html#affbc1f904d30b616b26c9e9261ca4959">mg_context::sq_blocked</a></div><div class="ttdeci">volatile int sq_blocked</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02393">civetweb.c:2393</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lua-5_81_85_2src_2lparser_8c_source.html#l00881">block()</a>, <a class="el" href="civetweb_8c_source.html#l03341">gmt_time_string()</a>, <a class="el" href="civetweb_8c_source.html#l00926">INT64_FMT</a>, <a class="el" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf()</a>, <a class="el" href="civetweb_8c_source.html#l21493">mg_str_append()</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, <a class="el" href="civetweb_8c_source.html#l02393">mg_context::sq_blocked</a>, <a class="el" href="civetweb_8c_source.html#l02389">mg_context::sq_head</a>, <a class="el" href="civetweb_8c_source.html#l02394">mg_context::sq_size</a>, <a class="el" href="civetweb_8c_source.html#l02390">mg_context::sq_tail</a>, and <a class="el" href="civetweb_8c_source.html#l02412">mg_context::start_time</a>.</p>

</div>
</div>
<a id="a0ec7ced8044b2a0114f18e9ed2b45b4b" name="a0ec7ced8044b2a0114f18e9ed2b45b4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ec7ced8044b2a0114f18e9ed2b45b4b">&#9670;&#160;</a></span>mg_get_cookie()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_get_cookie </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>cookie</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>var_name</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buf</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>buf_len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l07256">7256</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7260</span>{</div>
<div class="line"><span class="lineno"> 7261</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>, *p, *end;</div>
<div class="line"><span class="lineno"> 7262</span>    <span class="keywordtype">int</span> name_len, len = -1;</div>
<div class="line"><span class="lineno"> 7263</span> </div>
<div class="line"><span class="lineno"> 7264</span>    <span class="keywordflow">if</span> ((dst == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (dst_size == 0)) {</div>
<div class="line"><span class="lineno"> 7265</span>        <span class="keywordflow">return</span> -2;</div>
<div class="line"><span class="lineno"> 7266</span>    }</div>
<div class="line"><span class="lineno"> 7267</span> </div>
<div class="line"><span class="lineno"> 7268</span>    dst[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 7269</span>    <span class="keywordflow">if</span> ((var_name == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || ((<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a> = cookie_header) == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><span class="lineno"> 7270</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 7271</span>    }</div>
<div class="line"><span class="lineno"> 7272</span> </div>
<div class="line"><span class="lineno"> 7273</span>    name_len = (int)strlen(var_name);</div>
<div class="line"><span class="lineno"> 7274</span>    end = <a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a> + strlen(<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>);</div>
<div class="line"><span class="lineno"> 7275</span>    <span class="keywordflow">for</span> (; (<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a> = <a class="code hl_function" href="civetweb_8c.html#a804c91443edc3fa4d74cfe88b1dd3ac8">mg_strcasestr</a>(<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>, var_name)) != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a> += name_len) {</div>
<div class="line"><span class="lineno"> 7276</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>[name_len] == <span class="charliteral">&#39;=&#39;</span>) {</div>
<div class="line"><span class="lineno"> 7277</span>            <span class="comment">/* HCP24: now check is it a substring or a full cookie name */</span></div>
<div class="line"><span class="lineno"> 7278</span>            <span class="keywordflow">if</span> ((<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a> == cookie_header) || (<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>[-1] == <span class="charliteral">&#39; &#39;</span>)) {</div>
<div class="line"><span class="lineno"> 7279</span>                <a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a> += name_len + 1;</div>
<div class="line"><span class="lineno"> 7280</span>                <span class="keywordflow">if</span> ((p = strchr(<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>, <span class="charliteral">&#39; &#39;</span>)) == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno"> 7281</span>                    p = end;</div>
<div class="line"><span class="lineno"> 7282</span>                }</div>
<div class="line"><span class="lineno"> 7283</span>                <span class="keywordflow">if</span> (p[-1] == <span class="charliteral">&#39;;&#39;</span>) {</div>
<div class="line"><span class="lineno"> 7284</span>                    p--;</div>
<div class="line"><span class="lineno"> 7285</span>                }</div>
<div class="line"><span class="lineno"> 7286</span>                <span class="keywordflow">if</span> ((*<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a> == <span class="charliteral">&#39;&quot;&#39;</span>) &amp;&amp; (p[-1] == <span class="charliteral">&#39;&quot;&#39;</span>) &amp;&amp; (p &gt; <a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a> + 1)) {</div>
<div class="line"><span class="lineno"> 7287</span>                    <a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>++;</div>
<div class="line"><span class="lineno"> 7288</span>                    p--;</div>
<div class="line"><span class="lineno"> 7289</span>                }</div>
<div class="line"><span class="lineno"> 7290</span>                <span class="keywordflow">if</span> ((<span class="keywordtype">size_t</span>)(p - <a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>) &lt; dst_size) {</div>
<div class="line"><span class="lineno"> 7291</span>                    len = (int)(p - <a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>);</div>
<div class="line"><span class="lineno"> 7292</span>                    <a class="code hl_function" href="civetweb_8c.html#ad0f8debaa123ea7820fa8345125e4235">mg_strlcpy</a>(dst, <a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>, (<span class="keywordtype">size_t</span>)len + 1);</div>
<div class="line"><span class="lineno"> 7293</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 7294</span>                    len = -3;</div>
<div class="line"><span class="lineno"> 7295</span>                }</div>
<div class="line"><span class="lineno"> 7296</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7297</span>            }</div>
<div class="line"><span class="lineno"> 7298</span>        }</div>
<div class="line"><span class="lineno"> 7299</span>    }</div>
<div class="line"><span class="lineno"> 7300</span>    <span class="keywordflow">return</span> len;</div>
<div class="line"><span class="lineno"> 7301</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a804c91443edc3fa4d74cfe88b1dd3ac8"><div class="ttname"><a href="civetweb_8c.html#a804c91443edc3fa4d74cfe88b1dd3ac8">mg_strcasestr</a></div><div class="ttdeci">static const char * mg_strcasestr(const char *big_str, const char *small_str)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l03075">civetweb.c:3075</a></div></div>
<div class="ttc" id="acivetweb_8c_html_ad0f8debaa123ea7820fa8345125e4235"><div class="ttname"><a href="civetweb_8c.html#ad0f8debaa123ea7820fa8345125e4235">mg_strlcpy</a></div><div class="ttdeci">static void mg_strlcpy(char *dst, const char *src, size_t n)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l03002">civetweb.c:3002</a></div></div>
<div class="ttc" id="amulti_8h_html_a3c9cc97360bd1a6ca03b4b31f16d1342"><div class="ttname"><a href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a></div><div class="ttdeci">CURL_EXTERN CURLMcode curl_socket_t s</div><div class="ttdef"><b>Definition</b> <a href="multi_8h_source.html#l00318">multi.h:318</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l03075">mg_strcasestr()</a>, <a class="el" href="civetweb_8c_source.html#l03002">mg_strlcpy()</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, and <a class="el" href="multi_8h_source.html#l00318">s</a>.</p>

</div>
</div>
<a id="a58962f3100da9412f608eea656a3fbf2" name="a58962f3100da9412f608eea656a3fbf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58962f3100da9412f608eea656a3fbf2">&#9670;&#160;</a></span>mg_get_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> const char * mg_get_header </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l03855">3855</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3856</span>{</div>
<div class="line"><span class="lineno"> 3857</span>    <span class="keywordflow">if</span> (!conn) {</div>
<div class="line"><span class="lineno"> 3858</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3859</span>    }</div>
<div class="line"><span class="lineno"> 3860</span> </div>
<div class="line"><span class="lineno"> 3861</span>    <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a5b8a4d583861cfb8a28ff105f5ba84bb">connection_type</a> == <a class="code hl_enumvalue" href="civetweb_8c.html#abc6126af1d45847bc59afa0aa3216b04adc2f8be0e36657e6dae4984b591ac46e">CONNECTION_TYPE_REQUEST</a>) {</div>
<div class="line"><span class="lineno"> 3862</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="civetweb_8c.html#a67c4b5d95b3233717b80963b979724da">get_header</a>(conn-&gt;<a class="code hl_variable" href="structmg__connection.html#ab2c448b0d885bca25578872ca4362c89">request_info</a>.<a class="code hl_variable" href="structmg__request__info.html#a2337d14061022518280f4e647c72a20b">http_headers</a>,</div>
<div class="line"><span class="lineno"> 3863</span>                          conn-&gt;<a class="code hl_variable" href="structmg__connection.html#ab2c448b0d885bca25578872ca4362c89">request_info</a>.<a class="code hl_variable" href="structmg__request__info.html#afcdf69ee822fd9786f3e30c6d10b192a">num_headers</a>,</div>
<div class="line"><span class="lineno"> 3864</span>                          <a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><span class="lineno"> 3865</span>    }</div>
<div class="line"><span class="lineno"> 3866</span>    <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a5b8a4d583861cfb8a28ff105f5ba84bb">connection_type</a> == <a class="code hl_enumvalue" href="civetweb_8c.html#abc6126af1d45847bc59afa0aa3216b04aa45754d1cc862db401a33486ebefe411">CONNECTION_TYPE_RESPONSE</a>) {</div>
<div class="line"><span class="lineno"> 3867</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="civetweb_8c.html#a67c4b5d95b3233717b80963b979724da">get_header</a>(conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a913c7880b2d750f0c98ab2ace5e59627">response_info</a>.<a class="code hl_variable" href="structmg__response__info.html#af6cc6e0a5264c89cfd54e84461a462c8">http_headers</a>,</div>
<div class="line"><span class="lineno"> 3868</span>                          conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a913c7880b2d750f0c98ab2ace5e59627">response_info</a>.<a class="code hl_variable" href="structmg__response__info.html#a3becae78e0589983f147dbfd19ae33dc">num_headers</a>,</div>
<div class="line"><span class="lineno"> 3869</span>                          <a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><span class="lineno"> 3870</span>    }</div>
<div class="line"><span class="lineno"> 3871</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3872</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a67c4b5d95b3233717b80963b979724da"><div class="ttname"><a href="civetweb_8c.html#a67c4b5d95b3233717b80963b979724da">get_header</a></div><div class="ttdeci">static const char * get_header(const struct mg_header *hdr, int num_hdr, const char *name)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l03820">civetweb.c:3820</a></div></div>
<div class="ttc" id="acivetweb_8c_html_abc6126af1d45847bc59afa0aa3216b04aa45754d1cc862db401a33486ebefe411"><div class="ttname"><a href="civetweb_8c.html#abc6126af1d45847bc59afa0aa3216b04aa45754d1cc862db401a33486ebefe411">CONNECTION_TYPE_RESPONSE</a></div><div class="ttdeci">@ CONNECTION_TYPE_RESPONSE</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02463">civetweb.c:2462</a></div></div>
<div class="ttc" id="acivetweb_8c_html_abc6126af1d45847bc59afa0aa3216b04adc2f8be0e36657e6dae4984b591ac46e"><div class="ttname"><a href="civetweb_8c.html#abc6126af1d45847bc59afa0aa3216b04adc2f8be0e36657e6dae4984b591ac46e">CONNECTION_TYPE_REQUEST</a></div><div class="ttdeci">@ CONNECTION_TYPE_REQUEST</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02461">civetweb.c:2461</a></div></div>
<div class="ttc" id="alsqlite3_8c_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition</b> <a href="lsqlite3_8c_source.html#l02154">lsqlite3.c:2154</a></div></div>
<div class="ttc" id="astructmg__connection_html_a5b8a4d583861cfb8a28ff105f5ba84bb"><div class="ttname"><a href="structmg__connection.html#a5b8a4d583861cfb8a28ff105f5ba84bb">mg_connection::connection_type</a></div><div class="ttdeci">int connection_type</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02486">civetweb.c:2486</a></div></div>
<div class="ttc" id="astructmg__connection_html_a913c7880b2d750f0c98ab2ace5e59627"><div class="ttname"><a href="structmg__connection.html#a913c7880b2d750f0c98ab2ace5e59627">mg_connection::response_info</a></div><div class="ttdeci">struct mg_response_info response_info</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02495">civetweb.c:2495</a></div></div>
<div class="ttc" id="astructmg__connection_html_ab2c448b0d885bca25578872ca4362c89"><div class="ttname"><a href="structmg__connection.html#ab2c448b0d885bca25578872ca4362c89">mg_connection::request_info</a></div><div class="ttdeci">struct mg_request_info request_info</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02494">civetweb.c:2494</a></div></div>
<div class="ttc" id="astructmg__request__info_html_a2337d14061022518280f4e647c72a20b"><div class="ttname"><a href="structmg__request__info.html#a2337d14061022518280f4e647c72a20b">mg_request_info::http_headers</a></div><div class="ttdeci">struct mg_header http_headers[MG_MAX_HEADERS]</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00180">civetweb.h:179</a></div></div>
<div class="ttc" id="astructmg__request__info_html_afcdf69ee822fd9786f3e30c6d10b192a"><div class="ttname"><a href="structmg__request__info.html#afcdf69ee822fd9786f3e30c6d10b192a">mg_request_info::num_headers</a></div><div class="ttdeci">int num_headers</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00178">civetweb.h:178</a></div></div>
<div class="ttc" id="astructmg__response__info_html_a3becae78e0589983f147dbfd19ae33dc"><div class="ttname"><a href="structmg__response__info.html#a3becae78e0589983f147dbfd19ae33dc">mg_response_info::num_headers</a></div><div class="ttdeci">int num_headers</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00199">civetweb.h:199</a></div></div>
<div class="ttc" id="astructmg__response__info_html_af6cc6e0a5264c89cfd54e84461a462c8"><div class="ttname"><a href="structmg__response__info.html#af6cc6e0a5264c89cfd54e84461a462c8">mg_response_info::http_headers</a></div><div class="ttdeci">struct mg_header http_headers[MG_MAX_HEADERS]</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00201">civetweb.h:200</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l02486">mg_connection::connection_type</a>, <a class="el" href="civetweb_8c_source.html#l02461">CONNECTION_TYPE_REQUEST</a>, <a class="el" href="civetweb_8c_source.html#l02462">CONNECTION_TYPE_RESPONSE</a>, <a class="el" href="civetweb_8c_source.html#l03820">get_header()</a>, <a class="el" href="civetweb_8h_source.html#l00179">mg_request_info::http_headers</a>, <a class="el" href="civetweb_8h_source.html#l00200">mg_response_info::http_headers</a>, <a class="el" href="lsqlite3_8c_source.html#l02154">name</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, <a class="el" href="civetweb_8h_source.html#l00178">mg_request_info::num_headers</a>, <a class="el" href="civetweb_8h_source.html#l00199">mg_response_info::num_headers</a>, <a class="el" href="civetweb_8c_source.html#l02494">mg_connection::request_info</a>, and <a class="el" href="civetweb_8c_source.html#l02495">mg_connection::response_info</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l11994">dav_move_file()</a>, <a class="el" href="civetweb_8c_source.html#l11184">forward_body_data()</a>, <a class="el" href="civetweb_8c_source.html#l12759">handle_propfind()</a>, <a class="el" href="civetweb_8c_source.html#l10220">handle_static_file_request()</a>, <a class="el" href="civetweb_8c_source.html#l16046">header_val()</a>, <a class="el" href="civetweb_8c_source.html#l07622">interpret_uri()</a>, <a class="el" href="civetweb_8c_source.html#l10468">is_not_modified()</a>, <a class="el" href="civetweb_8c_source.html#l08555">parse_auth_header()</a>, <a class="el" href="civetweb_8c_source.html#l11354">prepare_cgi_environment()</a>, <a class="el" href="civetweb_8c_source.html#l12158">put_file()</a>, <a class="el" href="civetweb_8c_source.html#l04149">send_cors_header()</a>, <a class="el" href="civetweb_8c_source.html#l03984">should_keep_alive()</a>, and <a class="el" href="civetweb_8c_source.html#l13912">should_switch_to_protocol()</a>.</p>

</div>
</div>
<a id="a9e4552bbdf9a0c9a6a579ed38e813a4e" name="a9e4552bbdf9a0c9a6a579ed38e813a4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e4552bbdf9a0c9a6a579ed38e813a4e">&#9670;&#160;</a></span>mg_get_option()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> const char * mg_get_option </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmg__context.html">mg_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l03173">3173</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3174</span>{</div>
<div class="line"><span class="lineno"> 3175</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno"> 3176</span>    <span class="keywordflow">if</span> ((i = <a class="code hl_function" href="civetweb_8c.html#a4d2d84ca4d747d172e74257a176d216d">get_option_index</a>(<a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)) == -1) {</div>
<div class="line"><span class="lineno"> 3177</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3178</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!ctx || ctx-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>.<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[i] == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno"> 3179</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno"> 3180</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3181</span>        <span class="keywordflow">return</span> ctx-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>.<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[i];</div>
<div class="line"><span class="lineno"> 3182</span>    }</div>
<div class="line"><span class="lineno"> 3183</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a4d2d84ca4d747d172e74257a176d216d"><div class="ttname"><a href="civetweb_8c.html#a4d2d84ca4d747d172e74257a176d216d">get_option_index</a></div><div class="ttdeci">static int get_option_index(const char *name)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l03159">civetweb.c:3159</a></div></div>
<div class="ttc" id="astructmg__domain__context_html_a194a908b0cdd99ddce54c993363c85e5"><div class="ttname"><a href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">mg_domain_context::config</a></div><div class="ttdeci">char * config[NUM_OPTIONS]</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02271">civetweb.c:2271</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l02271">mg_domain_context::config</a>, <a class="el" href="civetweb_8c_source.html#l02442">mg_context::dd</a>, <a class="el" href="civetweb_8c_source.html#l03159">get_option_index()</a>, <a class="el" href="lsqlite3_8c_source.html#l02154">name</a>, and <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>.</p>

</div>
</div>
<a id="a6a72ef05254fb0be23bac8a2210ea1ac" name="a6a72ef05254fb0be23bac8a2210ea1ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a72ef05254fb0be23bac8a2210ea1ac">&#9670;&#160;</a></span>mg_get_request_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> const struct <a class="el" href="structmg__request__info.html">mg_request_info</a> * mg_get_request_info </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l03521">3521</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3522</span>{</div>
<div class="line"><span class="lineno"> 3523</span>    <span class="keywordflow">if</span> (!conn) {</div>
<div class="line"><span class="lineno"> 3524</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3525</span>    }</div>
<div class="line"><span class="lineno"> 3526</span><span class="preprocessor">#if defined(MG_ALLOW_USING_GET_REQUEST_INFO_FOR_RESPONSE)</span></div>
<div class="line"><span class="lineno"> 3527</span>    <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a5b8a4d583861cfb8a28ff105f5ba84bb">connection_type</a> == <a class="code hl_enumvalue" href="civetweb_8c.html#abc6126af1d45847bc59afa0aa3216b04aa45754d1cc862db401a33486ebefe411">CONNECTION_TYPE_RESPONSE</a>) {</div>
<div class="line"><span class="lineno"> 3528</span>        <span class="keywordtype">char</span> txt[16];</div>
<div class="line"><span class="lineno"> 3529</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structmg__workerTLS.html">mg_workerTLS</a> *tls =</div>
<div class="line"><span class="lineno"> 3530</span>            (<span class="keyword">struct </span><a class="code hl_struct" href="structmg__workerTLS.html">mg_workerTLS</a> *)pthread_getspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>);</div>
<div class="line"><span class="lineno"> 3531</span> </div>
<div class="line"><span class="lineno"> 3532</span>        sprintf(txt, <span class="stringliteral">&quot;%03i&quot;</span>, conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a913c7880b2d750f0c98ab2ace5e59627">response_info</a>.<a class="code hl_variable" href="structmg__response__info.html#a542acffb7657ef2be3ad6f6ef0e3d712">status_code</a>);</div>
<div class="line"><span class="lineno"> 3533</span>        <span class="keywordflow">if</span> (strlen(txt) == 3) {</div>
<div class="line"><span class="lineno"> 3534</span>            memcpy(tls-&gt;txtbuf, txt, 4);</div>
<div class="line"><span class="lineno"> 3535</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3536</span>            strcpy(tls-&gt;txtbuf, <span class="stringliteral">&quot;ERR&quot;</span>);</div>
<div class="line"><span class="lineno"> 3537</span>        }</div>
<div class="line"><span class="lineno"> 3538</span> </div>
<div class="line"><span class="lineno"> 3539</span>        ((<span class="keyword">struct </span><a class="code hl_struct" href="structmg__connection.html">mg_connection</a> *)conn)-&gt;request_info.local_uri =</div>
<div class="line"><span class="lineno"> 3540</span>            tls-&gt;txtbuf; <span class="comment">/* use thread safe buffer */</span></div>
<div class="line"><span class="lineno"> 3541</span>        ((<span class="keyword">struct </span><a class="code hl_struct" href="structmg__connection.html">mg_connection</a> *)conn)-&gt;request_info.local_uri_raw =</div>
<div class="line"><span class="lineno"> 3542</span>            tls-&gt;txtbuf; <span class="comment">/* use the same thread safe buffer */</span></div>
<div class="line"><span class="lineno"> 3543</span>        ((<span class="keyword">struct </span><a class="code hl_struct" href="structmg__connection.html">mg_connection</a> *)conn)-&gt;request_info.request_uri =</div>
<div class="line"><span class="lineno"> 3544</span>            tls-&gt;txtbuf; <span class="comment">/* use  the same thread safe buffer */</span></div>
<div class="line"><span class="lineno"> 3545</span> </div>
<div class="line"><span class="lineno"> 3546</span>        ((<span class="keyword">struct </span><a class="code hl_struct" href="structmg__connection.html">mg_connection</a> *)conn)-&gt;request_info.num_headers =</div>
<div class="line"><span class="lineno"> 3547</span>            conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a913c7880b2d750f0c98ab2ace5e59627">response_info</a>.<a class="code hl_variable" href="structmg__response__info.html#a3becae78e0589983f147dbfd19ae33dc">num_headers</a>;</div>
<div class="line"><span class="lineno"> 3548</span>        memcpy(((<span class="keyword">struct</span> <a class="code hl_struct" href="structmg__connection.html">mg_connection</a> *)conn)-&gt;<a class="code hl_variable" href="structmg__connection.html#ab2c448b0d885bca25578872ca4362c89">request_info</a>.<a class="code hl_variable" href="structmg__request__info.html#a2337d14061022518280f4e647c72a20b">http_headers</a>,</div>
<div class="line"><span class="lineno"> 3549</span>               conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a913c7880b2d750f0c98ab2ace5e59627">response_info</a>.<a class="code hl_variable" href="structmg__response__info.html#af6cc6e0a5264c89cfd54e84461a462c8">http_headers</a>,</div>
<div class="line"><span class="lineno"> 3550</span>               <span class="keyword">sizeof</span>(conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a913c7880b2d750f0c98ab2ace5e59627">response_info</a>.<a class="code hl_variable" href="structmg__response__info.html#af6cc6e0a5264c89cfd54e84461a462c8">http_headers</a>));</div>
<div class="line"><span class="lineno"> 3551</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3552</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 3553</span>        <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a5b8a4d583861cfb8a28ff105f5ba84bb">connection_type</a> != <a class="code hl_enumvalue" href="civetweb_8c.html#abc6126af1d45847bc59afa0aa3216b04adc2f8be0e36657e6dae4984b591ac46e">CONNECTION_TYPE_REQUEST</a>) {</div>
<div class="line"><span class="lineno"> 3554</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3555</span>    }</div>
<div class="line"><span class="lineno"> 3556</span>    <span class="keywordflow">return</span> &amp;conn-&gt;<a class="code hl_variable" href="structmg__connection.html#ab2c448b0d885bca25578872ca4362c89">request_info</a>;</div>
<div class="line"><span class="lineno"> 3557</span>}</div>
<div class="ttc" id="astructmg__connection_html"><div class="ttname"><a href="structmg__connection.html">mg_connection</a></div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02485">civetweb.c:2485</a></div></div>
<div class="ttc" id="astructmg__response__info_html_a542acffb7657ef2be3ad6f6ef0e3d712"><div class="ttname"><a href="structmg__response__info.html#a542acffb7657ef2be3ad6f6ef0e3d712">mg_response_info::status_code</a></div><div class="ttdeci">int status_code</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00192">civetweb.h:192</a></div></div>
<div class="ttc" id="astructmg__workerTLS_html"><div class="ttname"><a href="structmg__workerTLS.html">mg_workerTLS</a></div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01587">civetweb.c:1587</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l02486">mg_connection::connection_type</a>, <a class="el" href="civetweb_8c_source.html#l02461">CONNECTION_TYPE_REQUEST</a>, <a class="el" href="civetweb_8c_source.html#l02462">CONNECTION_TYPE_RESPONSE</a>, <a class="el" href="civetweb_8h_source.html#l00179">mg_request_info::http_headers</a>, <a class="el" href="civetweb_8h_source.html#l00200">mg_response_info::http_headers</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, <a class="el" href="civetweb_8h_source.html#l00199">mg_response_info::num_headers</a>, <a class="el" href="civetweb_8c_source.html#l02494">mg_connection::request_info</a>, <a class="el" href="civetweb_8c_source.html#l02495">mg_connection::response_info</a>, <a class="el" href="civetweb_8h_source.html#l00192">mg_response_info::status_code</a>, and <a class="el" href="civetweb_8c_source.html#l01580">sTlsKey</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l14560">get_request_handler()</a>, and <a class="el" href="server_8c_source.html#l00026">user_handler()</a>.</p>

</div>
</div>
<a id="a81ef64a9ffadd917ddc7f4615cf5dc07" name="a81ef64a9ffadd917ddc7f4615cf5dc07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81ef64a9ffadd917ddc7f4615cf5dc07">&#9670;&#160;</a></span>mg_get_request_link()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_get_request_link </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buf</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>buflen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l03745">3745</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3746</span>{</div>
<div class="line"><span class="lineno"> 3747</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="civetweb_8c.html#acb99501ab73e2f08414accf1a7d108c1">mg_construct_local_link</a>(conn, buf, buflen, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, -1, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 3748</span>}</div>
<div class="ttc" id="acivetweb_8c_html_acb99501ab73e2f08414accf1a7d108c1"><div class="ttname"><a href="civetweb_8c.html#acb99501ab73e2f08414accf1a7d108c1">mg_construct_local_link</a></div><div class="ttdeci">static int mg_construct_local_link(const struct mg_connection *conn, char *buf, size_t buflen, const char *define_proto, int define_port, const char *define_uri)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l03601">civetweb.c:3601</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l03601">mg_construct_local_link()</a>, and <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l12802">dav_lock_file()</a>, <a class="el" href="civetweb_8c_source.html#l12964">dav_proppatch()</a>, <a class="el" href="civetweb_8c_source.html#l12931">dav_unlock_file()</a>, and <a class="el" href="civetweb_8c_source.html#l14704">handle_request()</a>.</p>

</div>
</div>
<a id="a6b725ab96450f33c87ab3ef5e7e8baab" name="a6b725ab96450f33c87ab3ef5e7e8baab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b725ab96450f33c87ab3ef5e7e8baab">&#9670;&#160;</a></span>mg_get_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_get_response </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>ebuf</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>ebuf_len</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>timeout</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l18822">18822</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">18826</span>{</div>
<div class="line"><span class="lineno">18827</span>    <span class="keywordtype">int</span> err, ret;</div>
<div class="line"><span class="lineno">18828</span>    <span class="keywordtype">char</span> txt[32]; <span class="comment">/* will not overflow */</span></div>
<div class="line"><span class="lineno">18829</span>    <span class="keywordtype">char</span> *save_timeout;</div>
<div class="line"><span class="lineno">18830</span>    <span class="keywordtype">char</span> *new_timeout;</div>
<div class="line"><span class="lineno">18831</span> </div>
<div class="line"><span class="lineno">18832</span>    <span class="keywordflow">if</span> (ebuf_len &gt; 0) {</div>
<div class="line"><span class="lineno">18833</span>        ebuf[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">18834</span>    }</div>
<div class="line"><span class="lineno">18835</span> </div>
<div class="line"><span class="lineno">18836</span>    <span class="keywordflow">if</span> (!conn) {</div>
<div class="line"><span class="lineno">18837</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(conn,</div>
<div class="line"><span class="lineno">18838</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for ebuf */</span></div>
<div class="line"><span class="lineno">18839</span>                    ebuf,</div>
<div class="line"><span class="lineno">18840</span>                    ebuf_len,</div>
<div class="line"><span class="lineno">18841</span>                    <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><span class="lineno">18842</span>                    <span class="stringliteral">&quot;Parameter error&quot;</span>);</div>
<div class="line"><span class="lineno">18843</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">18844</span>    }</div>
<div class="line"><span class="lineno">18845</span> </div>
<div class="line"><span class="lineno">18846</span>    <span class="comment">/* Reset the previous responses */</span></div>
<div class="line"><span class="lineno">18847</span>    conn-&gt;<a class="code hl_variable" href="structmg__connection.html#aa88754208d93c23d110469696d935bdc">data_len</a> = 0;</div>
<div class="line"><span class="lineno">18848</span> </div>
<div class="line"><span class="lineno">18849</span>    <span class="comment">/* Implementation of API function for HTTP clients */</span></div>
<div class="line"><span class="lineno">18850</span>    save_timeout = conn-&gt;<a class="code hl_variable" href="structmg__connection.html#abb30f6262885e94b0242e7e85960caaf">dom_ctx</a>-&gt;<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55bad32fad260d93bc91f1e0bae8c17874bd">REQUEST_TIMEOUT</a>];</div>
<div class="line"><span class="lineno">18851</span> </div>
<div class="line"><span class="lineno">18852</span>    <span class="keywordflow">if</span> (timeout &gt;= 0) {</div>
<div class="line"><span class="lineno">18853</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(conn, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, txt, <span class="keyword">sizeof</span>(txt), <span class="stringliteral">&quot;%i&quot;</span>, timeout);</div>
<div class="line"><span class="lineno">18854</span>        new_timeout = txt;</div>
<div class="line"><span class="lineno">18855</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">18856</span>        new_timeout = <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">18857</span>    }</div>
<div class="line"><span class="lineno">18858</span> </div>
<div class="line"><span class="lineno">18859</span>    conn-&gt;<a class="code hl_variable" href="structmg__connection.html#abb30f6262885e94b0242e7e85960caaf">dom_ctx</a>-&gt;<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55bad32fad260d93bc91f1e0bae8c17874bd">REQUEST_TIMEOUT</a>] = new_timeout;</div>
<div class="line"><span class="lineno">18860</span>    ret = <a class="code hl_function" href="civetweb_8c.html#a453db96888b9c0e4b7afd85f3778afb2">get_response</a>(conn, ebuf, ebuf_len, &amp;err);</div>
<div class="line"><span class="lineno">18861</span>    conn-&gt;<a class="code hl_variable" href="structmg__connection.html#abb30f6262885e94b0242e7e85960caaf">dom_ctx</a>-&gt;<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55bad32fad260d93bc91f1e0bae8c17874bd">REQUEST_TIMEOUT</a>] = save_timeout;</div>
<div class="line"><span class="lineno">18862</span> </div>
<div class="line"><span class="lineno">18863</span>    <span class="comment">/* TODO: here, the URI is the http response code */</span></div>
<div class="line"><span class="lineno">18864</span>    conn-&gt;<a class="code hl_variable" href="structmg__connection.html#ab2c448b0d885bca25578872ca4362c89">request_info</a>.<a class="code hl_variable" href="structmg__request__info.html#a5ae29523876fdcbb546165024dabc8c0">local_uri_raw</a> = conn-&gt;<a class="code hl_variable" href="structmg__connection.html#ab2c448b0d885bca25578872ca4362c89">request_info</a>.<a class="code hl_variable" href="structmg__request__info.html#aca4128780e19e761cbcfe286021eefc9">request_uri</a>;</div>
<div class="line"><span class="lineno">18865</span>    conn-&gt;<a class="code hl_variable" href="structmg__connection.html#ab2c448b0d885bca25578872ca4362c89">request_info</a>.<a class="code hl_variable" href="structmg__request__info.html#a369e379c8cb6f102ef44499989055279">local_uri</a> = conn-&gt;<a class="code hl_variable" href="structmg__connection.html#ab2c448b0d885bca25578872ca4362c89">request_info</a>.<a class="code hl_variable" href="structmg__request__info.html#a5ae29523876fdcbb546165024dabc8c0">local_uri_raw</a>;</div>
<div class="line"><span class="lineno">18866</span> </div>
<div class="line"><span class="lineno">18867</span>    <span class="comment">/* TODO (mid): Define proper return values - maybe return length?</span></div>
<div class="line"><span class="lineno">18868</span><span class="comment">     * For the first test use &lt;0 for error and &gt;0 for OK */</span></div>
<div class="line"><span class="lineno">18869</span>    <span class="keywordflow">return</span> (ret == 0) ? -1 : +1;</div>
<div class="line"><span class="lineno">18870</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a06fc87d81c62e9abb8790b6e5713c55bad32fad260d93bc91f1e0bae8c17874bd"><div class="ttname"><a href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55bad32fad260d93bc91f1e0bae8c17874bd">REQUEST_TIMEOUT</a></div><div class="ttdeci">@ REQUEST_TIMEOUT</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01937">civetweb.c:1937</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a453db96888b9c0e4b7afd85f3778afb2"><div class="ttname"><a href="civetweb_8c.html#a453db96888b9c0e4b7afd85f3778afb2">get_response</a></div><div class="ttdeci">static int get_response(struct mg_connection *conn, char *ebuf, size_t ebuf_len, int *err)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l18737">civetweb.c:18737</a></div></div>
<div class="ttc" id="astructmg__connection_html_aa88754208d93c23d110469696d935bdc"><div class="ttname"><a href="structmg__connection.html#aa88754208d93c23d110469696d935bdc">mg_connection::data_len</a></div><div class="ttdeci">int data_len</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02558">civetweb.c:2558</a></div></div>
<div class="ttc" id="astructmg__connection_html_abb30f6262885e94b0242e7e85960caaf"><div class="ttname"><a href="structmg__connection.html#abb30f6262885e94b0242e7e85960caaf">mg_connection::dom_ctx</a></div><div class="ttdeci">struct mg_domain_context * dom_ctx</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02498">civetweb.c:2498</a></div></div>
<div class="ttc" id="astructmg__request__info_html_a369e379c8cb6f102ef44499989055279"><div class="ttname"><a href="structmg__request__info.html#a369e379c8cb6f102ef44499989055279">mg_request_info::local_uri</a></div><div class="ttdeci">const char * local_uri</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00157">civetweb.h:157</a></div></div>
<div class="ttc" id="astructmg__request__info_html_a5ae29523876fdcbb546165024dabc8c0"><div class="ttname"><a href="structmg__request__info.html#a5ae29523876fdcbb546165024dabc8c0">mg_request_info::local_uri_raw</a></div><div class="ttdeci">const char * local_uri_raw</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00154">civetweb.h:154</a></div></div>
<div class="ttc" id="astructmg__request__info_html_aca4128780e19e761cbcfe286021eefc9"><div class="ttname"><a href="structmg__request__info.html#aca4128780e19e761cbcfe286021eefc9">mg_request_info::request_uri</a></div><div class="ttdeci">const char * request_uri</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00152">civetweb.h:152</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l02271">mg_domain_context::config</a>, <a class="el" href="civetweb_8c_source.html#l02558">mg_connection::data_len</a>, <a class="el" href="civetweb_8c_source.html#l02498">mg_connection::dom_ctx</a>, <a class="el" href="civetweb_8c_source.html#l18737">get_response()</a>, <a class="el" href="civetweb_8h_source.html#l00157">mg_request_info::local_uri</a>, <a class="el" href="civetweb_8h_source.html#l00154">mg_request_info::local_uri_raw</a>, <a class="el" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf()</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, <a class="el" href="civetweb_8c_source.html#l02494">mg_connection::request_info</a>, <a class="el" href="civetweb_8c_source.html#l01937">REQUEST_TIMEOUT</a>, and <a class="el" href="civetweb_8h_source.html#l00152">mg_request_info::request_uri</a>.</p>

<p class="reference">Referenced by <a class="el" href="vendor_2civetweb_2main_8c_source.html#l00995">run_client()</a>.</p>

</div>
</div>
<a id="a08ef1e77e39a65d2b0eb84328291cae1" name="a08ef1e77e39a65d2b0eb84328291cae1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08ef1e77e39a65d2b0eb84328291cae1">&#9670;&#160;</a></span>mg_get_response_code_text()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> const char * mg_get_response_code_text </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>response_code</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l04176">4176</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4177</span>{</div>
<div class="line"><span class="lineno"> 4178</span>    <span class="comment">/* See IANA HTTP status code assignment:</span></div>
<div class="line"><span class="lineno"> 4179</span><span class="comment">     * http://www.iana.org/assignments/http-status-codes/http-status-codes.xhtml</span></div>
<div class="line"><span class="lineno"> 4180</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 4181</span> </div>
<div class="line"><span class="lineno"> 4182</span>    <span class="keywordflow">switch</span> (response_code) {</div>
<div class="line"><span class="lineno"> 4183</span>        <span class="comment">/* RFC2616 Section 10.1 - Informational 1xx */</span></div>
<div class="line"><span class="lineno"> 4184</span>    <span class="keywordflow">case</span> 100:</div>
<div class="line"><span class="lineno"> 4185</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Continue&quot;</span>; <span class="comment">/* RFC2616 Section 10.1.1 */</span></div>
<div class="line"><span class="lineno"> 4186</span>    <span class="keywordflow">case</span> 101:</div>
<div class="line"><span class="lineno"> 4187</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Switching Protocols&quot;</span>; <span class="comment">/* RFC2616 Section 10.1.2 */</span></div>
<div class="line"><span class="lineno"> 4188</span>    <span class="keywordflow">case</span> 102:</div>
<div class="line"><span class="lineno"> 4189</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Processing&quot;</span>; <span class="comment">/* RFC2518 Section 10.1 */</span></div>
<div class="line"><span class="lineno"> 4190</span> </div>
<div class="line"><span class="lineno"> 4191</span>        <span class="comment">/* RFC2616 Section 10.2 - Successful 2xx */</span></div>
<div class="line"><span class="lineno"> 4192</span>    <span class="keywordflow">case</span> 200:</div>
<div class="line"><span class="lineno"> 4193</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;OK&quot;</span>; <span class="comment">/* RFC2616 Section 10.2.1 */</span></div>
<div class="line"><span class="lineno"> 4194</span>    <span class="keywordflow">case</span> 201:</div>
<div class="line"><span class="lineno"> 4195</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Created&quot;</span>; <span class="comment">/* RFC2616 Section 10.2.2 */</span></div>
<div class="line"><span class="lineno"> 4196</span>    <span class="keywordflow">case</span> 202:</div>
<div class="line"><span class="lineno"> 4197</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Accepted&quot;</span>; <span class="comment">/* RFC2616 Section 10.2.3 */</span></div>
<div class="line"><span class="lineno"> 4198</span>    <span class="keywordflow">case</span> 203:</div>
<div class="line"><span class="lineno"> 4199</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Non-Authoritative Information&quot;</span>; <span class="comment">/* RFC2616 Section 10.2.4 */</span></div>
<div class="line"><span class="lineno"> 4200</span>    <span class="keywordflow">case</span> 204:</div>
<div class="line"><span class="lineno"> 4201</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;No Content&quot;</span>; <span class="comment">/* RFC2616 Section 10.2.5 */</span></div>
<div class="line"><span class="lineno"> 4202</span>    <span class="keywordflow">case</span> 205:</div>
<div class="line"><span class="lineno"> 4203</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Reset Content&quot;</span>; <span class="comment">/* RFC2616 Section 10.2.6 */</span></div>
<div class="line"><span class="lineno"> 4204</span>    <span class="keywordflow">case</span> 206:</div>
<div class="line"><span class="lineno"> 4205</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Partial Content&quot;</span>; <span class="comment">/* RFC2616 Section 10.2.7 */</span></div>
<div class="line"><span class="lineno"> 4206</span>    <span class="keywordflow">case</span> 207:</div>
<div class="line"><span class="lineno"> 4207</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Multi-Status&quot;</span>; <span class="comment">/* RFC2518 Section 10.2, RFC4918 Section 11.1</span></div>
<div class="line"><span class="lineno"> 4208</span><span class="comment">                                */</span></div>
<div class="line"><span class="lineno"> 4209</span>    <span class="keywordflow">case</span> 208:</div>
<div class="line"><span class="lineno"> 4210</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Already Reported&quot;</span>; <span class="comment">/* RFC5842 Section 7.1 */</span></div>
<div class="line"><span class="lineno"> 4211</span> </div>
<div class="line"><span class="lineno"> 4212</span>    <span class="keywordflow">case</span> 226:</div>
<div class="line"><span class="lineno"> 4213</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;IM used&quot;</span>; <span class="comment">/* RFC3229 Section 10.4.1 */</span></div>
<div class="line"><span class="lineno"> 4214</span> </div>
<div class="line"><span class="lineno"> 4215</span>        <span class="comment">/* RFC2616 Section 10.3 - Redirection 3xx */</span></div>
<div class="line"><span class="lineno"> 4216</span>    <span class="keywordflow">case</span> 300:</div>
<div class="line"><span class="lineno"> 4217</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Multiple Choices&quot;</span>; <span class="comment">/* RFC2616 Section 10.3.1 */</span></div>
<div class="line"><span class="lineno"> 4218</span>    <span class="keywordflow">case</span> 301:</div>
<div class="line"><span class="lineno"> 4219</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Moved Permanently&quot;</span>; <span class="comment">/* RFC2616 Section 10.3.2 */</span></div>
<div class="line"><span class="lineno"> 4220</span>    <span class="keywordflow">case</span> 302:</div>
<div class="line"><span class="lineno"> 4221</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Found&quot;</span>; <span class="comment">/* RFC2616 Section 10.3.3 */</span></div>
<div class="line"><span class="lineno"> 4222</span>    <span class="keywordflow">case</span> 303:</div>
<div class="line"><span class="lineno"> 4223</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;See Other&quot;</span>; <span class="comment">/* RFC2616 Section 10.3.4 */</span></div>
<div class="line"><span class="lineno"> 4224</span>    <span class="keywordflow">case</span> 304:</div>
<div class="line"><span class="lineno"> 4225</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Not Modified&quot;</span>; <span class="comment">/* RFC2616 Section 10.3.5 */</span></div>
<div class="line"><span class="lineno"> 4226</span>    <span class="keywordflow">case</span> 305:</div>
<div class="line"><span class="lineno"> 4227</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Use Proxy&quot;</span>; <span class="comment">/* RFC2616 Section 10.3.6 */</span></div>
<div class="line"><span class="lineno"> 4228</span>    <span class="keywordflow">case</span> 307:</div>
<div class="line"><span class="lineno"> 4229</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Temporary Redirect&quot;</span>; <span class="comment">/* RFC2616 Section 10.3.8 */</span></div>
<div class="line"><span class="lineno"> 4230</span>    <span class="keywordflow">case</span> 308:</div>
<div class="line"><span class="lineno"> 4231</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Permanent Redirect&quot;</span>; <span class="comment">/* RFC7238 Section 3 */</span></div>
<div class="line"><span class="lineno"> 4232</span> </div>
<div class="line"><span class="lineno"> 4233</span>        <span class="comment">/* RFC2616 Section 10.4 - Client Error 4xx */</span></div>
<div class="line"><span class="lineno"> 4234</span>    <span class="keywordflow">case</span> 400:</div>
<div class="line"><span class="lineno"> 4235</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Bad Request&quot;</span>; <span class="comment">/* RFC2616 Section 10.4.1 */</span></div>
<div class="line"><span class="lineno"> 4236</span>    <span class="keywordflow">case</span> 401:</div>
<div class="line"><span class="lineno"> 4237</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unauthorized&quot;</span>; <span class="comment">/* RFC2616 Section 10.4.2 */</span></div>
<div class="line"><span class="lineno"> 4238</span>    <span class="keywordflow">case</span> 402:</div>
<div class="line"><span class="lineno"> 4239</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Payment Required&quot;</span>; <span class="comment">/* RFC2616 Section 10.4.3 */</span></div>
<div class="line"><span class="lineno"> 4240</span>    <span class="keywordflow">case</span> 403:</div>
<div class="line"><span class="lineno"> 4241</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Forbidden&quot;</span>; <span class="comment">/* RFC2616 Section 10.4.4 */</span></div>
<div class="line"><span class="lineno"> 4242</span>    <span class="keywordflow">case</span> 404:</div>
<div class="line"><span class="lineno"> 4243</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Not Found&quot;</span>; <span class="comment">/* RFC2616 Section 10.4.5 */</span></div>
<div class="line"><span class="lineno"> 4244</span>    <span class="keywordflow">case</span> 405:</div>
<div class="line"><span class="lineno"> 4245</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Method Not Allowed&quot;</span>; <span class="comment">/* RFC2616 Section 10.4.6 */</span></div>
<div class="line"><span class="lineno"> 4246</span>    <span class="keywordflow">case</span> 406:</div>
<div class="line"><span class="lineno"> 4247</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Not Acceptable&quot;</span>; <span class="comment">/* RFC2616 Section 10.4.7 */</span></div>
<div class="line"><span class="lineno"> 4248</span>    <span class="keywordflow">case</span> 407:</div>
<div class="line"><span class="lineno"> 4249</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Proxy Authentication Required&quot;</span>; <span class="comment">/* RFC2616 Section 10.4.8 */</span></div>
<div class="line"><span class="lineno"> 4250</span>    <span class="keywordflow">case</span> 408:</div>
<div class="line"><span class="lineno"> 4251</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Request Time-out&quot;</span>; <span class="comment">/* RFC2616 Section 10.4.9 */</span></div>
<div class="line"><span class="lineno"> 4252</span>    <span class="keywordflow">case</span> 409:</div>
<div class="line"><span class="lineno"> 4253</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Conflict&quot;</span>; <span class="comment">/* RFC2616 Section 10.4.10 */</span></div>
<div class="line"><span class="lineno"> 4254</span>    <span class="keywordflow">case</span> 410:</div>
<div class="line"><span class="lineno"> 4255</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Gone&quot;</span>; <span class="comment">/* RFC2616 Section 10.4.11 */</span></div>
<div class="line"><span class="lineno"> 4256</span>    <span class="keywordflow">case</span> 411:</div>
<div class="line"><span class="lineno"> 4257</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Length Required&quot;</span>; <span class="comment">/* RFC2616 Section 10.4.12 */</span></div>
<div class="line"><span class="lineno"> 4258</span>    <span class="keywordflow">case</span> 412:</div>
<div class="line"><span class="lineno"> 4259</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Precondition Failed&quot;</span>; <span class="comment">/* RFC2616 Section 10.4.13 */</span></div>
<div class="line"><span class="lineno"> 4260</span>    <span class="keywordflow">case</span> 413:</div>
<div class="line"><span class="lineno"> 4261</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Request Entity Too Large&quot;</span>; <span class="comment">/* RFC2616 Section 10.4.14 */</span></div>
<div class="line"><span class="lineno"> 4262</span>    <span class="keywordflow">case</span> 414:</div>
<div class="line"><span class="lineno"> 4263</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Request-URI Too Large&quot;</span>; <span class="comment">/* RFC2616 Section 10.4.15 */</span></div>
<div class="line"><span class="lineno"> 4264</span>    <span class="keywordflow">case</span> 415:</div>
<div class="line"><span class="lineno"> 4265</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unsupported Media Type&quot;</span>; <span class="comment">/* RFC2616 Section 10.4.16 */</span></div>
<div class="line"><span class="lineno"> 4266</span>    <span class="keywordflow">case</span> 416:</div>
<div class="line"><span class="lineno"> 4267</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Requested range not satisfiable&quot;</span>; <span class="comment">/* RFC2616 Section 10.4.17</span></div>
<div class="line"><span class="lineno"> 4268</span><span class="comment">                                                   */</span></div>
<div class="line"><span class="lineno"> 4269</span>    <span class="keywordflow">case</span> 417:</div>
<div class="line"><span class="lineno"> 4270</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Expectation Failed&quot;</span>; <span class="comment">/* RFC2616 Section 10.4.18 */</span></div>
<div class="line"><span class="lineno"> 4271</span> </div>
<div class="line"><span class="lineno"> 4272</span>    <span class="keywordflow">case</span> 421:</div>
<div class="line"><span class="lineno"> 4273</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Misdirected Request&quot;</span>; <span class="comment">/* RFC7540 Section 9.1.2 */</span></div>
<div class="line"><span class="lineno"> 4274</span>    <span class="keywordflow">case</span> 422:</div>
<div class="line"><span class="lineno"> 4275</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unproccessable entity&quot;</span>; <span class="comment">/* RFC2518 Section 10.3, RFC4918</span></div>
<div class="line"><span class="lineno"> 4276</span><span class="comment">                                         * Section 11.2 */</span></div>
<div class="line"><span class="lineno"> 4277</span>    <span class="keywordflow">case</span> 423:</div>
<div class="line"><span class="lineno"> 4278</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Locked&quot;</span>; <span class="comment">/* RFC2518 Section 10.4, RFC4918 Section 11.3 */</span></div>
<div class="line"><span class="lineno"> 4279</span>    <span class="keywordflow">case</span> 424:</div>
<div class="line"><span class="lineno"> 4280</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Failed Dependency&quot;</span>; <span class="comment">/* RFC2518 Section 10.5, RFC4918</span></div>
<div class="line"><span class="lineno"> 4281</span><span class="comment">                                     * Section 11.4 */</span></div>
<div class="line"><span class="lineno"> 4282</span> </div>
<div class="line"><span class="lineno"> 4283</span>    <span class="keywordflow">case</span> 426:</div>
<div class="line"><span class="lineno"> 4284</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Upgrade Required&quot;</span>; <span class="comment">/* RFC 2817 Section 4 */</span></div>
<div class="line"><span class="lineno"> 4285</span> </div>
<div class="line"><span class="lineno"> 4286</span>    <span class="keywordflow">case</span> 428:</div>
<div class="line"><span class="lineno"> 4287</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Precondition Required&quot;</span>; <span class="comment">/* RFC 6585, Section 3 */</span></div>
<div class="line"><span class="lineno"> 4288</span>    <span class="keywordflow">case</span> 429:</div>
<div class="line"><span class="lineno"> 4289</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Too Many Requests&quot;</span>; <span class="comment">/* RFC 6585, Section 4 */</span></div>
<div class="line"><span class="lineno"> 4290</span> </div>
<div class="line"><span class="lineno"> 4291</span>    <span class="keywordflow">case</span> 431:</div>
<div class="line"><span class="lineno"> 4292</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Request Header Fields Too Large&quot;</span>; <span class="comment">/* RFC 6585, Section 5 */</span></div>
<div class="line"><span class="lineno"> 4293</span> </div>
<div class="line"><span class="lineno"> 4294</span>    <span class="keywordflow">case</span> 451:</div>
<div class="line"><span class="lineno"> 4295</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unavailable For Legal Reasons&quot;</span>; <span class="comment">/* draft-tbray-http-legally-restricted-status-05,</span></div>
<div class="line"><span class="lineno"> 4296</span><span class="comment">                                                 * Section 3 */</span></div>
<div class="line"><span class="lineno"> 4297</span> </div>
<div class="line"><span class="lineno"> 4298</span>        <span class="comment">/* RFC2616 Section 10.5 - Server Error 5xx */</span></div>
<div class="line"><span class="lineno"> 4299</span>    <span class="keywordflow">case</span> 500:</div>
<div class="line"><span class="lineno"> 4300</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Internal Server Error&quot;</span>; <span class="comment">/* RFC2616 Section 10.5.1 */</span></div>
<div class="line"><span class="lineno"> 4301</span>    <span class="keywordflow">case</span> 501:</div>
<div class="line"><span class="lineno"> 4302</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Not Implemented&quot;</span>; <span class="comment">/* RFC2616 Section 10.5.2 */</span></div>
<div class="line"><span class="lineno"> 4303</span>    <span class="keywordflow">case</span> 502:</div>
<div class="line"><span class="lineno"> 4304</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Bad Gateway&quot;</span>; <span class="comment">/* RFC2616 Section 10.5.3 */</span></div>
<div class="line"><span class="lineno"> 4305</span>    <span class="keywordflow">case</span> 503:</div>
<div class="line"><span class="lineno"> 4306</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Service Unavailable&quot;</span>; <span class="comment">/* RFC2616 Section 10.5.4 */</span></div>
<div class="line"><span class="lineno"> 4307</span>    <span class="keywordflow">case</span> 504:</div>
<div class="line"><span class="lineno"> 4308</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Gateway Time-out&quot;</span>; <span class="comment">/* RFC2616 Section 10.5.5 */</span></div>
<div class="line"><span class="lineno"> 4309</span>    <span class="keywordflow">case</span> 505:</div>
<div class="line"><span class="lineno"> 4310</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;HTTP Version not supported&quot;</span>; <span class="comment">/* RFC2616 Section 10.5.6 */</span></div>
<div class="line"><span class="lineno"> 4311</span>    <span class="keywordflow">case</span> 506:</div>
<div class="line"><span class="lineno"> 4312</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Variant Also Negotiates&quot;</span>; <span class="comment">/* RFC 2295, Section 8.1 */</span></div>
<div class="line"><span class="lineno"> 4313</span>    <span class="keywordflow">case</span> 507:</div>
<div class="line"><span class="lineno"> 4314</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Insufficient Storage&quot;</span>; <span class="comment">/* RFC2518 Section 10.6, RFC4918</span></div>
<div class="line"><span class="lineno"> 4315</span><span class="comment">                                        * Section 11.5 */</span></div>
<div class="line"><span class="lineno"> 4316</span>    <span class="keywordflow">case</span> 508:</div>
<div class="line"><span class="lineno"> 4317</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Loop Detected&quot;</span>; <span class="comment">/* RFC5842 Section 7.1 */</span></div>
<div class="line"><span class="lineno"> 4318</span> </div>
<div class="line"><span class="lineno"> 4319</span>    <span class="keywordflow">case</span> 510:</div>
<div class="line"><span class="lineno"> 4320</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Not Extended&quot;</span>; <span class="comment">/* RFC 2774, Section 7 */</span></div>
<div class="line"><span class="lineno"> 4321</span>    <span class="keywordflow">case</span> 511:</div>
<div class="line"><span class="lineno"> 4322</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Network Authentication Required&quot;</span>; <span class="comment">/* RFC 6585, Section 6 */</span></div>
<div class="line"><span class="lineno"> 4323</span> </div>
<div class="line"><span class="lineno"> 4324</span>        <span class="comment">/* Other status codes, not shown in the IANA HTTP status code</span></div>
<div class="line"><span class="lineno"> 4325</span><span class="comment">         * assignment.</span></div>
<div class="line"><span class="lineno"> 4326</span><span class="comment">         * E.g., &quot;de facto&quot; standards due to common use, ... */</span></div>
<div class="line"><span class="lineno"> 4327</span>    <span class="keywordflow">case</span> 418:</div>
<div class="line"><span class="lineno"> 4328</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;I am a teapot&quot;</span>; <span class="comment">/* RFC2324 Section 2.3.2 */</span></div>
<div class="line"><span class="lineno"> 4329</span>    <span class="keywordflow">case</span> 419:</div>
<div class="line"><span class="lineno"> 4330</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Authentication Timeout&quot;</span>; <span class="comment">/* common use */</span></div>
<div class="line"><span class="lineno"> 4331</span>    <span class="keywordflow">case</span> 420:</div>
<div class="line"><span class="lineno"> 4332</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Enhance Your Calm&quot;</span>; <span class="comment">/* common use */</span></div>
<div class="line"><span class="lineno"> 4333</span>    <span class="keywordflow">case</span> 440:</div>
<div class="line"><span class="lineno"> 4334</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Login Timeout&quot;</span>; <span class="comment">/* common use */</span></div>
<div class="line"><span class="lineno"> 4335</span>    <span class="keywordflow">case</span> 509:</div>
<div class="line"><span class="lineno"> 4336</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Bandwidth Limit Exceeded&quot;</span>; <span class="comment">/* common use */</span></div>
<div class="line"><span class="lineno"> 4337</span> </div>
<div class="line"><span class="lineno"> 4338</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 4339</span>        <span class="comment">/* This error code is unknown. This should not happen. */</span></div>
<div class="line"><span class="lineno"> 4340</span>        <span class="keywordflow">if</span> (conn) {</div>
<div class="line"><span class="lineno"> 4341</span>            <a class="code hl_define" href="civetweb_8c.html#a9c82560e32fee25bd5f05767a625fa77">mg_cry_internal</a>(conn,</div>
<div class="line"><span class="lineno"> 4342</span>                            <span class="stringliteral">&quot;Unknown HTTP response code: %u&quot;</span>,</div>
<div class="line"><span class="lineno"> 4343</span>                            response_code);</div>
<div class="line"><span class="lineno"> 4344</span>        }</div>
<div class="line"><span class="lineno"> 4345</span> </div>
<div class="line"><span class="lineno"> 4346</span>        <span class="comment">/* Return at least a category according to RFC 2616 Section 10. */</span></div>
<div class="line"><span class="lineno"> 4347</span>        <span class="keywordflow">if</span> (response_code &gt;= 100 &amp;&amp; response_code &lt; 200) {</div>
<div class="line"><span class="lineno"> 4348</span>            <span class="comment">/* Unknown informational status code */</span></div>
<div class="line"><span class="lineno"> 4349</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Information&quot;</span>;</div>
<div class="line"><span class="lineno"> 4350</span>        }</div>
<div class="line"><span class="lineno"> 4351</span>        <span class="keywordflow">if</span> (response_code &gt;= 200 &amp;&amp; response_code &lt; 300) {</div>
<div class="line"><span class="lineno"> 4352</span>            <span class="comment">/* Unknown success code */</span></div>
<div class="line"><span class="lineno"> 4353</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Success&quot;</span>;</div>
<div class="line"><span class="lineno"> 4354</span>        }</div>
<div class="line"><span class="lineno"> 4355</span>        <span class="keywordflow">if</span> (response_code &gt;= 300 &amp;&amp; response_code &lt; 400) {</div>
<div class="line"><span class="lineno"> 4356</span>            <span class="comment">/* Unknown redirection code */</span></div>
<div class="line"><span class="lineno"> 4357</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Redirection&quot;</span>;</div>
<div class="line"><span class="lineno"> 4358</span>        }</div>
<div class="line"><span class="lineno"> 4359</span>        <span class="keywordflow">if</span> (response_code &gt;= 400 &amp;&amp; response_code &lt; 500) {</div>
<div class="line"><span class="lineno"> 4360</span>            <span class="comment">/* Unknown request error code */</span></div>
<div class="line"><span class="lineno"> 4361</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Client Error&quot;</span>;</div>
<div class="line"><span class="lineno"> 4362</span>        }</div>
<div class="line"><span class="lineno"> 4363</span>        <span class="keywordflow">if</span> (response_code &gt;= 500 &amp;&amp; response_code &lt; 600) {</div>
<div class="line"><span class="lineno"> 4364</span>            <span class="comment">/* Unknown server error code */</span></div>
<div class="line"><span class="lineno"> 4365</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Server Error&quot;</span>;</div>
<div class="line"><span class="lineno"> 4366</span>        }</div>
<div class="line"><span class="lineno"> 4367</span> </div>
<div class="line"><span class="lineno"> 4368</span>        <span class="comment">/* Response code not even within reasonable range */</span></div>
<div class="line"><span class="lineno"> 4369</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno"> 4370</span>    }</div>
<div class="line"><span class="lineno"> 4371</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a9c82560e32fee25bd5f05767a625fa77"><div class="ttname"><a href="civetweb_8c.html#a9c82560e32fee25bd5f05767a625fa77">mg_cry_internal</a></div><div class="ttdeci">#define mg_cry_internal(conn, fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02583">civetweb.c:2583</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l02583">mg_cry_internal</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l04375">mg_send_http_error_impl()</a>.</p>

</div>
</div>
<a id="a82bd7c5dd0b41c7df5908f65673712d2" name="a82bd7c5dd0b41c7df5908f65673712d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82bd7c5dd0b41c7df5908f65673712d2">&#9670;&#160;</a></span>mg_get_response_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> const struct <a class="el" href="structmg__response__info.html">mg_response_info</a> * mg_get_response_info </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l03561">3561</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3562</span>{</div>
<div class="line"><span class="lineno"> 3563</span>    <span class="keywordflow">if</span> (!conn) {</div>
<div class="line"><span class="lineno"> 3564</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3565</span>    }</div>
<div class="line"><span class="lineno"> 3566</span>    <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a5b8a4d583861cfb8a28ff105f5ba84bb">connection_type</a> != <a class="code hl_enumvalue" href="civetweb_8c.html#abc6126af1d45847bc59afa0aa3216b04aa45754d1cc862db401a33486ebefe411">CONNECTION_TYPE_RESPONSE</a>) {</div>
<div class="line"><span class="lineno"> 3567</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3568</span>    }</div>
<div class="line"><span class="lineno"> 3569</span>    <span class="keywordflow">return</span> &amp;conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a913c7880b2d750f0c98ab2ace5e59627">response_info</a>;</div>
<div class="line"><span class="lineno"> 3570</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l02486">mg_connection::connection_type</a>, <a class="el" href="civetweb_8c_source.html#l02462">CONNECTION_TYPE_RESPONSE</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, and <a class="el" href="civetweb_8c_source.html#l02495">mg_connection::response_info</a>.</p>

<p class="reference">Referenced by <a class="el" href="vendor_2civetweb_2main_8c_source.html#l00995">run_client()</a>.</p>

</div>
</div>
<a id="a4dce566e09bfb338699720d1ce69c8d4" name="a4dce566e09bfb338699720d1ce69c8d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dce566e09bfb338699720d1ce69c8d4">&#9670;&#160;</a></span>mg_get_server_ports()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_get_server_ports </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmg__context.html">mg_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>size</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmg__server__port.html">mg_server_port</a> *</td>          <td class="paramname"><span class="paramname"><em>ports</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l03248">3248</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3251</span>{</div>
<div class="line"><span class="lineno"> 3252</span>    <span class="keywordtype">int</span> i, cnt = 0;</div>
<div class="line"><span class="lineno"> 3253</span> </div>
<div class="line"><span class="lineno"> 3254</span>    <span class="keywordflow">if</span> (size &lt;= 0) {</div>
<div class="line"><span class="lineno"> 3255</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3256</span>    }</div>
<div class="line"><span class="lineno"> 3257</span>    memset(ports, 0, <span class="keyword">sizeof</span>(*ports) * (<span class="keywordtype">size_t</span>)size);</div>
<div class="line"><span class="lineno"> 3258</span>    <span class="keywordflow">if</span> (!ctx) {</div>
<div class="line"><span class="lineno"> 3259</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3260</span>    }</div>
<div class="line"><span class="lineno"> 3261</span>    <span class="keywordflow">if</span> (!ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a8639456185dda0c46dc6131f814a9d3f">listening_sockets</a>) {</div>
<div class="line"><span class="lineno"> 3262</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3263</span>    }</div>
<div class="line"><span class="lineno"> 3264</span> </div>
<div class="line"><span class="lineno"> 3265</span>    <span class="keywordflow">for</span> (i = 0; (i &lt; size) &amp;&amp; (i &lt; (<span class="keywordtype">int</span>)ctx-&gt;<a class="code hl_variable" href="structmg__context.html#ade1ccb738022fd01597c1816cb88d1e4">num_listening_sockets</a>); i++) {</div>
<div class="line"><span class="lineno"> 3266</span> </div>
<div class="line"><span class="lineno"> 3267</span>        ports[cnt].<a class="code hl_variable" href="structmg__server__port.html#abb93ebe061666ce256ea17a55fd38b9c">port</a> =</div>
<div class="line"><span class="lineno"> 3268</span>            ntohs(<a class="code hl_define" href="civetweb_8c.html#a58f28d0739c8e6a66ffce338daef408c">USA_IN_PORT_UNSAFE</a>(&amp;(ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a8639456185dda0c46dc6131f814a9d3f">listening_sockets</a>[i].<a class="code hl_variable" href="structsocket.html#a455153d6b0bf7dd4af9ce0183ab35a00">lsa</a>)));</div>
<div class="line"><span class="lineno"> 3269</span>        ports[cnt].<a class="code hl_variable" href="structmg__server__port.html#aff67341f9b687bc643a281d0efb5906b">is_ssl</a> = ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a8639456185dda0c46dc6131f814a9d3f">listening_sockets</a>[i].<a class="code hl_variable" href="structsocket.html#a2d1d5b8ef7da25d5e7e666e023a9b733">is_ssl</a>;</div>
<div class="line"><span class="lineno"> 3270</span>        ports[cnt].<a class="code hl_variable" href="structmg__server__port.html#aae57d94862923cb1bef63e5872008233">is_redirect</a> = ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a8639456185dda0c46dc6131f814a9d3f">listening_sockets</a>[i].<a class="code hl_variable" href="structsocket.html#ab6adc40d94d436862c00b586f1455f5c">ssl_redir</a>;</div>
<div class="line"><span class="lineno"> 3271</span> </div>
<div class="line"><span class="lineno"> 3272</span>        <span class="keywordflow">if</span> (ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a8639456185dda0c46dc6131f814a9d3f">listening_sockets</a>[i].<a class="code hl_variable" href="structsocket.html#a455153d6b0bf7dd4af9ce0183ab35a00">lsa</a>.<a class="code hl_variable" href="unionusa.html#a3bc7f8512f2fb0e7ef3e8c69dd794df1">sa</a>.sa_family == AF_INET) {</div>
<div class="line"><span class="lineno"> 3273</span>            <span class="comment">/* IPv4 */</span></div>
<div class="line"><span class="lineno"> 3274</span>            ports[cnt].<a class="code hl_variable" href="structmg__server__port.html#a67e6e3f3cfcee612e69b4fb3f3e1458f">protocol</a> = 1;</div>
<div class="line"><span class="lineno"> 3275</span>            cnt++;</div>
<div class="line"><span class="lineno"> 3276</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a8639456185dda0c46dc6131f814a9d3f">listening_sockets</a>[i].<a class="code hl_variable" href="structsocket.html#a455153d6b0bf7dd4af9ce0183ab35a00">lsa</a>.<a class="code hl_variable" href="unionusa.html#a3bc7f8512f2fb0e7ef3e8c69dd794df1">sa</a>.sa_family == AF_INET6) {</div>
<div class="line"><span class="lineno"> 3277</span>            <span class="comment">/* IPv6 */</span></div>
<div class="line"><span class="lineno"> 3278</span>            ports[cnt].<a class="code hl_variable" href="structmg__server__port.html#a67e6e3f3cfcee612e69b4fb3f3e1458f">protocol</a> = 3;</div>
<div class="line"><span class="lineno"> 3279</span>            cnt++;</div>
<div class="line"><span class="lineno"> 3280</span>        }</div>
<div class="line"><span class="lineno"> 3281</span>    }</div>
<div class="line"><span class="lineno"> 3282</span> </div>
<div class="line"><span class="lineno"> 3283</span>    <span class="keywordflow">return</span> cnt;</div>
<div class="line"><span class="lineno"> 3284</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a58f28d0739c8e6a66ffce338daef408c"><div class="ttname"><a href="civetweb_8c.html#a58f28d0739c8e6a66ffce338daef408c">USA_IN_PORT_UNSAFE</a></div><div class="ttdeci">#define USA_IN_PORT_UNSAFE(s)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01860">civetweb.c:1860</a></div></div>
<div class="ttc" id="astructmg__context_html_a8639456185dda0c46dc6131f814a9d3f"><div class="ttname"><a href="structmg__context.html#a8639456185dda0c46dc6131f814a9d3f">mg_context::listening_sockets</a></div><div class="ttdeci">struct socket * listening_sockets</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02356">civetweb.c:2356</a></div></div>
<div class="ttc" id="astructmg__context_html_ade1ccb738022fd01597c1816cb88d1e4"><div class="ttname"><a href="structmg__context.html#ade1ccb738022fd01597c1816cb88d1e4">mg_context::num_listening_sockets</a></div><div class="ttdeci">unsigned int num_listening_sockets</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02358">civetweb.c:2358</a></div></div>
<div class="ttc" id="astructmg__server__port_html_a67e6e3f3cfcee612e69b4fb3f3e1458f"><div class="ttname"><a href="structmg__server__port.html#a67e6e3f3cfcee612e69b4fb3f3e1458f">mg_server_port::protocol</a></div><div class="ttdeci">int protocol</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00713">civetweb.h:713</a></div></div>
<div class="ttc" id="astructmg__server__port_html_aae57d94862923cb1bef63e5872008233"><div class="ttname"><a href="structmg__server__port.html#aae57d94862923cb1bef63e5872008233">mg_server_port::is_redirect</a></div><div class="ttdeci">int is_redirect</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00716">civetweb.h:716</a></div></div>
<div class="ttc" id="astructmg__server__port_html_abb93ebe061666ce256ea17a55fd38b9c"><div class="ttname"><a href="structmg__server__port.html#abb93ebe061666ce256ea17a55fd38b9c">mg_server_port::port</a></div><div class="ttdeci">int port</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00714">civetweb.h:714</a></div></div>
<div class="ttc" id="astructmg__server__port_html_aff67341f9b687bc643a281d0efb5906b"><div class="ttname"><a href="structmg__server__port.html#aff67341f9b687bc643a281d0efb5906b">mg_server_port::is_ssl</a></div><div class="ttdeci">int is_ssl</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00715">civetweb.h:715</a></div></div>
<div class="ttc" id="astructsocket_html_a2d1d5b8ef7da25d5e7e666e023a9b733"><div class="ttname"><a href="structsocket.html#a2d1d5b8ef7da25d5e7e666e023a9b733">socket::is_ssl</a></div><div class="ttdeci">unsigned char is_ssl</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01906">civetweb.c:1906</a></div></div>
<div class="ttc" id="astructsocket_html_a455153d6b0bf7dd4af9ce0183ab35a00"><div class="ttname"><a href="structsocket.html#a455153d6b0bf7dd4af9ce0183ab35a00">socket::lsa</a></div><div class="ttdeci">union usa lsa</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01904">civetweb.c:1904</a></div></div>
<div class="ttc" id="astructsocket_html_ab6adc40d94d436862c00b586f1455f5c"><div class="ttname"><a href="structsocket.html#ab6adc40d94d436862c00b586f1455f5c">socket::ssl_redir</a></div><div class="ttdeci">unsigned char ssl_redir</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01907">civetweb.c:1907</a></div></div>
<div class="ttc" id="aunionusa_html_a3bc7f8512f2fb0e7ef3e8c69dd794df1"><div class="ttname"><a href="unionusa.html#a3bc7f8512f2fb0e7ef3e8c69dd794df1">usa::sa</a></div><div class="ttdeci">struct sockaddr sa</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01833">civetweb.c:1833</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8h_source.html#l00716">mg_server_port::is_redirect</a>, <a class="el" href="civetweb_8c_source.html#l01906">socket::is_ssl</a>, <a class="el" href="civetweb_8h_source.html#l00715">mg_server_port::is_ssl</a>, <a class="el" href="civetweb_8c_source.html#l02356">mg_context::listening_sockets</a>, <a class="el" href="civetweb_8c_source.html#l01904">socket::lsa</a>, <a class="el" href="civetweb_8c_source.html#l02358">mg_context::num_listening_sockets</a>, <a class="el" href="civetweb_8h_source.html#l00714">mg_server_port::port</a>, <a class="el" href="civetweb_8h_source.html#l00713">mg_server_port::protocol</a>, <a class="el" href="civetweb_8c_source.html#l01833">usa::sa</a>, <a class="el" href="civetweb_8c_source.html#l01907">socket::ssl_redir</a>, and <a class="el" href="civetweb_8c_source.html#l01860">USA_IN_PORT_UNSAFE</a>.</p>

</div>
</div>
<a id="af7b80bf53a5b2c2453734e64203d3f7e" name="af7b80bf53a5b2c2453734e64203d3f7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7b80bf53a5b2c2453734e64203d3f7e">&#9670;&#160;</a></span>mg_get_system_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_get_system_info </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buffer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>buflen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l21512">21512</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">21513</span>{</div>
<div class="line"><span class="lineno">21514</span>    <span class="keywordtype">char</span> *end, *append_eoobj = <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>[256];</div>
<div class="line"><span class="lineno">21515</span>    <span class="keywordtype">size_t</span> system_info_length = 0;</div>
<div class="line"><span class="lineno">21516</span> </div>
<div class="line"><span class="lineno">21517</span><span class="preprocessor">#if defined(_WIN32)</span></div>
<div class="line"><span class="lineno">21518</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> eol[] = <span class="stringliteral">&quot;\r\n&quot;</span>, eoobj[] = <span class="stringliteral">&quot;\r\n}\r\n&quot;</span>;</div>
<div class="line"><span class="lineno">21519</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">21520</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> eol[] = <span class="stringliteral">&quot;\n&quot;</span>, eoobj[] = <span class="stringliteral">&quot;\n}\n&quot;</span>;</div>
<div class="line"><span class="lineno">21521</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21522</span> </div>
<div class="line"><span class="lineno">21523</span>    <span class="keywordflow">if</span> ((buffer == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (buflen &lt; 1)) {</div>
<div class="line"><span class="lineno">21524</span>        buflen = 0;</div>
<div class="line"><span class="lineno">21525</span>        end = buffer;</div>
<div class="line"><span class="lineno">21526</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">21527</span>        *buffer = 0;</div>
<div class="line"><span class="lineno">21528</span>        end = buffer + buflen;</div>
<div class="line"><span class="lineno">21529</span>    }</div>
<div class="line"><span class="lineno">21530</span>    <span class="keywordflow">if</span> (buflen &gt; (<span class="keywordtype">int</span>)(<span class="keyword">sizeof</span>(eoobj) - 1)) {</div>
<div class="line"><span class="lineno">21531</span>        <span class="comment">/* has enough space to append eoobj */</span></div>
<div class="line"><span class="lineno">21532</span>        append_eoobj = buffer;</div>
<div class="line"><span class="lineno">21533</span>        <span class="keywordflow">if</span> (end) {</div>
<div class="line"><span class="lineno">21534</span>            end -= <span class="keyword">sizeof</span>(eoobj) - 1;</div>
<div class="line"><span class="lineno">21535</span>        }</div>
<div class="line"><span class="lineno">21536</span>    }</div>
<div class="line"><span class="lineno">21537</span> </div>
<div class="line"><span class="lineno">21538</span>    system_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <span class="stringliteral">&quot;{&quot;</span>);</div>
<div class="line"><span class="lineno">21539</span> </div>
<div class="line"><span class="lineno">21540</span>    <span class="comment">/* Server version */</span></div>
<div class="line"><span class="lineno">21541</span>    {</div>
<div class="line"><span class="lineno">21542</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *version = <a class="code hl_function" href="civetweb_8c.html#a057ebd236dc84e6e8f6c9765da609329">mg_version</a>();</div>
<div class="line"><span class="lineno">21543</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21544</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21545</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">21546</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">21547</span>                    <span class="stringliteral">&quot;%s\&quot;version\&quot; : \&quot;%s\&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21548</span>                    eol,</div>
<div class="line"><span class="lineno">21549</span>                    version);</div>
<div class="line"><span class="lineno">21550</span>        system_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21551</span>    }</div>
<div class="line"><span class="lineno">21552</span> </div>
<div class="line"><span class="lineno">21553</span>    <span class="comment">/* System info */</span></div>
<div class="line"><span class="lineno">21554</span>    {</div>
<div class="line"><span class="lineno">21555</span><span class="preprocessor">#if defined(_WIN32)</span></div>
<div class="line"><span class="lineno">21556</span>        DWORD dwVersion = 0;</div>
<div class="line"><span class="lineno">21557</span>        DWORD dwMajorVersion = 0;</div>
<div class="line"><span class="lineno">21558</span>        DWORD dwMinorVersion = 0;</div>
<div class="line"><span class="lineno">21559</span>        SYSTEM_INFO si;</div>
<div class="line"><span class="lineno">21560</span> </div>
<div class="line"><span class="lineno">21561</span>        GetSystemInfo(&amp;si);</div>
<div class="line"><span class="lineno">21562</span> </div>
<div class="line"><span class="lineno">21563</span><span class="preprocessor">#if defined(_MSC_VER)</span></div>
<div class="line"><span class="lineno">21564</span><span class="preprocessor">#pragma warning(push)</span></div>
<div class="line"><span class="lineno">21565</span>        <span class="comment">/* GetVersion was declared deprecated */</span></div>
<div class="line"><span class="lineno">21566</span><span class="preprocessor">#pragma warning(disable : 4996)</span></div>
<div class="line"><span class="lineno">21567</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21568</span>        dwVersion = GetVersion();</div>
<div class="line"><span class="lineno">21569</span><span class="preprocessor">#if defined(_MSC_VER)</span></div>
<div class="line"><span class="lineno">21570</span><span class="preprocessor">#pragma warning(pop)</span></div>
<div class="line"><span class="lineno">21571</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21572</span> </div>
<div class="line"><span class="lineno">21573</span>        dwMajorVersion = (DWORD)(LOBYTE(LOWORD(dwVersion)));</div>
<div class="line"><span class="lineno">21574</span>        dwMinorVersion = (DWORD)(HIBYTE(LOWORD(dwVersion)));</div>
<div class="line"><span class="lineno">21575</span> </div>
<div class="line"><span class="lineno">21576</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21577</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21578</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">21579</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">21580</span>                    <span class="stringliteral">&quot;,%s\&quot;os\&quot; : \&quot;Windows %u.%u\&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21581</span>                    eol,</div>
<div class="line"><span class="lineno">21582</span>                    (<span class="keywordtype">unsigned</span>)dwMajorVersion,</div>
<div class="line"><span class="lineno">21583</span>                    (<span class="keywordtype">unsigned</span>)dwMinorVersion);</div>
<div class="line"><span class="lineno">21584</span>        system_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21585</span> </div>
<div class="line"><span class="lineno">21586</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21587</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21588</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">21589</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">21590</span>                    <span class="stringliteral">&quot;,%s\&quot;cpu\&quot; : \&quot;type %u, cores %u, mask %x\&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21591</span>                    eol,</div>
<div class="line"><span class="lineno">21592</span>                    (<span class="keywordtype">unsigned</span>)si.wProcessorArchitecture,</div>
<div class="line"><span class="lineno">21593</span>                    (<span class="keywordtype">unsigned</span>)si.dwNumberOfProcessors,</div>
<div class="line"><span class="lineno">21594</span>                    (<span class="keywordtype">unsigned</span>)si.dwActiveProcessorMask);</div>
<div class="line"><span class="lineno">21595</span>        system_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21596</span><span class="preprocessor">#elif defined(__ZEPHYR__)</span></div>
<div class="line"><span class="lineno">21597</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21598</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21599</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">21600</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">21601</span>                    <span class="stringliteral">&quot;,%s\&quot;os\&quot; : \&quot;%s %s\&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21602</span>                    eol,</div>
<div class="line"><span class="lineno">21603</span>                    <span class="stringliteral">&quot;Zephyr OS&quot;</span>,</div>
<div class="line"><span class="lineno">21604</span>                    ZEPHYR_VERSION);</div>
<div class="line"><span class="lineno">21605</span>        system_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21606</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">21607</span>        <span class="keyword">struct </span>utsname <a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>;</div>
<div class="line"><span class="lineno">21608</span>        memset(&amp;<a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>));</div>
<div class="line"><span class="lineno">21609</span>        uname(&amp;<a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><span class="lineno">21610</span> </div>
<div class="line"><span class="lineno">21611</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21612</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21613</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">21614</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">21615</span>                    <span class="stringliteral">&quot;,%s\&quot;os\&quot; : \&quot;%s %s (%s) - %s\&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21616</span>                    eol,</div>
<div class="line"><span class="lineno">21617</span>                    <a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>.sysname,</div>
<div class="line"><span class="lineno">21618</span>                    <a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>.version,</div>
<div class="line"><span class="lineno">21619</span>                    <a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>.release,</div>
<div class="line"><span class="lineno">21620</span>                    <a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>.machine);</div>
<div class="line"><span class="lineno">21621</span>        system_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21622</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21623</span>    }</div>
<div class="line"><span class="lineno">21624</span> </div>
<div class="line"><span class="lineno">21625</span>    <span class="comment">/* Features */</span></div>
<div class="line"><span class="lineno">21626</span>    {</div>
<div class="line"><span class="lineno">21627</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21628</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21629</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">21630</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">21631</span>                    <span class="stringliteral">&quot;,%s\&quot;features\&quot; : %lu&quot;</span></div>
<div class="line"><span class="lineno">21632</span>                    <span class="stringliteral">&quot;,%s\&quot;feature_list\&quot; : \&quot;Server:%s%s%s%s%s%s%s%s%s\&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21633</span>                    eol,</div>
<div class="line"><span class="lineno">21634</span>                    (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)<a class="code hl_function" href="civetweb_8c.html#ad6e4a71c131991d1bf9dac0c74b7e8b2">mg_check_feature</a>(0xFFFFFFFFu),</div>
<div class="line"><span class="lineno">21635</span>                    eol,</div>
<div class="line"><span class="lineno">21636</span>                    <a class="code hl_function" href="civetweb_8c.html#ad6e4a71c131991d1bf9dac0c74b7e8b2">mg_check_feature</a>(<a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2da79f7476503d279aebb8e29415c310ba1">MG_FEATURES_FILES</a>) ? <span class="stringliteral">&quot; Files&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21637</span>                    <a class="code hl_function" href="civetweb_8c.html#ad6e4a71c131991d1bf9dac0c74b7e8b2">mg_check_feature</a>(<a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2daba4b4d11dd0dec1ba0833f0bb1de2b0e">MG_FEATURES_SSL</a>) ? <span class="stringliteral">&quot; HTTPS&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21638</span>                    <a class="code hl_function" href="civetweb_8c.html#ad6e4a71c131991d1bf9dac0c74b7e8b2">mg_check_feature</a>(<a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2da84fc7ef257026875a66d71eddd99a52a">MG_FEATURES_CGI</a>) ? <span class="stringliteral">&quot; CGI&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21639</span>                    <a class="code hl_function" href="civetweb_8c.html#ad6e4a71c131991d1bf9dac0c74b7e8b2">mg_check_feature</a>(<a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2da899e17934638eaac9928e3ca39c4b4ba">MG_FEATURES_IPV6</a>) ? <span class="stringliteral">&quot; IPv6&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21640</span>                    <a class="code hl_function" href="civetweb_8c.html#ad6e4a71c131991d1bf9dac0c74b7e8b2">mg_check_feature</a>(<a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2daeb94a2a63430c86ebbae4dfe84e7f8de">MG_FEATURES_WEBSOCKET</a>) ? <span class="stringliteral">&quot; WebSockets&quot;</span></div>
<div class="line"><span class="lineno">21641</span>                                                            : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21642</span>                    <a class="code hl_function" href="civetweb_8c.html#ad6e4a71c131991d1bf9dac0c74b7e8b2">mg_check_feature</a>(<a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2dad09716f1978e57ab93c65da1c53ccb1d">MG_FEATURES_LUA</a>) ? <span class="stringliteral">&quot; Lua&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21643</span>                    <a class="code hl_function" href="civetweb_8c.html#ad6e4a71c131991d1bf9dac0c74b7e8b2">mg_check_feature</a>(<a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2daec89c7f60acc1228627d697da889dfa6">MG_FEATURES_SSJS</a>) ? <span class="stringliteral">&quot; JavaScript&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21644</span>                    <a class="code hl_function" href="civetweb_8c.html#ad6e4a71c131991d1bf9dac0c74b7e8b2">mg_check_feature</a>(<a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2da65c4232cdd767df45fcd9abea0cc66e2">MG_FEATURES_CACHE</a>) ? <span class="stringliteral">&quot; Cache&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21645</span>                    <a class="code hl_function" href="civetweb_8c.html#ad6e4a71c131991d1bf9dac0c74b7e8b2">mg_check_feature</a>(<a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2da56a0059eeae63a991e650d956719db5b">MG_FEATURES_STATS</a>) ? <span class="stringliteral">&quot; Stats&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">21646</span>        system_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21647</span> </div>
<div class="line"><span class="lineno">21648</span><span class="preprocessor">#if defined(USE_LUA)</span></div>
<div class="line"><span class="lineno">21649</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21650</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21651</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">21652</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">21653</span>                    <span class="stringliteral">&quot;,%s\&quot;lua_version\&quot; : \&quot;%u (%s)\&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21654</span>                    eol,</div>
<div class="line"><span class="lineno">21655</span>                    (<span class="keywordtype">unsigned</span>)<a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a4c575ef5fb9bad1872613a9d832486a5">LUA_VERSION_NUM</a>,</div>
<div class="line"><span class="lineno">21656</span>                    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#abeb7a5ea7080e8ef597181124801f759">LUA_RELEASE</a>);</div>
<div class="line"><span class="lineno">21657</span>        system_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21658</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21659</span><span class="preprocessor">#if defined(USE_DUKTAPE)</span></div>
<div class="line"><span class="lineno">21660</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21661</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21662</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">21663</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">21664</span>                    <span class="stringliteral">&quot;,%s\&quot;javascript\&quot; : \&quot;Duktape %u.%u.%u\&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21665</span>                    eol,</div>
<div class="line"><span class="lineno">21666</span>                    (<span class="keywordtype">unsigned</span>)<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a64d5ac9273205b66a33c2895e5b4ddfa">DUK_VERSION</a> / 10000,</div>
<div class="line"><span class="lineno">21667</span>                    ((<span class="keywordtype">unsigned</span>)<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a64d5ac9273205b66a33c2895e5b4ddfa">DUK_VERSION</a> / 100) % 100,</div>
<div class="line"><span class="lineno">21668</span>                    (<span class="keywordtype">unsigned</span>)<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a64d5ac9273205b66a33c2895e5b4ddfa">DUK_VERSION</a> % 100);</div>
<div class="line"><span class="lineno">21669</span>        system_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21670</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21671</span>    }</div>
<div class="line"><span class="lineno">21672</span> </div>
<div class="line"><span class="lineno">21673</span>    <span class="comment">/* Build identifier. If BUILD_DATE is not set, __DATE__ will be used. */</span></div>
<div class="line"><span class="lineno">21674</span>    {</div>
<div class="line"><span class="lineno">21675</span><span class="preprocessor">#if defined(BUILD_DATE)</span></div>
<div class="line"><span class="lineno">21676</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *bd = BUILD_DATE;</div>
<div class="line"><span class="lineno">21677</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">21678</span><span class="preprocessor">#if defined(GCC_DIAGNOSTIC)</span></div>
<div class="line"><span class="lineno">21679</span><span class="preprocessor">#if GCC_VERSION &gt;= 40900</span></div>
<div class="line"><span class="lineno">21680</span><span class="preprocessor">#pragma GCC diagnostic push</span></div>
<div class="line"><span class="lineno">21681</span>        <span class="comment">/* Disable idiotic compiler warning -Wdate-time, appeared in gcc5. This</span></div>
<div class="line"><span class="lineno">21682</span><span class="comment">         * does not work in some versions. If &quot;BUILD_DATE&quot; is defined to some</span></div>
<div class="line"><span class="lineno">21683</span><span class="comment">         * string, it is used instead of __DATE__. */</span></div>
<div class="line"><span class="lineno">21684</span><span class="preprocessor">#pragma GCC diagnostic ignored &quot;-Wdate-time&quot;</span></div>
<div class="line"><span class="lineno">21685</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21686</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21687</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *bd = __DATE__;</div>
<div class="line"><span class="lineno">21688</span><span class="preprocessor">#if defined(GCC_DIAGNOSTIC)</span></div>
<div class="line"><span class="lineno">21689</span><span class="preprocessor">#if GCC_VERSION &gt;= 40900</span></div>
<div class="line"><span class="lineno">21690</span><span class="preprocessor">#pragma GCC diagnostic pop</span></div>
<div class="line"><span class="lineno">21691</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21692</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21693</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21694</span> </div>
<div class="line"><span class="lineno">21695</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(</div>
<div class="line"><span class="lineno">21696</span>            <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>, <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>), <span class="stringliteral">&quot;,%s\&quot;build\&quot; : \&quot;%s\&quot;&quot;</span>, eol, bd);</div>
<div class="line"><span class="lineno">21697</span> </div>
<div class="line"><span class="lineno">21698</span>        system_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21699</span>    }</div>
<div class="line"><span class="lineno">21700</span> </div>
<div class="line"><span class="lineno">21701</span>    <span class="comment">/* Compiler information */</span></div>
<div class="line"><span class="lineno">21702</span>    <span class="comment">/* http://sourceforge.net/p/predef/wiki/Compilers/ */</span></div>
<div class="line"><span class="lineno">21703</span>    {</div>
<div class="line"><span class="lineno">21704</span><span class="preprocessor">#if defined(_MSC_VER)</span></div>
<div class="line"><span class="lineno">21705</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21706</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21707</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">21708</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">21709</span>                    <span class="stringliteral">&quot;,%s\&quot;compiler\&quot; : \&quot;MSC: %u (%u)\&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21710</span>                    eol,</div>
<div class="line"><span class="lineno">21711</span>                    (<span class="keywordtype">unsigned</span>)_MSC_VER,</div>
<div class="line"><span class="lineno">21712</span>                    (<span class="keywordtype">unsigned</span>)_MSC_FULL_VER);</div>
<div class="line"><span class="lineno">21713</span>        system_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21714</span><span class="preprocessor">#elif defined(__MINGW64__)</span></div>
<div class="line"><span class="lineno">21715</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21716</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21717</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">21718</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">21719</span>                    <span class="stringliteral">&quot;,%s\&quot;compiler\&quot; : \&quot;MinGW64: %u.%u\&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21720</span>                    eol,</div>
<div class="line"><span class="lineno">21721</span>                    (<span class="keywordtype">unsigned</span>)__MINGW64_VERSION_MAJOR,</div>
<div class="line"><span class="lineno">21722</span>                    (<span class="keywordtype">unsigned</span>)__MINGW64_VERSION_MINOR);</div>
<div class="line"><span class="lineno">21723</span>        system_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21724</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21725</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21726</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">21727</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">21728</span>                    <span class="stringliteral">&quot;,%s\&quot;compiler\&quot; : \&quot;MinGW32: %u.%u\&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21729</span>                    eol,</div>
<div class="line"><span class="lineno">21730</span>                    (<span class="keywordtype">unsigned</span>)__MINGW32_MAJOR_VERSION,</div>
<div class="line"><span class="lineno">21731</span>                    (<span class="keywordtype">unsigned</span>)__MINGW32_MINOR_VERSION);</div>
<div class="line"><span class="lineno">21732</span>        system_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21733</span><span class="preprocessor">#elif defined(__MINGW32__)</span></div>
<div class="line"><span class="lineno">21734</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21735</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21736</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">21737</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">21738</span>                    <span class="stringliteral">&quot;,%s\&quot;compiler\&quot; : \&quot;MinGW32: %u.%u\&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21739</span>                    eol,</div>
<div class="line"><span class="lineno">21740</span>                    (<span class="keywordtype">unsigned</span>)__MINGW32_MAJOR_VERSION,</div>
<div class="line"><span class="lineno">21741</span>                    (<span class="keywordtype">unsigned</span>)__MINGW32_MINOR_VERSION);</div>
<div class="line"><span class="lineno">21742</span>        system_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21743</span><span class="preprocessor">#elif defined(__clang__)</span></div>
<div class="line"><span class="lineno">21744</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21745</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21746</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">21747</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">21748</span>                    <span class="stringliteral">&quot;,%s\&quot;compiler\&quot; : \&quot;clang: %u.%u.%u (%s)\&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21749</span>                    eol,</div>
<div class="line"><span class="lineno">21750</span>                    __clang_major__,</div>
<div class="line"><span class="lineno">21751</span>                    __clang_minor__,</div>
<div class="line"><span class="lineno">21752</span>                    __clang_patchlevel__,</div>
<div class="line"><span class="lineno">21753</span>                    __clang_version__);</div>
<div class="line"><span class="lineno">21754</span>        system_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21755</span><span class="preprocessor">#elif defined(__GNUC__)</span></div>
<div class="line"><span class="lineno">21756</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21757</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21758</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">21759</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">21760</span>                    <span class="stringliteral">&quot;,%s\&quot;compiler\&quot; : \&quot;gcc: %u.%u.%u\&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21761</span>                    eol,</div>
<div class="line"><span class="lineno">21762</span>                    (<span class="keywordtype">unsigned</span>)__GNUC__,</div>
<div class="line"><span class="lineno">21763</span>                    (<span class="keywordtype">unsigned</span>)__GNUC_MINOR__,</div>
<div class="line"><span class="lineno">21764</span>                    (<span class="keywordtype">unsigned</span>)__GNUC_PATCHLEVEL__);</div>
<div class="line"><span class="lineno">21765</span>        system_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21766</span><span class="preprocessor">#elif defined(__INTEL_COMPILER)</span></div>
<div class="line"><span class="lineno">21767</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21768</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21769</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">21770</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">21771</span>                    <span class="stringliteral">&quot;,%s\&quot;compiler\&quot; : \&quot;Intel C/C++: %u\&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21772</span>                    eol,</div>
<div class="line"><span class="lineno">21773</span>                    (<span class="keywordtype">unsigned</span>)__INTEL_COMPILER);</div>
<div class="line"><span class="lineno">21774</span>        system_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21775</span><span class="preprocessor">#elif defined(__BORLANDC__)</span></div>
<div class="line"><span class="lineno">21776</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21777</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21778</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">21779</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">21780</span>                    <span class="stringliteral">&quot;,%s\&quot;compiler\&quot; : \&quot;Borland C: 0x%x\&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21781</span>                    eol,</div>
<div class="line"><span class="lineno">21782</span>                    (<span class="keywordtype">unsigned</span>)__BORLANDC__);</div>
<div class="line"><span class="lineno">21783</span>        system_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21784</span><span class="preprocessor">#elif defined(__SUNPRO_C)</span></div>
<div class="line"><span class="lineno">21785</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21786</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21787</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">21788</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">21789</span>                    <span class="stringliteral">&quot;,%s\&quot;compiler\&quot; : \&quot;Solaris: 0x%x\&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21790</span>                    eol,</div>
<div class="line"><span class="lineno">21791</span>                    (<span class="keywordtype">unsigned</span>)__SUNPRO_C);</div>
<div class="line"><span class="lineno">21792</span>        system_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21793</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">21794</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21795</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21796</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">21797</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">21798</span>                    <span class="stringliteral">&quot;,%s\&quot;compiler\&quot; : \&quot;other\&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21799</span>                    eol);</div>
<div class="line"><span class="lineno">21800</span>        system_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21801</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21802</span>    }</div>
<div class="line"><span class="lineno">21803</span> </div>
<div class="line"><span class="lineno">21804</span>    <span class="comment">/* Determine 32/64 bit data mode.</span></div>
<div class="line"><span class="lineno">21805</span><span class="comment">     * see https://en.wikipedia.org/wiki/64-bit_computing */</span></div>
<div class="line"><span class="lineno">21806</span>    {</div>
<div class="line"><span class="lineno">21807</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21808</span>                    <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21809</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>,</div>
<div class="line"><span class="lineno">21810</span>                    <span class="keyword">sizeof</span>(<a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>),</div>
<div class="line"><span class="lineno">21811</span>                    <span class="stringliteral">&quot;,%s\&quot;data_model\&quot; : \&quot;int:%u/%u/%u/%u, float:%u/%u/%u, &quot;</span></div>
<div class="line"><span class="lineno">21812</span>                    <span class="stringliteral">&quot;char:%u/%u, &quot;</span></div>
<div class="line"><span class="lineno">21813</span>                    <span class="stringliteral">&quot;ptr:%u, size:%u, time:%u\&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">21814</span>                    eol,</div>
<div class="line"><span class="lineno">21815</span>                    (<span class="keywordtype">unsigned</span>)<span class="keyword">sizeof</span>(<span class="keywordtype">short</span>),</div>
<div class="line"><span class="lineno">21816</span>                    (<span class="keywordtype">unsigned</span>)<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>),</div>
<div class="line"><span class="lineno">21817</span>                    (<span class="keywordtype">unsigned</span>)<span class="keyword">sizeof</span>(<span class="keywordtype">long</span>),</div>
<div class="line"><span class="lineno">21818</span>                    (<span class="keywordtype">unsigned</span>)<span class="keyword">sizeof</span>(<span class="keywordtype">long</span> <span class="keywordtype">long</span>),</div>
<div class="line"><span class="lineno">21819</span>                    (<span class="keywordtype">unsigned</span>)<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>),</div>
<div class="line"><span class="lineno">21820</span>                    (<span class="keywordtype">unsigned</span>)<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>),</div>
<div class="line"><span class="lineno">21821</span>                    (<span class="keywordtype">unsigned</span>)<span class="keyword">sizeof</span>(<span class="keywordtype">long</span> <span class="keywordtype">double</span>),</div>
<div class="line"><span class="lineno">21822</span>                    (<span class="keywordtype">unsigned</span>)<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>),</div>
<div class="line"><span class="lineno">21823</span>                    (<span class="keywordtype">unsigned</span>)<span class="keyword">sizeof</span>(<span class="keywordtype">wchar_t</span>),</div>
<div class="line"><span class="lineno">21824</span>                    (<span class="keywordtype">unsigned</span>)<span class="keyword">sizeof</span>(<span class="keywordtype">void</span> *),</div>
<div class="line"><span class="lineno">21825</span>                    (<span class="keywordtype">unsigned</span>)<span class="keyword">sizeof</span>(<span class="keywordtype">size_t</span>),</div>
<div class="line"><span class="lineno">21826</span>                    (<span class="keywordtype">unsigned</span>)<span class="keyword">sizeof</span>(time_t));</div>
<div class="line"><span class="lineno">21827</span>        system_info_length += <a class="code hl_function" href="civetweb_8c.html#a56edd9d2b1961442b88fb2e0419cdac8">mg_str_append</a>(&amp;buffer, end, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a235428bed4c6be6cb6d2760cd0fa9d34">block</a>);</div>
<div class="line"><span class="lineno">21828</span>    }</div>
<div class="line"><span class="lineno">21829</span> </div>
<div class="line"><span class="lineno">21830</span>    <span class="comment">/* Terminate string */</span></div>
<div class="line"><span class="lineno">21831</span>    <span class="keywordflow">if</span> (append_eoobj) {</div>
<div class="line"><span class="lineno">21832</span>        strcat(append_eoobj, eoobj);</div>
<div class="line"><span class="lineno">21833</span>    }</div>
<div class="line"><span class="lineno">21834</span>    system_info_length += <span class="keyword">sizeof</span>(eoobj) - 1;</div>
<div class="line"><span class="lineno">21835</span> </div>
<div class="line"><span class="lineno">21836</span>    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)system_info_length;</div>
<div class="line"><span class="lineno">21837</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a057ebd236dc84e6e8f6c9765da609329"><div class="ttname"><a href="civetweb_8c.html#a057ebd236dc84e6e8f6c9765da609329">mg_version</a></div><div class="ttdeci">CIVETWEB_API const char * mg_version(void)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l03514">civetweb.c:3514</a></div></div>
<div class="ttc" id="acivetweb_8c_html_ad6e4a71c131991d1bf9dac0c74b7e8b2"><div class="ttname"><a href="civetweb_8c.html#ad6e4a71c131991d1bf9dac0c74b7e8b2">mg_check_feature</a></div><div class="ttdeci">CIVETWEB_API unsigned mg_check_feature(unsigned feature)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l21430">civetweb.c:21430</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8h_html_a64d5ac9273205b66a33c2895e5b4ddfa"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8h.html#a64d5ac9273205b66a33c2895e5b4ddfa">DUK_VERSION</a></div><div class="ttdeci">#define DUK_VERSION</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l00221">duktape-1.5.2/src-noline/duktape.h:221</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lua_8h_html_a4c575ef5fb9bad1872613a9d832486a5"><div class="ttname"><a href="lua-5_81_85_2src_2lua_8h.html#a4c575ef5fb9bad1872613a9d832486a5">LUA_VERSION_NUM</a></div><div class="ttdeci">#define LUA_VERSION_NUM</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lua_8h_source.html#l00021">lua-5.1.5/src/lua.h:21</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lua_8h_html_abeb7a5ea7080e8ef597181124801f759"><div class="ttname"><a href="lua-5_81_85_2src_2lua_8h.html#abeb7a5ea7080e8ef597181124801f759">LUA_RELEASE</a></div><div class="ttdeci">#define LUA_RELEASE</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lua_8h_source.html#l00020">lua-5.1.5/src/lua.h:20</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lua-5_81_85_2src_2lparser_8c_source.html#l00881">block()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l00221">DUK_VERSION</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00020">LUA_RELEASE</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00021">LUA_VERSION_NUM</a>, <a class="el" href="civetweb_8c_source.html#l21430">mg_check_feature()</a>, <a class="el" href="civetweb_8h_source.html#l00091">MG_FEATURES_CACHE</a>, <a class="el" href="civetweb_8h_source.html#l00071">MG_FEATURES_CGI</a>, <a class="el" href="civetweb_8h_source.html#l00061">MG_FEATURES_FILES</a>, <a class="el" href="civetweb_8h_source.html#l00075">MG_FEATURES_IPV6</a>, <a class="el" href="civetweb_8h_source.html#l00083">MG_FEATURES_LUA</a>, <a class="el" href="civetweb_8h_source.html#l00087">MG_FEATURES_SSJS</a>, <a class="el" href="civetweb_8h_source.html#l00067">MG_FEATURES_SSL</a>, <a class="el" href="civetweb_8h_source.html#l00095">MG_FEATURES_STATS</a>, <a class="el" href="civetweb_8h_source.html#l00079">MG_FEATURES_WEBSOCKET</a>, <a class="el" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf()</a>, <a class="el" href="civetweb_8c_source.html#l21493">mg_str_append()</a>, <a class="el" href="civetweb_8c_source.html#l03514">mg_version()</a>, <a class="el" href="lsqlite3_8c_source.html#l02154">name</a>, and <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="vendor_2civetweb_2main_8c_source.html#l00825">init_system_info()</a>.</p>

</div>
</div>
<a id="a1563cc12250b9d00836709ac8bbe804b" name="a1563cc12250b9d00836709ac8bbe804b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1563cc12250b9d00836709ac8bbe804b">&#9670;&#160;</a></span>mg_get_thread_pointer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void * mg_get_thread_pointer </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l03209">3209</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3210</span>{</div>
<div class="line"><span class="lineno"> 3211</span>    <span class="comment">/* both methods should return the same pointer */</span></div>
<div class="line"><span class="lineno"> 3212</span>    <span class="keywordflow">if</span> (conn) {</div>
<div class="line"><span class="lineno"> 3213</span>        <span class="comment">/* quick access, in case conn is known */</span></div>
<div class="line"><span class="lineno"> 3214</span>        <span class="keywordflow">return</span> conn-&gt;<a class="code hl_variable" href="structmg__connection.html#aac018bc9711d0644676f33e396027000">tls_user_ptr</a>;</div>
<div class="line"><span class="lineno"> 3215</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3216</span>        <span class="comment">/* otherwise get pointer from thread local storage (TLS) */</span></div>
<div class="line"><span class="lineno"> 3217</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structmg__workerTLS.html">mg_workerTLS</a> *tls =</div>
<div class="line"><span class="lineno"> 3218</span>            (<span class="keyword">struct </span><a class="code hl_struct" href="structmg__workerTLS.html">mg_workerTLS</a> *)pthread_getspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>);</div>
<div class="line"><span class="lineno"> 3219</span>        <span class="keywordflow">return</span> tls-&gt;<a class="code hl_variable" href="structmg__workerTLS.html#a1d9e297c87be3d5eebf4d653a3816a46">user_ptr</a>;</div>
<div class="line"><span class="lineno"> 3220</span>    }</div>
<div class="line"><span class="lineno"> 3221</span>}</div>
<div class="ttc" id="astructmg__connection_html_aac018bc9711d0644676f33e396027000"><div class="ttname"><a href="structmg__connection.html#aac018bc9711d0644676f33e396027000">mg_connection::tls_user_ptr</a></div><div class="ttdeci">void * tls_user_ptr</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02571">civetweb.c:2571</a></div></div>
<div class="ttc" id="astructmg__workerTLS_html_a1d9e297c87be3d5eebf4d653a3816a46"><div class="ttname"><a href="structmg__workerTLS.html#a1d9e297c87be3d5eebf4d653a3816a46">mg_workerTLS::user_ptr</a></div><div class="ttdeci">void * user_ptr</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01590">civetweb.c:1590</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l01580">sTlsKey</a>, <a class="el" href="civetweb_8c_source.html#l02571">mg_connection::tls_user_ptr</a>, and <a class="el" href="civetweb_8c_source.html#l01590">mg_workerTLS::user_ptr</a>.</p>

</div>
</div>
<a id="a97448fad91e328252f159bbbdeaed589" name="a97448fad91e328252f159bbbdeaed589"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97448fad91e328252f159bbbdeaed589">&#9670;&#160;</a></span>mg_get_user_connection_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void * mg_get_user_connection_data </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l03238">3238</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3239</span>{</div>
<div class="line"><span class="lineno"> 3240</span>    <span class="keywordflow">if</span> (conn != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno"> 3241</span>        <span class="keywordflow">return</span> conn-&gt;<a class="code hl_variable" href="structmg__connection.html#ab2c448b0d885bca25578872ca4362c89">request_info</a>.<a class="code hl_variable" href="structmg__request__info.html#aad3d4e3de727f7424ff7526ed085716e">conn_data</a>;</div>
<div class="line"><span class="lineno"> 3242</span>    }</div>
<div class="line"><span class="lineno"> 3243</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3244</span>}</div>
<div class="ttc" id="astructmg__request__info_html_aad3d4e3de727f7424ff7526ed085716e"><div class="ttname"><a href="structmg__request__info.html#aad3d4e3de727f7424ff7526ed085716e">mg_request_info::conn_data</a></div><div class="ttdeci">void * conn_data</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00176">civetweb.h:176</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8h_source.html#l00176">mg_request_info::conn_data</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, and <a class="el" href="civetweb_8c_source.html#l02494">mg_connection::request_info</a>.</p>

</div>
</div>
<a id="ae08477dcd7ad0ea27a6a35becf732e50" name="ae08477dcd7ad0ea27a6a35becf732e50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae08477dcd7ad0ea27a6a35becf732e50">&#9670;&#160;</a></span>mg_get_user_context_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void * mg_get_user_context_data </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l03202">3202</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3203</span>{</div>
<div class="line"><span class="lineno"> 3204</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="civetweb_8c.html#a17a41b88e5484900a2d01cad3c8fec20">mg_get_user_data</a>(<a class="code hl_function" href="civetweb_8c.html#a7377f2af53b0a3e0a154a2c186f2f2d4">mg_get_context</a>(conn));</div>
<div class="line"><span class="lineno"> 3205</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a17a41b88e5484900a2d01cad3c8fec20"><div class="ttname"><a href="civetweb_8c.html#a17a41b88e5484900a2d01cad3c8fec20">mg_get_user_data</a></div><div class="ttdeci">CIVETWEB_API void * mg_get_user_data(const struct mg_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l03195">civetweb.c:3195</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a7377f2af53b0a3e0a154a2c186f2f2d4"><div class="ttname"><a href="civetweb_8c.html#a7377f2af53b0a3e0a154a2c186f2f2d4">mg_get_context</a></div><div class="ttdeci">CIVETWEB_API struct mg_context * mg_get_context(const struct mg_connection *conn)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l03188">civetweb.c:3188</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l03188">mg_get_context()</a>, and <a class="el" href="civetweb_8c_source.html#l03195">mg_get_user_data()</a>.</p>

</div>
</div>
<a id="a17a41b88e5484900a2d01cad3c8fec20" name="a17a41b88e5484900a2d01cad3c8fec20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17a41b88e5484900a2d01cad3c8fec20">&#9670;&#160;</a></span>mg_get_user_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void * mg_get_user_data </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmg__context.html">mg_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l03195">3195</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3196</span>{</div>
<div class="line"><span class="lineno"> 3197</span>    <span class="keywordflow">return</span> (ctx == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ? <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> : ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a73a26dd1c9abead88b40b2d226ad9f28">user_data</a>;</div>
<div class="line"><span class="lineno"> 3198</span>}</div>
<div class="ttc" id="astructmg__context_html_a73a26dd1c9abead88b40b2d226ad9f28"><div class="ttname"><a href="structmg__context.html#a73a26dd1c9abead88b40b2d226ad9f28">mg_context::user_data</a></div><div class="ttdeci">void * user_data</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02433">civetweb.c:2433</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, and <a class="el" href="civetweb_8c_source.html#l02433">mg_context::user_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l03202">mg_get_user_context_data()</a>.</p>

</div>
</div>
<a id="a86730990d410cecb18a1dbeee4ccd657" name="a86730990d410cecb18a1dbeee4ccd657"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86730990d410cecb18a1dbeee4ccd657">&#9670;&#160;</a></span>mg_get_valid_options()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> const struct <a class="el" href="structmg__option.html">mg_option</a> * mg_get_valid_options </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l02833">2833</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2834</span>{</div>
<div class="line"><span class="lineno"> 2835</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="civetweb_8c.html#a414393f1a7ad731456acc279c62290d0">config_options</a>;</div>
<div class="line"><span class="lineno"> 2836</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a414393f1a7ad731456acc279c62290d0"><div class="ttname"><a href="civetweb_8c.html#a414393f1a7ad731456acc279c62290d0">config_options</a></div><div class="ttdeci">static const struct mg_option config_options[]</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02062">civetweb.c:2062</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l02062">config_options</a>.</p>

<p class="reference">Referenced by <a class="el" href="vendor_2civetweb_2main_8c_source.html#l00495">set_option()</a>, and <a class="el" href="vendor_2civetweb_2main_8c_source.html#l00319">show_usage_and_exit()</a>.</p>

</div>
</div>
<a id="acd798183352c103a4096bd86b0aed7b9" name="acd798183352c103a4096bd86b0aed7b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd798183352c103a4096bd86b0aed7b9">&#9670;&#160;</a></span>mg_get_var()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_get_var </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>data_len</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>var_name</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>dst</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>dst_len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l07088">7088</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7093</span>{</div>
<div class="line"><span class="lineno"> 7094</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="civetweb_8c.html#a3d66a21c6795562fbd1412d9c9557306">mg_get_var2</a>(data, data_len, <a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, dst, dst_len, 0);</div>
<div class="line"><span class="lineno"> 7095</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a3d66a21c6795562fbd1412d9c9557306"><div class="ttname"><a href="civetweb_8c.html#a3d66a21c6795562fbd1412d9c9557306">mg_get_var2</a></div><div class="ttdeci">CIVETWEB_API int mg_get_var2(const char *data, size_t data_len, const char *name, char *dst, size_t dst_len, size_t occurrence)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l07099">civetweb.c:7099</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l07099">mg_get_var2()</a>, and <a class="el" href="lsqlite3_8c_source.html#l02154">name</a>.</p>

</div>
</div>
<a id="a7eea4a7006dc9f35980d696aad722539" name="a7eea4a7006dc9f35980d696aad722539"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7eea4a7006dc9f35980d696aad722539">&#9670;&#160;</a></span>mg_get_var2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_get_var2 </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>data_len</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>var_name</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>dst</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>dst_len</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>occurrence</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l07099">7099</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7105</span>{</div>
<div class="line"><span class="lineno"> 7106</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *p, *e, *<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>;</div>
<div class="line"><span class="lineno"> 7107</span>    <span class="keywordtype">size_t</span> name_len;</div>
<div class="line"><span class="lineno"> 7108</span>    <span class="keywordtype">int</span> len;</div>
<div class="line"><span class="lineno"> 7109</span> </div>
<div class="line"><span class="lineno"> 7110</span>    <span class="keywordflow">if</span> ((dst == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (dst_len == 0)) {</div>
<div class="line"><span class="lineno"> 7111</span>        len = -2;</div>
<div class="line"><span class="lineno"> 7112</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((data == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (<a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (data_len == 0)) {</div>
<div class="line"><span class="lineno"> 7113</span>        len = -1;</div>
<div class="line"><span class="lineno"> 7114</span>        dst[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 7115</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 7116</span>        name_len = strlen(<a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><span class="lineno"> 7117</span>        e = data + data_len;</div>
<div class="line"><span class="lineno"> 7118</span>        len = -1;</div>
<div class="line"><span class="lineno"> 7119</span>        dst[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 7120</span> </div>
<div class="line"><span class="lineno"> 7121</span>        <span class="comment">/* data is &quot;var1=val1&amp;var2=val2...&quot;. Find variable first */</span></div>
<div class="line"><span class="lineno"> 7122</span>        <span class="keywordflow">for</span> (p = data; p + name_len &lt; e; p++) {</div>
<div class="line"><span class="lineno"> 7123</span>            <span class="keywordflow">if</span> (((p == data) || (p[-1] == <span class="charliteral">&#39;&amp;&#39;</span>)) &amp;&amp; (p[name_len] == <span class="charliteral">&#39;=&#39;</span>)</div>
<div class="line"><span class="lineno"> 7124</span>                &amp;&amp; !<a class="code hl_function" href="civetweb_8c.html#a1e22e846cc0308d6521ed516918f380f">mg_strncasecmp</a>(<a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, p, name_len) &amp;&amp; 0 == occurrence--) {</div>
<div class="line"><span class="lineno"> 7125</span>                <span class="comment">/* Point p to variable value */</span></div>
<div class="line"><span class="lineno"> 7126</span>                p += name_len + 1;</div>
<div class="line"><span class="lineno"> 7127</span> </div>
<div class="line"><span class="lineno"> 7128</span>                <span class="comment">/* Point s to the end of the value */</span></div>
<div class="line"><span class="lineno"> 7129</span>                <a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a> = (<span class="keyword">const</span> <span class="keywordtype">char</span> *)memchr(p, <span class="charliteral">&#39;&amp;&#39;</span>, (<span class="keywordtype">size_t</span>)(e - p));</div>
<div class="line"><span class="lineno"> 7130</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a> == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno"> 7131</span>                    <a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a> = e;</div>
<div class="line"><span class="lineno"> 7132</span>                }</div>
<div class="line"><span class="lineno"> 7133</span>                <a class="code hl_define" href="civetweb_8c.html#a5687826f07a383abedc6329b6a07f40b">DEBUG_ASSERT</a>(<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a> &gt;= p);</div>
<div class="line"><span class="lineno"> 7134</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a> &lt; p) {</div>
<div class="line"><span class="lineno"> 7135</span>                    <span class="keywordflow">return</span> -3;</div>
<div class="line"><span class="lineno"> 7136</span>                }</div>
<div class="line"><span class="lineno"> 7137</span> </div>
<div class="line"><span class="lineno"> 7138</span>                <span class="comment">/* Decode variable into destination buffer */</span></div>
<div class="line"><span class="lineno"> 7139</span>                len = <a class="code hl_function" href="civetweb_8c.html#a3bdfbeb661f200bdbe2e19e6258bb937">mg_url_decode</a>(p, (<span class="keywordtype">int</span>)(<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a> - p), dst, (<span class="keywordtype">int</span>)dst_len, 1);</div>
<div class="line"><span class="lineno"> 7140</span> </div>
<div class="line"><span class="lineno"> 7141</span>                <span class="comment">/* Redirect error code from -1 to -2 (destination buffer too</span></div>
<div class="line"><span class="lineno"> 7142</span><span class="comment">                 * small). */</span></div>
<div class="line"><span class="lineno"> 7143</span>                <span class="keywordflow">if</span> (len == -1) {</div>
<div class="line"><span class="lineno"> 7144</span>                    len = -2;</div>
<div class="line"><span class="lineno"> 7145</span>                }</div>
<div class="line"><span class="lineno"> 7146</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7147</span>            }</div>
<div class="line"><span class="lineno"> 7148</span>        }</div>
<div class="line"><span class="lineno"> 7149</span>    }</div>
<div class="line"><span class="lineno"> 7150</span> </div>
<div class="line"><span class="lineno"> 7151</span>    <span class="keywordflow">return</span> len;</div>
<div class="line"><span class="lineno"> 7152</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a1e22e846cc0308d6521ed516918f380f"><div class="ttname"><a href="civetweb_8c.html#a1e22e846cc0308d6521ed516918f380f">mg_strncasecmp</a></div><div class="ttdeci">CIVETWEB_API int mg_strncasecmp(const char *s1, const char *s2, size_t len)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l03019">civetweb.c:3019</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a3bdfbeb661f200bdbe2e19e6258bb937"><div class="ttname"><a href="civetweb_8c.html#a3bdfbeb661f200bdbe2e19e6258bb937">mg_url_decode</a></div><div class="ttdeci">CIVETWEB_API int mg_url_decode(const char *src, int src_len, char *dst, int dst_len, int is_form_url_encoded)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l07048">civetweb.c:7048</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a5687826f07a383abedc6329b6a07f40b"><div class="ttname"><a href="civetweb_8c.html#a5687826f07a383abedc6329b6a07f40b">DEBUG_ASSERT</a></div><div class="ttdeci">#define DEBUG_ASSERT(cond)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l00260">civetweb.c:260</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l00260">DEBUG_ASSERT</a>, <a class="el" href="civetweb_8c_source.html#l03019">mg_strncasecmp()</a>, <a class="el" href="civetweb_8c_source.html#l07048">mg_url_decode()</a>, <a class="el" href="lsqlite3_8c_source.html#l02154">name</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, and <a class="el" href="multi_8h_source.html#l00318">s</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l07088">mg_get_var()</a>.</p>

</div>
</div>
<a id="a63698531881e9cdd7a046cb44f32d2a8" name="a63698531881e9cdd7a046cb44f32d2a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63698531881e9cdd7a046cb44f32d2a8">&#9670;&#160;</a></span>mg_handle_form_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_handle_form_request </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmg__form__data__handler.html">mg_form_data_handler</a> *</td>          <td class="paramname"><span class="paramname"><em>fdh</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac6e9ad2a3e4f0beb2a938f52c3df50a9" name="ac6e9ad2a3e4f0beb2a938f52c3df50a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6e9ad2a3e4f0beb2a938f52c3df50a9">&#9670;&#160;</a></span>mg_init_library()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> unsigned mg_init_library </td>
          <td>(</td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>features</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l22347">22347</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">22348</span>{</div>
<div class="line"><span class="lineno">22349</span>    <span class="keywordtype">unsigned</span> features_to_init = <a class="code hl_function" href="civetweb_8c.html#ad6e4a71c131991d1bf9dac0c74b7e8b2">mg_check_feature</a>(features &amp; 0xFFu);</div>
<div class="line"><span class="lineno">22350</span>    <span class="keywordtype">unsigned</span> features_inited = features_to_init;</div>
<div class="line"><span class="lineno">22351</span> </div>
<div class="line"><span class="lineno">22352</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="civetweb_8c.html#a553c3bf49335ca7c4ef0af9293ff30cb">mg_init_library_called</a> &lt;= 0) {</div>
<div class="line"><span class="lineno">22353</span>        <span class="comment">/* Not initialized yet */</span></div>
<div class="line"><span class="lineno">22354</span>        <span class="keywordflow">if</span> (0 != pthread_mutex_init(&amp;<a class="code hl_variable" href="civetweb_8c.html#a52fa011c62bacc213572e7464ca702dd">global_lock_mutex</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><span class="lineno">22355</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">22356</span>        }</div>
<div class="line"><span class="lineno">22357</span>    }</div>
<div class="line"><span class="lineno">22358</span> </div>
<div class="line"><span class="lineno">22359</span>    <a class="code hl_function" href="civetweb_8c.html#af9c2267422f7bd2de7c610a4e0eb8fb0">mg_global_lock</a>();</div>
<div class="line"><span class="lineno">22360</span> </div>
<div class="line"><span class="lineno">22361</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="civetweb_8c.html#a553c3bf49335ca7c4ef0af9293ff30cb">mg_init_library_called</a> &lt;= 0) {</div>
<div class="line"><span class="lineno">22362</span>        <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">22363</span>        <span class="keywordtype">size_t</span> len;</div>
<div class="line"><span class="lineno">22364</span> </div>
<div class="line"><span class="lineno">22365</span><span class="preprocessor">#if defined(_WIN32)</span></div>
<div class="line"><span class="lineno">22366</span>        <span class="keywordtype">int</span> file_mutex_init = 1;</div>
<div class="line"><span class="lineno">22367</span>        <span class="keywordtype">int</span> wsa = 1;</div>
<div class="line"><span class="lineno">22368</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">22369</span>        <span class="keywordtype">int</span> mutexattr_init = 1;</div>
<div class="line"><span class="lineno">22370</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">22371</span>        <span class="keywordtype">int</span> failed = 1;</div>
<div class="line"><span class="lineno">22372</span>        <span class="keywordtype">int</span> key_create = pthread_key_create(&amp;<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_function" href="civetweb_8c.html#a1b3061c039f873bc927e2947b4e46bae">tls_dtor</a>);</div>
<div class="line"><span class="lineno">22373</span> </div>
<div class="line"><span class="lineno">22374</span>        <span class="keywordflow">if</span> (key_create == 0) {</div>
<div class="line"><span class="lineno">22375</span><span class="preprocessor">#if defined(_WIN32)</span></div>
<div class="line"><span class="lineno">22376</span>            file_mutex_init =</div>
<div class="line"><span class="lineno">22377</span>                pthread_mutex_init(&amp;global_log_file_lock, &amp;<a class="code hl_variable" href="civetweb_8c.html#a5fea1ce44dd3b119b5edd85d330d8143">pthread_mutex_attr</a>);</div>
<div class="line"><span class="lineno">22378</span>            <span class="keywordflow">if</span> (file_mutex_init == 0) {</div>
<div class="line"><span class="lineno">22379</span>                <span class="comment">/* Start WinSock */</span></div>
<div class="line"><span class="lineno">22380</span>                WSADATA data;</div>
<div class="line"><span class="lineno">22381</span>                failed = wsa = WSAStartup(MAKEWORD(2, 2), &amp;data);</div>
<div class="line"><span class="lineno">22382</span>            }</div>
<div class="line"><span class="lineno">22383</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">22384</span>            mutexattr_init = pthread_mutexattr_init(&amp;<a class="code hl_variable" href="civetweb_8c.html#a5fea1ce44dd3b119b5edd85d330d8143">pthread_mutex_attr</a>);</div>
<div class="line"><span class="lineno">22385</span>            <span class="keywordflow">if</span> (mutexattr_init == 0) {</div>
<div class="line"><span class="lineno">22386</span>                failed = pthread_mutexattr_settype(&amp;<a class="code hl_variable" href="civetweb_8c.html#a5fea1ce44dd3b119b5edd85d330d8143">pthread_mutex_attr</a>,</div>
<div class="line"><span class="lineno">22387</span>                                                   PTHREAD_MUTEX_RECURSIVE);</div>
<div class="line"><span class="lineno">22388</span>            }</div>
<div class="line"><span class="lineno">22389</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">22390</span>        }</div>
<div class="line"><span class="lineno">22391</span> </div>
<div class="line"><span class="lineno">22392</span>        <span class="keywordflow">if</span> (failed) {</div>
<div class="line"><span class="lineno">22393</span><span class="preprocessor">#if defined(_WIN32)</span></div>
<div class="line"><span class="lineno">22394</span>            <span class="keywordflow">if</span> (wsa == 0) {</div>
<div class="line"><span class="lineno">22395</span>                (void)WSACleanup();</div>
<div class="line"><span class="lineno">22396</span>            }</div>
<div class="line"><span class="lineno">22397</span>            <span class="keywordflow">if</span> (file_mutex_init == 0) {</div>
<div class="line"><span class="lineno">22398</span>                (void)pthread_mutex_destroy(&amp;global_log_file_lock);</div>
<div class="line"><span class="lineno">22399</span>            }</div>
<div class="line"><span class="lineno">22400</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">22401</span>            <span class="keywordflow">if</span> (mutexattr_init == 0) {</div>
<div class="line"><span class="lineno">22402</span>                (void)pthread_mutexattr_destroy(&amp;<a class="code hl_variable" href="civetweb_8c.html#a5fea1ce44dd3b119b5edd85d330d8143">pthread_mutex_attr</a>);</div>
<div class="line"><span class="lineno">22403</span>            }</div>
<div class="line"><span class="lineno">22404</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">22405</span>            <span class="keywordflow">if</span> (key_create == 0) {</div>
<div class="line"><span class="lineno">22406</span>                (void)pthread_key_delete(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>);</div>
<div class="line"><span class="lineno">22407</span>            }</div>
<div class="line"><span class="lineno">22408</span>            <a class="code hl_function" href="civetweb_8c.html#af8b5fc3bd1b6de9fe6137e7daea140ac">mg_global_unlock</a>();</div>
<div class="line"><span class="lineno">22409</span>            (void)pthread_mutex_destroy(&amp;<a class="code hl_variable" href="civetweb_8c.html#a52fa011c62bacc213572e7464ca702dd">global_lock_mutex</a>);</div>
<div class="line"><span class="lineno">22410</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">22411</span>        }</div>
<div class="line"><span class="lineno">22412</span> </div>
<div class="line"><span class="lineno">22413</span>        len = 1;</div>
<div class="line"><span class="lineno">22414</span>        <span class="keywordflow">for</span> (i = 0; <a class="code hl_variable" href="civetweb_8c.html#a7b17944603d3fb09046b30ffef0cbfc6">http_methods</a>[i].<a class="code hl_variable" href="structmg__http__method__info.html#afb93afda546e6a8fc26e135c7b1a15f6">name</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; i++) {</div>
<div class="line"><span class="lineno">22415</span>            <span class="keywordtype">size_t</span> sl = strlen(<a class="code hl_variable" href="civetweb_8c.html#a7b17944603d3fb09046b30ffef0cbfc6">http_methods</a>[i].<a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><span class="lineno">22416</span>            len += sl;</div>
<div class="line"><span class="lineno">22417</span>            <span class="keywordflow">if</span> (i &gt; 0) {</div>
<div class="line"><span class="lineno">22418</span>                len += 2;</div>
<div class="line"><span class="lineno">22419</span>            }</div>
<div class="line"><span class="lineno">22420</span>        }</div>
<div class="line"><span class="lineno">22421</span>        <a class="code hl_variable" href="civetweb_8c.html#a8c57fa7eeaaed403927368aa20e4efd5">all_methods</a> = (<span class="keywordtype">char</span> *)<a class="code hl_function" href="civetweb_8c.html#a31c4ed6838b7bb49804a5ffa030762e5">mg_malloc</a>(len);</div>
<div class="line"><span class="lineno">22422</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="civetweb_8c.html#a8c57fa7eeaaed403927368aa20e4efd5">all_methods</a>) {</div>
<div class="line"><span class="lineno">22423</span>            <span class="comment">/* Must never happen */</span></div>
<div class="line"><span class="lineno">22424</span>            <a class="code hl_function" href="civetweb_8c.html#af8b5fc3bd1b6de9fe6137e7daea140ac">mg_global_unlock</a>();</div>
<div class="line"><span class="lineno">22425</span>            (void)pthread_mutex_destroy(&amp;<a class="code hl_variable" href="civetweb_8c.html#a52fa011c62bacc213572e7464ca702dd">global_lock_mutex</a>);</div>
<div class="line"><span class="lineno">22426</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">22427</span>        }</div>
<div class="line"><span class="lineno">22428</span>        <a class="code hl_variable" href="civetweb_8c.html#a8c57fa7eeaaed403927368aa20e4efd5">all_methods</a>[0] = 0;</div>
<div class="line"><span class="lineno">22429</span>        <span class="keywordflow">for</span> (i = 0; <a class="code hl_variable" href="civetweb_8c.html#a7b17944603d3fb09046b30ffef0cbfc6">http_methods</a>[i].<a class="code hl_variable" href="structmg__http__method__info.html#afb93afda546e6a8fc26e135c7b1a15f6">name</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; i++) {</div>
<div class="line"><span class="lineno">22430</span>            <span class="keywordflow">if</span> (i &gt; 0) {</div>
<div class="line"><span class="lineno">22431</span>                strcat(<a class="code hl_variable" href="civetweb_8c.html#a8c57fa7eeaaed403927368aa20e4efd5">all_methods</a>, <span class="stringliteral">&quot;, &quot;</span>);</div>
<div class="line"><span class="lineno">22432</span>                strcat(<a class="code hl_variable" href="civetweb_8c.html#a8c57fa7eeaaed403927368aa20e4efd5">all_methods</a>, <a class="code hl_variable" href="civetweb_8c.html#a7b17944603d3fb09046b30ffef0cbfc6">http_methods</a>[i].<a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><span class="lineno">22433</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">22434</span>                strcpy(<a class="code hl_variable" href="civetweb_8c.html#a8c57fa7eeaaed403927368aa20e4efd5">all_methods</a>, <a class="code hl_variable" href="civetweb_8c.html#a7b17944603d3fb09046b30ffef0cbfc6">http_methods</a>[i].<a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><span class="lineno">22435</span>            }</div>
<div class="line"><span class="lineno">22436</span>        }</div>
<div class="line"><span class="lineno">22437</span>    }</div>
<div class="line"><span class="lineno">22438</span> </div>
<div class="line"><span class="lineno">22439</span><span class="preprocessor">#if defined(USE_LUA)</span></div>
<div class="line"><span class="lineno">22440</span>    lua_init_optional_libraries();</div>
<div class="line"><span class="lineno">22441</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">22442</span> </div>
<div class="line"><span class="lineno">22443</span><span class="preprocessor">#if (defined(OPENSSL_API_1_0) || defined(OPENSSL_API_1_1)                      \</span></div>
<div class="line"><span class="lineno">22444</span><span class="preprocessor">     || defined(OPENSSL_API_3_0))                                              \</span></div>
<div class="line"><span class="lineno">22445</span><span class="preprocessor">    &amp;&amp; !defined(NO_SSL)</span></div>
<div class="line"><span class="lineno">22446</span> </div>
<div class="line"><span class="lineno">22447</span>    <span class="keywordflow">if</span> (features_to_init &amp; <a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2daba4b4d11dd0dec1ba0833f0bb1de2b0e">MG_FEATURES_SSL</a>) {</div>
<div class="line"><span class="lineno">22448</span>        <span class="keywordflow">if</span> (!mg_openssl_initialized) {</div>
<div class="line"><span class="lineno">22449</span>            <span class="keywordtype">char</span> ebuf[128];</div>
<div class="line"><span class="lineno">22450</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="civetweb_8c.html#af5e3c74304e46cc4c4774c35bf248d99">initialize_openssl</a>(ebuf, <span class="keyword">sizeof</span>(ebuf))) {</div>
<div class="line"><span class="lineno">22451</span>                mg_openssl_initialized = 1;</div>
<div class="line"><span class="lineno">22452</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">22453</span>                (void)ebuf;</div>
<div class="line"><span class="lineno">22454</span>                <a class="code hl_define" href="civetweb_8c.html#a98f6ecefbf7613a2478356d30af16020">DEBUG_TRACE</a>(<span class="stringliteral">&quot;Initializing SSL failed: %s&quot;</span>, ebuf);</div>
<div class="line"><span class="lineno">22455</span>                features_inited &amp;= ~((unsigned)(<a class="code hl_enumvalue" href="#a0411cd49bb5b71852cecd93bcbf0ca2daba4b4d11dd0dec1ba0833f0bb1de2b0e">MG_FEATURES_SSL</a>));</div>
<div class="line"><span class="lineno">22456</span>            }</div>
<div class="line"><span class="lineno">22457</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">22458</span>            <span class="comment">/* ssl already initialized */</span></div>
<div class="line"><span class="lineno">22459</span>        }</div>
<div class="line"><span class="lineno">22460</span>    }</div>
<div class="line"><span class="lineno">22461</span> </div>
<div class="line"><span class="lineno">22462</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">22463</span> </div>
<div class="line"><span class="lineno">22464</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="civetweb_8c.html#a553c3bf49335ca7c4ef0af9293ff30cb">mg_init_library_called</a> &lt;= 0) {</div>
<div class="line"><span class="lineno">22465</span>        <a class="code hl_variable" href="civetweb_8c.html#a553c3bf49335ca7c4ef0af9293ff30cb">mg_init_library_called</a> = 1;</div>
<div class="line"><span class="lineno">22466</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">22467</span>        <a class="code hl_variable" href="civetweb_8c.html#a553c3bf49335ca7c4ef0af9293ff30cb">mg_init_library_called</a>++;</div>
<div class="line"><span class="lineno">22468</span>    }</div>
<div class="line"><span class="lineno">22469</span>    <a class="code hl_function" href="civetweb_8c.html#af8b5fc3bd1b6de9fe6137e7daea140ac">mg_global_unlock</a>();</div>
<div class="line"><span class="lineno">22470</span> </div>
<div class="line"><span class="lineno">22471</span>    <span class="keywordflow">return</span> features_inited;</div>
<div class="line"><span class="lineno">22472</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a1b3061c039f873bc927e2947b4e46bae"><div class="ttname"><a href="civetweb_8c.html#a1b3061c039f873bc927e2947b4e46bae">tls_dtor</a></div><div class="ttdeci">static void tls_dtor(void *key)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l16321">civetweb.c:16321</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a31c4ed6838b7bb49804a5ffa030762e5"><div class="ttname"><a href="civetweb_8c.html#a31c4ed6838b7bb49804a5ffa030762e5">mg_malloc</a></div><div class="ttdeci">static __inline void * mg_malloc(size_t a)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01474">civetweb.c:1474</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a7b17944603d3fb09046b30ffef0cbfc6"><div class="ttname"><a href="civetweb_8c.html#a7b17944603d3fb09046b30ffef0cbfc6">http_methods</a></div><div class="ttdeci">static const struct mg_http_method_info http_methods[]</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l10813">civetweb.c:10813</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a98f6ecefbf7613a2478356d30af16020"><div class="ttname"><a href="civetweb_8c.html#a98f6ecefbf7613a2478356d30af16020">DEBUG_TRACE</a></div><div class="ttdeci">#define DEBUG_TRACE(fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l00242">civetweb.c:242</a></div></div>
<div class="ttc" id="acivetweb_8c_html_af5e3c74304e46cc4c4774c35bf248d99"><div class="ttname"><a href="civetweb_8c.html#af5e3c74304e46cc4c4774c35bf248d99">initialize_openssl</a></div><div class="ttdeci">static int initialize_openssl(char *ebuf, size_t ebuf_len)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l16821">civetweb.c:16821</a></div></div>
<div class="ttc" id="astructmg__http__method__info_html_afb93afda546e6a8fc26e135c7b1a15f6"><div class="ttname"><a href="structmg__http__method__info.html#afb93afda546e6a8fc26e135c7b1a15f6">mg_http_method_info::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l10803">civetweb.c:10803</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l10876">all_methods</a>, <a class="el" href="civetweb_8c_source.html#l00242">DEBUG_TRACE</a>, <a class="el" href="civetweb_8c_source.html#l01089">global_lock_mutex</a>, <a class="el" href="civetweb_8c_source.html#l10813">http_methods</a>, <a class="el" href="civetweb_8c_source.html#l16821">initialize_openssl()</a>, <a class="el" href="civetweb_8c_source.html#l21430">mg_check_feature()</a>, <a class="el" href="civetweb_8h_source.html#l00067">MG_FEATURES_SSL</a>, <a class="el" href="civetweb_8c_source.html#l01094">mg_global_lock()</a>, <a class="el" href="civetweb_8c_source.html#l01102">mg_global_unlock()</a>, <a class="el" href="civetweb_8c_source.html#l01552">mg_init_library_called</a>, <a class="el" href="civetweb_8c_source.html#l01474">mg_malloc()</a>, <a class="el" href="civetweb_8c_source.html#l10803">mg_http_method_info::name</a>, <a class="el" href="lsqlite3_8c_source.html#l02154">name</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, <a class="el" href="civetweb_8c_source.html#l01074">pthread_mutex_attr</a>, <a class="el" href="civetweb_8c_source.html#l01580">sTlsKey</a>, and <a class="el" href="civetweb_8c_source.html#l16321">tls_dtor()</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l20436">legacy_init()</a>, and <a class="el" href="vendor_2civetweb_2main_8c_source.html#l00995">run_client()</a>.</p>

</div>
</div>
<a id="a149a7777de4ad5702dfc3a50271e6fb9" name="a149a7777de4ad5702dfc3a50271e6fb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a149a7777de4ad5702dfc3a50271e6fb9">&#9670;&#160;</a></span>mg_lock_connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void mg_lock_connection </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l13000">13000</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">13001</span>{</div>
<div class="line"><span class="lineno">13002</span>    <span class="keywordflow">if</span> (conn) {</div>
<div class="line"><span class="lineno">13003</span>        (void)pthread_mutex_lock(&amp;conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a641ac188409fd64c07e486b265d58a03">mutex</a>);</div>
<div class="line"><span class="lineno">13004</span>    }</div>
<div class="line"><span class="lineno">13005</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l02565">mg_connection::mutex</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l17864">close_connection()</a>.</p>

</div>
</div>
<a id="a0110b7fe742fb4ee2ab467151e4df7c2" name="a0110b7fe742fb4ee2ab467151e4df7c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0110b7fe742fb4ee2ab467151e4df7c2">&#9670;&#160;</a></span>mg_lock_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void mg_lock_context </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__context.html">mg_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l13018">13018</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">13019</span>{</div>
<div class="line"><span class="lineno">13020</span>    <span class="keywordflow">if</span> (ctx &amp;&amp; (ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a90a2997b56e1c373156481a79c4e5d52">context_type</a> == <a class="code hl_enumvalue" href="civetweb_8c.html#a99fb83031ce9923c84392b4e92f956b5a6392e857a250daf7dd0a85461da6d099">CONTEXT_SERVER</a>)) {</div>
<div class="line"><span class="lineno">13021</span>        (void)pthread_mutex_lock(&amp;ctx-&gt;<a class="code hl_variable" href="structmg__context.html#afc4b8c1d52b30239820683d842e975fe">nonce_mutex</a>);</div>
<div class="line"><span class="lineno">13022</span>    }</div>
<div class="line"><span class="lineno">13023</span>}</div>
<div class="ttc" id="astructmg__context_html_afc4b8c1d52b30239820683d842e975fe"><div class="ttname"><a href="structmg__context.html#afc4b8c1d52b30239820683d842e975fe">mg_context::nonce_mutex</a></div><div class="ttdeci">pthread_mutex_t nonce_mutex</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02427">civetweb.c:2427</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l02263">CONTEXT_SERVER</a>, <a class="el" href="civetweb_8c_source.html#l02354">mg_context::context_type</a>, and <a class="el" href="civetweb_8c_source.html#l02427">mg_context::nonce_mutex</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l12802">dav_lock_file()</a>, <a class="el" href="civetweb_8c_source.html#l12931">dav_unlock_file()</a>, <a class="el" href="civetweb_8c_source.html#l14560">get_request_handler()</a>, <a class="el" href="civetweb_8c_source.html#l14280">mg_set_handler_type()</a>, <a class="el" href="civetweb_8c_source.html#l21220">mg_start_domain2()</a>, <a class="el" href="civetweb_8c_source.html#l16377">refresh_trust()</a>, <a class="el" href="civetweb_8c_source.html#l14687">release_handler_ref()</a>, <a class="el" href="civetweb_8c_source.html#l08974">send_authorization_request()</a>, <a class="el" href="civetweb_8c_source.html#l17066">ssl_servername_callback()</a>, <a class="el" href="civetweb_8c_source.html#l16455">sslize()</a>, and <a class="el" href="civetweb_8c_source.html#l14174">switch_domain_context()</a>.</p>

</div>
</div>
<a id="a9a1f27cd059fa56ead5cecaf7885582f" name="a9a1f27cd059fa56ead5cecaf7885582f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a1f27cd059fa56ead5cecaf7885582f">&#9670;&#160;</a></span>mg_md5()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> char * mg_md5 </td>
          <td>(</td>
          <td class="paramtype">char</td>          <td class="paramname"><span class="paramname"><em>buf</em>[33], </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l08404">8404</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 8405</span>{</div>
<div class="line"><span class="lineno"> 8406</span>    md5_byte_t hash[16];</div>
<div class="line"><span class="lineno"> 8407</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *p;</div>
<div class="line"><span class="lineno"> 8408</span>    va_list ap;</div>
<div class="line"><span class="lineno"> 8409</span>    md5_state_t ctx;</div>
<div class="line"><span class="lineno"> 8410</span> </div>
<div class="line"><span class="lineno"> 8411</span>    md5_init(&amp;ctx);</div>
<div class="line"><span class="lineno"> 8412</span> </div>
<div class="line"><span class="lineno"> 8413</span>    va_start(ap, buf);</div>
<div class="line"><span class="lineno"> 8414</span>    <span class="keywordflow">while</span> ((p = va_arg(ap, <span class="keyword">const</span> <span class="keywordtype">char</span> *)) != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno"> 8415</span>        md5_append(&amp;ctx, (<span class="keyword">const</span> md5_byte_t *)p, strlen(p));</div>
<div class="line"><span class="lineno"> 8416</span>    }</div>
<div class="line"><span class="lineno"> 8417</span>    va_end(ap);</div>
<div class="line"><span class="lineno"> 8418</span> </div>
<div class="line"><span class="lineno"> 8419</span>    md5_finish(&amp;ctx, hash);</div>
<div class="line"><span class="lineno"> 8420</span>    <a class="code hl_function" href="civetweb_8c.html#a8694301743d1c8f3bc37f058a1e0de2a">bin2str</a>(buf, hash, <span class="keyword">sizeof</span>(hash));</div>
<div class="line"><span class="lineno"> 8421</span>    <span class="keywordflow">return</span> buf;</div>
<div class="line"><span class="lineno"> 8422</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a8694301743d1c8f3bc37f058a1e0de2a"><div class="ttname"><a href="civetweb_8c.html#a8694301743d1c8f3bc37f058a1e0de2a">bin2str</a></div><div class="ttdeci">static void bin2str(char *to, const unsigned char *p, size_t len)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l08389">civetweb.c:8389</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l08389">bin2str()</a>, and <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l08427">check_password_digest()</a>, <a class="el" href="civetweb_8c_source.html#l12802">dav_lock_file()</a>, <a class="el" href="civetweb_8c_source.html#l09220">mg_modify_passwords_file()</a>, and <a class="el" href="civetweb_8c_source.html#l08733">read_auth_file()</a>.</p>

</div>
</div>
<a id="a169b5f537b5fa9d52d549ec1e57e81d4" name="a169b5f537b5fa9d52d549ec1e57e81d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a169b5f537b5fa9d52d549ec1e57e81d4">&#9670;&#160;</a></span>mg_modify_passwords_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_modify_passwords_file </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>passwords_file_name</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>realm</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>user</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>password</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l09220">9220</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 9224</span>{</div>
<div class="line"><span class="lineno"> 9225</span>    <span class="keywordtype">char</span> ha1buf[33];</div>
<div class="line"><span class="lineno"> 9226</span>    <span class="keywordflow">if</span> ((fname == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (domain == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (user == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><span class="lineno"> 9227</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 9228</span>    }</div>
<div class="line"><span class="lineno"> 9229</span>    <span class="keywordflow">if</span> ((pass == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (pass[0] == 0)) {</div>
<div class="line"><span class="lineno"> 9230</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="civetweb_8c.html#aa9da2dc01380431f8028fee47b939bcd">mg_modify_passwords_file_ha1</a>(fname, domain, user, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 9231</span>    }</div>
<div class="line"><span class="lineno"> 9232</span> </div>
<div class="line"><span class="lineno"> 9233</span>    <a class="code hl_function" href="civetweb_8c.html#a9a1f27cd059fa56ead5cecaf7885582f">mg_md5</a>(ha1buf, user, <span class="stringliteral">&quot;:&quot;</span>, domain, <span class="stringliteral">&quot;:&quot;</span>, pass, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 9234</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="civetweb_8c.html#aa9da2dc01380431f8028fee47b939bcd">mg_modify_passwords_file_ha1</a>(fname, domain, user, ha1buf);</div>
<div class="line"><span class="lineno"> 9235</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a9a1f27cd059fa56ead5cecaf7885582f"><div class="ttname"><a href="civetweb_8c.html#a9a1f27cd059fa56ead5cecaf7885582f">mg_md5</a></div><div class="ttdeci">CIVETWEB_API char * mg_md5(char buf[33],...)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l08404">civetweb.c:8404</a></div></div>
<div class="ttc" id="acivetweb_8c_html_aa9da2dc01380431f8028fee47b939bcd"><div class="ttname"><a href="civetweb_8c.html#aa9da2dc01380431f8028fee47b939bcd">mg_modify_passwords_file_ha1</a></div><div class="ttdeci">CIVETWEB_API int mg_modify_passwords_file_ha1(const char *fname, const char *domain, const char *user, const char *ha1)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l09057">civetweb.c:9057</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l08404">mg_md5()</a>, <a class="el" href="civetweb_8c_source.html#l09057">mg_modify_passwords_file_ha1()</a>, and <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="vendor_2civetweb_2main_8c_source.html#l01181">start_civetweb()</a>.</p>

</div>
</div>
<a id="ae38956af457b5fb269ce735b0bc387e8" name="ae38956af457b5fb269ce735b0bc387e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae38956af457b5fb269ce735b0bc387e8">&#9670;&#160;</a></span>mg_modify_passwords_file_ha1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_modify_passwords_file_ha1 </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>passwords_file_name</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>realm</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>user</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>ha1</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l09057">9057</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 9061</span>{</div>
<div class="line"><span class="lineno"> 9062</span>    <span class="keywordtype">int</span> found = 0, i, result = 1;</div>
<div class="line"><span class="lineno"> 9063</span>    <span class="keywordtype">char</span> line[512], u[256], d[256], h[256];</div>
<div class="line"><span class="lineno"> 9064</span>    <span class="keyword">struct </span>stat st = {0};</div>
<div class="line"><span class="lineno"> 9065</span>    FILE *fp = <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 9066</span>    <span class="keywordtype">char</span> *temp_file = <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 9067</span>    <span class="keywordtype">int</span> temp_file_offs = 0;</div>
<div class="line"><span class="lineno"> 9068</span> </div>
<div class="line"><span class="lineno"> 9069</span>    <span class="comment">/* Regard empty password as no password - remove user record. */</span></div>
<div class="line"><span class="lineno"> 9070</span>    <span class="keywordflow">if</span> ((ha1 != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (ha1[0] == <span class="charliteral">&#39;\0&#39;</span>)) {</div>
<div class="line"><span class="lineno"> 9071</span>        ha1 = <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 9072</span>    }</div>
<div class="line"><span class="lineno"> 9073</span> </div>
<div class="line"><span class="lineno"> 9074</span>    <span class="comment">/* Other arguments must not be empty */</span></div>
<div class="line"><span class="lineno"> 9075</span>    <span class="keywordflow">if</span> ((fname == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (domain == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (user == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><span class="lineno"> 9076</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 9077</span>    }</div>
<div class="line"><span class="lineno"> 9078</span> </div>
<div class="line"><span class="lineno"> 9079</span>    <span class="comment">/* Using the given file format, user name and domain must not contain</span></div>
<div class="line"><span class="lineno"> 9080</span><span class="comment">     * the &#39;:&#39; character */</span></div>
<div class="line"><span class="lineno"> 9081</span>    <span class="keywordflow">if</span> (strchr(user, <span class="charliteral">&#39;:&#39;</span>) != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno"> 9082</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 9083</span>    }</div>
<div class="line"><span class="lineno"> 9084</span>    <span class="keywordflow">if</span> (strchr(domain, <span class="charliteral">&#39;:&#39;</span>) != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno"> 9085</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 9086</span>    }</div>
<div class="line"><span class="lineno"> 9087</span> </div>
<div class="line"><span class="lineno"> 9088</span>    <span class="comment">/* Do not allow control characters like newline in user name and domain.</span></div>
<div class="line"><span class="lineno"> 9089</span><span class="comment">     * Do not allow excessively long names either. */</span></div>
<div class="line"><span class="lineno"> 9090</span>    <span class="keywordflow">for</span> (i = 0; ((i &lt; 255) &amp;&amp; (user[i] != 0)); i++) {</div>
<div class="line"><span class="lineno"> 9091</span>        <span class="keywordflow">if</span> (iscntrl((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)user[i])) {</div>
<div class="line"><span class="lineno"> 9092</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 9093</span>        }</div>
<div class="line"><span class="lineno"> 9094</span>    }</div>
<div class="line"><span class="lineno"> 9095</span>    <span class="keywordflow">if</span> (user[i]) {</div>
<div class="line"><span class="lineno"> 9096</span>        <span class="keywordflow">return</span> 0; <span class="comment">/* user name too long */</span></div>
<div class="line"><span class="lineno"> 9097</span>    }</div>
<div class="line"><span class="lineno"> 9098</span>    <span class="keywordflow">for</span> (i = 0; ((i &lt; 255) &amp;&amp; (domain[i] != 0)); i++) {</div>
<div class="line"><span class="lineno"> 9099</span>        <span class="keywordflow">if</span> (iscntrl((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)domain[i])) {</div>
<div class="line"><span class="lineno"> 9100</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 9101</span>        }</div>
<div class="line"><span class="lineno"> 9102</span>    }</div>
<div class="line"><span class="lineno"> 9103</span>    <span class="keywordflow">if</span> (domain[i]) {</div>
<div class="line"><span class="lineno"> 9104</span>        <span class="keywordflow">return</span> 0; <span class="comment">/* domain name too long */</span></div>
<div class="line"><span class="lineno"> 9105</span>    }</div>
<div class="line"><span class="lineno"> 9106</span> </div>
<div class="line"><span class="lineno"> 9107</span>    <span class="comment">/* The maximum length of the path to the password file is limited */</span></div>
<div class="line"><span class="lineno"> 9108</span>    <span class="keywordflow">if</span> (strlen(fname) &gt;= <a class="code hl_define" href="civetweb_8c.html#a7a78f968a579c967c2bb097b9e64749f">UTF8_PATH_MAX</a>) {</div>
<div class="line"><span class="lineno"> 9109</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 9110</span>    }</div>
<div class="line"><span class="lineno"> 9111</span> </div>
<div class="line"><span class="lineno"> 9112</span>    <span class="comment">/* Check if the file exists, and get file size */</span></div>
<div class="line"><span class="lineno"> 9113</span>    <span class="keywordflow">if</span> (0 == stat(fname, &amp;st)) {</div>
<div class="line"><span class="lineno"> 9114</span>        <span class="keywordtype">int</span> temp_buf_len;</div>
<div class="line"><span class="lineno"> 9115</span>        <span class="keywordflow">if</span> (st.st_size &gt; 10485760) {</div>
<div class="line"><span class="lineno"> 9116</span>            <span class="comment">/* Some funster provided a &gt;10 MB text file */</span></div>
<div class="line"><span class="lineno"> 9117</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 9118</span>        }</div>
<div class="line"><span class="lineno"> 9119</span> </div>
<div class="line"><span class="lineno"> 9120</span>        <span class="comment">/* Add enough space for one more line */</span></div>
<div class="line"><span class="lineno"> 9121</span>        temp_buf_len = (int)st.st_size + 1024;</div>
<div class="line"><span class="lineno"> 9122</span> </div>
<div class="line"><span class="lineno"> 9123</span>        <span class="comment">/* Allocate memory (instead of using a temporary file) */</span></div>
<div class="line"><span class="lineno"> 9124</span>        temp_file = (<span class="keywordtype">char</span> *)<a class="code hl_function" href="civetweb_8c.html#ad3552193bd019b58e092032223ac38f1">mg_calloc</a>((<span class="keywordtype">size_t</span>)temp_buf_len, 1);</div>
<div class="line"><span class="lineno"> 9125</span>        <span class="keywordflow">if</span> (!temp_file) {</div>
<div class="line"><span class="lineno"> 9126</span>            <span class="comment">/* Out of memory */</span></div>
<div class="line"><span class="lineno"> 9127</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 9128</span>        }</div>
<div class="line"><span class="lineno"> 9129</span> </div>
<div class="line"><span class="lineno"> 9130</span>        <span class="comment">/* File exists. Read it into a memory buffer. */</span></div>
<div class="line"><span class="lineno"> 9131</span>        fp = fopen(fname, <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><span class="lineno"> 9132</span>        <span class="keywordflow">if</span> (fp == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno"> 9133</span>            <span class="comment">/* Cannot read file. No permission? */</span></div>
<div class="line"><span class="lineno"> 9134</span>            <a class="code hl_function" href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a>(temp_file);</div>
<div class="line"><span class="lineno"> 9135</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 9136</span>        }</div>
<div class="line"><span class="lineno"> 9137</span> </div>
<div class="line"><span class="lineno"> 9138</span>        <span class="comment">/* Read content and store in memory */</span></div>
<div class="line"><span class="lineno"> 9139</span>        <span class="keywordflow">while</span> ((fgets(line, <span class="keyword">sizeof</span>(line), fp) != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 9140</span>               &amp;&amp; ((temp_file_offs + 600) &lt; temp_buf_len)) {</div>
<div class="line"><span class="lineno"> 9141</span>            <span class="comment">/* file format is &quot;user:domain:hash\n&quot; */</span></div>
<div class="line"><span class="lineno"> 9142</span>            <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot;%255[^:]:%255[^:]:%255s&quot;</span>, u, d, h) != 3) {</div>
<div class="line"><span class="lineno"> 9143</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 9144</span>            }</div>
<div class="line"><span class="lineno"> 9145</span>            u[255] = 0;</div>
<div class="line"><span class="lineno"> 9146</span>            d[255] = 0;</div>
<div class="line"><span class="lineno"> 9147</span>            h[255] = 0;</div>
<div class="line"><span class="lineno"> 9148</span> </div>
<div class="line"><span class="lineno"> 9149</span>            <span class="keywordflow">if</span> (!strcmp(u, user) &amp;&amp; !strcmp(d, domain)) {</div>
<div class="line"><span class="lineno"> 9150</span>                <span class="comment">/* Found the user: change the password hash or drop the user</span></div>
<div class="line"><span class="lineno"> 9151</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno"> 9152</span>                <span class="keywordflow">if</span> ((ha1 != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (!found)) {</div>
<div class="line"><span class="lineno"> 9153</span>                    i = sprintf(temp_file + temp_file_offs,</div>
<div class="line"><span class="lineno"> 9154</span>                                <span class="stringliteral">&quot;%s:%s:%s\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 9155</span>                                user,</div>
<div class="line"><span class="lineno"> 9156</span>                                domain,</div>
<div class="line"><span class="lineno"> 9157</span>                                ha1);</div>
<div class="line"><span class="lineno"> 9158</span>                    <span class="keywordflow">if</span> (i &lt; 1) {</div>
<div class="line"><span class="lineno"> 9159</span>                        fclose(fp);</div>
<div class="line"><span class="lineno"> 9160</span>                        <a class="code hl_function" href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a>(temp_file);</div>
<div class="line"><span class="lineno"> 9161</span>                        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 9162</span>                    }</div>
<div class="line"><span class="lineno"> 9163</span>                    temp_file_offs += i;</div>
<div class="line"><span class="lineno"> 9164</span>                }</div>
<div class="line"><span class="lineno"> 9165</span>                found = 1;</div>
<div class="line"><span class="lineno"> 9166</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 9167</span>                <span class="comment">/* Copy existing user, including password hash */</span></div>
<div class="line"><span class="lineno"> 9168</span>                i = sprintf(temp_file + temp_file_offs, <span class="stringliteral">&quot;%s:%s:%s\n&quot;</span>, u, d, h);</div>
<div class="line"><span class="lineno"> 9169</span>                <span class="keywordflow">if</span> (i &lt; 1) {</div>
<div class="line"><span class="lineno"> 9170</span>                    fclose(fp);</div>
<div class="line"><span class="lineno"> 9171</span>                    <a class="code hl_function" href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a>(temp_file);</div>
<div class="line"><span class="lineno"> 9172</span>                    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 9173</span>                }</div>
<div class="line"><span class="lineno"> 9174</span>                temp_file_offs += i;</div>
<div class="line"><span class="lineno"> 9175</span>            }</div>
<div class="line"><span class="lineno"> 9176</span>        }</div>
<div class="line"><span class="lineno"> 9177</span>        fclose(fp);</div>
<div class="line"><span class="lineno"> 9178</span>    }</div>
<div class="line"><span class="lineno"> 9179</span> </div>
<div class="line"><span class="lineno"> 9180</span>    <span class="comment">/* Create new file */</span></div>
<div class="line"><span class="lineno"> 9181</span>    fp = fopen(fname, <span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line"><span class="lineno"> 9182</span>    <span class="keywordflow">if</span> (!fp) {</div>
<div class="line"><span class="lineno"> 9183</span>        <a class="code hl_function" href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a>(temp_file);</div>
<div class="line"><span class="lineno"> 9184</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 9185</span>    }</div>
<div class="line"><span class="lineno"> 9186</span> </div>
<div class="line"><span class="lineno"> 9187</span><span class="preprocessor">#if !defined(_WIN32)</span></div>
<div class="line"><span class="lineno"> 9188</span>    <span class="comment">/* On Linux &amp; co., restrict file read/write permissions to the owner */</span></div>
<div class="line"><span class="lineno"> 9189</span>    <span class="keywordflow">if</span> (fchmod(fileno(fp), S_IRUSR | S_IWUSR) != 0) {</div>
<div class="line"><span class="lineno"> 9190</span>        result = 0;</div>
<div class="line"><span class="lineno"> 9191</span>    }</div>
<div class="line"><span class="lineno"> 9192</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 9193</span> </div>
<div class="line"><span class="lineno"> 9194</span>    <span class="keywordflow">if</span> ((temp_file != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (temp_file_offs &gt; 0)) {</div>
<div class="line"><span class="lineno"> 9195</span>        <span class="comment">/* Store buffered content of old file */</span></div>
<div class="line"><span class="lineno"> 9196</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="stdcheaders_8h.html#ae791f89cbd418b3074b1349d8f5075dd">fwrite</a>(temp_file, 1, (<span class="keywordtype">size_t</span>)temp_file_offs, fp)</div>
<div class="line"><span class="lineno"> 9197</span>            != (<span class="keywordtype">size_t</span>)temp_file_offs) {</div>
<div class="line"><span class="lineno"> 9198</span>            result = 0;</div>
<div class="line"><span class="lineno"> 9199</span>        }</div>
<div class="line"><span class="lineno"> 9200</span>    }</div>
<div class="line"><span class="lineno"> 9201</span> </div>
<div class="line"><span class="lineno"> 9202</span>    <span class="comment">/* If new user, just add it */</span></div>
<div class="line"><span class="lineno"> 9203</span>    <span class="keywordflow">if</span> ((ha1 != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (!found)) {</div>
<div class="line"><span class="lineno"> 9204</span>        <span class="keywordflow">if</span> (fprintf(fp, <span class="stringliteral">&quot;%s:%s:%s\n&quot;</span>, user, domain, ha1) &lt; 6) {</div>
<div class="line"><span class="lineno"> 9205</span>            result = 0;</div>
<div class="line"><span class="lineno"> 9206</span>        }</div>
<div class="line"><span class="lineno"> 9207</span>    }</div>
<div class="line"><span class="lineno"> 9208</span> </div>
<div class="line"><span class="lineno"> 9209</span>    <span class="comment">/* All data written */</span></div>
<div class="line"><span class="lineno"> 9210</span>    <span class="keywordflow">if</span> (fclose(fp) != 0) {</div>
<div class="line"><span class="lineno"> 9211</span>        result = 0;</div>
<div class="line"><span class="lineno"> 9212</span>    }</div>
<div class="line"><span class="lineno"> 9213</span> </div>
<div class="line"><span class="lineno"> 9214</span>    <a class="code hl_function" href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a>(temp_file);</div>
<div class="line"><span class="lineno"> 9215</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 9216</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a7a78f968a579c967c2bb097b9e64749f"><div class="ttname"><a href="civetweb_8c.html#a7a78f968a579c967c2bb097b9e64749f">UTF8_PATH_MAX</a></div><div class="ttdeci">#define UTF8_PATH_MAX</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l00861">civetweb.c:861</a></div></div>
<div class="ttc" id="acivetweb_8c_html_ad3552193bd019b58e092032223ac38f1"><div class="ttname"><a href="civetweb_8c.html#ad3552193bd019b58e092032223ac38f1">mg_calloc</a></div><div class="ttdeci">static __inline void * mg_calloc(size_t a, size_t b)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01480">civetweb.c:1480</a></div></div>
<div class="ttc" id="astdcheaders_8h_html_ae791f89cbd418b3074b1349d8f5075dd"><div class="ttname"><a href="stdcheaders_8h.html#ae791f89cbd418b3074b1349d8f5075dd">fwrite</a></div><div class="ttdeci">size_t fwrite(const void *, size_t, size_t, FILE *)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="stdcheaders_8h.html#ae791f89cbd418b3074b1349d8f5075dd">fwrite()</a>, <a class="el" href="civetweb_8c_source.html#l01480">mg_calloc()</a>, <a class="el" href="civetweb_8c_source.html#l01492">mg_free()</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, and <a class="el" href="civetweb_8c_source.html#l00861">UTF8_PATH_MAX</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l09220">mg_modify_passwords_file()</a>.</p>

</div>
</div>
<a id="a8290b802bcbe66bacc49416e5e671a89" name="a8290b802bcbe66bacc49416e5e671a89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8290b802bcbe66bacc49416e5e671a89">&#9670;&#160;</a></span>mg_printf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_printf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname">, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a2bb9db6ffe087ec4f44662ed3dfa0abd">PRINTF_FORMAT_STRING</a>(const char *fmt)</td>          <td class="paramname"><span class="paramname">, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afbd71d73913b532051e689f50031093e" name="afbd71d73913b532051e689f50031093e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbd71d73913b532051e689f50031093e">&#9670;&#160;</a></span>mg_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>buf</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l06614">6614</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6615</span>{</div>
<div class="line"><span class="lineno"> 6616</span>    <span class="keywordflow">if</span> (len &gt; INT_MAX) {</div>
<div class="line"><span class="lineno"> 6617</span>        len = INT_MAX;</div>
<div class="line"><span class="lineno"> 6618</span>    }</div>
<div class="line"><span class="lineno"> 6619</span> </div>
<div class="line"><span class="lineno"> 6620</span>    <span class="keywordflow">if</span> (conn == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno"> 6621</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 6622</span>    }</div>
<div class="line"><span class="lineno"> 6623</span> </div>
<div class="line"><span class="lineno"> 6624</span>    <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a45f6e2c7e07289686090f84c97e71ec5">is_chunked</a>) {</div>
<div class="line"><span class="lineno"> 6625</span>        <span class="keywordtype">size_t</span> all_read = 0;</div>
<div class="line"><span class="lineno"> 6626</span> </div>
<div class="line"><span class="lineno"> 6627</span>        <span class="keywordflow">while</span> (len &gt; 0) {</div>
<div class="line"><span class="lineno"> 6628</span>            <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a45f6e2c7e07289686090f84c97e71ec5">is_chunked</a> &gt;= 3) {</div>
<div class="line"><span class="lineno"> 6629</span>                <span class="comment">/* No more data left to read */</span></div>
<div class="line"><span class="lineno"> 6630</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 6631</span>            }</div>
<div class="line"><span class="lineno"> 6632</span>            <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a45f6e2c7e07289686090f84c97e71ec5">is_chunked</a> != 1) {</div>
<div class="line"><span class="lineno"> 6633</span>                <span class="comment">/* Has error */</span></div>
<div class="line"><span class="lineno"> 6634</span>                <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 6635</span>            }</div>
<div class="line"><span class="lineno"> 6636</span> </div>
<div class="line"><span class="lineno"> 6637</span>            <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a271e16e618bd9265577aef7ef5ed637d">consumed_content</a> != conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a168cfc671a07bf2360ae806193c015bc">content_len</a>) {</div>
<div class="line"><span class="lineno"> 6638</span>                <span class="comment">/* copy from the current chunk */</span></div>
<div class="line"><span class="lineno"> 6639</span>                <span class="keywordtype">int</span> read_ret = <a class="code hl_function" href="civetweb_8c.html#a59c90f7b25d805478984a16ba5ee5fc7">mg_read_inner</a>(conn, (<span class="keywordtype">char</span> *)buf + all_read, len);</div>
<div class="line"><span class="lineno"> 6640</span> </div>
<div class="line"><span class="lineno"> 6641</span>                <span class="keywordflow">if</span> (read_ret &lt; 1) {</div>
<div class="line"><span class="lineno"> 6642</span>                    <span class="comment">/* read error */</span></div>
<div class="line"><span class="lineno"> 6643</span>                    conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a45f6e2c7e07289686090f84c97e71ec5">is_chunked</a> = 2;</div>
<div class="line"><span class="lineno"> 6644</span>                    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 6645</span>                }</div>
<div class="line"><span class="lineno"> 6646</span> </div>
<div class="line"><span class="lineno"> 6647</span>                all_read += (size_t)read_ret;</div>
<div class="line"><span class="lineno"> 6648</span>                len -= (size_t)read_ret;</div>
<div class="line"><span class="lineno"> 6649</span> </div>
<div class="line"><span class="lineno"> 6650</span>                <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a271e16e618bd9265577aef7ef5ed637d">consumed_content</a> == conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a168cfc671a07bf2360ae806193c015bc">content_len</a>) {</div>
<div class="line"><span class="lineno"> 6651</span>                    <span class="comment">/* Add data bytes in the current chunk have been read,</span></div>
<div class="line"><span class="lineno"> 6652</span><span class="comment">                     * so we are expecting \r\n now. */</span></div>
<div class="line"><span class="lineno"> 6653</span>                    <span class="keywordtype">char</span> x[2];</div>
<div class="line"><span class="lineno"> 6654</span>                    conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a168cfc671a07bf2360ae806193c015bc">content_len</a> += 2;</div>
<div class="line"><span class="lineno"> 6655</span>                    <span class="keywordflow">if</span> ((<a class="code hl_function" href="civetweb_8c.html#a59c90f7b25d805478984a16ba5ee5fc7">mg_read_inner</a>(conn, x, 2) != 2) || (x[0] != <span class="charliteral">&#39;\r&#39;</span>)</div>
<div class="line"><span class="lineno"> 6656</span>                        || (x[1] != <span class="charliteral">&#39;\n&#39;</span>)) {</div>
<div class="line"><span class="lineno"> 6657</span>                        <span class="comment">/* Protocol violation */</span></div>
<div class="line"><span class="lineno"> 6658</span>                        conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a45f6e2c7e07289686090f84c97e71ec5">is_chunked</a> = 2;</div>
<div class="line"><span class="lineno"> 6659</span>                        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 6660</span>                    }</div>
<div class="line"><span class="lineno"> 6661</span>                }</div>
<div class="line"><span class="lineno"> 6662</span> </div>
<div class="line"><span class="lineno"> 6663</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 6664</span>                <span class="comment">/* fetch a new chunk */</span></div>
<div class="line"><span class="lineno"> 6665</span>                <span class="keywordtype">size_t</span> i;</div>
<div class="line"><span class="lineno"> 6666</span>                <span class="keywordtype">char</span> lenbuf[64];</div>
<div class="line"><span class="lineno"> 6667</span>                <span class="keywordtype">char</span> *end = <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 6668</span>                <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> chunkSize = 0;</div>
<div class="line"><span class="lineno"> 6669</span> </div>
<div class="line"><span class="lineno"> 6670</span>                <span class="keywordflow">for</span> (i = 0; i &lt; (<span class="keyword">sizeof</span>(lenbuf) - 1); i++) {</div>
<div class="line"><span class="lineno"> 6671</span>                    conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a168cfc671a07bf2360ae806193c015bc">content_len</a>++;</div>
<div class="line"><span class="lineno"> 6672</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="civetweb_8c.html#a59c90f7b25d805478984a16ba5ee5fc7">mg_read_inner</a>(conn, lenbuf + i, 1) != 1) {</div>
<div class="line"><span class="lineno"> 6673</span>                        lenbuf[i] = 0;</div>
<div class="line"><span class="lineno"> 6674</span>                    }</div>
<div class="line"><span class="lineno"> 6675</span>                    <span class="keywordflow">if</span> ((i &gt; 0) &amp;&amp; (lenbuf[i] == <span class="charliteral">&#39;;&#39;</span>)) {</div>
<div class="line"><span class="lineno"> 6676</span>                        <span class="comment">// chunk extension --&gt; skip chars until next CR</span></div>
<div class="line"><span class="lineno"> 6677</span>                        <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 6678</span>                        <span class="comment">// RFC 2616, 3.6.1 Chunked Transfer Coding</span></div>
<div class="line"><span class="lineno"> 6679</span>                        <span class="comment">// (https://www.rfc-editor.org/rfc/rfc2616#page-25)</span></div>
<div class="line"><span class="lineno"> 6680</span>                        <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 6681</span>                        <span class="comment">// chunk          = chunk-size [ chunk-extension ] CRLF</span></div>
<div class="line"><span class="lineno"> 6682</span>                        <span class="comment">//                  chunk-data CRLF</span></div>
<div class="line"><span class="lineno"> 6683</span>                        <span class="comment">// ...</span></div>
<div class="line"><span class="lineno"> 6684</span>                        <span class="comment">// chunk-extension= *( &quot;;&quot; chunk-ext-name [ &quot;=&quot;</span></div>
<div class="line"><span class="lineno"> 6685</span>                        <span class="comment">// chunk-ext-val ] )</span></div>
<div class="line"><span class="lineno"> 6686</span>                        <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 6687</span>                            ++conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a168cfc671a07bf2360ae806193c015bc">content_len</a>;</div>
<div class="line"><span class="lineno"> 6688</span>                        <span class="keywordflow">while</span> (<a class="code hl_function" href="civetweb_8c.html#a59c90f7b25d805478984a16ba5ee5fc7">mg_read_inner</a>(conn, lenbuf + i, 1) == 1</div>
<div class="line"><span class="lineno"> 6689</span>                               &amp;&amp; lenbuf[i] != <span class="charliteral">&#39;\r&#39;</span>);</div>
<div class="line"><span class="lineno"> 6690</span>                    }</div>
<div class="line"><span class="lineno"> 6691</span>                    <span class="keywordflow">if</span> ((i &gt; 0) &amp;&amp; (lenbuf[i] == <span class="charliteral">&#39;\r&#39;</span>)</div>
<div class="line"><span class="lineno"> 6692</span>                        &amp;&amp; (lenbuf[i - 1] != <span class="charliteral">&#39;\r&#39;</span>)) {</div>
<div class="line"><span class="lineno"> 6693</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 6694</span>                    }</div>
<div class="line"><span class="lineno"> 6695</span>                    <span class="keywordflow">if</span> ((i &gt; 1) &amp;&amp; (lenbuf[i] == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><span class="lineno"> 6696</span>                        &amp;&amp; (lenbuf[i - 1] == <span class="charliteral">&#39;\r&#39;</span>)) {</div>
<div class="line"><span class="lineno"> 6697</span>                        lenbuf[i + 1] = 0;</div>
<div class="line"><span class="lineno"> 6698</span>                        chunkSize = strtoul(lenbuf, &amp;end, 16);</div>
<div class="line"><span class="lineno"> 6699</span>                        <span class="keywordflow">if</span> (chunkSize == 0) {</div>
<div class="line"><span class="lineno"> 6700</span>                            <span class="comment">/* regular end of content */</span></div>
<div class="line"><span class="lineno"> 6701</span>                            conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a45f6e2c7e07289686090f84c97e71ec5">is_chunked</a> = 3;</div>
<div class="line"><span class="lineno"> 6702</span>                        }</div>
<div class="line"><span class="lineno"> 6703</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6704</span>                    }</div>
<div class="line"><span class="lineno"> 6705</span>                    <span class="keywordflow">if</span> (!isxdigit((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)lenbuf[i])) {</div>
<div class="line"><span class="lineno"> 6706</span>                        <span class="comment">/* illegal character for chunk length */</span></div>
<div class="line"><span class="lineno"> 6707</span>                        conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a45f6e2c7e07289686090f84c97e71ec5">is_chunked</a> = 2;</div>
<div class="line"><span class="lineno"> 6708</span>                        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 6709</span>                    }</div>
<div class="line"><span class="lineno"> 6710</span>                }</div>
<div class="line"><span class="lineno"> 6711</span>                <span class="keywordflow">if</span> ((end == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (*end != <span class="charliteral">&#39;\r&#39;</span>)) {</div>
<div class="line"><span class="lineno"> 6712</span>                    <span class="comment">/* chunksize not set correctly */</span></div>
<div class="line"><span class="lineno"> 6713</span>                    conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a45f6e2c7e07289686090f84c97e71ec5">is_chunked</a> = 2;</div>
<div class="line"><span class="lineno"> 6714</span>                    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 6715</span>                }</div>
<div class="line"><span class="lineno"> 6716</span>                <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a45f6e2c7e07289686090f84c97e71ec5">is_chunked</a> == 3) {</div>
<div class="line"><span class="lineno"> 6717</span>                    <span class="comment">/* try discarding trailer for keep-alive */</span></div>
<div class="line"><span class="lineno"> 6718</span> </div>
<div class="line"><span class="lineno"> 6719</span>                    <span class="comment">// We found the last chunk (length 0) including the</span></div>
<div class="line"><span class="lineno"> 6720</span>                    <span class="comment">// CRLF that terminates that chunk. Now follows a possibly</span></div>
<div class="line"><span class="lineno"> 6721</span>                    <span class="comment">// empty trailer and a final CRLF.</span></div>
<div class="line"><span class="lineno"> 6722</span>                    <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 6723</span>                    <span class="comment">// see RFC 2616, 3.6.1 Chunked Transfer Coding</span></div>
<div class="line"><span class="lineno"> 6724</span>                    <span class="comment">// (https://www.rfc-editor.org/rfc/rfc2616#page-25)</span></div>
<div class="line"><span class="lineno"> 6725</span>                    <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 6726</span>                    <span class="comment">// Chunked-Body   = *chunk</span></div>
<div class="line"><span class="lineno"> 6727</span>                    <span class="comment">//                  last-chunk</span></div>
<div class="line"><span class="lineno"> 6728</span>                    <span class="comment">//                  trailer</span></div>
<div class="line"><span class="lineno"> 6729</span>                    <span class="comment">//                  CRLF</span></div>
<div class="line"><span class="lineno"> 6730</span>                    <span class="comment">// ...</span></div>
<div class="line"><span class="lineno"> 6731</span>                    <span class="comment">// last-chunk     = 1*(&quot;0&quot;) [ chunk-extension ] CRLF</span></div>
<div class="line"><span class="lineno"> 6732</span>                    <span class="comment">// ...</span></div>
<div class="line"><span class="lineno"> 6733</span>                    <span class="comment">// trailer        = *(entity-header CRLF)</span></div>
<div class="line"><span class="lineno"> 6734</span> </div>
<div class="line"><span class="lineno"> 6735</span>                    <span class="keywordtype">int</span> crlf_count = 2; <span class="comment">// one CRLF already determined</span></div>
<div class="line"><span class="lineno"> 6736</span> </div>
<div class="line"><span class="lineno"> 6737</span>                    <span class="keywordflow">while</span> (crlf_count &lt; 4 &amp;&amp; conn-&gt;is_chunked == 3) {</div>
<div class="line"><span class="lineno"> 6738</span>                        ++conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a168cfc671a07bf2360ae806193c015bc">content_len</a>;</div>
<div class="line"><span class="lineno"> 6739</span>                        <span class="keywordflow">if</span> (<a class="code hl_function" href="civetweb_8c.html#a59c90f7b25d805478984a16ba5ee5fc7">mg_read_inner</a>(conn, lenbuf, 1) == 1) {</div>
<div class="line"><span class="lineno"> 6740</span>                            <span class="keywordflow">if</span> ((crlf_count == 0 || crlf_count == 2)) {</div>
<div class="line"><span class="lineno"> 6741</span>                                <span class="keywordflow">if</span> (lenbuf[0] == <span class="charliteral">&#39;\r&#39;</span>)</div>
<div class="line"><span class="lineno"> 6742</span>                                    ++crlf_count;</div>
<div class="line"><span class="lineno"> 6743</span>                                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 6744</span>                                    crlf_count = 0;</div>
<div class="line"><span class="lineno"> 6745</span>                            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 6746</span>                                <span class="comment">// previous character was a CR</span></div>
<div class="line"><span class="lineno"> 6747</span>                                <span class="comment">// --&gt; next character must be LF</span></div>
<div class="line"><span class="lineno"> 6748</span> </div>
<div class="line"><span class="lineno"> 6749</span>                                <span class="keywordflow">if</span> (lenbuf[0] == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><span class="lineno"> 6750</span>                                    ++crlf_count;</div>
<div class="line"><span class="lineno"> 6751</span>                                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 6752</span>                                    conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a45f6e2c7e07289686090f84c97e71ec5">is_chunked</a> = 2;</div>
<div class="line"><span class="lineno"> 6753</span>                            }</div>
<div class="line"><span class="lineno"> 6754</span>                        } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 6755</span>                            <span class="comment">// premature end of trailer</span></div>
<div class="line"><span class="lineno"> 6756</span>                            conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a45f6e2c7e07289686090f84c97e71ec5">is_chunked</a> = 2;</div>
<div class="line"><span class="lineno"> 6757</span>                    }</div>
<div class="line"><span class="lineno"> 6758</span> </div>
<div class="line"><span class="lineno"> 6759</span>                    <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a45f6e2c7e07289686090f84c97e71ec5">is_chunked</a> == 2)</div>
<div class="line"><span class="lineno"> 6760</span>                        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 6761</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 6762</span>                        conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a45f6e2c7e07289686090f84c97e71ec5">is_chunked</a> = 4;</div>
<div class="line"><span class="lineno"> 6763</span> </div>
<div class="line"><span class="lineno"> 6764</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6765</span>                }</div>
<div class="line"><span class="lineno"> 6766</span> </div>
<div class="line"><span class="lineno"> 6767</span>                <span class="comment">/* append a new chunk */</span></div>
<div class="line"><span class="lineno"> 6768</span>                conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a168cfc671a07bf2360ae806193c015bc">content_len</a> += (int64_t)chunkSize;</div>
<div class="line"><span class="lineno"> 6769</span>            }</div>
<div class="line"><span class="lineno"> 6770</span>        }</div>
<div class="line"><span class="lineno"> 6771</span> </div>
<div class="line"><span class="lineno"> 6772</span>        <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)all_read;</div>
<div class="line"><span class="lineno"> 6773</span>    }</div>
<div class="line"><span class="lineno"> 6774</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="civetweb_8c.html#a59c90f7b25d805478984a16ba5ee5fc7">mg_read_inner</a>(conn, buf, len);</div>
<div class="line"><span class="lineno"> 6775</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a59c90f7b25d805478984a16ba5ee5fc7"><div class="ttname"><a href="civetweb_8c.html#a59c90f7b25d805478984a16ba5ee5fc7">mg_read_inner</a></div><div class="ttdeci">static int mg_read_inner(struct mg_connection *conn, void *buf, size_t len)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l06494">civetweb.c:6494</a></div></div>
<div class="ttc" id="astructmg__connection_html_a168cfc671a07bf2360ae806193c015bc"><div class="ttname"><a href="structmg__connection.html#a168cfc671a07bf2360ae806193c015bc">mg_connection::content_len</a></div><div class="ttdeci">int64_t content_len</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02518">civetweb.c:2518</a></div></div>
<div class="ttc" id="astructmg__connection_html_a271e16e618bd9265577aef7ef5ed637d"><div class="ttname"><a href="structmg__connection.html#a271e16e618bd9265577aef7ef5ed637d">mg_connection::consumed_content</a></div><div class="ttdeci">int64_t consumed_content</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02524">civetweb.c:2524</a></div></div>
<div class="ttc" id="astructmg__connection_html_a45f6e2c7e07289686090f84c97e71ec5"><div class="ttname"><a href="structmg__connection.html#a45f6e2c7e07289686090f84c97e71ec5">mg_connection::is_chunked</a></div><div class="ttdeci">int is_chunked</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02525">civetweb.c:2525</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l02524">mg_connection::consumed_content</a>, <a class="el" href="civetweb_8c_source.html#l02518">mg_connection::content_len</a>, <a class="el" href="civetweb_8c_source.html#l02525">mg_connection::is_chunked</a>, <a class="el" href="civetweb_8c_source.html#l06494">mg_read_inner()</a>, and <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l06484">discard_unread_request_data()</a>, <a class="el" href="civetweb_8c_source.html#l11184">forward_body_data()</a>, <a class="el" href="civetweb_8c_source.html#l10622">mg_store_body()</a>, and <a class="el" href="vendor_2civetweb_2main_8c_source.html#l00995">run_client()</a>.</p>

</div>
</div>
<a id="a487cdeb41049480452d49e52a9f24465" name="a487cdeb41049480452d49e52a9f24465"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a487cdeb41049480452d49e52a9f24465">&#9670;&#160;</a></span>mg_response_header_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_response_header_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>header</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>value</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>value_len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l12802">dav_lock_file()</a>, <a class="el" href="civetweb_8c_source.html#l11915">dav_mkcol()</a>, <a class="el" href="civetweb_8c_source.html#l11994">dav_move_file()</a>, <a class="el" href="civetweb_8c_source.html#l12964">dav_proppatch()</a>, <a class="el" href="civetweb_8c_source.html#l12293">delete_file()</a>, <a class="el" href="civetweb_8c_source.html#l09942">handle_directory_request()</a>, <a class="el" href="civetweb_8c_source.html#l10483">handle_not_modified_static_file_request()</a>, <a class="el" href="civetweb_8c_source.html#l12759">handle_propfind()</a>, <a class="el" href="civetweb_8c_source.html#l12588">handle_ssi_file_request()</a>, <a class="el" href="civetweb_8c_source.html#l10220">handle_static_file_request()</a>, <a class="el" href="civetweb_8c_source.html#l04375">mg_send_http_error_impl()</a>, <a class="el" href="civetweb_8c_source.html#l04576">mg_send_http_ok()</a>, <a class="el" href="civetweb_8c_source.html#l04618">mg_send_http_redirect()</a>, <a class="el" href="civetweb_8c_source.html#l12158">put_file()</a>, <a class="el" href="civetweb_8c_source.html#l04122">send_additional_header()</a>, <a class="el" href="civetweb_8c_source.html#l08974">send_authorization_request()</a>, <a class="el" href="civetweb_8c_source.html#l04149">send_cors_header()</a>, <a class="el" href="civetweb_8c_source.html#l04056">send_no_cache_header()</a>, <a class="el" href="civetweb_8c_source.html#l12632">send_options()</a>, and <a class="el" href="civetweb_8c_source.html#l04074">send_static_cache_header()</a>.</p>

</div>
</div>
<a id="af2fea4b4a82311588a9914b6d8491661" name="af2fea4b4a82311588a9914b6d8491661"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2fea4b4a82311588a9914b6d8491661">&#9670;&#160;</a></span>mg_response_header_add_lines()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_response_header_add_lines </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>http1_headers</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l10220">handle_static_file_request()</a>, and <a class="el" href="civetweb_8c_source.html#l04122">send_additional_header()</a>.</p>

</div>
</div>
<a id="a2ca8aca1da1713557d4eee7526887e12" name="a2ca8aca1da1713557d4eee7526887e12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ca8aca1da1713557d4eee7526887e12">&#9670;&#160;</a></span>mg_response_header_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_response_header_send </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l12802">dav_lock_file()</a>, <a class="el" href="civetweb_8c_source.html#l11915">dav_mkcol()</a>, <a class="el" href="civetweb_8c_source.html#l11994">dav_move_file()</a>, <a class="el" href="civetweb_8c_source.html#l12964">dav_proppatch()</a>, <a class="el" href="civetweb_8c_source.html#l12931">dav_unlock_file()</a>, <a class="el" href="civetweb_8c_source.html#l12293">delete_file()</a>, <a class="el" href="civetweb_8c_source.html#l09942">handle_directory_request()</a>, <a class="el" href="civetweb_8c_source.html#l10483">handle_not_modified_static_file_request()</a>, <a class="el" href="civetweb_8c_source.html#l12759">handle_propfind()</a>, <a class="el" href="civetweb_8c_source.html#l12588">handle_ssi_file_request()</a>, <a class="el" href="civetweb_8c_source.html#l10220">handle_static_file_request()</a>, <a class="el" href="civetweb_8c_source.html#l04375">mg_send_http_error_impl()</a>, <a class="el" href="civetweb_8c_source.html#l04576">mg_send_http_ok()</a>, <a class="el" href="civetweb_8c_source.html#l04618">mg_send_http_redirect()</a>, <a class="el" href="civetweb_8c_source.html#l12158">put_file()</a>, <a class="el" href="civetweb_8c_source.html#l08974">send_authorization_request()</a>, and <a class="el" href="civetweb_8c_source.html#l12632">send_options()</a>.</p>

</div>
</div>
<a id="acf61373a94705446c56f0331639dd619" name="acf61373a94705446c56f0331639dd619"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf61373a94705446c56f0331639dd619">&#9670;&#160;</a></span>mg_response_header_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_response_header_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>status</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l12802">dav_lock_file()</a>, <a class="el" href="civetweb_8c_source.html#l11915">dav_mkcol()</a>, <a class="el" href="civetweb_8c_source.html#l11994">dav_move_file()</a>, <a class="el" href="civetweb_8c_source.html#l12964">dav_proppatch()</a>, <a class="el" href="civetweb_8c_source.html#l12931">dav_unlock_file()</a>, <a class="el" href="civetweb_8c_source.html#l12293">delete_file()</a>, <a class="el" href="civetweb_8c_source.html#l09942">handle_directory_request()</a>, <a class="el" href="civetweb_8c_source.html#l10483">handle_not_modified_static_file_request()</a>, <a class="el" href="civetweb_8c_source.html#l12759">handle_propfind()</a>, <a class="el" href="civetweb_8c_source.html#l12588">handle_ssi_file_request()</a>, <a class="el" href="civetweb_8c_source.html#l10220">handle_static_file_request()</a>, <a class="el" href="civetweb_8c_source.html#l04375">mg_send_http_error_impl()</a>, <a class="el" href="civetweb_8c_source.html#l04576">mg_send_http_ok()</a>, <a class="el" href="civetweb_8c_source.html#l04618">mg_send_http_redirect()</a>, <a class="el" href="civetweb_8c_source.html#l12158">put_file()</a>, <a class="el" href="civetweb_8c_source.html#l08974">send_authorization_request()</a>, and <a class="el" href="civetweb_8c_source.html#l12632">send_options()</a>.</p>

</div>
</div>
<a id="af37a61d80b59003a64f12c34233ead19" name="af37a61d80b59003a64f12c34233ead19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af37a61d80b59003a64f12c34233ead19">&#9670;&#160;</a></span>mg_send_chunk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int <a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_send_chunk </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>chunk</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>chunk_len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l06860">6860</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6863</span>{</div>
<div class="line"><span class="lineno"> 6864</span>    <span class="keywordtype">char</span> lenbuf[16];</div>
<div class="line"><span class="lineno"> 6865</span>    <span class="keywordtype">size_t</span> lenbuf_len;</div>
<div class="line"><span class="lineno"> 6866</span>    <span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="lineno"> 6867</span>    <span class="keywordtype">int</span> t;</div>
<div class="line"><span class="lineno"> 6868</span> </div>
<div class="line"><span class="lineno"> 6869</span>    <span class="comment">/* First store the length information in a text buffer. */</span></div>
<div class="line"><span class="lineno"> 6870</span>    sprintf(lenbuf, <span class="stringliteral">&quot;%x\r\n&quot;</span>, chunk_len);</div>
<div class="line"><span class="lineno"> 6871</span>    lenbuf_len = strlen(lenbuf);</div>
<div class="line"><span class="lineno"> 6872</span> </div>
<div class="line"><span class="lineno"> 6873</span>    <span class="comment">/* Then send length information, chunk and terminating \r\n. */</span></div>
<div class="line"><span class="lineno"> 6874</span>    ret = <a class="code hl_function" href="civetweb_8c.html#a6e7dd65d54025f881bb4d95986fc2581">mg_write</a>(conn, lenbuf, lenbuf_len);</div>
<div class="line"><span class="lineno"> 6875</span>    <span class="keywordflow">if</span> (ret != (<span class="keywordtype">int</span>)lenbuf_len) {</div>
<div class="line"><span class="lineno"> 6876</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 6877</span>    }</div>
<div class="line"><span class="lineno"> 6878</span>    t = ret;</div>
<div class="line"><span class="lineno"> 6879</span> </div>
<div class="line"><span class="lineno"> 6880</span>    ret = <a class="code hl_function" href="civetweb_8c.html#a6e7dd65d54025f881bb4d95986fc2581">mg_write</a>(conn, <a class="code hl_function" href="lua-5_81_85_2src_2lparser_8c.html#a250d5faeaacc40c8a7e1822f5621c292">chunk</a>, chunk_len);</div>
<div class="line"><span class="lineno"> 6881</span>    <span class="keywordflow">if</span> (ret != (<span class="keywordtype">int</span>)chunk_len) {</div>
<div class="line"><span class="lineno"> 6882</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 6883</span>    }</div>
<div class="line"><span class="lineno"> 6884</span>    t += ret;</div>
<div class="line"><span class="lineno"> 6885</span> </div>
<div class="line"><span class="lineno"> 6886</span>    ret = <a class="code hl_function" href="civetweb_8c.html#a6e7dd65d54025f881bb4d95986fc2581">mg_write</a>(conn, <span class="stringliteral">&quot;\r\n&quot;</span>, 2);</div>
<div class="line"><span class="lineno"> 6887</span>    <span class="keywordflow">if</span> (ret != 2) {</div>
<div class="line"><span class="lineno"> 6888</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 6889</span>    }</div>
<div class="line"><span class="lineno"> 6890</span>    t += ret;</div>
<div class="line"><span class="lineno"> 6891</span> </div>
<div class="line"><span class="lineno"> 6892</span>    <span class="keywordflow">return</span> t;</div>
<div class="line"><span class="lineno"> 6893</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a6e7dd65d54025f881bb4d95986fc2581"><div class="ttname"><a href="civetweb_8c.html#a6e7dd65d54025f881bb4d95986fc2581">mg_write</a></div><div class="ttdeci">CIVETWEB_API int mg_write(struct mg_connection *conn, const void *buf, size_t len)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l06779">civetweb.c:6779</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lparser_8c_html_a250d5faeaacc40c8a7e1822f5621c292"><div class="ttname"><a href="lua-5_81_85_2src_2lparser_8c.html#a250d5faeaacc40c8a7e1822f5621c292">chunk</a></div><div class="ttdeci">static void chunk(LexState *ls)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lparser_8c_source.html#l01325">lua-5.1.5/src/lparser.c:1325</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lua-5_81_85_2src_2lparser_8c_source.html#l01325">chunk()</a>, and <a class="el" href="civetweb_8c_source.html#l06779">mg_write()</a>.</p>

</div>
</div>
<a id="a62341459408ee3d4ae77df385a4d332f" name="a62341459408ee3d4ae77df385a4d332f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62341459408ee3d4ae77df385a4d332f">&#9670;&#160;</a></span>mg_send_digest_access_authentication_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_send_digest_access_authentication_request </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>realm</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l09022">9022</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 9024</span>{</div>
<div class="line"><span class="lineno"> 9025</span>    <span class="keywordflow">if</span> (conn &amp;&amp; conn-&gt;<a class="code hl_variable" href="structmg__connection.html#abb30f6262885e94b0242e7e85960caaf">dom_ctx</a>) {</div>
<div class="line"><span class="lineno"> 9026</span>        <a class="code hl_function" href="civetweb_8c.html#a3e30365a0294614e545550653e71c809">send_authorization_request</a>(conn, realm);</div>
<div class="line"><span class="lineno"> 9027</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 9028</span>    }</div>
<div class="line"><span class="lineno"> 9029</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 9030</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a3e30365a0294614e545550653e71c809"><div class="ttname"><a href="civetweb_8c.html#a3e30365a0294614e545550653e71c809">send_authorization_request</a></div><div class="ttdeci">static void send_authorization_request(struct mg_connection *conn, const char *realm)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l08974">civetweb.c:8974</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l02498">mg_connection::dom_ctx</a>, and <a class="el" href="civetweb_8c_source.html#l08974">send_authorization_request()</a>.</p>

</div>
</div>
<a id="af485479c8d173f829c88a4aed927d6fc" name="af485479c8d173f829c88a4aed927d6fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af485479c8d173f829c88a4aed927d6fc">&#9670;&#160;</a></span>mg_send_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void mg_send_file </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l10510">10510</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">10511</span>{</div>
<div class="line"><span class="lineno">10512</span>    <a class="code hl_function" href="civetweb_8c.html#ac7547ded66b30ef8d6924f8b8734cfe3">mg_send_mime_file2</a>(conn, path, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">10513</span>}</div>
<div class="ttc" id="acivetweb_8c_html_ac7547ded66b30ef8d6924f8b8734cfe3"><div class="ttname"><a href="civetweb_8c.html#ac7547ded66b30ef8d6924f8b8734cfe3">mg_send_mime_file2</a></div><div class="ttdeci">CIVETWEB_API void mg_send_mime_file2(struct mg_connection *conn, const char *path, const char *mime_type, const char *additional_headers)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l10526">civetweb.c:10526</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l10526">mg_send_mime_file2()</a>, and <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>.</p>

</div>
</div>
<a id="a4c440a246bb1f1d223456de874c17f59" name="a4c440a246bb1f1d223456de874c17f59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c440a246bb1f1d223456de874c17f59">&#9670;&#160;</a></span>mg_send_file_body()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_send_file_body </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l10451">10451</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">10452</span>{</div>
<div class="line"><span class="lineno">10453</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structmg__file.html">mg_file</a> file = <a class="code hl_define" href="civetweb_8c.html#af7932a261d02cf4b8431793664a4585b">STRUCT_FILE_INITIALIZER</a>;</div>
<div class="line"><span class="lineno">10454</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="civetweb_8c.html#a3341033fb439f4b1566fa8bc71f28e2b">mg_fopen</a>(conn, path, <a class="code hl_define" href="civetweb_8c.html#a5bd58793b81cca07589b297470992a9e">MG_FOPEN_MODE_READ</a>, &amp;file)) {</div>
<div class="line"><span class="lineno">10455</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">10456</span>    }</div>
<div class="line"><span class="lineno">10457</span>    <a class="code hl_function" href="civetweb_8c.html#a66af55875eb933f2969b8bed72ab9ef4">fclose_on_exec</a>(&amp;file.<a class="code hl_variable" href="structmg__file.html#a90b5d07df0a357ba1f1311b92fdd3dc2">access</a>, conn);</div>
<div class="line"><span class="lineno">10458</span>    <a class="code hl_function" href="civetweb_8c.html#a528545b68103ca8848caaea2c5316ec2">send_file_data</a>(conn, &amp;file, 0, <a class="code hl_define" href="civetweb_8c.html#ad0d744f05898e32d01f73f8af3cd2071">INT64_MAX</a>, 0); <span class="comment">/* send static file */</span></div>
<div class="line"><span class="lineno">10459</span>    (void)<a class="code hl_function" href="civetweb_8c.html#ada8ae98eea53a76bee149585c48beca3">mg_fclose</a>(&amp;file.<a class="code hl_variable" href="structmg__file.html#a90b5d07df0a357ba1f1311b92fdd3dc2">access</a>); <span class="comment">/* Ignore errors for readonly files */</span></div>
<div class="line"><span class="lineno">10460</span>    <span class="keywordflow">return</span> 0;                      <span class="comment">/* &gt;= 0 for OK */</span></div>
<div class="line"><span class="lineno">10461</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a528545b68103ca8848caaea2c5316ec2"><div class="ttname"><a href="civetweb_8c.html#a528545b68103ca8848caaea2c5316ec2">send_file_data</a></div><div class="ttdeci">static void send_file_data(struct mg_connection *conn, struct mg_file *filep, int64_t offset, int64_t len, int no_buffering)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l10055">civetweb.c:10055</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a66af55875eb933f2969b8bed72ab9ef4"><div class="ttname"><a href="civetweb_8c.html#a66af55875eb933f2969b8bed72ab9ef4">fclose_on_exec</a></div><div class="ttdeci">static void fclose_on_exec(struct mg_file_access *filep, struct mg_connection *conn)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l10196">civetweb.c:10196</a></div></div>
<div class="ttc" id="acivetweb_8c_html_ad0d744f05898e32d01f73f8af3cd2071"><div class="ttname"><a href="civetweb_8c.html#ad0d744f05898e32d01f73f8af3cd2071">INT64_MAX</a></div><div class="ttdeci">#define INT64_MAX</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l00513">civetweb.c:513</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l01887">mg_file::access</a>, <a class="el" href="civetweb_8c_source.html#l10196">fclose_on_exec()</a>, <a class="el" href="civetweb_8c_source.html#l00513">INT64_MAX</a>, <a class="el" href="civetweb_8c_source.html#l02986">mg_fclose()</a>, <a class="el" href="civetweb_8c_source.html#l02915">mg_fopen()</a>, <a class="el" href="civetweb_8c_source.html#l02843">MG_FOPEN_MODE_READ</a>, <a class="el" href="civetweb_8c_source.html#l10055">send_file_data()</a>, and <a class="el" href="civetweb_8c_source.html#l01891">STRUCT_FILE_INITIALIZER</a>.</p>

</div>
</div>
<a id="a6a537039cf2306b2689d8d4a37681c24" name="a6a537039cf2306b2689d8d4a37681c24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a537039cf2306b2689d8d4a37681c24">&#9670;&#160;</a></span>mg_send_http_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_send_http_error </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>status_code</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a2bb9db6ffe087ec4f44662ed3dfa0abd">PRINTF_FORMAT_STRING</a>(const char *fmt)</td>          <td class="paramname"><span class="paramname">, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a819afb28dc882c9eeef043acc65fbad9" name="a819afb28dc882c9eeef043acc65fbad9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a819afb28dc882c9eeef043acc65fbad9">&#9670;&#160;</a></span>mg_send_http_ok()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int <a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_send_http_ok </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>mime_type</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long long</td>          <td class="paramname"><span class="paramname"><em>content_length</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l04576">4576</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4579</span>{</div>
<div class="line"><span class="lineno"> 4580</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="civetweb_8c.html#a12139285594e136f3f40ec07d2fdc5c5">mime_type</a> == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (*<a class="code hl_variable" href="civetweb_8c.html#a12139285594e136f3f40ec07d2fdc5c5">mime_type</a> == 0)) {</div>
<div class="line"><span class="lineno"> 4581</span>        <span class="comment">/* No content type defined: default to text/html */</span></div>
<div class="line"><span class="lineno"> 4582</span>        <a class="code hl_variable" href="civetweb_8c.html#a12139285594e136f3f40ec07d2fdc5c5">mime_type</a> = <span class="stringliteral">&quot;text/html&quot;</span>;</div>
<div class="line"><span class="lineno"> 4583</span>    }</div>
<div class="line"><span class="lineno"> 4584</span> </div>
<div class="line"><span class="lineno"> 4585</span>    <a class="code hl_function" href="#acf61373a94705446c56f0331639dd619">mg_response_header_start</a>(conn, 200);</div>
<div class="line"><span class="lineno"> 4586</span>    <a class="code hl_function" href="civetweb_8c.html#a4e9abca78e3f98b886081d15550f7fca">send_no_cache_header</a>(conn);</div>
<div class="line"><span class="lineno"> 4587</span>    <a class="code hl_function" href="civetweb_8c.html#ab79547a6cf8bca74eba39a0ff85cd091">send_additional_header</a>(conn);</div>
<div class="line"><span class="lineno"> 4588</span>    <a class="code hl_function" href="civetweb_8c.html#acce3a614f601b06f0120faad9421e25f">send_cors_header</a>(conn);</div>
<div class="line"><span class="lineno"> 4589</span>    <a class="code hl_function" href="#a487cdeb41049480452d49e52a9f24465">mg_response_header_add</a>(conn, <span class="stringliteral">&quot;Content-Type&quot;</span>, <a class="code hl_variable" href="civetweb_8c.html#a12139285594e136f3f40ec07d2fdc5c5">mime_type</a>, -1);</div>
<div class="line"><span class="lineno"> 4590</span>    <span class="keywordflow">if</span> (content_length &lt; 0) {</div>
<div class="line"><span class="lineno"> 4591</span>        <span class="comment">/* Size not known. Use chunked encoding (HTTP/1.x) */</span></div>
<div class="line"><span class="lineno"> 4592</span>        <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a7afb014954a870291a215479a81fc242">protocol_type</a> == <a class="code hl_enumvalue" href="civetweb_8c.html#adc29c2ff13d900c2f185ee95427fb06ca08c5b02481f2ffa664c433f236d59e78">PROTOCOL_TYPE_HTTP1</a>) {</div>
<div class="line"><span class="lineno"> 4593</span>            <span class="comment">/* Only HTTP/1.x defines &quot;chunked&quot; encoding, HTTP/2 does not*/</span></div>
<div class="line"><span class="lineno"> 4594</span>            <a class="code hl_function" href="#a487cdeb41049480452d49e52a9f24465">mg_response_header_add</a>(conn, <span class="stringliteral">&quot;Transfer-Encoding&quot;</span>, <span class="stringliteral">&quot;chunked&quot;</span>, -1);</div>
<div class="line"><span class="lineno"> 4595</span>        }</div>
<div class="line"><span class="lineno"> 4596</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4597</span>        <span class="keywordtype">char</span> len[32];</div>
<div class="line"><span class="lineno"> 4598</span>        <span class="keywordtype">int</span> trunc = 0;</div>
<div class="line"><span class="lineno"> 4599</span>        <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(conn,</div>
<div class="line"><span class="lineno"> 4600</span>                    &amp;trunc,</div>
<div class="line"><span class="lineno"> 4601</span>                    len,</div>
<div class="line"><span class="lineno"> 4602</span>                    <span class="keyword">sizeof</span>(len),</div>
<div class="line"><span class="lineno"> 4603</span>                    <span class="stringliteral">&quot;%&quot;</span> <a class="code hl_define" href="civetweb_8c.html#a21ef7c3a4e9f99f62cf64329f965d2ed">UINT64_FMT</a>,</div>
<div class="line"><span class="lineno"> 4604</span>                    (uint64_t)content_length);</div>
<div class="line"><span class="lineno"> 4605</span>        <span class="keywordflow">if</span> (!trunc) {</div>
<div class="line"><span class="lineno"> 4606</span>            <span class="comment">/* Since 32 bytes is enough to hold any 64 bit decimal number,</span></div>
<div class="line"><span class="lineno"> 4607</span><span class="comment">             * !trunc is always true */</span></div>
<div class="line"><span class="lineno"> 4608</span>            <a class="code hl_function" href="#a487cdeb41049480452d49e52a9f24465">mg_response_header_add</a>(conn, <span class="stringliteral">&quot;Content-Length&quot;</span>, len, -1);</div>
<div class="line"><span class="lineno"> 4609</span>        }</div>
<div class="line"><span class="lineno"> 4610</span>    }</div>
<div class="line"><span class="lineno"> 4611</span>    <a class="code hl_function" href="#a2ca8aca1da1713557d4eee7526887e12">mg_response_header_send</a>(conn);</div>
<div class="line"><span class="lineno"> 4612</span> </div>
<div class="line"><span class="lineno"> 4613</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 4614</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a12139285594e136f3f40ec07d2fdc5c5"><div class="ttname"><a href="civetweb_8c.html#a12139285594e136f3f40ec07d2fdc5c5">mime_type</a></div><div class="ttdeci">const char * mime_type</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l08224">civetweb.c:8224</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a21ef7c3a4e9f99f62cf64329f965d2ed"><div class="ttname"><a href="civetweb_8c.html#a21ef7c3a4e9f99f62cf64329f965d2ed">UINT64_FMT</a></div><div class="ttdeci">#define UINT64_FMT</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l00927">civetweb.c:927</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a4e9abca78e3f98b886081d15550f7fca"><div class="ttname"><a href="civetweb_8c.html#a4e9abca78e3f98b886081d15550f7fca">send_no_cache_header</a></div><div class="ttdeci">static void send_no_cache_header(struct mg_connection *conn)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l04056">civetweb.c:4056</a></div></div>
<div class="ttc" id="acivetweb_8c_html_ab79547a6cf8bca74eba39a0ff85cd091"><div class="ttname"><a href="civetweb_8c.html#ab79547a6cf8bca74eba39a0ff85cd091">send_additional_header</a></div><div class="ttdeci">static void send_additional_header(struct mg_connection *conn)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l04122">civetweb.c:4122</a></div></div>
<div class="ttc" id="acivetweb_8c_html_acce3a614f601b06f0120faad9421e25f"><div class="ttname"><a href="civetweb_8c.html#acce3a614f601b06f0120faad9421e25f">send_cors_header</a></div><div class="ttdeci">static void send_cors_header(struct mg_connection *conn)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l04149">civetweb.c:4149</a></div></div>
<div class="ttc" id="acivetweb_8c_html_adc29c2ff13d900c2f185ee95427fb06ca08c5b02481f2ffa664c433f236d59e78"><div class="ttname"><a href="civetweb_8c.html#adc29c2ff13d900c2f185ee95427fb06ca08c5b02481f2ffa664c433f236d59e78">PROTOCOL_TYPE_HTTP1</a></div><div class="ttdeci">@ PROTOCOL_TYPE_HTTP1</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02466">civetweb.c:2466</a></div></div>
<div class="ttc" id="acivetweb_8h_html_a2ca8aca1da1713557d4eee7526887e12"><div class="ttname"><a href="#a2ca8aca1da1713557d4eee7526887e12">mg_response_header_send</a></div><div class="ttdeci">CIVETWEB_API int mg_response_header_send(struct mg_connection *conn)</div></div>
<div class="ttc" id="acivetweb_8h_html_a487cdeb41049480452d49e52a9f24465"><div class="ttname"><a href="#a487cdeb41049480452d49e52a9f24465">mg_response_header_add</a></div><div class="ttdeci">CIVETWEB_API int mg_response_header_add(struct mg_connection *conn, const char *header, const char *value, int value_len)</div></div>
<div class="ttc" id="acivetweb_8h_html_acf61373a94705446c56f0331639dd619"><div class="ttname"><a href="#acf61373a94705446c56f0331639dd619">mg_response_header_start</a></div><div class="ttdeci">CIVETWEB_API int mg_response_header_start(struct mg_connection *conn, int status)</div></div>
<div class="ttc" id="astructmg__connection_html_a7afb014954a870291a215479a81fc242"><div class="ttname"><a href="structmg__connection.html#a7afb014954a870291a215479a81fc242">mg_connection::protocol_type</a></div><div class="ttdeci">int protocol_type</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02487">civetweb.c:2487</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#a487cdeb41049480452d49e52a9f24465">mg_response_header_add()</a>, <a class="el" href="#a2ca8aca1da1713557d4eee7526887e12">mg_response_header_send()</a>, <a class="el" href="#acf61373a94705446c56f0331639dd619">mg_response_header_start()</a>, <a class="el" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf()</a>, <a class="el" href="civetweb_8c_source.html#l08224">mime_type</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, <a class="el" href="civetweb_8c_source.html#l02487">mg_connection::protocol_type</a>, <a class="el" href="civetweb_8c_source.html#l02466">PROTOCOL_TYPE_HTTP1</a>, <a class="el" href="civetweb_8c_source.html#l04122">send_additional_header()</a>, <a class="el" href="civetweb_8c_source.html#l04149">send_cors_header()</a>, <a class="el" href="civetweb_8c_source.html#l04056">send_no_cache_header()</a>, and <a class="el" href="civetweb_8c_source.html#l00927">UINT64_FMT</a>.</p>

</div>
</div>
<a id="acbacd157c3e4a32ef99a0088a36e06af" name="acbacd157c3e4a32ef99a0088a36e06af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbacd157c3e4a32ef99a0088a36e06af">&#9670;&#160;</a></span>mg_send_http_redirect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_send_http_redirect </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>target_url</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>redirect_code</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l04618">4618</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4621</span>{</div>
<div class="line"><span class="lineno"> 4622</span>    <span class="comment">/* Send a 30x redirect response.</span></div>
<div class="line"><span class="lineno"> 4623</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno"> 4624</span><span class="comment">     * Redirect types (status codes):</span></div>
<div class="line"><span class="lineno"> 4625</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno"> 4626</span><span class="comment">     * Status | Perm/Temp | Method              | Version</span></div>
<div class="line"><span class="lineno"> 4627</span><span class="comment">     *   301  | permanent | POST-&gt;GET undefined | HTTP/1.0</span></div>
<div class="line"><span class="lineno"> 4628</span><span class="comment">     *   302  | temporary | POST-&gt;GET undefined | HTTP/1.0</span></div>
<div class="line"><span class="lineno"> 4629</span><span class="comment">     *   303  | temporary | always use GET      | HTTP/1.1</span></div>
<div class="line"><span class="lineno"> 4630</span><span class="comment">     *   307  | temporary | always keep method  | HTTP/1.1</span></div>
<div class="line"><span class="lineno"> 4631</span><span class="comment">     *   308  | permanent | always keep method  | HTTP/1.1</span></div>
<div class="line"><span class="lineno"> 4632</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 4633</span> </div>
<div class="line"><span class="lineno"> 4634</span><span class="preprocessor">#if defined(MG_SEND_REDIRECT_BODY)</span></div>
<div class="line"><span class="lineno"> 4635</span>    <span class="keywordtype">char</span> redirect_body[<a class="code hl_define" href="civetweb_8c.html#ac22a8a822b8728d8cd7e2718749f3ca4">MG_BUF_LEN</a>];</div>
<div class="line"><span class="lineno"> 4636</span>    <span class="keywordtype">size_t</span> content_len = 0;</div>
<div class="line"><span class="lineno"> 4637</span>    <span class="keywordtype">char</span> content_len_text[32];</div>
<div class="line"><span class="lineno"> 4638</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 4639</span> </div>
<div class="line"><span class="lineno"> 4640</span>    <span class="comment">/* In case redirect_code=0, use 307. */</span></div>
<div class="line"><span class="lineno"> 4641</span>    <span class="keywordflow">if</span> (redirect_code == 0) {</div>
<div class="line"><span class="lineno"> 4642</span>        redirect_code = 307;</div>
<div class="line"><span class="lineno"> 4643</span>    }</div>
<div class="line"><span class="lineno"> 4644</span> </div>
<div class="line"><span class="lineno"> 4645</span>    <span class="comment">/* In case redirect_code is none of the above, return error. */</span></div>
<div class="line"><span class="lineno"> 4646</span>    <span class="keywordflow">if</span> ((redirect_code != 301) &amp;&amp; (redirect_code != 302)</div>
<div class="line"><span class="lineno"> 4647</span>        &amp;&amp; (redirect_code != 303) &amp;&amp; (redirect_code != 307)</div>
<div class="line"><span class="lineno"> 4648</span>        &amp;&amp; (redirect_code != 308)) {</div>
<div class="line"><span class="lineno"> 4649</span>        <span class="comment">/* Parameter error */</span></div>
<div class="line"><span class="lineno"> 4650</span>        <span class="keywordflow">return</span> -2;</div>
<div class="line"><span class="lineno"> 4651</span>    }</div>
<div class="line"><span class="lineno"> 4652</span> </div>
<div class="line"><span class="lineno"> 4653</span>    <span class="comment">/* If target_url is not defined, redirect to &quot;/&quot;. */</span></div>
<div class="line"><span class="lineno"> 4654</span>    <span class="keywordflow">if</span> ((target_url == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (*target_url == 0)) {</div>
<div class="line"><span class="lineno"> 4655</span>        target_url = <span class="stringliteral">&quot;/&quot;</span>;</div>
<div class="line"><span class="lineno"> 4656</span>    }</div>
<div class="line"><span class="lineno"> 4657</span> </div>
<div class="line"><span class="lineno"> 4658</span><span class="preprocessor">#if defined(MG_SEND_REDIRECT_BODY)</span></div>
<div class="line"><span class="lineno"> 4659</span>    <span class="comment">/* TODO: condition name? */</span></div>
<div class="line"><span class="lineno"> 4660</span> </div>
<div class="line"><span class="lineno"> 4661</span>    <span class="comment">/* Prepare a response body with a hyperlink.</span></div>
<div class="line"><span class="lineno"> 4662</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno"> 4663</span><span class="comment">     * According to RFC2616 (and RFC1945 before):</span></div>
<div class="line"><span class="lineno"> 4664</span><span class="comment">     * Unless the request method was HEAD, the entity of the</span></div>
<div class="line"><span class="lineno"> 4665</span><span class="comment">     * response SHOULD contain a short hypertext note with a hyperlink to</span></div>
<div class="line"><span class="lineno"> 4666</span><span class="comment">     * the new URI(s).</span></div>
<div class="line"><span class="lineno"> 4667</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno"> 4668</span><span class="comment">     * However, this response body is not useful in M2M communication.</span></div>
<div class="line"><span class="lineno"> 4669</span><span class="comment">     * Probably the original reason in the RFC was, clients not supporting</span></div>
<div class="line"><span class="lineno"> 4670</span><span class="comment">     * a 30x HTTP redirect could still show the HTML page and let the user</span></div>
<div class="line"><span class="lineno"> 4671</span><span class="comment">     * press the link. Since current browsers support 30x HTTP, the additional</span></div>
<div class="line"><span class="lineno"> 4672</span><span class="comment">     * HTML body does not seem to make sense anymore.</span></div>
<div class="line"><span class="lineno"> 4673</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno"> 4674</span><span class="comment">     * The new RFC7231 (Section 6.4) does no longer recommend it (&quot;SHOULD&quot;),</span></div>
<div class="line"><span class="lineno"> 4675</span><span class="comment">     * but it only notes:</span></div>
<div class="line"><span class="lineno"> 4676</span><span class="comment">     * The server&#39;s response payload usually contains a short</span></div>
<div class="line"><span class="lineno"> 4677</span><span class="comment">     * hypertext note with a hyperlink to the new URI(s).</span></div>
<div class="line"><span class="lineno"> 4678</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno"> 4679</span><span class="comment">     * Deactivated by default. If you need the 30x body, set the define.</span></div>
<div class="line"><span class="lineno"> 4680</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 4681</span>    <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(</div>
<div class="line"><span class="lineno"> 4682</span>        conn,</div>
<div class="line"><span class="lineno"> 4683</span>        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> <span class="comment">/* ignore truncation */</span>,</div>
<div class="line"><span class="lineno"> 4684</span>        redirect_body,</div>
<div class="line"><span class="lineno"> 4685</span>        <span class="keyword">sizeof</span>(redirect_body),</div>
<div class="line"><span class="lineno"> 4686</span>        <span class="stringliteral">&quot;&lt;html&gt;&lt;head&gt;%s&lt;/head&gt;&lt;body&gt;&lt;a href=\&quot;%s\&quot;&gt;%s&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span>,</div>
<div class="line"><span class="lineno"> 4687</span>        redirect_text,</div>
<div class="line"><span class="lineno"> 4688</span>        target_url,</div>
<div class="line"><span class="lineno"> 4689</span>        target_url);</div>
<div class="line"><span class="lineno"> 4690</span>    content_len = strlen(reply);</div>
<div class="line"><span class="lineno"> 4691</span>    sprintf(content_len_text, <span class="stringliteral">&quot;%lu&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)content_len);</div>
<div class="line"><span class="lineno"> 4692</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 4693</span> </div>
<div class="line"><span class="lineno"> 4694</span>    <span class="comment">/* Send all required headers */</span></div>
<div class="line"><span class="lineno"> 4695</span>    <a class="code hl_function" href="#acf61373a94705446c56f0331639dd619">mg_response_header_start</a>(conn, redirect_code);</div>
<div class="line"><span class="lineno"> 4696</span>    <a class="code hl_function" href="#a487cdeb41049480452d49e52a9f24465">mg_response_header_add</a>(conn, <span class="stringliteral">&quot;Location&quot;</span>, target_url, -1);</div>
<div class="line"><span class="lineno"> 4697</span>    <span class="keywordflow">if</span> ((redirect_code == 301) || (redirect_code == 308)) {</div>
<div class="line"><span class="lineno"> 4698</span>        <span class="comment">/* Permanent redirect */</span></div>
<div class="line"><span class="lineno"> 4699</span>        <a class="code hl_function" href="civetweb_8c.html#a229f03c60c42b8f390449a8e1324f22f">send_static_cache_header</a>(conn);</div>
<div class="line"><span class="lineno"> 4700</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4701</span>        <span class="comment">/* Temporary redirect */</span></div>
<div class="line"><span class="lineno"> 4702</span>        <a class="code hl_function" href="civetweb_8c.html#a4e9abca78e3f98b886081d15550f7fca">send_no_cache_header</a>(conn);</div>
<div class="line"><span class="lineno"> 4703</span>    }</div>
<div class="line"><span class="lineno"> 4704</span>    <a class="code hl_function" href="civetweb_8c.html#ab79547a6cf8bca74eba39a0ff85cd091">send_additional_header</a>(conn);</div>
<div class="line"><span class="lineno"> 4705</span>    <a class="code hl_function" href="civetweb_8c.html#acce3a614f601b06f0120faad9421e25f">send_cors_header</a>(conn);</div>
<div class="line"><span class="lineno"> 4706</span><span class="preprocessor">#if defined(MG_SEND_REDIRECT_BODY)</span></div>
<div class="line"><span class="lineno"> 4707</span>    <a class="code hl_function" href="#a487cdeb41049480452d49e52a9f24465">mg_response_header_add</a>(conn, <span class="stringliteral">&quot;Content-Type&quot;</span>, <span class="stringliteral">&quot;text/html&quot;</span>, -1);</div>
<div class="line"><span class="lineno"> 4708</span>    <a class="code hl_function" href="#a487cdeb41049480452d49e52a9f24465">mg_response_header_add</a>(conn, <span class="stringliteral">&quot;Content-Length&quot;</span>, content_len_text, -1);</div>
<div class="line"><span class="lineno"> 4709</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 4710</span>    <a class="code hl_function" href="#a487cdeb41049480452d49e52a9f24465">mg_response_header_add</a>(conn, <span class="stringliteral">&quot;Content-Length&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, 1);</div>
<div class="line"><span class="lineno"> 4711</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 4712</span>    <a class="code hl_function" href="#a2ca8aca1da1713557d4eee7526887e12">mg_response_header_send</a>(conn);</div>
<div class="line"><span class="lineno"> 4713</span> </div>
<div class="line"><span class="lineno"> 4714</span><span class="preprocessor">#if defined(MG_SEND_REDIRECT_BODY)</span></div>
<div class="line"><span class="lineno"> 4715</span>    <span class="comment">/* Send response body */</span></div>
<div class="line"><span class="lineno"> 4716</span>    <span class="comment">/* ... unless it is a HEAD request */</span></div>
<div class="line"><span class="lineno"> 4717</span>    <span class="keywordflow">if</span> (0 != strcmp(conn-&gt;<a class="code hl_variable" href="structmg__connection.html#ab2c448b0d885bca25578872ca4362c89">request_info</a>.<a class="code hl_variable" href="structmg__request__info.html#a70b531b329bd93e4850c2544893fa9a8">request_method</a>, <span class="stringliteral">&quot;HEAD&quot;</span>)) {</div>
<div class="line"><span class="lineno"> 4718</span>        ret = <a class="code hl_function" href="civetweb_8c.html#a6e7dd65d54025f881bb4d95986fc2581">mg_write</a>(conn, redirect_body, content_len);</div>
<div class="line"><span class="lineno"> 4719</span>    }</div>
<div class="line"><span class="lineno"> 4720</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 4721</span> </div>
<div class="line"><span class="lineno"> 4722</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 4723</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a229f03c60c42b8f390449a8e1324f22f"><div class="ttname"><a href="civetweb_8c.html#a229f03c60c42b8f390449a8e1324f22f">send_static_cache_header</a></div><div class="ttdeci">static void send_static_cache_header(struct mg_connection *conn)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l04074">civetweb.c:4074</a></div></div>
<div class="ttc" id="acivetweb_8c_html_ac22a8a822b8728d8cd7e2718749f3ca4"><div class="ttname"><a href="civetweb_8c.html#ac22a8a822b8728d8cd7e2718749f3ca4">MG_BUF_LEN</a></div><div class="ttdeci">#define MG_BUF_LEN</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l00498">civetweb.c:498</a></div></div>
<div class="ttc" id="astructmg__request__info_html_a70b531b329bd93e4850c2544893fa9a8"><div class="ttname"><a href="structmg__request__info.html#a70b531b329bd93e4850c2544893fa9a8">mg_request_info::request_method</a></div><div class="ttdeci">const char * request_method</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00151">civetweb.h:151</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l00498">MG_BUF_LEN</a>, <a class="el" href="#a487cdeb41049480452d49e52a9f24465">mg_response_header_add()</a>, <a class="el" href="#a2ca8aca1da1713557d4eee7526887e12">mg_response_header_send()</a>, <a class="el" href="#acf61373a94705446c56f0331639dd619">mg_response_header_start()</a>, <a class="el" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf()</a>, <a class="el" href="civetweb_8c_source.html#l06779">mg_write()</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, <a class="el" href="civetweb_8c_source.html#l02494">mg_connection::request_info</a>, <a class="el" href="civetweb_8h_source.html#l00151">mg_request_info::request_method</a>, <a class="el" href="civetweb_8c_source.html#l04122">send_additional_header()</a>, <a class="el" href="civetweb_8c_source.html#l04149">send_cors_header()</a>, <a class="el" href="civetweb_8c_source.html#l04056">send_no_cache_header()</a>, and <a class="el" href="civetweb_8c_source.html#l04074">send_static_cache_header()</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l14704">handle_request()</a>, and <a class="el" href="civetweb_8c_source.html#l14235">redirect_to_https_port()</a>.</p>

</div>
</div>
<a id="a1999d3a7cd176207cc30dcc3205a57c3" name="a1999d3a7cd176207cc30dcc3205a57c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1999d3a7cd176207cc30dcc3205a57c3">&#9670;&#160;</a></span>mg_send_mime_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void mg_send_mime_file </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>mime_type</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l10517">10517</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">10520</span>{</div>
<div class="line"><span class="lineno">10521</span>    <a class="code hl_function" href="civetweb_8c.html#ac7547ded66b30ef8d6924f8b8734cfe3">mg_send_mime_file2</a>(conn, path, <a class="code hl_variable" href="civetweb_8c.html#a12139285594e136f3f40ec07d2fdc5c5">mime_type</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">10522</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l10526">mg_send_mime_file2()</a>, <a class="el" href="civetweb_8c_source.html#l08224">mime_type</a>, and <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>.</p>

</div>
</div>
<a id="ac7547ded66b30ef8d6924f8b8734cfe3" name="ac7547ded66b30ef8d6924f8b8734cfe3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7547ded66b30ef8d6924f8b8734cfe3">&#9670;&#160;</a></span>mg_send_mime_file2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void mg_send_mime_file2 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>mime_type</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>additional_headers</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l10526">10526</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">10530</span>{</div>
<div class="line"><span class="lineno">10531</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structmg__file.html">mg_file</a> file = <a class="code hl_define" href="civetweb_8c.html#af7932a261d02cf4b8431793664a4585b">STRUCT_FILE_INITIALIZER</a>;</div>
<div class="line"><span class="lineno">10532</span> </div>
<div class="line"><span class="lineno">10533</span>    <span class="keywordflow">if</span> (!conn) {</div>
<div class="line"><span class="lineno">10534</span>        <span class="comment">/* No conn */</span></div>
<div class="line"><span class="lineno">10535</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">10536</span>    }</div>
<div class="line"><span class="lineno">10537</span> </div>
<div class="line"><span class="lineno">10538</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="civetweb_8c.html#a97625a7b1941b770798e090232bdfb6f">mg_stat</a>(conn, path, &amp;file.<a class="code hl_variable" href="structmg__file.html#a3879afe201c7dfb12c2d3fe73c7c66c7">stat</a>)) {</div>
<div class="line"><span class="lineno">10539</span><span class="preprocessor">#if !defined(NO_CACHING)</span></div>
<div class="line"><span class="lineno">10540</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="civetweb_8c.html#aa81530fc67a88c3191c00c52ec06065b">is_not_modified</a>(conn, &amp;file.<a class="code hl_variable" href="structmg__file.html#a3879afe201c7dfb12c2d3fe73c7c66c7">stat</a>)) {</div>
<div class="line"><span class="lineno">10541</span>            <span class="comment">/* Send 304 &quot;Not Modified&quot; - this must not send any body data */</span></div>
<div class="line"><span class="lineno">10542</span>            <a class="code hl_function" href="civetweb_8c.html#ae261fe366cffadac8da5a02c285b9653">handle_not_modified_static_file_request</a>(conn, &amp;file);</div>
<div class="line"><span class="lineno">10543</span>        } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">10544</span><span class="preprocessor">#endif </span><span class="comment">/* NO_CACHING */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">10545</span>            <span class="keywordflow">if</span> (file.<a class="code hl_variable" href="structmg__file.html#a3879afe201c7dfb12c2d3fe73c7c66c7">stat</a>.<a class="code hl_variable" href="structmg__file__stat.html#a87c1476af755c86fc992b2fff8b210f6">is_directory</a>) {</div>
<div class="line"><span class="lineno">10546</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="civetweb_8c.html#a5d0ea93d3ec8a90e631f7e7f53d28628">mg_strcasecmp</a>(conn-&gt;<a class="code hl_variable" href="structmg__connection.html#abb30f6262885e94b0242e7e85960caaf">dom_ctx</a>-&gt;<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55ba00459f3ca65ce96fa33c3d5230624328">ENABLE_DIRECTORY_LISTING</a>],</div>
<div class="line"><span class="lineno">10547</span>                               <span class="stringliteral">&quot;yes&quot;</span>)) {</div>
<div class="line"><span class="lineno">10548</span>                <a class="code hl_function" href="civetweb_8c.html#a7b85ac81c14209bfd8102abe7af190f7">handle_directory_request</a>(conn, path);</div>
<div class="line"><span class="lineno">10549</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">10550</span>                <a class="code hl_function" href="civetweb_8c.html#aca46fdde7db996eb011a1ac6a28bea98">mg_send_http_error</a>(conn,</div>
<div class="line"><span class="lineno">10551</span>                                   403,</div>
<div class="line"><span class="lineno">10552</span>                                   <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><span class="lineno">10553</span>                                   <span class="stringliteral">&quot;Error: Directory listing denied&quot;</span>);</div>
<div class="line"><span class="lineno">10554</span>            }</div>
<div class="line"><span class="lineno">10555</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">10556</span>            <a class="code hl_function" href="civetweb_8c.html#a35e5540a0d567e223008b77b2bacb2d5">handle_static_file_request</a>(</div>
<div class="line"><span class="lineno">10557</span>                conn, path, &amp;file, <a class="code hl_variable" href="civetweb_8c.html#a12139285594e136f3f40ec07d2fdc5c5">mime_type</a>, additional_headers);</div>
<div class="line"><span class="lineno">10558</span>        }</div>
<div class="line"><span class="lineno">10559</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">10560</span>        <a class="code hl_function" href="civetweb_8c.html#aca46fdde7db996eb011a1ac6a28bea98">mg_send_http_error</a>(conn, 404, <span class="stringliteral">&quot;%s&quot;</span>, <span class="stringliteral">&quot;Error: File not found&quot;</span>);</div>
<div class="line"><span class="lineno">10561</span>    }</div>
<div class="line"><span class="lineno">10562</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a06fc87d81c62e9abb8790b6e5713c55ba00459f3ca65ce96fa33c3d5230624328"><div class="ttname"><a href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55ba00459f3ca65ce96fa33c3d5230624328">ENABLE_DIRECTORY_LISTING</a></div><div class="ttdeci">@ ENABLE_DIRECTORY_LISTING</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02002">civetweb.c:2002</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a35e5540a0d567e223008b77b2bacb2d5"><div class="ttname"><a href="civetweb_8c.html#a35e5540a0d567e223008b77b2bacb2d5">handle_static_file_request</a></div><div class="ttdeci">static void handle_static_file_request(struct mg_connection *conn, const char *path, struct mg_file *filep, const char *mime_type, const char *additional_headers)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l10220">civetweb.c:10220</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a7b85ac81c14209bfd8102abe7af190f7"><div class="ttname"><a href="civetweb_8c.html#a7b85ac81c14209bfd8102abe7af190f7">handle_directory_request</a></div><div class="ttdeci">static void handle_directory_request(struct mg_connection *conn, const char *dir)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l09942">civetweb.c:9942</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a97625a7b1941b770798e090232bdfb6f"><div class="ttname"><a href="civetweb_8c.html#a97625a7b1941b770798e090232bdfb6f">mg_stat</a></div><div class="ttdeci">static int mg_stat(const struct mg_connection *conn, const char *path, struct mg_file_stat *filep)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l05650">civetweb.c:5650</a></div></div>
<div class="ttc" id="acivetweb_8c_html_aa81530fc67a88c3191c00c52ec06065b"><div class="ttname"><a href="civetweb_8c.html#aa81530fc67a88c3191c00c52ec06065b">is_not_modified</a></div><div class="ttdeci">static int is_not_modified(const struct mg_connection *conn, const struct mg_file_stat *filestat)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l10468">civetweb.c:10468</a></div></div>
<div class="ttc" id="acivetweb_8c_html_aca46fdde7db996eb011a1ac6a28bea98"><div class="ttname"><a href="civetweb_8c.html#aca46fdde7db996eb011a1ac6a28bea98">mg_send_http_error</a></div><div class="ttdeci">CIVETWEB_API int mg_send_http_error(struct mg_connection *conn, int status, const char *fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l04562">civetweb.c:4562</a></div></div>
<div class="ttc" id="acivetweb_8c_html_ae261fe366cffadac8da5a02c285b9653"><div class="ttname"><a href="civetweb_8c.html#ae261fe366cffadac8da5a02c285b9653">handle_not_modified_static_file_request</a></div><div class="ttdeci">static void handle_not_modified_static_file_request(struct mg_connection *conn, struct mg_file *filep)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l10483">civetweb.c:10483</a></div></div>
<div class="ttc" id="astructmg__file__stat_html_a87c1476af755c86fc992b2fff8b210f6"><div class="ttname"><a href="structmg__file__stat.html#a87c1476af755c86fc992b2fff8b210f6">mg_file_stat::is_directory</a></div><div class="ttdeci">int is_directory</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01873">civetweb.c:1873</a></div></div>
<div class="ttc" id="astructmg__file_html_a3879afe201c7dfb12c2d3fe73c7c66c7"><div class="ttname"><a href="structmg__file.html#a3879afe201c7dfb12c2d3fe73c7c66c7">mg_file::stat</a></div><div class="ttdeci">struct mg_file_stat stat</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01886">civetweb.c:1886</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l02271">mg_domain_context::config</a>, <a class="el" href="civetweb_8c_source.html#l02498">mg_connection::dom_ctx</a>, <a class="el" href="civetweb_8c_source.html#l02002">ENABLE_DIRECTORY_LISTING</a>, <a class="el" href="civetweb_8c_source.html#l09942">handle_directory_request()</a>, <a class="el" href="civetweb_8c_source.html#l10483">handle_not_modified_static_file_request()</a>, <a class="el" href="civetweb_8c_source.html#l10220">handle_static_file_request()</a>, <a class="el" href="civetweb_8c_source.html#l01873">mg_file_stat::is_directory</a>, <a class="el" href="civetweb_8c_source.html#l10468">is_not_modified()</a>, <a class="el" href="civetweb_8c_source.html#l04562">mg_send_http_error()</a>, <a class="el" href="civetweb_8c_source.html#l05650">mg_stat()</a>, <a class="el" href="civetweb_8c_source.html#l03034">mg_strcasecmp()</a>, <a class="el" href="civetweb_8c_source.html#l08224">mime_type</a>, <a class="el" href="civetweb_8c_source.html#l01886">mg_file::stat</a>, and <a class="el" href="civetweb_8c_source.html#l01891">STRUCT_FILE_INITIALIZER</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l10510">mg_send_file()</a>, and <a class="el" href="civetweb_8c_source.html#l10517">mg_send_mime_file()</a>.</p>

</div>
</div>
<a id="a8cacb89c8bc07d18aa4d895d154653a9" name="a8cacb89c8bc07d18aa4d895d154653a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cacb89c8bc07d18aa4d895d154653a9">&#9670;&#160;</a></span>mg_set_auth_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void mg_set_auth_handler </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__context.html">mg_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>uri</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a3e8733a4d6d7ae85f0daec45df36f024">mg_authorization_handler</a></td>          <td class="paramname"><span class="paramname"><em>handler</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cbdata</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l14538">14538</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">14542</span>{</div>
<div class="line"><span class="lineno">14543</span>    <a class="code hl_function" href="civetweb_8c.html#aab7fcd7152bcc85bd49b2422f520db2f">mg_set_handler_type</a>(ctx,</div>
<div class="line"><span class="lineno">14544</span>                        &amp;(ctx-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>),</div>
<div class="line"><span class="lineno">14545</span>                        uri,</div>
<div class="line"><span class="lineno">14546</span>                        <a class="code hl_enumvalue" href="civetweb_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a8617f4f76318f5c524016c5bc6fa864c">AUTH_HANDLER</a>,</div>
<div class="line"><span class="lineno">14547</span>                        handler == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">14548</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">14549</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">14550</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">14551</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">14552</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">14553</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">14554</span>                        handler,</div>
<div class="line"><span class="lineno">14555</span>                        cbdata);</div>
<div class="line"><span class="lineno">14556</span>}</div>
<div class="ttc" id="acivetweb_8c_html_aab7fcd7152bcc85bd49b2422f520db2f"><div class="ttname"><a href="civetweb_8c.html#aab7fcd7152bcc85bd49b2422f520db2f">mg_set_handler_type</a></div><div class="ttdeci">static void mg_set_handler_type(struct mg_context *phys_ctx, struct mg_domain_context *dom_ctx, const char *uri, int handler_type, int is_delete_request, mg_request_handler handler, struct mg_websocket_subprotocols *subprotocols, mg_websocket_connect_handler connect_handler, mg_websocket_ready_handler ready_handler, mg_websocket_data_handler data_handler, mg_websocket_close_handler close_handler, mg_authorization_handler auth_handler, void *cbdata)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l14280">civetweb.c:14280</a></div></div>
<div class="ttc" id="acivetweb_8c_html_adf764cbdea00d65edcd07bb9953ad2b7a8617f4f76318f5c524016c5bc6fa864c"><div class="ttname"><a href="civetweb_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a8617f4f76318f5c524016c5bc6fa864c">AUTH_HANDLER</a></div><div class="ttdeci">@ AUTH_HANDLER</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02225">civetweb.c:2225</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l02225">AUTH_HANDLER</a>, <a class="el" href="civetweb_8c_source.html#l02254">mg_handler_info::cbdata</a>, <a class="el" href="civetweb_8c_source.html#l02442">mg_context::dd</a>, <a class="el" href="civetweb_8c_source.html#l02237">mg_handler_info::handler</a>, <a class="el" href="civetweb_8c_source.html#l14280">mg_set_handler_type()</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, and <a class="el" href="civetweb_8c_source.html#l02230">mg_handler_info::uri</a>.</p>

</div>
</div>
<a id="aef622eb42a2ac7fcc825620b952a36dc" name="aef622eb42a2ac7fcc825620b952a36dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef622eb42a2ac7fcc825620b952a36dc">&#9670;&#160;</a></span>mg_set_request_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void mg_set_request_handler </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__context.html">mg_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>uri</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ac452a63f6ff0d7fd18a143de72a7fd08">mg_request_handler</a></td>          <td class="paramname"><span class="paramname"><em>handler</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cbdata</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l14466">14466</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">14470</span>{</div>
<div class="line"><span class="lineno">14471</span>    <a class="code hl_function" href="civetweb_8c.html#aab7fcd7152bcc85bd49b2422f520db2f">mg_set_handler_type</a>(ctx,</div>
<div class="line"><span class="lineno">14472</span>                        &amp;(ctx-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>),</div>
<div class="line"><span class="lineno">14473</span>                        uri,</div>
<div class="line"><span class="lineno">14474</span>                        <a class="code hl_enumvalue" href="civetweb_8c.html#adf764cbdea00d65edcd07bb9953ad2b7aeb4819ce8254cd0515c896d0d479aa0e">REQUEST_HANDLER</a>,</div>
<div class="line"><span class="lineno">14475</span>                        handler == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">14476</span>                        handler,</div>
<div class="line"><span class="lineno">14477</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">14478</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">14479</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">14480</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">14481</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">14482</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">14483</span>                        cbdata);</div>
<div class="line"><span class="lineno">14484</span>}</div>
<div class="ttc" id="acivetweb_8c_html_adf764cbdea00d65edcd07bb9953ad2b7aeb4819ce8254cd0515c896d0d479aa0e"><div class="ttname"><a href="civetweb_8c.html#adf764cbdea00d65edcd07bb9953ad2b7aeb4819ce8254cd0515c896d0d479aa0e">REQUEST_HANDLER</a></div><div class="ttdeci">@ REQUEST_HANDLER</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02225">civetweb.c:2225</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l02254">mg_handler_info::cbdata</a>, <a class="el" href="civetweb_8c_source.html#l02442">mg_context::dd</a>, <a class="el" href="civetweb_8c_source.html#l02237">mg_handler_info::handler</a>, <a class="el" href="civetweb_8c_source.html#l14280">mg_set_handler_type()</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, <a class="el" href="civetweb_8c_source.html#l02225">REQUEST_HANDLER</a>, and <a class="el" href="civetweb_8c_source.html#l02230">mg_handler_info::uri</a>.</p>

<p class="reference">Referenced by <a class="el" href="server_8c_source.html#l00059">start_http_server()</a>.</p>

</div>
</div>
<a id="a1f8bcc4ab7528a62367e661419f944f5" name="a1f8bcc4ab7528a62367e661419f944f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f8bcc4ab7528a62367e661419f944f5">&#9670;&#160;</a></span>mg_set_user_connection_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void mg_set_user_connection_data </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l03225">3225</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3226</span>{</div>
<div class="line"><span class="lineno"> 3227</span>    <span class="keywordflow">if</span> (const_conn != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno"> 3228</span>        <span class="comment">/* Const cast, since &quot;const struct mg_connection *&quot; does not mean</span></div>
<div class="line"><span class="lineno"> 3229</span><span class="comment">         * the connection object is not modified. Here &quot;const&quot; is used,</span></div>
<div class="line"><span class="lineno"> 3230</span><span class="comment">         * to indicate mg_read/mg_write/mg_send/.. must not be called. */</span></div>
<div class="line"><span class="lineno"> 3231</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structmg__connection.html">mg_connection</a> *conn = (<span class="keyword">struct </span><a class="code hl_struct" href="structmg__connection.html">mg_connection</a> *)const_conn;</div>
<div class="line"><span class="lineno"> 3232</span>        conn-&gt;<a class="code hl_variable" href="structmg__connection.html#ab2c448b0d885bca25578872ca4362c89">request_info</a>.<a class="code hl_variable" href="structmg__request__info.html#aad3d4e3de727f7424ff7526ed085716e">conn_data</a> = data;</div>
<div class="line"><span class="lineno"> 3233</span>    }</div>
<div class="line"><span class="lineno"> 3234</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8h_source.html#l00176">mg_request_info::conn_data</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, and <a class="el" href="civetweb_8c_source.html#l02494">mg_connection::request_info</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l17864">close_connection()</a>, and <a class="el" href="civetweb_8c_source.html#l19329">init_connection()</a>.</p>

</div>
</div>
<a id="a37cd18006941f3abb1538db60cf4f805" name="a37cd18006941f3abb1538db60cf4f805"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37cd18006941f3abb1538db60cf4f805">&#9670;&#160;</a></span>mg_set_websocket_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void mg_set_websocket_handler </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__context.html">mg_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>uri</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ae1e201a8ea4f6895a8cc4e2e2c58da03">mg_websocket_connect_handler</a></td>          <td class="paramname"><span class="paramname"><em>connect_handler</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a5b940f052d5de72f651a9a1e810bed0f">mg_websocket_ready_handler</a></td>          <td class="paramname"><span class="paramname"><em>ready_handler</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ac0e8e90ed1e8b0af95b9a940f6fee3a9">mg_websocket_data_handler</a></td>          <td class="paramname"><span class="paramname"><em>data_handler</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ad7e7633a49e5a5e748b0c8bdb22c336d">mg_websocket_close_handler</a></td>          <td class="paramname"><span class="paramname"><em>close_handler</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cbdata</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l14488">14488</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">14495</span>{</div>
<div class="line"><span class="lineno">14496</span>    <a class="code hl_function" href="civetweb_8c.html#a07eff82d8b7be88f16ba1a1653d09d3d">mg_set_websocket_handler_with_subprotocols</a>(ctx,</div>
<div class="line"><span class="lineno">14497</span>                                               uri,</div>
<div class="line"><span class="lineno">14498</span>                                               <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">14499</span>                                               connect_handler,</div>
<div class="line"><span class="lineno">14500</span>                                               ready_handler,</div>
<div class="line"><span class="lineno">14501</span>                                               data_handler,</div>
<div class="line"><span class="lineno">14502</span>                                               close_handler,</div>
<div class="line"><span class="lineno">14503</span>                                               cbdata);</div>
<div class="line"><span class="lineno">14504</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a07eff82d8b7be88f16ba1a1653d09d3d"><div class="ttname"><a href="civetweb_8c.html#a07eff82d8b7be88f16ba1a1653d09d3d">mg_set_websocket_handler_with_subprotocols</a></div><div class="ttdeci">CIVETWEB_API void mg_set_websocket_handler_with_subprotocols(struct mg_context *ctx, const char *uri, struct mg_websocket_subprotocols *subprotocols, mg_websocket_connect_handler connect_handler, mg_websocket_ready_handler ready_handler, mg_websocket_data_handler data_handler, mg_websocket_close_handler close_handler, void *cbdata)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l14508">civetweb.c:14508</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l02254">mg_handler_info::cbdata</a>, <a class="el" href="civetweb_8c_source.html#l02245">mg_handler_info::close_handler</a>, <a class="el" href="civetweb_8c_source.html#l02242">mg_handler_info::connect_handler</a>, <a class="el" href="civetweb_8c_source.html#l02244">mg_handler_info::data_handler</a>, <a class="el" href="civetweb_8c_source.html#l14508">mg_set_websocket_handler_with_subprotocols()</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, <a class="el" href="civetweb_8c_source.html#l02243">mg_handler_info::ready_handler</a>, and <a class="el" href="civetweb_8c_source.html#l02230">mg_handler_info::uri</a>.</p>

</div>
</div>
<a id="a07eff82d8b7be88f16ba1a1653d09d3d" name="a07eff82d8b7be88f16ba1a1653d09d3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07eff82d8b7be88f16ba1a1653d09d3d">&#9670;&#160;</a></span>mg_set_websocket_handler_with_subprotocols()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void mg_set_websocket_handler_with_subprotocols </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__context.html">mg_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>uri</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmg__websocket__subprotocols.html">mg_websocket_subprotocols</a> *</td>          <td class="paramname"><span class="paramname"><em>subprotocols</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ae1e201a8ea4f6895a8cc4e2e2c58da03">mg_websocket_connect_handler</a></td>          <td class="paramname"><span class="paramname"><em>connect_handler</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a5b940f052d5de72f651a9a1e810bed0f">mg_websocket_ready_handler</a></td>          <td class="paramname"><span class="paramname"><em>ready_handler</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ac0e8e90ed1e8b0af95b9a940f6fee3a9">mg_websocket_data_handler</a></td>          <td class="paramname"><span class="paramname"><em>data_handler</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ad7e7633a49e5a5e748b0c8bdb22c336d">mg_websocket_close_handler</a></td>          <td class="paramname"><span class="paramname"><em>close_handler</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cbdata</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l14508">14508</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">14517</span>{</div>
<div class="line"><span class="lineno">14518</span>    <span class="keywordtype">int</span> is_delete_request = (connect_handler == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (ready_handler == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno">14519</span>                            &amp;&amp; (data_handler == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno">14520</span>                            &amp;&amp; (close_handler == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">14521</span>    <a class="code hl_function" href="civetweb_8c.html#aab7fcd7152bcc85bd49b2422f520db2f">mg_set_handler_type</a>(ctx,</div>
<div class="line"><span class="lineno">14522</span>                        &amp;(ctx-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>),</div>
<div class="line"><span class="lineno">14523</span>                        uri,</div>
<div class="line"><span class="lineno">14524</span>                        <a class="code hl_enumvalue" href="civetweb_8c.html#adf764cbdea00d65edcd07bb9953ad2b7af74860d9cc9b0b1ddd9fb840147a8484">WEBSOCKET_HANDLER</a>,</div>
<div class="line"><span class="lineno">14525</span>                        is_delete_request,</div>
<div class="line"><span class="lineno">14526</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">14527</span>                        subprotocols,</div>
<div class="line"><span class="lineno">14528</span>                        connect_handler,</div>
<div class="line"><span class="lineno">14529</span>                        ready_handler,</div>
<div class="line"><span class="lineno">14530</span>                        data_handler,</div>
<div class="line"><span class="lineno">14531</span>                        close_handler,</div>
<div class="line"><span class="lineno">14532</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">14533</span>                        cbdata);</div>
<div class="line"><span class="lineno">14534</span>}</div>
<div class="ttc" id="acivetweb_8c_html_adf764cbdea00d65edcd07bb9953ad2b7af74860d9cc9b0b1ddd9fb840147a8484"><div class="ttname"><a href="civetweb_8c.html#adf764cbdea00d65edcd07bb9953ad2b7af74860d9cc9b0b1ddd9fb840147a8484">WEBSOCKET_HANDLER</a></div><div class="ttdeci">@ WEBSOCKET_HANDLER</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02225">civetweb.c:2225</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l02254">mg_handler_info::cbdata</a>, <a class="el" href="civetweb_8c_source.html#l02245">mg_handler_info::close_handler</a>, <a class="el" href="civetweb_8c_source.html#l02242">mg_handler_info::connect_handler</a>, <a class="el" href="civetweb_8c_source.html#l02244">mg_handler_info::data_handler</a>, <a class="el" href="civetweb_8c_source.html#l02442">mg_context::dd</a>, <a class="el" href="civetweb_8c_source.html#l14280">mg_set_handler_type()</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, <a class="el" href="civetweb_8c_source.html#l02243">mg_handler_info::ready_handler</a>, <a class="el" href="civetweb_8c_source.html#l02248">mg_handler_info::subprotocols</a>, <a class="el" href="civetweb_8c_source.html#l02230">mg_handler_info::uri</a>, and <a class="el" href="civetweb_8c_source.html#l02225">WEBSOCKET_HANDLER</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l14488">mg_set_websocket_handler()</a>.</p>

</div>
</div>
<a id="ae4568e555e11dae99b04de8c0a22e358" name="ae4568e555e11dae99b04de8c0a22e358"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4568e555e11dae99b04de8c0a22e358">&#9670;&#160;</a></span>mg_split_form_urlencoded()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_split_form_urlencoded </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmg__header.html">mg_header</a> *</td>          <td class="paramname"><span class="paramname"><em>form_fields</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>num_form_fields</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l07157">7157</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7160</span>{</div>
<div class="line"><span class="lineno"> 7161</span>    <span class="keywordtype">char</span> *b;</div>
<div class="line"><span class="lineno"> 7162</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno"> 7163</span>    <span class="keywordtype">int</span> num = 0;</div>
<div class="line"><span class="lineno"> 7164</span> </div>
<div class="line"><span class="lineno"> 7165</span>    <span class="keywordflow">if</span> (data == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno"> 7166</span>        <span class="comment">/* parameter error */</span></div>
<div class="line"><span class="lineno"> 7167</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 7168</span>    }</div>
<div class="line"><span class="lineno"> 7169</span> </div>
<div class="line"><span class="lineno"> 7170</span>    <span class="keywordflow">if</span> ((form_fields == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (num_form_fields == 0)) {</div>
<div class="line"><span class="lineno"> 7171</span>        <span class="comment">/* determine the number of expected fields */</span></div>
<div class="line"><span class="lineno"> 7172</span>        <span class="keywordflow">if</span> (data[0] == 0) {</div>
<div class="line"><span class="lineno"> 7173</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 7174</span>        }</div>
<div class="line"><span class="lineno"> 7175</span>        <span class="comment">/* count number of &amp; to return the number of key-value-pairs */</span></div>
<div class="line"><span class="lineno"> 7176</span>        num = 1;</div>
<div class="line"><span class="lineno"> 7177</span>        <span class="keywordflow">while</span> (*data) {</div>
<div class="line"><span class="lineno"> 7178</span>            <span class="keywordflow">if</span> (*data == <span class="charliteral">&#39;&amp;&#39;</span>) {</div>
<div class="line"><span class="lineno"> 7179</span>                num++;</div>
<div class="line"><span class="lineno"> 7180</span>            }</div>
<div class="line"><span class="lineno"> 7181</span>            data++;</div>
<div class="line"><span class="lineno"> 7182</span>        }</div>
<div class="line"><span class="lineno"> 7183</span>        <span class="keywordflow">return</span> num;</div>
<div class="line"><span class="lineno"> 7184</span>    }</div>
<div class="line"><span class="lineno"> 7185</span> </div>
<div class="line"><span class="lineno"> 7186</span>    <span class="keywordflow">if</span> ((form_fields == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || ((<span class="keywordtype">int</span>)num_form_fields &lt;= 0)) {</div>
<div class="line"><span class="lineno"> 7187</span>        <span class="comment">/* parameter error */</span></div>
<div class="line"><span class="lineno"> 7188</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 7189</span>    }</div>
<div class="line"><span class="lineno"> 7190</span> </div>
<div class="line"><span class="lineno"> 7191</span>    <span class="keywordflow">for</span> (i = 0; i &lt; (int)num_form_fields; i++) {</div>
<div class="line"><span class="lineno"> 7192</span>        <span class="comment">/* extract key-value pairs from input data */</span></div>
<div class="line"><span class="lineno"> 7193</span>        <span class="keywordflow">while</span> ((*data == <span class="charliteral">&#39; &#39;</span>) || (*data == <span class="charliteral">&#39;\t&#39;</span>)) {</div>
<div class="line"><span class="lineno"> 7194</span>            <span class="comment">/* skip initial spaces */</span></div>
<div class="line"><span class="lineno"> 7195</span>            data++;</div>
<div class="line"><span class="lineno"> 7196</span>        }</div>
<div class="line"><span class="lineno"> 7197</span>        <span class="keywordflow">if</span> (*data == 0) {</div>
<div class="line"><span class="lineno"> 7198</span>            <span class="comment">/* end of string reached */</span></div>
<div class="line"><span class="lineno"> 7199</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7200</span>        }</div>
<div class="line"><span class="lineno"> 7201</span>        form_fields[num].<a class="code hl_variable" href="structmg__header.html#ab91ffbf88fe154a963031e915adf8397">name</a> = data;</div>
<div class="line"><span class="lineno"> 7202</span> </div>
<div class="line"><span class="lineno"> 7203</span>        <span class="comment">/* find &amp; or = */</span></div>
<div class="line"><span class="lineno"> 7204</span>        b = data;</div>
<div class="line"><span class="lineno"> 7205</span>        <span class="keywordflow">while</span> ((*b != 0) &amp;&amp; (*b != <span class="charliteral">&#39;&amp;&#39;</span>) &amp;&amp; (*b != <span class="charliteral">&#39;=&#39;</span>)) {</div>
<div class="line"><span class="lineno"> 7206</span>            b++;</div>
<div class="line"><span class="lineno"> 7207</span>        }</div>
<div class="line"><span class="lineno"> 7208</span> </div>
<div class="line"><span class="lineno"> 7209</span>        <span class="keywordflow">if</span> (*b == 0) {</div>
<div class="line"><span class="lineno"> 7210</span>            <span class="comment">/* last key without value */</span></div>
<div class="line"><span class="lineno"> 7211</span>            form_fields[num].<a class="code hl_variable" href="structmg__header.html#a9cdd7ef80ee309a6de14684059081d0d">value</a> = <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 7212</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*b == <span class="charliteral">&#39;&amp;&#39;</span>) {</div>
<div class="line"><span class="lineno"> 7213</span>            <span class="comment">/* mid key without value */</span></div>
<div class="line"><span class="lineno"> 7214</span>            form_fields[num].<a class="code hl_variable" href="structmg__header.html#a9cdd7ef80ee309a6de14684059081d0d">value</a> = <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 7215</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 7216</span>            <span class="comment">/* terminate string */</span></div>
<div class="line"><span class="lineno"> 7217</span>            *b = 0;</div>
<div class="line"><span class="lineno"> 7218</span>            <span class="comment">/* value starts after &#39;=&#39; */</span></div>
<div class="line"><span class="lineno"> 7219</span>            data = b + 1;</div>
<div class="line"><span class="lineno"> 7220</span>            form_fields[num].<a class="code hl_variable" href="structmg__header.html#a9cdd7ef80ee309a6de14684059081d0d">value</a> = data;</div>
<div class="line"><span class="lineno"> 7221</span>        }</div>
<div class="line"><span class="lineno"> 7222</span> </div>
<div class="line"><span class="lineno"> 7223</span>        <span class="comment">/* new field is stored */</span></div>
<div class="line"><span class="lineno"> 7224</span>        num++;</div>
<div class="line"><span class="lineno"> 7225</span> </div>
<div class="line"><span class="lineno"> 7226</span>        <span class="comment">/* find a next key */</span></div>
<div class="line"><span class="lineno"> 7227</span>        b = strchr(data, <span class="charliteral">&#39;&amp;&#39;</span>);</div>
<div class="line"><span class="lineno"> 7228</span>        <span class="keywordflow">if</span> (b == 0) {</div>
<div class="line"><span class="lineno"> 7229</span>            <span class="comment">/* no more data */</span></div>
<div class="line"><span class="lineno"> 7230</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7231</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 7232</span>            <span class="comment">/* terminate value of last field at &#39;&amp;&#39; */</span></div>
<div class="line"><span class="lineno"> 7233</span>            *b = 0;</div>
<div class="line"><span class="lineno"> 7234</span>            <span class="comment">/* next key-value-pairs starts after &#39;&amp;&#39; */</span></div>
<div class="line"><span class="lineno"> 7235</span>            data = b + 1;</div>
<div class="line"><span class="lineno"> 7236</span>        }</div>
<div class="line"><span class="lineno"> 7237</span>    }</div>
<div class="line"><span class="lineno"> 7238</span> </div>
<div class="line"><span class="lineno"> 7239</span>    <span class="comment">/* Decode all values */</span></div>
<div class="line"><span class="lineno"> 7240</span>    <span class="keywordflow">for</span> (i = 0; i &lt; num; i++) {</div>
<div class="line"><span class="lineno"> 7241</span>        <span class="keywordflow">if</span> (form_fields[i].<a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>) {</div>
<div class="line"><span class="lineno"> 7242</span>            <a class="code hl_function" href="civetweb_8c.html#affee01654ebda8d153ea3b7e7502f248">url_decode_in_place</a>((<span class="keywordtype">char</span> *)form_fields[i].<a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><span class="lineno"> 7243</span>        }</div>
<div class="line"><span class="lineno"> 7244</span>        <span class="keywordflow">if</span> (form_fields[i].<a class="code hl_variable" href="lsqlite3_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>) {</div>
<div class="line"><span class="lineno"> 7245</span>            <a class="code hl_function" href="civetweb_8c.html#affee01654ebda8d153ea3b7e7502f248">url_decode_in_place</a>((<span class="keywordtype">char</span> *)form_fields[i].<a class="code hl_variable" href="lsqlite3_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div>
<div class="line"><span class="lineno"> 7246</span>        }</div>
<div class="line"><span class="lineno"> 7247</span>    }</div>
<div class="line"><span class="lineno"> 7248</span> </div>
<div class="line"><span class="lineno"> 7249</span>    <span class="comment">/* return number of fields found */</span></div>
<div class="line"><span class="lineno"> 7250</span>    <span class="keywordflow">return</span> num;</div>
<div class="line"><span class="lineno"> 7251</span>}</div>
<div class="ttc" id="acivetweb_8c_html_affee01654ebda8d153ea3b7e7502f248"><div class="ttname"><a href="civetweb_8c.html#affee01654ebda8d153ea3b7e7502f248">url_decode_in_place</a></div><div class="ttdeci">static void url_decode_in_place(char *buf)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l07080">civetweb.c:7080</a></div></div>
<div class="ttc" id="alsqlite3_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="lsqlite3_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition</b> <a href="lsqlite3_8c_source.html#l02155">lsqlite3.c:2155</a></div></div>
<div class="ttc" id="astructmg__header_html_a9cdd7ef80ee309a6de14684059081d0d"><div class="ttname"><a href="structmg__header.html#a9cdd7ef80ee309a6de14684059081d0d">mg_header::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00145">civetweb.h:145</a></div></div>
<div class="ttc" id="astructmg__header_html_ab91ffbf88fe154a963031e915adf8397"><div class="ttname"><a href="structmg__header.html#ab91ffbf88fe154a963031e915adf8397">mg_header::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00144">civetweb.h:144</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8h_source.html#l00144">mg_header::name</a>, <a class="el" href="lsqlite3_8c_source.html#l02154">name</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, <a class="el" href="civetweb_8c_source.html#l07080">url_decode_in_place()</a>, <a class="el" href="civetweb_8h_source.html#l00145">mg_header::value</a>, and <a class="el" href="lsqlite3_8c_source.html#l02155">value</a>.</p>

</div>
</div>
<a id="ae94c557007b3e3d0bf5903f5a5b07330" name="ae94c557007b3e3d0bf5903f5a5b07330"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae94c557007b3e3d0bf5903f5a5b07330">&#9670;&#160;</a></span>mg_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> struct <a class="el" href="structmg__context.html">mg_context</a> * mg_start </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmg__callbacks.html">mg_callbacks</a> *</td>          <td class="paramname"><span class="paramname"><em>callbacks</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>user_data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **</td>          <td class="paramname"><span class="paramname"><em>configuration_options</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l21205">21205</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">21208</span>{</div>
<div class="line"><span class="lineno">21209</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structmg__init__data.html">mg_init_data</a> init = {0};</div>
<div class="line"><span class="lineno">21210</span>    init.<a class="code hl_variable" href="structmg__init__data.html#ab30a322afe883589c6272494597e7530">callbacks</a> = <a class="code hl_variable" href="structmg__init__data.html#ab30a322afe883589c6272494597e7530">callbacks</a>;</div>
<div class="line"><span class="lineno">21211</span>    init.<a class="code hl_variable" href="structmg__init__data.html#a4cbe171982e177b9c94fed61f992a8e3">user_data</a> = <a class="code hl_variable" href="structmg__init__data.html#a4cbe171982e177b9c94fed61f992a8e3">user_data</a>;</div>
<div class="line"><span class="lineno">21212</span>    init.<a class="code hl_variable" href="structmg__init__data.html#afbf18cefd17ae897b79933b03e6174ac">configuration_options</a> = options;</div>
<div class="line"><span class="lineno">21213</span> </div>
<div class="line"><span class="lineno">21214</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="civetweb_8c.html#a220e3ffb5ea3741a7c830a9668068617">mg_start2</a>(&amp;init, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">21215</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a220e3ffb5ea3741a7c830a9668068617"><div class="ttname"><a href="civetweb_8c.html#a220e3ffb5ea3741a7c830a9668068617">mg_start2</a></div><div class="ttdeci">CIVETWEB_API struct mg_context * mg_start2(struct mg_init_data *init, struct mg_error_data *error)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l20464">civetweb.c:20464</a></div></div>
<div class="ttc" id="astructmg__init__data_html_a4cbe171982e177b9c94fed61f992a8e3"><div class="ttname"><a href="structmg__init__data.html#a4cbe171982e177b9c94fed61f992a8e3">mg_init_data::user_data</a></div><div class="ttdeci">void * user_data</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01800">civetweb.h:1800</a></div></div>
<div class="ttc" id="astructmg__init__data_html_ab30a322afe883589c6272494597e7530"><div class="ttname"><a href="structmg__init__data.html#ab30a322afe883589c6272494597e7530">mg_init_data::callbacks</a></div><div class="ttdeci">const struct mg_callbacks * callbacks</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01799">civetweb.h:1799</a></div></div>
<div class="ttc" id="astructmg__init__data_html_afbf18cefd17ae897b79933b03e6174ac"><div class="ttname"><a href="structmg__init__data.html#afbf18cefd17ae897b79933b03e6174ac">mg_init_data::configuration_options</a></div><div class="ttdeci">const char ** configuration_options</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l01801">civetweb.h:1801</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8h_source.html#l01799">mg_init_data::callbacks</a>, <a class="el" href="civetweb_8h_source.html#l01801">mg_init_data::configuration_options</a>, <a class="el" href="civetweb_8c_source.html#l20464">mg_start2()</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, and <a class="el" href="civetweb_8h_source.html#l01800">mg_init_data::user_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="server_8c_source.html#l00059">start_http_server()</a>.</p>

</div>
</div>
<a id="a220e3ffb5ea3741a7c830a9668068617" name="a220e3ffb5ea3741a7c830a9668068617"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a220e3ffb5ea3741a7c830a9668068617">&#9670;&#160;</a></span>mg_start2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> struct <a class="el" href="structmg__context.html">mg_context</a> * mg_start2 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__init__data.html">mg_init_data</a> *</td>          <td class="paramname"><span class="paramname"><em>init</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmg__error__data.html">mg_error_data</a> *</td>          <td class="paramname"><span class="paramname"><em>error</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l20464">20464</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">20465</span>{</div>
<div class="line"><span class="lineno">20466</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structmg__context.html">mg_context</a> *ctx;</div>
<div class="line"><span class="lineno">20467</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, *<a class="code hl_variable" href="lsqlite3_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, *default_value;</div>
<div class="line"><span class="lineno">20468</span>    <span class="keywordtype">int</span> idx, ok, workerthreadcount;</div>
<div class="line"><span class="lineno">20469</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">20470</span>    <span class="keywordtype">int</span> itmp;</div>
<div class="line"><span class="lineno">20471</span>    void (*exit_callback)(<span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structmg__context.html">mg_context</a> *ctx) = 0;</div>
<div class="line"><span class="lineno">20472</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> **options =</div>
<div class="line"><span class="lineno">20473</span>        ((init != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ? (init-&gt;<a class="code hl_variable" href="structmg__init__data.html#afbf18cefd17ae897b79933b03e6174ac">configuration_options</a>) : (<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>));</div>
<div class="line"><span class="lineno">20474</span> </div>
<div class="line"><span class="lineno">20475</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structmg__workerTLS.html">mg_workerTLS</a> tls;</div>
<div class="line"><span class="lineno">20476</span> </div>
<div class="line"><span class="lineno">20477</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20478</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea6f2b13fd162f7422b5ff4e6dc317e650">MG_ERROR_DATA_CODE_OK</a>;</div>
<div class="line"><span class="lineno">20479</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code_sub = 0;</div>
<div class="line"><span class="lineno">20480</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size &gt; 0) {</div>
<div class="line"><span class="lineno">20481</span>            *<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text = 0;</div>
<div class="line"><span class="lineno">20482</span>        }</div>
<div class="line"><span class="lineno">20483</span>    }</div>
<div class="line"><span class="lineno">20484</span> </div>
<div class="line"><span class="lineno">20485</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="civetweb_8c.html#a553c3bf49335ca7c4ef0af9293ff30cb">mg_init_library_called</a> == 0) {</div>
<div class="line"><span class="lineno">20486</span>        <span class="comment">/* Legacy INIT, if mg_start is called without mg_init_library.</span></div>
<div class="line"><span class="lineno">20487</span><span class="comment">         * Note: This will cause a memory leak when unloading the library.</span></div>
<div class="line"><span class="lineno">20488</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">20489</span>        <a class="code hl_function" href="civetweb_8c.html#ac610da3b9f5e065811120249a2f488ac">legacy_init</a>(options);</div>
<div class="line"><span class="lineno">20490</span>    }</div>
<div class="line"><span class="lineno">20491</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="civetweb_8c.html#a553c3bf49335ca7c4ef0af9293ff30cb">mg_init_library_called</a> == 0) {</div>
<div class="line"><span class="lineno">20492</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20493</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea352663dbd53fd8f4dfcf80887961c7e4">MG_ERROR_DATA_CODE_INIT_LIBRARY_FAILED</a>;</div>
<div class="line"><span class="lineno">20494</span>            <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">20495</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">20496</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">20497</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">20498</span>                        <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><span class="lineno">20499</span>                        <span class="stringliteral">&quot;Library uninitialized&quot;</span>);</div>
<div class="line"><span class="lineno">20500</span>        }</div>
<div class="line"><span class="lineno">20501</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">20502</span>    }</div>
<div class="line"><span class="lineno">20503</span> </div>
<div class="line"><span class="lineno">20504</span>    <span class="comment">/* Allocate context and initialize reasonable general case defaults. */</span></div>
<div class="line"><span class="lineno">20505</span>    ctx = (<span class="keyword">struct </span><a class="code hl_struct" href="structmg__context.html">mg_context</a> *)<a class="code hl_function" href="civetweb_8c.html#ad3552193bd019b58e092032223ac38f1">mg_calloc</a>(1, <span class="keyword">sizeof</span>(*ctx));</div>
<div class="line"><span class="lineno">20506</span>    <span class="keywordflow">if</span> (ctx == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20507</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20508</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ead54ef9d63e339f4c05c12cb56564e319">MG_ERROR_DATA_CODE_OUT_OF_MEMORY</a>;</div>
<div class="line"><span class="lineno">20509</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code_sub = (unsigned)<span class="keyword">sizeof</span>(*ctx);</div>
<div class="line"><span class="lineno">20510</span>            <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">20511</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">20512</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">20513</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">20514</span>                        <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><span class="lineno">20515</span>                        <span class="stringliteral">&quot;Out of memory&quot;</span>);</div>
<div class="line"><span class="lineno">20516</span>        }</div>
<div class="line"><span class="lineno">20517</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">20518</span>    }</div>
<div class="line"><span class="lineno">20519</span> </div>
<div class="line"><span class="lineno">20520</span>    <span class="comment">/* Random number generator will initialize at the first call */</span></div>
<div class="line"><span class="lineno">20521</span>    ctx-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>.<a class="code hl_variable" href="structmg__domain__context.html#a935ad1d56f46fde93d51014a96ded25d">auth_nonce_mask</a> =</div>
<div class="line"><span class="lineno">20522</span>        (uint64_t)<a class="code hl_function" href="civetweb_8c.html#afcc8e6176b79900cc58605f1c884d0ab">get_random</a>() ^ (uint64_t)(ptrdiff_t)(options);</div>
<div class="line"><span class="lineno">20523</span> </div>
<div class="line"><span class="lineno">20524</span>    <span class="comment">/* Save started thread index to reuse in other external API calls</span></div>
<div class="line"><span class="lineno">20525</span><span class="comment">     * For the sake of thread synchronization all non-civetweb threads</span></div>
<div class="line"><span class="lineno">20526</span><span class="comment">     * can be considered as single external thread */</span></div>
<div class="line"><span class="lineno">20527</span>    ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a810362fe1b277e8f8a01ca5f90c0f5e8">starter_thread_idx</a> = (unsigned)<a class="code hl_function" href="civetweb_8c.html#ac84429c87794be46b88e30fbd3b0bcfa">mg_atomic_inc</a>(&amp;<a class="code hl_variable" href="civetweb_8c.html#af79aed9cc77304a39b3e031b2730e38b">thread_idx_max</a>);</div>
<div class="line"><span class="lineno">20528</span>    tls.is_master = -1; <span class="comment">/* Thread calling mg_start */</span></div>
<div class="line"><span class="lineno">20529</span>    tls.thread_idx = ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a810362fe1b277e8f8a01ca5f90c0f5e8">starter_thread_idx</a>;</div>
<div class="line"><span class="lineno">20530</span><span class="preprocessor">#if defined(_WIN32)</span></div>
<div class="line"><span class="lineno">20531</span>    tls.pthread_cond_helper_mutex = <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">20532</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">20533</span>    pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, &amp;tls);</div>
<div class="line"><span class="lineno">20534</span> </div>
<div class="line"><span class="lineno">20535</span>    ok = (0 == pthread_mutex_init(&amp;ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a95d32beab46e554567d9ebaab7a6b2f2">thread_mutex</a>, &amp;<a class="code hl_variable" href="civetweb_8c.html#a5fea1ce44dd3b119b5edd85d330d8143">pthread_mutex_attr</a>));</div>
<div class="line"><span class="lineno">20536</span><span class="preprocessor">#if !defined(ALTERNATIVE_QUEUE)</span></div>
<div class="line"><span class="lineno">20537</span>    ok &amp;= (0 == pthread_cond_init(&amp;ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a3260d5fc8e16e35026d7d2bbcb10abf5">sq_empty</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>));</div>
<div class="line"><span class="lineno">20538</span>    ok &amp;= (0 == pthread_cond_init(&amp;ctx-&gt;<a class="code hl_variable" href="structmg__context.html#aad49398eacc039c312d58c55530c65fa">sq_full</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>));</div>
<div class="line"><span class="lineno">20539</span>    ctx-&gt;<a class="code hl_variable" href="structmg__context.html#affbc1f904d30b616b26c9e9261ca4959">sq_blocked</a> = 0;</div>
<div class="line"><span class="lineno">20540</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">20541</span>    ok &amp;= (0 == pthread_mutex_init(&amp;ctx-&gt;<a class="code hl_variable" href="structmg__context.html#afc4b8c1d52b30239820683d842e975fe">nonce_mutex</a>, &amp;<a class="code hl_variable" href="civetweb_8c.html#a5fea1ce44dd3b119b5edd85d330d8143">pthread_mutex_attr</a>));</div>
<div class="line"><span class="lineno">20542</span><span class="preprocessor">#if defined(USE_LUA)</span></div>
<div class="line"><span class="lineno">20543</span>    ok &amp;= (0 == pthread_mutex_init(&amp;ctx-&gt;lua_bg_mutex, &amp;<a class="code hl_variable" href="civetweb_8c.html#a5fea1ce44dd3b119b5edd85d330d8143">pthread_mutex_attr</a>));</div>
<div class="line"><span class="lineno">20544</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">20545</span>    <span class="keywordflow">if</span> (!ok) {</div>
<div class="line"><span class="lineno">20546</span>        <span class="keywordtype">unsigned</span> error_id = (unsigned)<a class="code hl_define" href="civetweb_8c.html#a3a830e27de72e8bab8bc80eafebd657e">ERRNO</a>;</div>
<div class="line"><span class="lineno">20547</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *err_msg =</div>
<div class="line"><span class="lineno">20548</span>            <span class="stringliteral">&quot;Cannot initialize thread synchronization objects&quot;</span>;</div>
<div class="line"><span class="lineno">20549</span>        <span class="comment">/* Fatal error - abort start. However, this situation should never</span></div>
<div class="line"><span class="lineno">20550</span><span class="comment">         * occur in practice. */</span></div>
<div class="line"><span class="lineno">20551</span> </div>
<div class="line"><span class="lineno">20552</span>        <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx, <span class="stringliteral">&quot;%s&quot;</span>, err_msg);</div>
<div class="line"><span class="lineno">20553</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20554</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea4ec7bbc93f6f6d5d1f91b2bda132b7f6">MG_ERROR_DATA_CODE_OS_ERROR</a>;</div>
<div class="line"><span class="lineno">20555</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code_sub = error_id;</div>
<div class="line"><span class="lineno">20556</span>            <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">20557</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">20558</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">20559</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">20560</span>                        <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><span class="lineno">20561</span>                        err_msg);</div>
<div class="line"><span class="lineno">20562</span>        }</div>
<div class="line"><span class="lineno">20563</span> </div>
<div class="line"><span class="lineno">20564</span>        <a class="code hl_function" href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a>(ctx);</div>
<div class="line"><span class="lineno">20565</span>        pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">20566</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">20567</span>    }</div>
<div class="line"><span class="lineno">20568</span> </div>
<div class="line"><span class="lineno">20569</span>    <span class="keywordflow">if</span> ((init != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (init-&gt;<a class="code hl_variable" href="structmg__init__data.html#ab30a322afe883589c6272494597e7530">callbacks</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><span class="lineno">20570</span>        <span class="comment">/* Set all callbacks except exit_context. */</span></div>
<div class="line"><span class="lineno">20571</span>        ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a96ed28bfd364cf0b9b556e365a3b780d">callbacks</a> = *init-&gt;<a class="code hl_variable" href="structmg__init__data.html#ab30a322afe883589c6272494597e7530">callbacks</a>;</div>
<div class="line"><span class="lineno">20572</span>        exit_callback = init-&gt;<a class="code hl_variable" href="structmg__init__data.html#ab30a322afe883589c6272494597e7530">callbacks</a>-&gt;<a class="code hl_variable" href="structmg__callbacks.html#a83dd2d98afc49aeef8f1083034da3659">exit_context</a>;</div>
<div class="line"><span class="lineno">20573</span>        <span class="comment">/* The exit callback is activated once the context is successfully</span></div>
<div class="line"><span class="lineno">20574</span><span class="comment">         * created. It should not be called, if an incomplete context object</span></div>
<div class="line"><span class="lineno">20575</span><span class="comment">         * is deleted during a failed initialization. */</span></div>
<div class="line"><span class="lineno">20576</span>        ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a96ed28bfd364cf0b9b556e365a3b780d">callbacks</a>.<a class="code hl_variable" href="structmg__callbacks.html#a83dd2d98afc49aeef8f1083034da3659">exit_context</a> = 0;</div>
<div class="line"><span class="lineno">20577</span>    }</div>
<div class="line"><span class="lineno">20578</span>    ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a73a26dd1c9abead88b40b2d226ad9f28">user_data</a> = ((init != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ? (init-&gt;<a class="code hl_variable" href="structmg__init__data.html#a4cbe171982e177b9c94fed61f992a8e3">user_data</a>) : (<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>));</div>
<div class="line"><span class="lineno">20579</span>    ctx-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>.<a class="code hl_variable" href="structmg__domain__context.html#af15ef8d6a276c40c4caeeba414e20aff">handlers</a> = <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">20580</span>    ctx-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>.<a class="code hl_variable" href="structmg__domain__context.html#ab15afe08729b3371cf26138782732845">next</a> = <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">20581</span> </div>
<div class="line"><span class="lineno">20582</span><span class="preprocessor">#if defined(USE_LUA)</span></div>
<div class="line"><span class="lineno">20583</span>    lua_ctx_init(ctx);</div>
<div class="line"><span class="lineno">20584</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">20585</span> </div>
<div class="line"><span class="lineno">20586</span>    <span class="comment">/* Store options */</span></div>
<div class="line"><span class="lineno">20587</span>    <span class="keywordflow">while</span> (options &amp;&amp; (<a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = *options++) != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20588</span>        idx = <a class="code hl_function" href="civetweb_8c.html#a4d2d84ca4d747d172e74257a176d216d">get_option_index</a>(<a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><span class="lineno">20589</span>        <span class="keywordflow">if</span> (idx == -1) {</div>
<div class="line"><span class="lineno">20590</span>            <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx, <span class="stringliteral">&quot;Invalid option: %s&quot;</span>, <a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><span class="lineno">20591</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20592</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea7fc609256283dbb6d75046dc307f38cc">MG_ERROR_DATA_CODE_INVALID_OPTION</a>;</div>
<div class="line"><span class="lineno">20593</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code_sub = (unsigned)-1;</div>
<div class="line"><span class="lineno">20594</span>                <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">20595</span>                            <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">20596</span>                            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">20597</span>                            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">20598</span>                            <span class="stringliteral">&quot;Invalid configuration option: %s&quot;</span>,</div>
<div class="line"><span class="lineno">20599</span>                            <a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><span class="lineno">20600</span>            }</div>
<div class="line"><span class="lineno">20601</span> </div>
<div class="line"><span class="lineno">20602</span>            <a class="code hl_function" href="civetweb_8c.html#ac591487b5ffc826f4824c8c1d9a4caaa">free_context</a>(ctx);</div>
<div class="line"><span class="lineno">20603</span>            pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">20604</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">20605</span> </div>
<div class="line"><span class="lineno">20606</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code hl_variable" href="lsqlite3_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> = *options++) == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20607</span>            <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx, <span class="stringliteral">&quot;%s: option value cannot be NULL&quot;</span>, <a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><span class="lineno">20608</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20609</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea7fc609256283dbb6d75046dc307f38cc">MG_ERROR_DATA_CODE_INVALID_OPTION</a>;</div>
<div class="line"><span class="lineno">20610</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code_sub = (unsigned)idx;</div>
<div class="line"><span class="lineno">20611</span>                <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">20612</span>                            <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">20613</span>                            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">20614</span>                            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">20615</span>                            <span class="stringliteral">&quot;Invalid configuration option value: %s&quot;</span>,</div>
<div class="line"><span class="lineno">20616</span>                            <a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><span class="lineno">20617</span>            }</div>
<div class="line"><span class="lineno">20618</span> </div>
<div class="line"><span class="lineno">20619</span>            <a class="code hl_function" href="civetweb_8c.html#ac591487b5ffc826f4824c8c1d9a4caaa">free_context</a>(ctx);</div>
<div class="line"><span class="lineno">20620</span>            pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">20621</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">20622</span>        }</div>
<div class="line"><span class="lineno">20623</span>        <span class="keywordflow">if</span> (ctx-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>.<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[idx] != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20624</span>            <span class="comment">/* A duplicate configuration option is not an error - the last</span></div>
<div class="line"><span class="lineno">20625</span><span class="comment">             * option value will be used. */</span></div>
<div class="line"><span class="lineno">20626</span>            <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx, <span class="stringliteral">&quot;warning: %s: duplicate option&quot;</span>, <a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><span class="lineno">20627</span>            <a class="code hl_function" href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a>(ctx-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>.<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[idx]);</div>
<div class="line"><span class="lineno">20628</span>        }</div>
<div class="line"><span class="lineno">20629</span>        ctx-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>.<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[idx] = <a class="code hl_function" href="civetweb_8c.html#aa30b97fc6c76000802e15129b3a1f48a">mg_strdup_ctx</a>(<a class="code hl_variable" href="lsqlite3_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, ctx);</div>
<div class="line"><span class="lineno">20630</span>        <a class="code hl_define" href="civetweb_8c.html#a98f6ecefbf7613a2478356d30af16020">DEBUG_TRACE</a>(<span class="stringliteral">&quot;[%s] -&gt; [%s]&quot;</span>, <a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <a class="code hl_variable" href="lsqlite3_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div>
<div class="line"><span class="lineno">20631</span>    }</div>
<div class="line"><span class="lineno">20632</span> </div>
<div class="line"><span class="lineno">20633</span>    <span class="comment">/* Set default value if needed */</span></div>
<div class="line"><span class="lineno">20634</span>    <span class="keywordflow">for</span> (i = 0; <a class="code hl_variable" href="civetweb_8c.html#a414393f1a7ad731456acc279c62290d0">config_options</a>[i].<a class="code hl_variable" href="structmg__option.html#a86aed4136166ee660ad8bc71bb54e2bf">name</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; i++) {</div>
<div class="line"><span class="lineno">20635</span>        default_value = <a class="code hl_variable" href="civetweb_8c.html#a414393f1a7ad731456acc279c62290d0">config_options</a>[i].<a class="code hl_variable" href="structmg__option.html#a59f8f8b81585ce50d69dcc1b094a0067">default_value</a>;</div>
<div class="line"><span class="lineno">20636</span>        <span class="keywordflow">if</span> ((ctx-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>.<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[i] == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (default_value != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><span class="lineno">20637</span>            ctx-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>.<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[i] = <a class="code hl_function" href="civetweb_8c.html#aa30b97fc6c76000802e15129b3a1f48a">mg_strdup_ctx</a>(default_value, ctx);</div>
<div class="line"><span class="lineno">20638</span>        }</div>
<div class="line"><span class="lineno">20639</span>    }</div>
<div class="line"><span class="lineno">20640</span> </div>
<div class="line"><span class="lineno">20641</span>    <span class="comment">/* Request size option */</span></div>
<div class="line"><span class="lineno">20642</span>    itmp = atoi(ctx-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>.<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55baa79a7d57f223b73b7e921e7227a55fb5">MAX_REQUEST_SIZE</a>]);</div>
<div class="line"><span class="lineno">20643</span>    <span class="keywordflow">if</span> (itmp &lt; 1024) {</div>
<div class="line"><span class="lineno">20644</span>        <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx,</div>
<div class="line"><span class="lineno">20645</span>                            <span class="stringliteral">&quot;%s too small&quot;</span>,</div>
<div class="line"><span class="lineno">20646</span>                            <a class="code hl_variable" href="civetweb_8c.html#a414393f1a7ad731456acc279c62290d0">config_options</a>[<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55baa79a7d57f223b73b7e921e7227a55fb5">MAX_REQUEST_SIZE</a>].<a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><span class="lineno">20647</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20648</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea7fc609256283dbb6d75046dc307f38cc">MG_ERROR_DATA_CODE_INVALID_OPTION</a>;</div>
<div class="line"><span class="lineno">20649</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code_sub = (unsigned)<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55baa79a7d57f223b73b7e921e7227a55fb5">MAX_REQUEST_SIZE</a>;</div>
<div class="line"><span class="lineno">20650</span>            <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">20651</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">20652</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">20653</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">20654</span>                        <span class="stringliteral">&quot;Invalid configuration option value: %s&quot;</span>,</div>
<div class="line"><span class="lineno">20655</span>                        <a class="code hl_variable" href="civetweb_8c.html#a414393f1a7ad731456acc279c62290d0">config_options</a>[<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55baa79a7d57f223b73b7e921e7227a55fb5">MAX_REQUEST_SIZE</a>].<a class="code hl_variable" href="structmg__option.html#a86aed4136166ee660ad8bc71bb54e2bf">name</a>);</div>
<div class="line"><span class="lineno">20656</span>        }</div>
<div class="line"><span class="lineno">20657</span> </div>
<div class="line"><span class="lineno">20658</span>        <a class="code hl_function" href="civetweb_8c.html#ac591487b5ffc826f4824c8c1d9a4caaa">free_context</a>(ctx);</div>
<div class="line"><span class="lineno">20659</span>        pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">20660</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">20661</span>    }</div>
<div class="line"><span class="lineno">20662</span>    ctx-&gt;<a class="code hl_variable" href="structmg__context.html#af17486f182c09fa18f04d21212d6d381">max_request_size</a> = (unsigned)itmp;</div>
<div class="line"><span class="lineno">20663</span> </div>
<div class="line"><span class="lineno">20664</span>    <span class="comment">/* Queue length */</span></div>
<div class="line"><span class="lineno">20665</span><span class="preprocessor">#if !defined(ALTERNATIVE_QUEUE)</span></div>
<div class="line"><span class="lineno">20666</span>    itmp = atoi(ctx-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>.<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55ba36256ef668c8c2dbe1b6e4e0c99445b3">CONNECTION_QUEUE_SIZE</a>]);</div>
<div class="line"><span class="lineno">20667</span>    <span class="keywordflow">if</span> (itmp &lt; 1) {</div>
<div class="line"><span class="lineno">20668</span>        <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx,</div>
<div class="line"><span class="lineno">20669</span>                            <span class="stringliteral">&quot;%s too small&quot;</span>,</div>
<div class="line"><span class="lineno">20670</span>                            <a class="code hl_variable" href="civetweb_8c.html#a414393f1a7ad731456acc279c62290d0">config_options</a>[<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55ba36256ef668c8c2dbe1b6e4e0c99445b3">CONNECTION_QUEUE_SIZE</a>].<a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><span class="lineno">20671</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20672</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea7fc609256283dbb6d75046dc307f38cc">MG_ERROR_DATA_CODE_INVALID_OPTION</a>;</div>
<div class="line"><span class="lineno">20673</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code_sub = <a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55ba36256ef668c8c2dbe1b6e4e0c99445b3">CONNECTION_QUEUE_SIZE</a>;</div>
<div class="line"><span class="lineno">20674</span>            <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">20675</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">20676</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">20677</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">20678</span>                        <span class="stringliteral">&quot;Invalid configuration option value: %s&quot;</span>,</div>
<div class="line"><span class="lineno">20679</span>                        <a class="code hl_variable" href="civetweb_8c.html#a414393f1a7ad731456acc279c62290d0">config_options</a>[<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55ba36256ef668c8c2dbe1b6e4e0c99445b3">CONNECTION_QUEUE_SIZE</a>].<a class="code hl_variable" href="structmg__option.html#a86aed4136166ee660ad8bc71bb54e2bf">name</a>);</div>
<div class="line"><span class="lineno">20680</span>        }</div>
<div class="line"><span class="lineno">20681</span> </div>
<div class="line"><span class="lineno">20682</span>        <a class="code hl_function" href="civetweb_8c.html#ac591487b5ffc826f4824c8c1d9a4caaa">free_context</a>(ctx);</div>
<div class="line"><span class="lineno">20683</span>        pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">20684</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">20685</span>    }</div>
<div class="line"><span class="lineno">20686</span>    ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a49b598c1205bc368042ca530011e3316">squeue</a> =</div>
<div class="line"><span class="lineno">20687</span>        (<span class="keyword">struct </span><a class="code hl_struct" href="structsocket.html">socket</a> *)<a class="code hl_function" href="civetweb_8c.html#ad3552193bd019b58e092032223ac38f1">mg_calloc</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)itmp, <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code hl_struct" href="structsocket.html">socket</a>));</div>
<div class="line"><span class="lineno">20688</span>    <span class="keywordflow">if</span> (ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a49b598c1205bc368042ca530011e3316">squeue</a> == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20689</span>        <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx,</div>
<div class="line"><span class="lineno">20690</span>                            <span class="stringliteral">&quot;Out of memory: Cannot allocate %s&quot;</span>,</div>
<div class="line"><span class="lineno">20691</span>                            <a class="code hl_variable" href="civetweb_8c.html#a414393f1a7ad731456acc279c62290d0">config_options</a>[<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55ba36256ef668c8c2dbe1b6e4e0c99445b3">CONNECTION_QUEUE_SIZE</a>].<a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><span class="lineno">20692</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20693</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ead54ef9d63e339f4c05c12cb56564e319">MG_ERROR_DATA_CODE_OUT_OF_MEMORY</a>;</div>
<div class="line"><span class="lineno">20694</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code_sub = (unsigned)itmp * (<span class="keywordtype">unsigned</span>)<span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code hl_struct" href="structsocket.html">socket</a>);</div>
<div class="line"><span class="lineno">20695</span>            <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">20696</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">20697</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">20698</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">20699</span>                        <span class="stringliteral">&quot;Out of memory: Cannot allocate %s&quot;</span>,</div>
<div class="line"><span class="lineno">20700</span>                        <a class="code hl_variable" href="civetweb_8c.html#a414393f1a7ad731456acc279c62290d0">config_options</a>[<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55ba36256ef668c8c2dbe1b6e4e0c99445b3">CONNECTION_QUEUE_SIZE</a>].<a class="code hl_variable" href="structmg__option.html#a86aed4136166ee660ad8bc71bb54e2bf">name</a>);</div>
<div class="line"><span class="lineno">20701</span>        }</div>
<div class="line"><span class="lineno">20702</span> </div>
<div class="line"><span class="lineno">20703</span>        <a class="code hl_function" href="civetweb_8c.html#ac591487b5ffc826f4824c8c1d9a4caaa">free_context</a>(ctx);</div>
<div class="line"><span class="lineno">20704</span>        pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">20705</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">20706</span>    }</div>
<div class="line"><span class="lineno">20707</span>    ctx-&gt;<a class="code hl_variable" href="structmg__context.html#ae906ea24151aba96333859c9b759ccc1">sq_size</a> = itmp;</div>
<div class="line"><span class="lineno">20708</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">20709</span> </div>
<div class="line"><span class="lineno">20710</span>    <span class="comment">/* Worker thread count option */</span></div>
<div class="line"><span class="lineno">20711</span>    workerthreadcount = atoi(ctx-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>.<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55baa818676aedda10c1d780a84133662831">NUM_THREADS</a>]);</div>
<div class="line"><span class="lineno">20712</span> </div>
<div class="line"><span class="lineno">20713</span>    <span class="keywordflow">if</span> ((workerthreadcount &gt; <a class="code hl_define" href="civetweb_8c.html#a1617828178ff1b5df926d7f469288d3e">MAX_WORKER_THREADS</a>) || (workerthreadcount &lt;= 0)) {</div>
<div class="line"><span class="lineno">20714</span>        <span class="keywordflow">if</span> (workerthreadcount &lt;= 0) {</div>
<div class="line"><span class="lineno">20715</span>            <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx, <span class="stringliteral">&quot;%s&quot;</span>, <span class="stringliteral">&quot;Invalid number of worker threads&quot;</span>);</div>
<div class="line"><span class="lineno">20716</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">20717</span>            <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx, <span class="stringliteral">&quot;%s&quot;</span>, <span class="stringliteral">&quot;Too many worker threads&quot;</span>);</div>
<div class="line"><span class="lineno">20718</span>        }</div>
<div class="line"><span class="lineno">20719</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20720</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea7fc609256283dbb6d75046dc307f38cc">MG_ERROR_DATA_CODE_INVALID_OPTION</a>;</div>
<div class="line"><span class="lineno">20721</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code_sub = <a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55baa818676aedda10c1d780a84133662831">NUM_THREADS</a>;</div>
<div class="line"><span class="lineno">20722</span>            <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">20723</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">20724</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">20725</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">20726</span>                        <span class="stringliteral">&quot;Invalid configuration option value: %s&quot;</span>,</div>
<div class="line"><span class="lineno">20727</span>                        <a class="code hl_variable" href="civetweb_8c.html#a414393f1a7ad731456acc279c62290d0">config_options</a>[<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55baa818676aedda10c1d780a84133662831">NUM_THREADS</a>].<a class="code hl_variable" href="structmg__option.html#a86aed4136166ee660ad8bc71bb54e2bf">name</a>);</div>
<div class="line"><span class="lineno">20728</span>        }</div>
<div class="line"><span class="lineno">20729</span> </div>
<div class="line"><span class="lineno">20730</span>        <a class="code hl_function" href="civetweb_8c.html#ac591487b5ffc826f4824c8c1d9a4caaa">free_context</a>(ctx);</div>
<div class="line"><span class="lineno">20731</span>        pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">20732</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">20733</span>    }</div>
<div class="line"><span class="lineno">20734</span> </div>
<div class="line"><span class="lineno">20735</span>    <span class="comment">/* Document root */</span></div>
<div class="line"><span class="lineno">20736</span><span class="preprocessor">#if defined(NO_FILES)</span></div>
<div class="line"><span class="lineno">20737</span>    <span class="keywordflow">if</span> (ctx-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>.<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55baaa2e945e2c233360f8a955eecb16cbed">DOCUMENT_ROOT</a>] != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20738</span>        <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx, <span class="stringliteral">&quot;%s&quot;</span>, <span class="stringliteral">&quot;Document root must not be set&quot;</span>);</div>
<div class="line"><span class="lineno">20739</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20740</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea7fc609256283dbb6d75046dc307f38cc">MG_ERROR_DATA_CODE_INVALID_OPTION</a>;</div>
<div class="line"><span class="lineno">20741</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code_sub = (unsigned)<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55baaa2e945e2c233360f8a955eecb16cbed">DOCUMENT_ROOT</a>;</div>
<div class="line"><span class="lineno">20742</span>            <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">20743</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">20744</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">20745</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">20746</span>                        <span class="stringliteral">&quot;Invalid configuration option value: %s&quot;</span>,</div>
<div class="line"><span class="lineno">20747</span>                        <a class="code hl_variable" href="civetweb_8c.html#a414393f1a7ad731456acc279c62290d0">config_options</a>[<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55baaa2e945e2c233360f8a955eecb16cbed">DOCUMENT_ROOT</a>].<a class="code hl_variable" href="structmg__option.html#a86aed4136166ee660ad8bc71bb54e2bf">name</a>);</div>
<div class="line"><span class="lineno">20748</span>        }</div>
<div class="line"><span class="lineno">20749</span> </div>
<div class="line"><span class="lineno">20750</span>        <a class="code hl_function" href="civetweb_8c.html#ac591487b5ffc826f4824c8c1d9a4caaa">free_context</a>(ctx);</div>
<div class="line"><span class="lineno">20751</span>        pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">20752</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">20753</span>    }</div>
<div class="line"><span class="lineno">20754</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">20755</span> </div>
<div class="line"><span class="lineno">20756</span>    <a class="code hl_function" href="civetweb_8c.html#a99d34b5bd845aa051904a159156abc26">get_system_name</a>(&amp;ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a8b39174e87cb0b5df1b093066256b2f1">systemName</a>);</div>
<div class="line"><span class="lineno">20757</span> </div>
<div class="line"><span class="lineno">20758</span><span class="preprocessor">#if defined(USE_LUA)</span></div>
<div class="line"><span class="lineno">20759</span>    <span class="comment">/* If a Lua background script has been configured, start it. */</span></div>
<div class="line"><span class="lineno">20760</span>    ctx-&gt;lua_bg_log_available = 0;</div>
<div class="line"><span class="lineno">20761</span>    <span class="keywordflow">if</span> (ctx-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>.<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[LUA_BACKGROUND_SCRIPT] != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20762</span>        <span class="keywordtype">char</span> ebuf[256];</div>
<div class="line"><span class="lineno">20763</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structvec.html">vec</a> opt_vec;</div>
<div class="line"><span class="lineno">20764</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structvec.html">vec</a> eq_vec;</div>
<div class="line"><span class="lineno">20765</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *sparams;</div>
<div class="line"><span class="lineno">20766</span> </div>
<div class="line"><span class="lineno">20767</span>        memset(ebuf, 0, <span class="keyword">sizeof</span>(ebuf));</div>
<div class="line"><span class="lineno">20768</span>        pthread_mutex_lock(&amp;ctx-&gt;lua_bg_mutex);</div>
<div class="line"><span class="lineno">20769</span> </div>
<div class="line"><span class="lineno">20770</span>        <span class="comment">/* Create a Lua state, load all standard libraries and the mg table */</span></div>
<div class="line"><span class="lineno">20771</span>        <a class="code hl_struct" href="structlua__State.html">lua_State</a> *state = mg_lua_context_script_prepare(</div>
<div class="line"><span class="lineno">20772</span>            ctx-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>.<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[LUA_BACKGROUND_SCRIPT], ctx, ebuf, <span class="keyword">sizeof</span>(ebuf));</div>
<div class="line"><span class="lineno">20773</span>        <span class="keywordflow">if</span> (!state) {</div>
<div class="line"><span class="lineno">20774</span>            <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx,</div>
<div class="line"><span class="lineno">20775</span>                                <span class="stringliteral">&quot;lua_background_script load error: %s&quot;</span>,</div>
<div class="line"><span class="lineno">20776</span>                                ebuf);</div>
<div class="line"><span class="lineno">20777</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20778</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9eaa90fd2d35bca54ead229eac4bad9b02d">MG_ERROR_DATA_CODE_SCRIPT_ERROR</a>;</div>
<div class="line"><span class="lineno">20779</span>                <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">20780</span>                            <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">20781</span>                            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">20782</span>                            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">20783</span>                            <span class="stringliteral">&quot;Error in script %s: %s&quot;</span>,</div>
<div class="line"><span class="lineno">20784</span>                            <a class="code hl_variable" href="civetweb_8c.html#a414393f1a7ad731456acc279c62290d0">config_options</a>[LUA_BACKGROUND_SCRIPT].<a class="code hl_variable" href="structmg__option.html#a86aed4136166ee660ad8bc71bb54e2bf">name</a>,</div>
<div class="line"><span class="lineno">20785</span>                            ebuf);</div>
<div class="line"><span class="lineno">20786</span>            }</div>
<div class="line"><span class="lineno">20787</span> </div>
<div class="line"><span class="lineno">20788</span>            pthread_mutex_unlock(&amp;ctx-&gt;lua_bg_mutex);</div>
<div class="line"><span class="lineno">20789</span> </div>
<div class="line"><span class="lineno">20790</span>            <a class="code hl_function" href="civetweb_8c.html#ac591487b5ffc826f4824c8c1d9a4caaa">free_context</a>(ctx);</div>
<div class="line"><span class="lineno">20791</span>            pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">20792</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">20793</span>        }</div>
<div class="line"><span class="lineno">20794</span> </div>
<div class="line"><span class="lineno">20795</span>        <span class="comment">/* Add a table with parameters into mg.params */</span></div>
<div class="line"><span class="lineno">20796</span>        sparams = ctx-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>.<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[LUA_BACKGROUND_SCRIPT_PARAMS];</div>
<div class="line"><span class="lineno">20797</span>        <span class="keywordflow">if</span> (sparams &amp;&amp; sparams[0]) {</div>
<div class="line"><span class="lineno">20798</span>            <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#abc2f6fef4682c1d4cdc33206aaf42bec">lua_getglobal</a>(state, <span class="stringliteral">&quot;mg&quot;</span>);</div>
<div class="line"><span class="lineno">20799</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a1281a7e2b52370cc416123bfd32b1b29">lua_pushstring</a>(state, <span class="stringliteral">&quot;params&quot;</span>);</div>
<div class="line"><span class="lineno">20800</span>            <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#aa59db6b784aa1ec954599a44168c7761">lua_newtable</a>(state);</div>
<div class="line"><span class="lineno">20801</span> </div>
<div class="line"><span class="lineno">20802</span>            <span class="keywordflow">while</span> ((sparams = <a class="code hl_function" href="civetweb_8c.html#a8a9f9af183eb62789209809d41dabbf4">next_option</a>(sparams, &amp;opt_vec, &amp;eq_vec))</div>
<div class="line"><span class="lineno">20803</span>                   != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20804</span>                reg_llstring(</div>
<div class="line"><span class="lineno">20805</span>                    state, opt_vec.ptr, opt_vec.len, eq_vec.ptr, eq_vec.len);</div>
<div class="line"><span class="lineno">20806</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="civetweb_8c.html#a1e22e846cc0308d6521ed516918f380f">mg_strncasecmp</a>(sparams, opt_vec.ptr, opt_vec.len) == 0)</div>
<div class="line"><span class="lineno">20807</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">20808</span>            }</div>
<div class="line"><span class="lineno">20809</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#afb2d27f421677ef40425f9054ae216a7">lua_rawset</a>(state, -3);</div>
<div class="line"><span class="lineno">20810</span>            <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#abb8eae2164badeafdb037bc1e03cc822">lua_pop</a>(state, 1);</div>
<div class="line"><span class="lineno">20811</span>        }</div>
<div class="line"><span class="lineno">20812</span> </div>
<div class="line"><span class="lineno">20813</span>        <span class="comment">/* Call script */</span></div>
<div class="line"><span class="lineno">20814</span>        state = mg_lua_context_script_run(state,</div>
<div class="line"><span class="lineno">20815</span>                                          ctx-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>.<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[LUA_BACKGROUND_SCRIPT],</div>
<div class="line"><span class="lineno">20816</span>                                          ctx,</div>
<div class="line"><span class="lineno">20817</span>                                          ebuf,</div>
<div class="line"><span class="lineno">20818</span>                                          <span class="keyword">sizeof</span>(ebuf));</div>
<div class="line"><span class="lineno">20819</span>        <span class="keywordflow">if</span> (!state) {</div>
<div class="line"><span class="lineno">20820</span>            <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx,</div>
<div class="line"><span class="lineno">20821</span>                                <span class="stringliteral">&quot;lua_background_script start error: %s&quot;</span>,</div>
<div class="line"><span class="lineno">20822</span>                                ebuf);</div>
<div class="line"><span class="lineno">20823</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20824</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9eaa90fd2d35bca54ead229eac4bad9b02d">MG_ERROR_DATA_CODE_SCRIPT_ERROR</a>;</div>
<div class="line"><span class="lineno">20825</span>                <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">20826</span>                            <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">20827</span>                            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">20828</span>                            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">20829</span>                            <span class="stringliteral">&quot;Error in script %s: %s&quot;</span>,</div>
<div class="line"><span class="lineno">20830</span>                            <a class="code hl_variable" href="civetweb_8c.html#a414393f1a7ad731456acc279c62290d0">config_options</a>[<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55baaa2e945e2c233360f8a955eecb16cbed">DOCUMENT_ROOT</a>].<a class="code hl_variable" href="structmg__option.html#a86aed4136166ee660ad8bc71bb54e2bf">name</a>,</div>
<div class="line"><span class="lineno">20831</span>                            ebuf);</div>
<div class="line"><span class="lineno">20832</span>            }</div>
<div class="line"><span class="lineno">20833</span>            pthread_mutex_unlock(&amp;ctx-&gt;lua_bg_mutex);</div>
<div class="line"><span class="lineno">20834</span> </div>
<div class="line"><span class="lineno">20835</span>            <a class="code hl_function" href="civetweb_8c.html#ac591487b5ffc826f4824c8c1d9a4caaa">free_context</a>(ctx);</div>
<div class="line"><span class="lineno">20836</span>            pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">20837</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">20838</span>        }</div>
<div class="line"><span class="lineno">20839</span> </div>
<div class="line"><span class="lineno">20840</span>        <span class="comment">/* state remains valid */</span></div>
<div class="line"><span class="lineno">20841</span>        ctx-&gt;lua_background_state = (<span class="keywordtype">void</span> *)state;</div>
<div class="line"><span class="lineno">20842</span>        pthread_mutex_unlock(&amp;ctx-&gt;lua_bg_mutex);</div>
<div class="line"><span class="lineno">20843</span> </div>
<div class="line"><span class="lineno">20844</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">20845</span>        ctx-&gt;lua_background_state = 0;</div>
<div class="line"><span class="lineno">20846</span>    }</div>
<div class="line"><span class="lineno">20847</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">20848</span> </div>
<div class="line"><span class="lineno">20849</span>    <span class="comment">/* Step by step initialization of ctx - depending on build options */</span></div>
<div class="line"><span class="lineno">20850</span><span class="preprocessor">#if !defined(NO_FILESYSTEMS)</span></div>
<div class="line"><span class="lineno">20851</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="civetweb_8c.html#a6c0f85beb9e4157e5da9ad2550fc2258">set_gpass_option</a>(ctx, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><span class="lineno">20852</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *err_msg = <span class="stringliteral">&quot;Invalid global password file&quot;</span>;</div>
<div class="line"><span class="lineno">20853</span>        <span class="comment">/* Fatal error - abort start. */</span></div>
<div class="line"><span class="lineno">20854</span>        <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx, <span class="stringliteral">&quot;%s&quot;</span>, err_msg);</div>
<div class="line"><span class="lineno">20855</span> </div>
<div class="line"><span class="lineno">20856</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20857</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9eae33de5d81924866d43155b8a3531135f">MG_ERROR_DATA_CODE_INVALID_PASS_FILE</a>;</div>
<div class="line"><span class="lineno">20858</span>            <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">20859</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">20860</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">20861</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">20862</span>                        <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><span class="lineno">20863</span>                        err_msg);</div>
<div class="line"><span class="lineno">20864</span>        }</div>
<div class="line"><span class="lineno">20865</span>        <a class="code hl_function" href="civetweb_8c.html#ac591487b5ffc826f4824c8c1d9a4caaa">free_context</a>(ctx);</div>
<div class="line"><span class="lineno">20866</span>        pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">20867</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">20868</span>    }</div>
<div class="line"><span class="lineno">20869</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">20870</span> </div>
<div class="line"><span class="lineno">20871</span><span class="preprocessor">#if defined(USE_MBEDTLS)</span></div>
<div class="line"><span class="lineno">20872</span>    <span class="keywordflow">if</span> (!mg_sslctx_init(ctx, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><span class="lineno">20873</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *err_msg = <span class="stringliteral">&quot;Error initializing SSL context&quot;</span>;</div>
<div class="line"><span class="lineno">20874</span>        <span class="comment">/* Fatal error - abort start. */</span></div>
<div class="line"><span class="lineno">20875</span>        <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx, <span class="stringliteral">&quot;%s&quot;</span>, err_msg);</div>
<div class="line"><span class="lineno">20876</span> </div>
<div class="line"><span class="lineno">20877</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20878</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ead5f94e3f9ddc28c9d4a05f18bed659c7">MG_ERROR_DATA_CODE_INIT_TLS_FAILED</a>;</div>
<div class="line"><span class="lineno">20879</span>            <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">20880</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">20881</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">20882</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">20883</span>                        <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><span class="lineno">20884</span>                        err_msg);</div>
<div class="line"><span class="lineno">20885</span>        }</div>
<div class="line"><span class="lineno">20886</span> </div>
<div class="line"><span class="lineno">20887</span>        <a class="code hl_function" href="civetweb_8c.html#ac591487b5ffc826f4824c8c1d9a4caaa">free_context</a>(ctx);</div>
<div class="line"><span class="lineno">20888</span>        pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">20889</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">20890</span>    }</div>
<div class="line"><span class="lineno">20891</span> </div>
<div class="line"><span class="lineno">20892</span><span class="preprocessor">#elif !defined(NO_SSL)</span></div>
<div class="line"><span class="lineno">20893</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="civetweb_8c.html#ae2d6e50236af5e059e4c3e28cc232cff">init_ssl_ctx</a>(ctx, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><span class="lineno">20894</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *err_msg = <span class="stringliteral">&quot;Error initializing SSL context&quot;</span>;</div>
<div class="line"><span class="lineno">20895</span>        <span class="comment">/* Fatal error - abort start. */</span></div>
<div class="line"><span class="lineno">20896</span>        <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx, <span class="stringliteral">&quot;%s&quot;</span>, err_msg);</div>
<div class="line"><span class="lineno">20897</span> </div>
<div class="line"><span class="lineno">20898</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20899</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ead5f94e3f9ddc28c9d4a05f18bed659c7">MG_ERROR_DATA_CODE_INIT_TLS_FAILED</a>;</div>
<div class="line"><span class="lineno">20900</span>            <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">20901</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">20902</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">20903</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">20904</span>                        <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><span class="lineno">20905</span>                        err_msg);</div>
<div class="line"><span class="lineno">20906</span>        }</div>
<div class="line"><span class="lineno">20907</span> </div>
<div class="line"><span class="lineno">20908</span>        <a class="code hl_function" href="civetweb_8c.html#ac591487b5ffc826f4824c8c1d9a4caaa">free_context</a>(ctx);</div>
<div class="line"><span class="lineno">20909</span>        pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">20910</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">20911</span>    }</div>
<div class="line"><span class="lineno">20912</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">20913</span> </div>
<div class="line"><span class="lineno">20914</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="civetweb_8c.html#a7c6eca1c5a3388266a2d289ce34fda58">set_ports_option</a>(ctx)) {</div>
<div class="line"><span class="lineno">20915</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *err_msg = <span class="stringliteral">&quot;Failed to setup server ports&quot;</span>;</div>
<div class="line"><span class="lineno">20916</span>        <span class="comment">/* Fatal error - abort start. */</span></div>
<div class="line"><span class="lineno">20917</span>        <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx, <span class="stringliteral">&quot;%s&quot;</span>, err_msg);</div>
<div class="line"><span class="lineno">20918</span> </div>
<div class="line"><span class="lineno">20919</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20920</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9eab450ab40c3dc55b101012568d07d6ccc">MG_ERROR_DATA_CODE_INIT_PORTS_FAILED</a>;</div>
<div class="line"><span class="lineno">20921</span>            <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">20922</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">20923</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">20924</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">20925</span>                        <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><span class="lineno">20926</span>                        err_msg);</div>
<div class="line"><span class="lineno">20927</span>        }</div>
<div class="line"><span class="lineno">20928</span> </div>
<div class="line"><span class="lineno">20929</span>        <a class="code hl_function" href="civetweb_8c.html#ac591487b5ffc826f4824c8c1d9a4caaa">free_context</a>(ctx);</div>
<div class="line"><span class="lineno">20930</span>        pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">20931</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">20932</span>    }</div>
<div class="line"><span class="lineno">20933</span> </div>
<div class="line"><span class="lineno">20934</span><span class="preprocessor">#if !defined(_WIN32) &amp;&amp; !defined(__ZEPHYR__)</span></div>
<div class="line"><span class="lineno">20935</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="civetweb_8c.html#a462b35ed3af5d8e9f56280956ee1839e">set_uid_option</a>(ctx)) {</div>
<div class="line"><span class="lineno">20936</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *err_msg = <span class="stringliteral">&quot;Failed to run as configured user&quot;</span>;</div>
<div class="line"><span class="lineno">20937</span>        <span class="comment">/* Fatal error - abort start. */</span></div>
<div class="line"><span class="lineno">20938</span>        <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx, <span class="stringliteral">&quot;%s&quot;</span>, err_msg);</div>
<div class="line"><span class="lineno">20939</span> </div>
<div class="line"><span class="lineno">20940</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20941</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ead9cfc7dc6349cd93cd1530cf59a8fa21">MG_ERROR_DATA_CODE_INIT_USER_FAILED</a>;</div>
<div class="line"><span class="lineno">20942</span>            <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">20943</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">20944</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">20945</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">20946</span>                        <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><span class="lineno">20947</span>                        err_msg);</div>
<div class="line"><span class="lineno">20948</span>        }</div>
<div class="line"><span class="lineno">20949</span> </div>
<div class="line"><span class="lineno">20950</span>        <a class="code hl_function" href="civetweb_8c.html#ac591487b5ffc826f4824c8c1d9a4caaa">free_context</a>(ctx);</div>
<div class="line"><span class="lineno">20951</span>        pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">20952</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">20953</span>    }</div>
<div class="line"><span class="lineno">20954</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">20955</span> </div>
<div class="line"><span class="lineno">20956</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="civetweb_8c.html#a9dc4b721d5bb3b8e494257027050c47f">set_acl_option</a>(ctx)) {</div>
<div class="line"><span class="lineno">20957</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *err_msg = <span class="stringliteral">&quot;Failed to setup access control list&quot;</span>;</div>
<div class="line"><span class="lineno">20958</span>        <span class="comment">/* Fatal error - abort start. */</span></div>
<div class="line"><span class="lineno">20959</span>        <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx, <span class="stringliteral">&quot;%s&quot;</span>, err_msg);</div>
<div class="line"><span class="lineno">20960</span> </div>
<div class="line"><span class="lineno">20961</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20962</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea9d7507f92b0660c66f03dd89210a8740">MG_ERROR_DATA_CODE_INIT_ACL_FAILED</a>;</div>
<div class="line"><span class="lineno">20963</span>            <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">20964</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">20965</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">20966</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">20967</span>                        <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><span class="lineno">20968</span>                        err_msg);</div>
<div class="line"><span class="lineno">20969</span>        }</div>
<div class="line"><span class="lineno">20970</span> </div>
<div class="line"><span class="lineno">20971</span>        <a class="code hl_function" href="civetweb_8c.html#ac591487b5ffc826f4824c8c1d9a4caaa">free_context</a>(ctx);</div>
<div class="line"><span class="lineno">20972</span>        pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">20973</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">20974</span>    }</div>
<div class="line"><span class="lineno">20975</span> </div>
<div class="line"><span class="lineno">20976</span>    ctx-&gt;<a class="code hl_variable" href="structmg__context.html#afa57b9192357ddbae3c0fc3b5481425a">cfg_worker_threads</a> = ((<span class="keywordtype">unsigned</span> int)(workerthreadcount));</div>
<div class="line"><span class="lineno">20977</span>    ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a50c65eb1270eecad5834817246d86f2b">worker_threadids</a> = (pthread_t *)<a class="code hl_define" href="civetweb_8c.html#a29f85c2d195a7eb5893fdd101383681b">mg_calloc_ctx</a>(ctx-&gt;<a class="code hl_variable" href="structmg__context.html#afa57b9192357ddbae3c0fc3b5481425a">cfg_worker_threads</a>,</div>
<div class="line"><span class="lineno">20978</span>                                                       <span class="keyword">sizeof</span>(pthread_t),</div>
<div class="line"><span class="lineno">20979</span>                                                       ctx);</div>
<div class="line"><span class="lineno">20980</span> </div>
<div class="line"><span class="lineno">20981</span>    <span class="keywordflow">if</span> (ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a50c65eb1270eecad5834817246d86f2b">worker_threadids</a> == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20982</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *err_msg = <span class="stringliteral">&quot;Not enough memory for worker thread ID array&quot;</span>;</div>
<div class="line"><span class="lineno">20983</span>        <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx, <span class="stringliteral">&quot;%s&quot;</span>, err_msg);</div>
<div class="line"><span class="lineno">20984</span> </div>
<div class="line"><span class="lineno">20985</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">20986</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ead54ef9d63e339f4c05c12cb56564e319">MG_ERROR_DATA_CODE_OUT_OF_MEMORY</a>;</div>
<div class="line"><span class="lineno">20987</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code_sub =</div>
<div class="line"><span class="lineno">20988</span>                (unsigned)ctx-&gt;<a class="code hl_variable" href="structmg__context.html#afa57b9192357ddbae3c0fc3b5481425a">cfg_worker_threads</a> * (<span class="keywordtype">unsigned</span>)<span class="keyword">sizeof</span>(pthread_t);</div>
<div class="line"><span class="lineno">20989</span>            <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">20990</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">20991</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">20992</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">20993</span>                        <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><span class="lineno">20994</span>                        err_msg);</div>
<div class="line"><span class="lineno">20995</span>        }</div>
<div class="line"><span class="lineno">20996</span> </div>
<div class="line"><span class="lineno">20997</span>        <a class="code hl_function" href="civetweb_8c.html#ac591487b5ffc826f4824c8c1d9a4caaa">free_context</a>(ctx);</div>
<div class="line"><span class="lineno">20998</span>        pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">20999</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">21000</span>    }</div>
<div class="line"><span class="lineno">21001</span>    ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a854d7b5d783f951cb08e2aeed380c481">worker_connections</a> =</div>
<div class="line"><span class="lineno">21002</span>        (<span class="keyword">struct </span><a class="code hl_struct" href="structmg__connection.html">mg_connection</a> *)<a class="code hl_define" href="civetweb_8c.html#a29f85c2d195a7eb5893fdd101383681b">mg_calloc_ctx</a>(ctx-&gt;<a class="code hl_variable" href="structmg__context.html#afa57b9192357ddbae3c0fc3b5481425a">cfg_worker_threads</a>,</div>
<div class="line"><span class="lineno">21003</span>                                              <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_struct" href="structmg__connection.html">mg_connection</a>),</div>
<div class="line"><span class="lineno">21004</span>                                              ctx);</div>
<div class="line"><span class="lineno">21005</span>    <span class="keywordflow">if</span> (ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a854d7b5d783f951cb08e2aeed380c481">worker_connections</a> == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">21006</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *err_msg =</div>
<div class="line"><span class="lineno">21007</span>            <span class="stringliteral">&quot;Not enough memory for worker thread connection array&quot;</span>;</div>
<div class="line"><span class="lineno">21008</span>        <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx, <span class="stringliteral">&quot;%s&quot;</span>, err_msg);</div>
<div class="line"><span class="lineno">21009</span> </div>
<div class="line"><span class="lineno">21010</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">21011</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ead54ef9d63e339f4c05c12cb56564e319">MG_ERROR_DATA_CODE_OUT_OF_MEMORY</a>;</div>
<div class="line"><span class="lineno">21012</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code_sub = (unsigned)ctx-&gt;<a class="code hl_variable" href="structmg__context.html#afa57b9192357ddbae3c0fc3b5481425a">cfg_worker_threads</a></div>
<div class="line"><span class="lineno">21013</span>                              * (<span class="keywordtype">unsigned</span>)<span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code hl_struct" href="structmg__connection.html">mg_connection</a>);</div>
<div class="line"><span class="lineno">21014</span>            <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21015</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">21016</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">21017</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">21018</span>                        <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><span class="lineno">21019</span>                        err_msg);</div>
<div class="line"><span class="lineno">21020</span>        }</div>
<div class="line"><span class="lineno">21021</span> </div>
<div class="line"><span class="lineno">21022</span>        <a class="code hl_function" href="civetweb_8c.html#ac591487b5ffc826f4824c8c1d9a4caaa">free_context</a>(ctx);</div>
<div class="line"><span class="lineno">21023</span>        pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">21024</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">21025</span>    }</div>
<div class="line"><span class="lineno">21026</span> </div>
<div class="line"><span class="lineno">21027</span><span class="preprocessor">#if defined(ALTERNATIVE_QUEUE)</span></div>
<div class="line"><span class="lineno">21028</span>    ctx-&gt;client_wait_events =</div>
<div class="line"><span class="lineno">21029</span>        (<span class="keywordtype">void</span> **)<a class="code hl_define" href="civetweb_8c.html#a29f85c2d195a7eb5893fdd101383681b">mg_calloc_ctx</a>(ctx-&gt;<a class="code hl_variable" href="structmg__context.html#afa57b9192357ddbae3c0fc3b5481425a">cfg_worker_threads</a>,</div>
<div class="line"><span class="lineno">21030</span>                               <span class="keyword">sizeof</span>(ctx-&gt;client_wait_events[0]),</div>
<div class="line"><span class="lineno">21031</span>                               ctx);</div>
<div class="line"><span class="lineno">21032</span>    <span class="keywordflow">if</span> (ctx-&gt;client_wait_events == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">21033</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *err_msg = <span class="stringliteral">&quot;Not enough memory for worker event array&quot;</span>;</div>
<div class="line"><span class="lineno">21034</span>        <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx, <span class="stringliteral">&quot;%s&quot;</span>, err_msg);</div>
<div class="line"><span class="lineno">21035</span>        <a class="code hl_function" href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a>(ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a50c65eb1270eecad5834817246d86f2b">worker_threadids</a>);</div>
<div class="line"><span class="lineno">21036</span> </div>
<div class="line"><span class="lineno">21037</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">21038</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ead54ef9d63e339f4c05c12cb56564e319">MG_ERROR_DATA_CODE_OUT_OF_MEMORY</a>;</div>
<div class="line"><span class="lineno">21039</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code_sub = (unsigned)ctx-&gt;<a class="code hl_variable" href="structmg__context.html#afa57b9192357ddbae3c0fc3b5481425a">cfg_worker_threads</a></div>
<div class="line"><span class="lineno">21040</span>                              * (<span class="keywordtype">unsigned</span>)<span class="keyword">sizeof</span>(ctx-&gt;client_wait_events[0]);</div>
<div class="line"><span class="lineno">21041</span>            <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21042</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">21043</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">21044</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">21045</span>                        <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><span class="lineno">21046</span>                        err_msg);</div>
<div class="line"><span class="lineno">21047</span>        }</div>
<div class="line"><span class="lineno">21048</span> </div>
<div class="line"><span class="lineno">21049</span>        <a class="code hl_function" href="civetweb_8c.html#ac591487b5ffc826f4824c8c1d9a4caaa">free_context</a>(ctx);</div>
<div class="line"><span class="lineno">21050</span>        pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">21051</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">21052</span>    }</div>
<div class="line"><span class="lineno">21053</span> </div>
<div class="line"><span class="lineno">21054</span>    ctx-&gt;client_socks =</div>
<div class="line"><span class="lineno">21055</span>        (<span class="keyword">struct </span><a class="code hl_struct" href="structsocket.html">socket</a> *)<a class="code hl_define" href="civetweb_8c.html#a29f85c2d195a7eb5893fdd101383681b">mg_calloc_ctx</a>(ctx-&gt;<a class="code hl_variable" href="structmg__context.html#afa57b9192357ddbae3c0fc3b5481425a">cfg_worker_threads</a>,</div>
<div class="line"><span class="lineno">21056</span>                                       <span class="keyword">sizeof</span>(ctx-&gt;client_socks[0]),</div>
<div class="line"><span class="lineno">21057</span>                                       ctx);</div>
<div class="line"><span class="lineno">21058</span>    <span class="keywordflow">if</span> (ctx-&gt;client_socks == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">21059</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *err_msg = <span class="stringliteral">&quot;Not enough memory for worker socket array&quot;</span>;</div>
<div class="line"><span class="lineno">21060</span>        <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx, <span class="stringliteral">&quot;%s&quot;</span>, err_msg);</div>
<div class="line"><span class="lineno">21061</span>        <a class="code hl_function" href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a>(ctx-&gt;client_wait_events);</div>
<div class="line"><span class="lineno">21062</span>        <a class="code hl_function" href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a>(ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a50c65eb1270eecad5834817246d86f2b">worker_threadids</a>);</div>
<div class="line"><span class="lineno">21063</span> </div>
<div class="line"><span class="lineno">21064</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">21065</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ead54ef9d63e339f4c05c12cb56564e319">MG_ERROR_DATA_CODE_OUT_OF_MEMORY</a>;</div>
<div class="line"><span class="lineno">21066</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code_sub = (unsigned)ctx-&gt;<a class="code hl_variable" href="structmg__context.html#afa57b9192357ddbae3c0fc3b5481425a">cfg_worker_threads</a></div>
<div class="line"><span class="lineno">21067</span>                              * (<span class="keywordtype">unsigned</span>)<span class="keyword">sizeof</span>(ctx-&gt;client_socks[0]);</div>
<div class="line"><span class="lineno">21068</span>            <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21069</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">21070</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">21071</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">21072</span>                        <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><span class="lineno">21073</span>                        err_msg);</div>
<div class="line"><span class="lineno">21074</span>        }</div>
<div class="line"><span class="lineno">21075</span> </div>
<div class="line"><span class="lineno">21076</span>        <a class="code hl_function" href="civetweb_8c.html#ac591487b5ffc826f4824c8c1d9a4caaa">free_context</a>(ctx);</div>
<div class="line"><span class="lineno">21077</span>        pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">21078</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">21079</span>    }</div>
<div class="line"><span class="lineno">21080</span> </div>
<div class="line"><span class="lineno">21081</span>    <span class="keywordflow">for</span> (i = 0; (unsigned)i &lt; ctx-&gt;cfg_worker_threads; i++) {</div>
<div class="line"><span class="lineno">21082</span>        ctx-&gt;client_wait_events[i] = event_create();</div>
<div class="line"><span class="lineno">21083</span>        <span class="keywordflow">if</span> (ctx-&gt;client_wait_events[i] == 0) {</div>
<div class="line"><span class="lineno">21084</span>            <span class="keyword">const</span> <span class="keywordtype">char</span> *err_msg = <span class="stringliteral">&quot;Error creating worker event %i&quot;</span>;</div>
<div class="line"><span class="lineno">21085</span>            <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx, err_msg, i);</div>
<div class="line"><span class="lineno">21086</span>            <span class="keywordflow">while</span> (i &gt; 0) {</div>
<div class="line"><span class="lineno">21087</span>                i--;</div>
<div class="line"><span class="lineno">21088</span>                event_destroy(ctx-&gt;client_wait_events[i]);</div>
<div class="line"><span class="lineno">21089</span>            }</div>
<div class="line"><span class="lineno">21090</span>            <a class="code hl_function" href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a>(ctx-&gt;client_socks);</div>
<div class="line"><span class="lineno">21091</span>            <a class="code hl_function" href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a>(ctx-&gt;client_wait_events);</div>
<div class="line"><span class="lineno">21092</span>            <a class="code hl_function" href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a>(ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a50c65eb1270eecad5834817246d86f2b">worker_threadids</a>);</div>
<div class="line"><span class="lineno">21093</span> </div>
<div class="line"><span class="lineno">21094</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">21095</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea4ec7bbc93f6f6d5d1f91b2bda132b7f6">MG_ERROR_DATA_CODE_OS_ERROR</a>;</div>
<div class="line"><span class="lineno">21096</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code_sub = (unsigned)<a class="code hl_define" href="civetweb_8c.html#a3a830e27de72e8bab8bc80eafebd657e">ERRNO</a>;</div>
<div class="line"><span class="lineno">21097</span>                <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21098</span>                            <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">21099</span>                            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">21100</span>                            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">21101</span>                            err_msg,</div>
<div class="line"><span class="lineno">21102</span>                            i);</div>
<div class="line"><span class="lineno">21103</span>            }</div>
<div class="line"><span class="lineno">21104</span> </div>
<div class="line"><span class="lineno">21105</span>            <a class="code hl_function" href="civetweb_8c.html#ac591487b5ffc826f4824c8c1d9a4caaa">free_context</a>(ctx);</div>
<div class="line"><span class="lineno">21106</span>            pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">21107</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">21108</span>        }</div>
<div class="line"><span class="lineno">21109</span>    }</div>
<div class="line"><span class="lineno">21110</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21111</span> </div>
<div class="line"><span class="lineno">21112</span><span class="preprocessor">#if defined(USE_TIMERS)</span></div>
<div class="line"><span class="lineno">21113</span>    <span class="keywordflow">if</span> (timers_init(ctx) != 0) {</div>
<div class="line"><span class="lineno">21114</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *err_msg = <span class="stringliteral">&quot;Error creating timers&quot;</span>;</div>
<div class="line"><span class="lineno">21115</span>        <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx, <span class="stringliteral">&quot;%s&quot;</span>, err_msg);</div>
<div class="line"><span class="lineno">21116</span> </div>
<div class="line"><span class="lineno">21117</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">21118</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea4ec7bbc93f6f6d5d1f91b2bda132b7f6">MG_ERROR_DATA_CODE_OS_ERROR</a>;</div>
<div class="line"><span class="lineno">21119</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code_sub = (unsigned)<a class="code hl_define" href="civetweb_8c.html#a3a830e27de72e8bab8bc80eafebd657e">ERRNO</a>;</div>
<div class="line"><span class="lineno">21120</span>            <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21121</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">21122</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">21123</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">21124</span>                        <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><span class="lineno">21125</span>                        err_msg);</div>
<div class="line"><span class="lineno">21126</span>        }</div>
<div class="line"><span class="lineno">21127</span> </div>
<div class="line"><span class="lineno">21128</span>        <a class="code hl_function" href="civetweb_8c.html#ac591487b5ffc826f4824c8c1d9a4caaa">free_context</a>(ctx);</div>
<div class="line"><span class="lineno">21129</span>        pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">21130</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">21131</span>    }</div>
<div class="line"><span class="lineno">21132</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21133</span> </div>
<div class="line"><span class="lineno">21134</span>    <span class="comment">/* Context has been created - init user libraries */</span></div>
<div class="line"><span class="lineno">21135</span>    <span class="keywordflow">if</span> (ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a96ed28bfd364cf0b9b556e365a3b780d">callbacks</a>.<a class="code hl_variable" href="structmg__callbacks.html#ab12f9824dc1f6d257fdc2f44706fc158">init_context</a>) {</div>
<div class="line"><span class="lineno">21136</span>        ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a96ed28bfd364cf0b9b556e365a3b780d">callbacks</a>.<a class="code hl_variable" href="structmg__callbacks.html#ab12f9824dc1f6d257fdc2f44706fc158">init_context</a>(ctx);</div>
<div class="line"><span class="lineno">21137</span>    }</div>
<div class="line"><span class="lineno">21138</span> </div>
<div class="line"><span class="lineno">21139</span>    <span class="comment">/* From now, the context is successfully created.</span></div>
<div class="line"><span class="lineno">21140</span><span class="comment">     * When it is destroyed, the exit callback should be called. */</span></div>
<div class="line"><span class="lineno">21141</span>    ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a96ed28bfd364cf0b9b556e365a3b780d">callbacks</a>.<a class="code hl_variable" href="structmg__callbacks.html#a83dd2d98afc49aeef8f1083034da3659">exit_context</a> = exit_callback;</div>
<div class="line"><span class="lineno">21142</span>    ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a90a2997b56e1c373156481a79c4e5d52">context_type</a> = <a class="code hl_enumvalue" href="civetweb_8c.html#a99fb83031ce9923c84392b4e92f956b5a6392e857a250daf7dd0a85461da6d099">CONTEXT_SERVER</a>; <span class="comment">/* server context */</span></div>
<div class="line"><span class="lineno">21143</span> </div>
<div class="line"><span class="lineno">21144</span>    <span class="comment">/* Start worker threads */</span></div>
<div class="line"><span class="lineno">21145</span>    <span class="keywordflow">for</span> (i = 0; i &lt; ctx-&gt;<a class="code hl_variable" href="structmg__context.html#afa57b9192357ddbae3c0fc3b5481425a">cfg_worker_threads</a>; i++) {</div>
<div class="line"><span class="lineno">21146</span>        <span class="comment">/* worker_thread sets up the other fields */</span></div>
<div class="line"><span class="lineno">21147</span>        ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a854d7b5d783f951cb08e2aeed380c481">worker_connections</a>[i].<a class="code hl_variable" href="structmg__connection.html#aba76ab7aef56551015fe468e8fc306c1">phys_ctx</a> = ctx;</div>
<div class="line"><span class="lineno">21148</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="civetweb_8c.html#a7da29c2b36cd27b1467771e8ac52404e">mg_start_thread_with_id</a>(<a class="code hl_function" href="civetweb_8c.html#adbe073c81a7fabd2785914e1b4a8e3d0">worker_thread</a>,</div>
<div class="line"><span class="lineno">21149</span>                                    &amp;ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a854d7b5d783f951cb08e2aeed380c481">worker_connections</a>[i],</div>
<div class="line"><span class="lineno">21150</span>                                    &amp;ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a50c65eb1270eecad5834817246d86f2b">worker_threadids</a>[i])</div>
<div class="line"><span class="lineno">21151</span>            != 0) {</div>
<div class="line"><span class="lineno">21152</span> </div>
<div class="line"><span class="lineno">21153</span>            <span class="keywordtype">long</span> error_no = (long)<a class="code hl_define" href="civetweb_8c.html#a3a830e27de72e8bab8bc80eafebd657e">ERRNO</a>;</div>
<div class="line"><span class="lineno">21154</span> </div>
<div class="line"><span class="lineno">21155</span>            <span class="comment">/* thread was not created */</span></div>
<div class="line"><span class="lineno">21156</span>            <span class="keywordflow">if</span> (i &gt; 0) {</div>
<div class="line"><span class="lineno">21157</span>                <span class="comment">/* If the second, third, ... thread cannot be created, set a</span></div>
<div class="line"><span class="lineno">21158</span><span class="comment">                 * warning, but keep running. */</span></div>
<div class="line"><span class="lineno">21159</span>                <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx,</div>
<div class="line"><span class="lineno">21160</span>                                    <span class="stringliteral">&quot;Cannot start worker thread %i: error %ld&quot;</span>,</div>
<div class="line"><span class="lineno">21161</span>                                    i + 1,</div>
<div class="line"><span class="lineno">21162</span>                                    error_no);</div>
<div class="line"><span class="lineno">21163</span> </div>
<div class="line"><span class="lineno">21164</span>                <span class="comment">/* If the server initialization should stop here, all</span></div>
<div class="line"><span class="lineno">21165</span><span class="comment">                 * threads that have already been created must be stopped</span></div>
<div class="line"><span class="lineno">21166</span><span class="comment">                 * first, before any free_context(ctx) call.</span></div>
<div class="line"><span class="lineno">21167</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno">21168</span> </div>
<div class="line"><span class="lineno">21169</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">21170</span>                <span class="comment">/* If the first worker thread cannot be created, stop</span></div>
<div class="line"><span class="lineno">21171</span><span class="comment">                 * initialization and free the entire server context. */</span></div>
<div class="line"><span class="lineno">21172</span>                <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx,</div>
<div class="line"><span class="lineno">21173</span>                                    <span class="stringliteral">&quot;Cannot create threads: error %ld&quot;</span>,</div>
<div class="line"><span class="lineno">21174</span>                                    error_no);</div>
<div class="line"><span class="lineno">21175</span> </div>
<div class="line"><span class="lineno">21176</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">21177</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea4ec7bbc93f6f6d5d1f91b2bda132b7f6">MG_ERROR_DATA_CODE_OS_ERROR</a>;</div>
<div class="line"><span class="lineno">21178</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code_sub = (unsigned)error_no;</div>
<div class="line"><span class="lineno">21179</span>                    <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(</div>
<div class="line"><span class="lineno">21180</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21181</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">21182</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">21183</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">21184</span>                        <span class="stringliteral">&quot;Cannot create first worker thread: error %ld&quot;</span>,</div>
<div class="line"><span class="lineno">21185</span>                        error_no);</div>
<div class="line"><span class="lineno">21186</span>                }</div>
<div class="line"><span class="lineno">21187</span> </div>
<div class="line"><span class="lineno">21188</span>                <a class="code hl_function" href="civetweb_8c.html#ac591487b5ffc826f4824c8c1d9a4caaa">free_context</a>(ctx);</div>
<div class="line"><span class="lineno">21189</span>                pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">21190</span>                <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">21191</span>            }</div>
<div class="line"><span class="lineno">21192</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">21193</span>        }</div>
<div class="line"><span class="lineno">21194</span>    }</div>
<div class="line"><span class="lineno">21195</span> </div>
<div class="line"><span class="lineno">21196</span>    <span class="comment">/* Start master (listening) thread */</span></div>
<div class="line"><span class="lineno">21197</span>    <a class="code hl_function" href="civetweb_8c.html#a7da29c2b36cd27b1467771e8ac52404e">mg_start_thread_with_id</a>(<a class="code hl_function" href="civetweb_8c.html#aab5946d38d4ebb16c9dc8cd45a913e99">master_thread</a>, ctx, &amp;ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a8bf30f14718695665927de4fa4e05104">masterthreadid</a>);</div>
<div class="line"><span class="lineno">21198</span> </div>
<div class="line"><span class="lineno">21199</span>    pthread_setspecific(<a class="code hl_variable" href="civetweb_8c.html#a03c9b752bc27bdf5941ddde6f615dd44">sTlsKey</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">21200</span>    <span class="keywordflow">return</span> ctx;</div>
<div class="line"><span class="lineno">21201</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a06fc87d81c62e9abb8790b6e5713c55ba36256ef668c8c2dbe1b6e4e0c99445b3"><div class="ttname"><a href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55ba36256ef668c8c2dbe1b6e4e0c99445b3">CONNECTION_QUEUE_SIZE</a></div><div class="ttdeci">@ CONNECTION_QUEUE_SIZE</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01927">civetweb.c:1927</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a06fc87d81c62e9abb8790b6e5713c55baa79a7d57f223b73b7e921e7227a55fb5"><div class="ttname"><a href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55baa79a7d57f223b73b7e921e7227a55fb5">MAX_REQUEST_SIZE</a></div><div class="ttdeci">@ MAX_REQUEST_SIZE</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01925">civetweb.c:1925</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a06fc87d81c62e9abb8790b6e5713c55baa818676aedda10c1d780a84133662831"><div class="ttname"><a href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55baa818676aedda10c1d780a84133662831">NUM_THREADS</a></div><div class="ttdeci">@ NUM_THREADS</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01921">civetweb.c:1921</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a06fc87d81c62e9abb8790b6e5713c55baaa2e945e2c233360f8a955eecb16cbed"><div class="ttname"><a href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55baaa2e945e2c233360f8a955eecb16cbed">DOCUMENT_ROOT</a></div><div class="ttdeci">@ DOCUMENT_ROOT</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01954">civetweb.c:1954</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a1617828178ff1b5df926d7f469288d3e"><div class="ttname"><a href="civetweb_8c.html#a1617828178ff1b5df926d7f469288d3e">MAX_WORKER_THREADS</a></div><div class="ttdeci">#define MAX_WORKER_THREADS</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l00465">civetweb.c:465</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a1ddc04f3556f50ae9cf6ec670c441c4b"><div class="ttname"><a href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a></div><div class="ttdeci">#define mg_cry_ctx_internal(ctx, fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02586">civetweb.c:2586</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a29f85c2d195a7eb5893fdd101383681b"><div class="ttname"><a href="civetweb_8c.html#a29f85c2d195a7eb5893fdd101383681b">mg_calloc_ctx</a></div><div class="ttdeci">#define mg_calloc_ctx(a, b, c)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01498">civetweb.c:1498</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a3a830e27de72e8bab8bc80eafebd657e"><div class="ttname"><a href="civetweb_8c.html#a3a830e27de72e8bab8bc80eafebd657e">ERRNO</a></div><div class="ttdeci">#define ERRNO</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l00924">civetweb.c:924</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a462b35ed3af5d8e9f56280956ee1839e"><div class="ttname"><a href="civetweb_8c.html#a462b35ed3af5d8e9f56280956ee1839e">set_uid_option</a></div><div class="ttdeci">static int set_uid_option(struct mg_context *phys_ctx)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l16267">civetweb.c:16267</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a6c0f85beb9e4157e5da9ad2550fc2258"><div class="ttname"><a href="civetweb_8c.html#a6c0f85beb9e4157e5da9ad2550fc2258">set_gpass_option</a></div><div class="ttdeci">static int set_gpass_option(struct mg_context *phys_ctx, struct mg_domain_context *dom_ctx)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l17636">civetweb.c:17636</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a7c6eca1c5a3388266a2d289ce34fda58"><div class="ttname"><a href="civetweb_8c.html#a7c6eca1c5a3388266a2d289ce34fda58">set_ports_option</a></div><div class="ttdeci">static int set_ports_option(struct mg_context *phys_ctx)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l15736">civetweb.c:15736</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a7da29c2b36cd27b1467771e8ac52404e"><div class="ttname"><a href="civetweb_8c.html#a7da29c2b36cd27b1467771e8ac52404e">mg_start_thread_with_id</a></div><div class="ttdeci">static int mg_start_thread_with_id(mg_thread_func_t func, void *param, pthread_t *threadidptr)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l05726">civetweb.c:5726</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a8a9f9af183eb62789209809d41dabbf4"><div class="ttname"><a href="civetweb_8c.html#a8a9f9af183eb62789209809d41dabbf4">next_option</a></div><div class="ttdeci">static const char * next_option(const char *list, struct vec *val, struct vec *eq_val)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l03899">civetweb.c:3899</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a99d34b5bd845aa051904a159156abc26"><div class="ttname"><a href="civetweb_8c.html#a99d34b5bd845aa051904a159156abc26">get_system_name</a></div><div class="ttdeci">static void get_system_name(char **sysName)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l20389">civetweb.c:20389</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a9dc4b721d5bb3b8e494257027050c47f"><div class="ttname"><a href="civetweb_8c.html#a9dc4b721d5bb3b8e494257027050c47f">set_acl_option</a></div><div class="ttdeci">static int set_acl_option(struct mg_context *phys_ctx)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l17662">civetweb.c:17662</a></div></div>
<div class="ttc" id="acivetweb_8c_html_aa30b97fc6c76000802e15129b3a1f48a"><div class="ttname"><a href="civetweb_8c.html#aa30b97fc6c76000802e15129b3a1f48a">mg_strdup_ctx</a></div><div class="ttdeci">static char * mg_strdup_ctx(const char *str, struct mg_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l03062">civetweb.c:3062</a></div></div>
<div class="ttc" id="acivetweb_8c_html_aab5946d38d4ebb16c9dc8cd45a913e99"><div class="ttname"><a href="civetweb_8c.html#aab5946d38d4ebb16c9dc8cd45a913e99">master_thread</a></div><div class="ttdeci">static void * master_thread(void *thread_func_param)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l20231">civetweb.c:20231</a></div></div>
<div class="ttc" id="acivetweb_8c_html_ac591487b5ffc826f4824c8c1d9a4caaa"><div class="ttname"><a href="civetweb_8c.html#ac591487b5ffc826f4824c8c1d9a4caaa">free_context</a></div><div class="ttdeci">static void free_context(struct mg_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l20249">civetweb.c:20249</a></div></div>
<div class="ttc" id="acivetweb_8c_html_ac610da3b9f5e065811120249a2f488ac"><div class="ttname"><a href="civetweb_8c.html#ac610da3b9f5e065811120249a2f488ac">legacy_init</a></div><div class="ttdeci">static void legacy_init(const char **options)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l20436">civetweb.c:20436</a></div></div>
<div class="ttc" id="acivetweb_8c_html_ac84429c87794be46b88e30fbd3b0bcfa"><div class="ttname"><a href="civetweb_8c.html#ac84429c87794be46b88e30fbd3b0bcfa">mg_atomic_inc</a></div><div class="ttdeci">static FUNCTION_MAY_BE_UNUSED ptrdiff_t mg_atomic_inc(volatile ptrdiff_t *addr)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01121">civetweb.c:1121</a></div></div>
<div class="ttc" id="acivetweb_8c_html_adbe073c81a7fabd2785914e1b4a8e3d0"><div class="ttname"><a href="civetweb_8c.html#adbe073c81a7fabd2785914e1b4a8e3d0">worker_thread</a></div><div class="ttdeci">static void * worker_thread(void *thread_func_param)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l19937">civetweb.c:19937</a></div></div>
<div class="ttc" id="acivetweb_8c_html_ae2d6e50236af5e059e4c3e28cc232cff"><div class="ttname"><a href="civetweb_8c.html#ae2d6e50236af5e059e4c3e28cc232cff">init_ssl_ctx</a></div><div class="ttdeci">static int init_ssl_ctx(struct mg_context *phys_ctx, struct mg_domain_context *dom_ctx)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l17485">civetweb.c:17485</a></div></div>
<div class="ttc" id="acivetweb_8c_html_af79aed9cc77304a39b3e031b2730e38b"><div class="ttname"><a href="civetweb_8c.html#af79aed9cc77304a39b3e031b2730e38b">thread_idx_max</a></div><div class="ttdeci">static volatile ptrdiff_t thread_idx_max</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01581">civetweb.c:1581</a></div></div>
<div class="ttc" id="acivetweb_8c_html_afcc8e6176b79900cc58605f1c884d0ab"><div class="ttname"><a href="civetweb_8c.html#afcc8e6176b79900cc58605f1c884d0ab">get_random</a></div><div class="ttdeci">static uint64_t get_random(void)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l05909">civetweb.c:5909</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_a1281a7e2b52370cc416123bfd32b1b29"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#a1281a7e2b52370cc416123bfd32b1b29">lua_pushstring</a></div><div class="ttdeci">LUA_API void lua_pushstring(lua_State *L, const char *s)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00454">lua-5.1.5/src/lapi.c:454</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_afb2d27f421677ef40425f9054ae216a7"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#afb2d27f421677ef40425f9054ae216a7">lua_rawset</a></div><div class="ttdeci">LUA_API void lua_rawset(lua_State *L, int idx)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00671">lua-5.1.5/src/lapi.c:671</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lua_8h_html_aa59db6b784aa1ec954599a44168c7761"><div class="ttname"><a href="lua-5_81_85_2src_2lua_8h.html#aa59db6b784aa1ec954599a44168c7761">lua_newtable</a></div><div class="ttdeci">#define lua_newtable(L)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lua_8h_source.html#l00256">lua-5.1.5/src/lua.h:256</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lua_8h_html_abb8eae2164badeafdb037bc1e03cc822"><div class="ttname"><a href="lua-5_81_85_2src_2lua_8h.html#abb8eae2164badeafdb037bc1e03cc822">lua_pop</a></div><div class="ttdeci">#define lua_pop(L, n)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lua_8h_source.html#l00254">lua-5.1.5/src/lua.h:254</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lua_8h_html_abc2f6fef4682c1d4cdc33206aaf42bec"><div class="ttname"><a href="lua-5_81_85_2src_2lua_8h.html#abc2f6fef4682c1d4cdc33206aaf42bec">lua_getglobal</a></div><div class="ttdeci">#define lua_getglobal(L, s)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lua_8h_source.html#l00277">lua-5.1.5/src/lua.h:277</a></div></div>
<div class="ttc" id="astructlua__State_html"><div class="ttname"><a href="structlua__State.html">lua_State</a></div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lstate_8h_source.html#l00100">lua-5.1.5/src/lstate.h:100</a></div></div>
<div class="ttc" id="astructmg__callbacks_html_a83dd2d98afc49aeef8f1083034da3659"><div class="ttname"><a href="structmg__callbacks.html#a83dd2d98afc49aeef8f1083034da3659">mg_callbacks::exit_context</a></div><div class="ttdeci">void(* exit_context)(const struct mg_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00372">civetweb.h:372</a></div></div>
<div class="ttc" id="astructmg__callbacks_html_ab12f9824dc1f6d257fdc2f44706fc158"><div class="ttname"><a href="structmg__callbacks.html#ab12f9824dc1f6d257fdc2f44706fc158">mg_callbacks::init_context</a></div><div class="ttdeci">void(* init_context)(const struct mg_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00367">civetweb.h:367</a></div></div>
<div class="ttc" id="astructmg__context_html_a3260d5fc8e16e35026d7d2bbcb10abf5"><div class="ttname"><a href="structmg__context.html#a3260d5fc8e16e35026d7d2bbcb10abf5">mg_context::sq_empty</a></div><div class="ttdeci">pthread_cond_t sq_empty</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02392">civetweb.c:2392</a></div></div>
<div class="ttc" id="astructmg__context_html_a49b598c1205bc368042ca530011e3316"><div class="ttname"><a href="structmg__context.html#a49b598c1205bc368042ca530011e3316">mg_context::squeue</a></div><div class="ttdeci">struct socket * squeue</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02387">civetweb.c:2387</a></div></div>
<div class="ttc" id="astructmg__context_html_a810362fe1b277e8f8a01ca5f90c0f5e8"><div class="ttname"><a href="structmg__context.html#a810362fe1b277e8f8a01ca5f90c0f5e8">mg_context::starter_thread_idx</a></div><div class="ttdeci">unsigned long starter_thread_idx</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02380">civetweb.c:2380</a></div></div>
<div class="ttc" id="astructmg__context_html_a854d7b5d783f951cb08e2aeed380c481"><div class="ttname"><a href="structmg__context.html#a854d7b5d783f951cb08e2aeed380c481">mg_context::worker_connections</a></div><div class="ttdeci">struct mg_connection * worker_connections</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02360">civetweb.c:2360</a></div></div>
<div class="ttc" id="astructmg__context_html_a8b39174e87cb0b5df1b093066256b2f1"><div class="ttname"><a href="structmg__context.html#a8b39174e87cb0b5df1b093066256b2f1">mg_context::systemName</a></div><div class="ttdeci">char * systemName</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02411">civetweb.c:2411</a></div></div>
<div class="ttc" id="astructmg__context_html_a8bf30f14718695665927de4fa4e05104"><div class="ttname"><a href="structmg__context.html#a8bf30f14718695665927de4fa4e05104">mg_context::masterthreadid</a></div><div class="ttdeci">pthread_t masterthreadid</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02376">civetweb.c:2376</a></div></div>
<div class="ttc" id="astructmg__context_html_a95d32beab46e554567d9ebaab7a6b2f2"><div class="ttname"><a href="structmg__context.html#a95d32beab46e554567d9ebaab7a6b2f2">mg_context::thread_mutex</a></div><div class="ttdeci">pthread_mutex_t thread_mutex</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02374">civetweb.c:2374</a></div></div>
<div class="ttc" id="astructmg__context_html_a96ed28bfd364cf0b9b556e365a3b780d"><div class="ttname"><a href="structmg__context.html#a96ed28bfd364cf0b9b556e365a3b780d">mg_context::callbacks</a></div><div class="ttdeci">struct mg_callbacks callbacks</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02432">civetweb.c:2432</a></div></div>
<div class="ttc" id="astructmg__context_html_aad49398eacc039c312d58c55530c65fa"><div class="ttname"><a href="structmg__context.html#aad49398eacc039c312d58c55530c65fa">mg_context::sq_full</a></div><div class="ttdeci">pthread_cond_t sq_full</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02391">civetweb.c:2391</a></div></div>
<div class="ttc" id="astructmg__context_html_af17486f182c09fa18f04d21212d6d381"><div class="ttname"><a href="structmg__context.html#af17486f182c09fa18f04d21212d6d381">mg_context::max_request_size</a></div><div class="ttdeci">unsigned int max_request_size</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02401">civetweb.c:2401</a></div></div>
<div class="ttc" id="astructmg__domain__context_html_a935ad1d56f46fde93d51014a96ded25d"><div class="ttname"><a href="structmg__domain__context.html#a935ad1d56f46fde93d51014a96ded25d">mg_domain_context::auth_nonce_mask</a></div><div class="ttdeci">uint64_t auth_nonce_mask</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02276">civetweb.c:2276</a></div></div>
<div class="ttc" id="astructmg__domain__context_html_ab15afe08729b3371cf26138782732845"><div class="ttname"><a href="structmg__domain__context.html#ab15afe08729b3371cf26138782732845">mg_domain_context::next</a></div><div class="ttdeci">struct mg_domain_context * next</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02285">civetweb.c:2285</a></div></div>
<div class="ttc" id="astructmg__domain__context_html_af15ef8d6a276c40c4caeeba414e20aff"><div class="ttname"><a href="structmg__domain__context.html#af15ef8d6a276c40c4caeeba414e20aff">mg_domain_context::handlers</a></div><div class="ttdeci">struct mg_handler_info * handlers</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02272">civetweb.c:2272</a></div></div>
<div class="ttc" id="astructmg__option_html_a59f8f8b81585ce50d69dcc1b094a0067"><div class="ttname"><a href="structmg__option.html#a59f8f8b81585ce50d69dcc1b094a0067">mg_option::default_value</a></div><div class="ttdeci">const char * default_value</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00688">civetweb.h:688</a></div></div>
<div class="ttc" id="astructmg__option_html_a86aed4136166ee660ad8bc71bb54e2bf"><div class="ttname"><a href="structmg__option.html#a86aed4136166ee660ad8bc71bb54e2bf">mg_option::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00686">civetweb.h:686</a></div></div>
<div class="ttc" id="astructsocket_html"><div class="ttname"><a href="structsocket.html">socket</a></div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01902">civetweb.c:1902</a></div></div>
<div class="ttc" id="astructvec_html"><div class="ttname"><a href="structvec.html">vec</a></div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01864">civetweb.c:1864</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l02276">mg_domain_context::auth_nonce_mask</a>, <a class="el" href="civetweb_8c_source.html#l02432">mg_context::callbacks</a>, <a class="el" href="civetweb_8h_source.html#l01799">mg_init_data::callbacks</a>, <a class="el" href="civetweb_8c_source.html#l02378">mg_context::cfg_worker_threads</a>, <a class="el" href="civetweb_8c_source.html#l02271">mg_domain_context::config</a>, <a class="el" href="civetweb_8c_source.html#l02062">config_options</a>, <a class="el" href="civetweb_8h_source.html#l01801">mg_init_data::configuration_options</a>, <a class="el" href="civetweb_8c_source.html#l01927">CONNECTION_QUEUE_SIZE</a>, <a class="el" href="civetweb_8c_source.html#l02263">CONTEXT_SERVER</a>, <a class="el" href="civetweb_8c_source.html#l02354">mg_context::context_type</a>, <a class="el" href="civetweb_8c_source.html#l02442">mg_context::dd</a>, <a class="el" href="civetweb_8c_source.html#l00242">DEBUG_TRACE</a>, <a class="el" href="civetweb_8h_source.html#l00688">mg_option::default_value</a>, <a class="el" href="civetweb_8c_source.html#l01954">DOCUMENT_ROOT</a>, <a class="el" href="civetweb_8c_source.html#l00924">ERRNO</a>, <a class="el" href="lua-5_81_85_2src_2lundump_8c_source.html#l00036">error()</a>, <a class="el" href="civetweb_8h_source.html#l00372">mg_callbacks::exit_context</a>, <a class="el" href="civetweb_8c_source.html#l20249">free_context()</a>, <a class="el" href="civetweb_8c_source.html#l03159">get_option_index()</a>, <a class="el" href="civetweb_8c_source.html#l05909">get_random()</a>, <a class="el" href="civetweb_8c_source.html#l20389">get_system_name()</a>, <a class="el" href="civetweb_8c_source.html#l02272">mg_domain_context::handlers</a>, <a class="el" href="civetweb_8h_source.html#l00367">mg_callbacks::init_context</a>, <a class="el" href="civetweb_8c_source.html#l17485">init_ssl_ctx()</a>, <a class="el" href="civetweb_8c_source.html#l01588">mg_workerTLS::is_master</a>, <a class="el" href="civetweb_8c_source.html#l20436">legacy_init()</a>, <a class="el" href="civetweb_8c_source.html#l01866">vec::len</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00277">lua_getglobal</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00256">lua_newtable</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00254">lua_pop</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00454">lua_pushstring()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00671">lua_rawset()</a>, <a class="el" href="civetweb_8c_source.html#l20231">master_thread()</a>, <a class="el" href="civetweb_8c_source.html#l02376">mg_context::masterthreadid</a>, <a class="el" href="civetweb_8c_source.html#l01925">MAX_REQUEST_SIZE</a>, <a class="el" href="civetweb_8c_source.html#l02401">mg_context::max_request_size</a>, <a class="el" href="civetweb_8c_source.html#l00465">MAX_WORKER_THREADS</a>, <a class="el" href="civetweb_8c_source.html#l01121">mg_atomic_inc()</a>, <a class="el" href="civetweb_8c_source.html#l01480">mg_calloc()</a>, <a class="el" href="civetweb_8c_source.html#l01498">mg_calloc_ctx</a>, <a class="el" href="civetweb_8c_source.html#l02586">mg_cry_ctx_internal</a>, <a class="el" href="civetweb_8h_source.html#l01770">MG_ERROR_DATA_CODE_INIT_ACL_FAILED</a>, <a class="el" href="civetweb_8h_source.html#l01758">MG_ERROR_DATA_CODE_INIT_LIBRARY_FAILED</a>, <a class="el" href="civetweb_8h_source.html#l01764">MG_ERROR_DATA_CODE_INIT_PORTS_FAILED</a>, <a class="el" href="civetweb_8h_source.html#l01743">MG_ERROR_DATA_CODE_INIT_TLS_FAILED</a>, <a class="el" href="civetweb_8h_source.html#l01767">MG_ERROR_DATA_CODE_INIT_USER_FAILED</a>, <a class="el" href="civetweb_8h_source.html#l01740">MG_ERROR_DATA_CODE_INVALID_OPTION</a>, <a class="el" href="civetweb_8h_source.html#l01773">MG_ERROR_DATA_CODE_INVALID_PASS_FILE</a>, <a class="el" href="civetweb_8h_source.html#l01734">MG_ERROR_DATA_CODE_OK</a>, <a class="el" href="civetweb_8h_source.html#l01761">MG_ERROR_DATA_CODE_OS_ERROR</a>, <a class="el" href="civetweb_8h_source.html#l01752">MG_ERROR_DATA_CODE_OUT_OF_MEMORY</a>, <a class="el" href="civetweb_8h_source.html#l01776">MG_ERROR_DATA_CODE_SCRIPT_ERROR</a>, <a class="el" href="civetweb_8c_source.html#l01492">mg_free()</a>, <a class="el" href="civetweb_8c_source.html#l01552">mg_init_library_called</a>, <a class="el" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf()</a>, <a class="el" href="civetweb_8c_source.html#l05726">mg_start_thread_with_id()</a>, <a class="el" href="civetweb_8c_source.html#l03062">mg_strdup_ctx()</a>, <a class="el" href="civetweb_8c_source.html#l03019">mg_strncasecmp()</a>, <a class="el" href="civetweb_8h_source.html#l00686">mg_option::name</a>, <a class="el" href="lsqlite3_8c_source.html#l02154">name</a>, <a class="el" href="civetweb_8c_source.html#l02285">mg_domain_context::next</a>, <a class="el" href="civetweb_8c_source.html#l03899">next_option()</a>, <a class="el" href="civetweb_8c_source.html#l02427">mg_context::nonce_mutex</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, <a class="el" href="civetweb_8c_source.html#l01921">NUM_THREADS</a>, <a class="el" href="civetweb_8c_source.html#l02497">mg_connection::phys_ctx</a>, <a class="el" href="civetweb_8c_source.html#l01074">pthread_mutex_attr</a>, <a class="el" href="civetweb_8c_source.html#l01865">vec::ptr</a>, <a class="el" href="civetweb_8c_source.html#l17662">set_acl_option()</a>, <a class="el" href="civetweb_8c_source.html#l17636">set_gpass_option()</a>, <a class="el" href="civetweb_8c_source.html#l15736">set_ports_option()</a>, <a class="el" href="civetweb_8c_source.html#l16267">set_uid_option()</a>, <a class="el" href="civetweb_8c_source.html#l02393">mg_context::sq_blocked</a>, <a class="el" href="civetweb_8c_source.html#l02392">mg_context::sq_empty</a>, <a class="el" href="civetweb_8c_source.html#l02391">mg_context::sq_full</a>, <a class="el" href="civetweb_8c_source.html#l02394">mg_context::sq_size</a>, <a class="el" href="civetweb_8c_source.html#l02387">mg_context::squeue</a>, <a class="el" href="civetweb_8c_source.html#l02380">mg_context::starter_thread_idx</a>, <a class="el" href="civetweb_8c_source.html#l01580">sTlsKey</a>, <a class="el" href="civetweb_8c_source.html#l02411">mg_context::systemName</a>, <a class="el" href="civetweb_8c_source.html#l01589">mg_workerTLS::thread_idx</a>, <a class="el" href="civetweb_8c_source.html#l01581">thread_idx_max</a>, <a class="el" href="civetweb_8c_source.html#l02374">mg_context::thread_mutex</a>, <a class="el" href="civetweb_8c_source.html#l02433">mg_context::user_data</a>, <a class="el" href="civetweb_8h_source.html#l01800">mg_init_data::user_data</a>, <a class="el" href="lsqlite3_8c_source.html#l02155">value</a>, <a class="el" href="civetweb_8c_source.html#l02360">mg_context::worker_connections</a>, <a class="el" href="civetweb_8c_source.html#l19937">worker_thread()</a>, and <a class="el" href="civetweb_8c_source.html#l02379">mg_context::worker_threadids</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l21205">mg_start()</a>, and <a class="el" href="vendor_2civetweb_2main_8c_source.html#l01181">start_civetweb()</a>.</p>

</div>
</div>
<a id="a9106145c9ea01c3039ef7b244cbf5c7c" name="a9106145c9ea01c3039ef7b244cbf5c7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9106145c9ea01c3039ef7b244cbf5c7c">&#9670;&#160;</a></span>mg_start_domain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_start_domain </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__context.html">mg_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **</td>          <td class="paramname"><span class="paramname"><em>configuration_options</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l21422">21422</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">21423</span>{</div>
<div class="line"><span class="lineno">21424</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="civetweb_8c.html#a0483d8dd6ede11edee9fb9fa38e88cf6">mg_start_domain2</a>(ctx, options, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">21425</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a0483d8dd6ede11edee9fb9fa38e88cf6"><div class="ttname"><a href="civetweb_8c.html#a0483d8dd6ede11edee9fb9fa38e88cf6">mg_start_domain2</a></div><div class="ttdeci">CIVETWEB_API int mg_start_domain2(struct mg_context *ctx, const char **options, struct mg_error_data *error)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l21220">civetweb.c:21220</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l21220">mg_start_domain2()</a>, and <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="vendor_2civetweb_2main_8c_source.html#l01181">start_civetweb()</a>.</p>

</div>
</div>
<a id="a01c4d57db6b6894909cce40dd50f74d7" name="a01c4d57db6b6894909cce40dd50f74d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01c4d57db6b6894909cce40dd50f74d7">&#9670;&#160;</a></span>mg_start_domain2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_start_domain2 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__context.html">mg_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **</td>          <td class="paramname"><span class="paramname"><em>configuration_options</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmg__error__data.html">mg_error_data</a> *</td>          <td class="paramname"><span class="paramname"><em>error</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l21220">21220</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">21223</span>{</div>
<div class="line"><span class="lineno">21224</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>;</div>
<div class="line"><span class="lineno">21225</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="lsqlite3_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div>
<div class="line"><span class="lineno">21226</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *default_value;</div>
<div class="line"><span class="lineno">21227</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structmg__domain__context.html">mg_domain_context</a> *new_dom;</div>
<div class="line"><span class="lineno">21228</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structmg__domain__context.html">mg_domain_context</a> *dom;</div>
<div class="line"><span class="lineno">21229</span>    <span class="keywordtype">int</span> idx, i;</div>
<div class="line"><span class="lineno">21230</span> </div>
<div class="line"><span class="lineno">21231</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">21232</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea6f2b13fd162f7422b5ff4e6dc317e650">MG_ERROR_DATA_CODE_OK</a>;</div>
<div class="line"><span class="lineno">21233</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code_sub = 0;</div>
<div class="line"><span class="lineno">21234</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size &gt; 0) {</div>
<div class="line"><span class="lineno">21235</span>            *<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text = 0;</div>
<div class="line"><span class="lineno">21236</span>        }</div>
<div class="line"><span class="lineno">21237</span>    }</div>
<div class="line"><span class="lineno">21238</span> </div>
<div class="line"><span class="lineno">21239</span>    <span class="keywordflow">if</span> ((ctx == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (options == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><span class="lineno">21240</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">21241</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9eac88d510f7057b262ab4931fa17bd12d8">MG_ERROR_DATA_CODE_INVALID_PARAM</a>;</div>
<div class="line"><span class="lineno">21242</span>            <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21243</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">21244</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">21245</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">21246</span>                        <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><span class="lineno">21247</span>                        <span class="stringliteral">&quot;Invalid parameters&quot;</span>);</div>
<div class="line"><span class="lineno">21248</span>        }</div>
<div class="line"><span class="lineno">21249</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">21250</span>    }</div>
<div class="line"><span class="lineno">21251</span> </div>
<div class="line"><span class="lineno">21252</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="civetweb_8c.html#a42c400d6feb7aa0de4280b0cf1c63fcc">STOP_FLAG_IS_ZERO</a>(&amp;ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a733a0204e86fcf92d016bd08c9db2691">stop_flag</a>)) {</div>
<div class="line"><span class="lineno">21253</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">21254</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9eae05172a302f4cb45bf87aea55ec6cdc6">MG_ERROR_DATA_CODE_SERVER_STOPPED</a>;</div>
<div class="line"><span class="lineno">21255</span>            <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21256</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">21257</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">21258</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">21259</span>                        <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><span class="lineno">21260</span>                        <span class="stringliteral">&quot;Server already stopped&quot;</span>);</div>
<div class="line"><span class="lineno">21261</span>        }</div>
<div class="line"><span class="lineno">21262</span>        <span class="keywordflow">return</span> -7;</div>
<div class="line"><span class="lineno">21263</span>    }</div>
<div class="line"><span class="lineno">21264</span> </div>
<div class="line"><span class="lineno">21265</span>    new_dom = (<span class="keyword">struct </span><a class="code hl_struct" href="structmg__domain__context.html">mg_domain_context</a> *)</div>
<div class="line"><span class="lineno">21266</span>        <a class="code hl_define" href="civetweb_8c.html#a29f85c2d195a7eb5893fdd101383681b">mg_calloc_ctx</a>(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_struct" href="structmg__domain__context.html">mg_domain_context</a>), ctx);</div>
<div class="line"><span class="lineno">21267</span> </div>
<div class="line"><span class="lineno">21268</span>    <span class="keywordflow">if</span> (!new_dom) {</div>
<div class="line"><span class="lineno">21269</span>        <span class="comment">/* Out of memory */</span></div>
<div class="line"><span class="lineno">21270</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">21271</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ead54ef9d63e339f4c05c12cb56564e319">MG_ERROR_DATA_CODE_OUT_OF_MEMORY</a>;</div>
<div class="line"><span class="lineno">21272</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code_sub = (unsigned)<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_struct" href="structmg__domain__context.html">mg_domain_context</a>);</div>
<div class="line"><span class="lineno">21273</span>            <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21274</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">21275</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">21276</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">21277</span>                        <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><span class="lineno">21278</span>                        <span class="stringliteral">&quot;Out or memory&quot;</span>);</div>
<div class="line"><span class="lineno">21279</span>        }</div>
<div class="line"><span class="lineno">21280</span>        <span class="keywordflow">return</span> -6;</div>
<div class="line"><span class="lineno">21281</span>    }</div>
<div class="line"><span class="lineno">21282</span> </div>
<div class="line"><span class="lineno">21283</span>    <span class="comment">/* Store options - TODO: unite duplicate code */</span></div>
<div class="line"><span class="lineno">21284</span>    <span class="keywordflow">while</span> (options &amp;&amp; (<a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = *options++) != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">21285</span>        idx = <a class="code hl_function" href="civetweb_8c.html#a4d2d84ca4d747d172e74257a176d216d">get_option_index</a>(<a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><span class="lineno">21286</span>        <span class="keywordflow">if</span> (idx == -1) {</div>
<div class="line"><span class="lineno">21287</span>            <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx, <span class="stringliteral">&quot;Invalid option: %s&quot;</span>, <a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><span class="lineno">21288</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">21289</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea7fc609256283dbb6d75046dc307f38cc">MG_ERROR_DATA_CODE_INVALID_OPTION</a>;</div>
<div class="line"><span class="lineno">21290</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code_sub = (unsigned)-1;</div>
<div class="line"><span class="lineno">21291</span>                <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21292</span>                            <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">21293</span>                            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">21294</span>                            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">21295</span>                            <span class="stringliteral">&quot;Invalid option: %s&quot;</span>,</div>
<div class="line"><span class="lineno">21296</span>                            <a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><span class="lineno">21297</span>            }</div>
<div class="line"><span class="lineno">21298</span>            <a class="code hl_function" href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a>(new_dom);</div>
<div class="line"><span class="lineno">21299</span>            <span class="keywordflow">return</span> -2;</div>
<div class="line"><span class="lineno">21300</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code hl_variable" href="lsqlite3_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> = *options++) == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">21301</span>            <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx, <span class="stringliteral">&quot;%s: option value cannot be NULL&quot;</span>, <a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><span class="lineno">21302</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">21303</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea7fc609256283dbb6d75046dc307f38cc">MG_ERROR_DATA_CODE_INVALID_OPTION</a>;</div>
<div class="line"><span class="lineno">21304</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code_sub = (unsigned)idx;</div>
<div class="line"><span class="lineno">21305</span>                <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21306</span>                            <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">21307</span>                            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">21308</span>                            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">21309</span>                            <span class="stringliteral">&quot;Invalid option value: %s&quot;</span>,</div>
<div class="line"><span class="lineno">21310</span>                            <a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><span class="lineno">21311</span>            }</div>
<div class="line"><span class="lineno">21312</span>            <a class="code hl_function" href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a>(new_dom);</div>
<div class="line"><span class="lineno">21313</span>            <span class="keywordflow">return</span> -2;</div>
<div class="line"><span class="lineno">21314</span>        }</div>
<div class="line"><span class="lineno">21315</span>        <span class="keywordflow">if</span> (new_dom-&gt;<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[idx] != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">21316</span>            <span class="comment">/* Duplicate option: Later values overwrite earlier ones. */</span></div>
<div class="line"><span class="lineno">21317</span>            <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx, <span class="stringliteral">&quot;warning: %s: duplicate option&quot;</span>, <a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><span class="lineno">21318</span>            <a class="code hl_function" href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a>(new_dom-&gt;<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[idx]);</div>
<div class="line"><span class="lineno">21319</span>        }</div>
<div class="line"><span class="lineno">21320</span>        new_dom-&gt;<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[idx] = <a class="code hl_function" href="civetweb_8c.html#aa30b97fc6c76000802e15129b3a1f48a">mg_strdup_ctx</a>(<a class="code hl_variable" href="lsqlite3_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, ctx);</div>
<div class="line"><span class="lineno">21321</span>        <a class="code hl_define" href="civetweb_8c.html#a98f6ecefbf7613a2478356d30af16020">DEBUG_TRACE</a>(<span class="stringliteral">&quot;[%s] -&gt; [%s]&quot;</span>, <a class="code hl_variable" href="lsqlite3_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <a class="code hl_variable" href="lsqlite3_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div>
<div class="line"><span class="lineno">21322</span>    }</div>
<div class="line"><span class="lineno">21323</span> </div>
<div class="line"><span class="lineno">21324</span>    <span class="comment">/* Authentication domain is mandatory */</span></div>
<div class="line"><span class="lineno">21325</span>    <span class="comment">/* TODO: Maybe use a new option hostname? */</span></div>
<div class="line"><span class="lineno">21326</span>    <span class="keywordflow">if</span> (!new_dom-&gt;<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55ba43a1f307bb484b11e37518539af13ed2">AUTHENTICATION_DOMAIN</a>]) {</div>
<div class="line"><span class="lineno">21327</span>        <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx, <span class="stringliteral">&quot;%s&quot;</span>, <span class="stringliteral">&quot;authentication domain required&quot;</span>);</div>
<div class="line"><span class="lineno">21328</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">21329</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea50ff3faabf936dfe44447e80289c57c3">MG_ERROR_DATA_CODE_MISSING_OPTION</a>;</div>
<div class="line"><span class="lineno">21330</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code_sub = <a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55ba43a1f307bb484b11e37518539af13ed2">AUTHENTICATION_DOMAIN</a>;</div>
<div class="line"><span class="lineno">21331</span>            <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21332</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">21333</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">21334</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">21335</span>                        <span class="stringliteral">&quot;Mandatory option %s missing&quot;</span>,</div>
<div class="line"><span class="lineno">21336</span>                        <a class="code hl_variable" href="civetweb_8c.html#a414393f1a7ad731456acc279c62290d0">config_options</a>[<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55ba43a1f307bb484b11e37518539af13ed2">AUTHENTICATION_DOMAIN</a>].<a class="code hl_variable" href="structmg__option.html#a86aed4136166ee660ad8bc71bb54e2bf">name</a>);</div>
<div class="line"><span class="lineno">21337</span>        }</div>
<div class="line"><span class="lineno">21338</span>        <a class="code hl_function" href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a>(new_dom);</div>
<div class="line"><span class="lineno">21339</span>        <span class="keywordflow">return</span> -4;</div>
<div class="line"><span class="lineno">21340</span>    }</div>
<div class="line"><span class="lineno">21341</span> </div>
<div class="line"><span class="lineno">21342</span>    <span class="comment">/* Set default value if needed. Take the config value from</span></div>
<div class="line"><span class="lineno">21343</span><span class="comment">     * ctx as a default value. */</span></div>
<div class="line"><span class="lineno">21344</span>    <span class="keywordflow">for</span> (i = 0; <a class="code hl_variable" href="civetweb_8c.html#a414393f1a7ad731456acc279c62290d0">config_options</a>[i].<a class="code hl_variable" href="structmg__option.html#a86aed4136166ee660ad8bc71bb54e2bf">name</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; i++) {</div>
<div class="line"><span class="lineno">21345</span>        default_value = ctx-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>.<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[i];</div>
<div class="line"><span class="lineno">21346</span>        <span class="keywordflow">if</span> ((new_dom-&gt;<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[i] == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (default_value != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><span class="lineno">21347</span>            new_dom-&gt;<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[i] = <a class="code hl_function" href="civetweb_8c.html#aa30b97fc6c76000802e15129b3a1f48a">mg_strdup_ctx</a>(default_value, ctx);</div>
<div class="line"><span class="lineno">21348</span>        }</div>
<div class="line"><span class="lineno">21349</span>    }</div>
<div class="line"><span class="lineno">21350</span> </div>
<div class="line"><span class="lineno">21351</span>    new_dom-&gt;<a class="code hl_variable" href="structmg__domain__context.html#af15ef8d6a276c40c4caeeba414e20aff">handlers</a> = <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">21352</span>    new_dom-&gt;<a class="code hl_variable" href="structmg__domain__context.html#ab15afe08729b3371cf26138782732845">next</a> = <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">21353</span>    new_dom-&gt;<a class="code hl_variable" href="structmg__domain__context.html#a25db94e78d0710af1bb4d7f3b8bd6556">nonce_count</a> = 0;</div>
<div class="line"><span class="lineno">21354</span>    new_dom-&gt;<a class="code hl_variable" href="structmg__domain__context.html#a935ad1d56f46fde93d51014a96ded25d">auth_nonce_mask</a> = <a class="code hl_function" href="civetweb_8c.html#afcc8e6176b79900cc58605f1c884d0ab">get_random</a>() ^ (<a class="code hl_function" href="civetweb_8c.html#afcc8e6176b79900cc58605f1c884d0ab">get_random</a>() &lt;&lt; 31);</div>
<div class="line"><span class="lineno">21355</span> </div>
<div class="line"><span class="lineno">21356</span><span class="preprocessor">#if defined(USE_LUA) &amp;&amp; defined(USE_WEBSOCKET)</span></div>
<div class="line"><span class="lineno">21357</span>    new_dom-&gt;shared_lua_websockets = <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">21358</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21359</span> </div>
<div class="line"><span class="lineno">21360</span><span class="preprocessor">#if !defined(NO_SSL) &amp;&amp; !defined(USE_MBEDTLS)</span></div>
<div class="line"><span class="lineno">21361</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="civetweb_8c.html#ae2d6e50236af5e059e4c3e28cc232cff">init_ssl_ctx</a>(ctx, new_dom)) {</div>
<div class="line"><span class="lineno">21362</span>        <span class="comment">/* Init SSL failed */</span></div>
<div class="line"><span class="lineno">21363</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">21364</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ead5f94e3f9ddc28c9d4a05f18bed659c7">MG_ERROR_DATA_CODE_INIT_TLS_FAILED</a>;</div>
<div class="line"><span class="lineno">21365</span>            <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21366</span>                        <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">21367</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">21368</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">21369</span>                        <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><span class="lineno">21370</span>                        <span class="stringliteral">&quot;Initializing SSL context failed&quot;</span>);</div>
<div class="line"><span class="lineno">21371</span>        }</div>
<div class="line"><span class="lineno">21372</span>        <a class="code hl_function" href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a>(new_dom);</div>
<div class="line"><span class="lineno">21373</span>        <span class="keywordflow">return</span> -3;</div>
<div class="line"><span class="lineno">21374</span>    }</div>
<div class="line"><span class="lineno">21375</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">21376</span> </div>
<div class="line"><span class="lineno">21377</span>    <span class="comment">/* Add element to linked list. */</span></div>
<div class="line"><span class="lineno">21378</span>    <a class="code hl_function" href="civetweb_8c.html#a0110b7fe742fb4ee2ab467151e4df7c2">mg_lock_context</a>(ctx);</div>
<div class="line"><span class="lineno">21379</span> </div>
<div class="line"><span class="lineno">21380</span>    idx = 0;</div>
<div class="line"><span class="lineno">21381</span>    dom = &amp;(ctx-&gt;<a class="code hl_variable" href="structmg__context.html#aa9f0218a15ae4f5f01985f2531660e4c">dd</a>);</div>
<div class="line"><span class="lineno">21382</span>    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><span class="lineno">21383</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="civetweb_8c.html#a5d0ea93d3ec8a90e631f7e7f53d28628">mg_strcasecmp</a>(new_dom-&gt;<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55ba43a1f307bb484b11e37518539af13ed2">AUTHENTICATION_DOMAIN</a>],</div>
<div class="line"><span class="lineno">21384</span>                           dom-&gt;<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55ba43a1f307bb484b11e37518539af13ed2">AUTHENTICATION_DOMAIN</a>])) {</div>
<div class="line"><span class="lineno">21385</span>            <span class="comment">/* Domain collision */</span></div>
<div class="line"><span class="lineno">21386</span>            <a class="code hl_define" href="civetweb_8c.html#a1ddc04f3556f50ae9cf6ec670c441c4b">mg_cry_ctx_internal</a>(ctx,</div>
<div class="line"><span class="lineno">21387</span>                                <span class="stringliteral">&quot;domain %s already in use&quot;</span>,</div>
<div class="line"><span class="lineno">21388</span>                                new_dom-&gt;<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55ba43a1f307bb484b11e37518539af13ed2">AUTHENTICATION_DOMAIN</a>]);</div>
<div class="line"><span class="lineno">21389</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a> != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">21390</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;code = <a class="code hl_enumvalue" href="#a05589fbab0657f08285ebdfe93f5ec9ea6f5aa810d39bc339497eba62fb401785">MG_ERROR_DATA_CODE_DUPLICATE_DOMAIN</a>;</div>
<div class="line"><span class="lineno">21391</span>                <a class="code hl_function" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf</a>(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno">21392</span>                            <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* No truncation check for error buffers */</span></div>
<div class="line"><span class="lineno">21393</span>                            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text,</div>
<div class="line"><span class="lineno">21394</span>                            <a class="code hl_function" href="lua-5_81_85_2src_2lundump_8c.html#a6776ffdd5e2abf4119b1d45731e9e668">error</a>-&gt;text_buffer_size,</div>
<div class="line"><span class="lineno">21395</span>                            <span class="stringliteral">&quot;Domain %s specified by %s is already in use&quot;</span>,</div>
<div class="line"><span class="lineno">21396</span>                            new_dom-&gt;<a class="code hl_variable" href="structmg__domain__context.html#a194a908b0cdd99ddce54c993363c85e5">config</a>[<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55ba43a1f307bb484b11e37518539af13ed2">AUTHENTICATION_DOMAIN</a>],</div>
<div class="line"><span class="lineno">21397</span>                            <a class="code hl_variable" href="civetweb_8c.html#a414393f1a7ad731456acc279c62290d0">config_options</a>[<a class="code hl_enumvalue" href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55ba43a1f307bb484b11e37518539af13ed2">AUTHENTICATION_DOMAIN</a>].<a class="code hl_variable" href="structmg__option.html#a86aed4136166ee660ad8bc71bb54e2bf">name</a>);</div>
<div class="line"><span class="lineno">21398</span>            }</div>
<div class="line"><span class="lineno">21399</span>            <a class="code hl_function" href="civetweb_8c.html#adc85e6b6e1bec856e91dc0346f49d9da">mg_free</a>(new_dom);</div>
<div class="line"><span class="lineno">21400</span>            <a class="code hl_function" href="civetweb_8c.html#a40bc6a84aa4f6dc3af32fcb62e74a848">mg_unlock_context</a>(ctx);</div>
<div class="line"><span class="lineno">21401</span>            <span class="keywordflow">return</span> -5;</div>
<div class="line"><span class="lineno">21402</span>        }</div>
<div class="line"><span class="lineno">21403</span> </div>
<div class="line"><span class="lineno">21404</span>        <span class="comment">/* Count number of domains */</span></div>
<div class="line"><span class="lineno">21405</span>        idx++;</div>
<div class="line"><span class="lineno">21406</span> </div>
<div class="line"><span class="lineno">21407</span>        <span class="keywordflow">if</span> (dom-&gt;<a class="code hl_variable" href="structmg__domain__context.html#ab15afe08729b3371cf26138782732845">next</a> == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">21408</span>            dom-&gt;<a class="code hl_variable" href="structmg__domain__context.html#ab15afe08729b3371cf26138782732845">next</a> = new_dom;</div>
<div class="line"><span class="lineno">21409</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">21410</span>        }</div>
<div class="line"><span class="lineno">21411</span>        dom = dom-&gt;<a class="code hl_variable" href="structmg__domain__context.html#ab15afe08729b3371cf26138782732845">next</a>;</div>
<div class="line"><span class="lineno">21412</span>    }</div>
<div class="line"><span class="lineno">21413</span> </div>
<div class="line"><span class="lineno">21414</span>    <a class="code hl_function" href="civetweb_8c.html#a40bc6a84aa4f6dc3af32fcb62e74a848">mg_unlock_context</a>(ctx);</div>
<div class="line"><span class="lineno">21415</span> </div>
<div class="line"><span class="lineno">21416</span>    <span class="comment">/* Return domain number */</span></div>
<div class="line"><span class="lineno">21417</span>    <span class="keywordflow">return</span> idx;</div>
<div class="line"><span class="lineno">21418</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a0110b7fe742fb4ee2ab467151e4df7c2"><div class="ttname"><a href="civetweb_8c.html#a0110b7fe742fb4ee2ab467151e4df7c2">mg_lock_context</a></div><div class="ttdeci">CIVETWEB_API void mg_lock_context(struct mg_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l13018">civetweb.c:13018</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a06fc87d81c62e9abb8790b6e5713c55ba43a1f307bb484b11e37518539af13ed2"><div class="ttname"><a href="civetweb_8c.html#a06fc87d81c62e9abb8790b6e5713c55ba43a1f307bb484b11e37518539af13ed2">AUTHENTICATION_DOMAIN</a></div><div class="ttdeci">@ AUTHENTICATION_DOMAIN</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01999">civetweb.c:1999</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a40bc6a84aa4f6dc3af32fcb62e74a848"><div class="ttname"><a href="civetweb_8c.html#a40bc6a84aa4f6dc3af32fcb62e74a848">mg_unlock_context</a></div><div class="ttdeci">CIVETWEB_API void mg_unlock_context(struct mg_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l13027">civetweb.c:13027</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a42c400d6feb7aa0de4280b0cf1c63fcc"><div class="ttname"><a href="civetweb_8c.html#a42c400d6feb7aa0de4280b0cf1c63fcc">STOP_FLAG_IS_ZERO</a></div><div class="ttdeci">#define STOP_FLAG_IS_ZERO(f)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02322">civetweb.c:2322</a></div></div>
<div class="ttc" id="astructmg__domain__context_html"><div class="ttname"><a href="structmg__domain__context.html">mg_domain_context</a></div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02269">civetweb.c:2269</a></div></div>
<div class="ttc" id="astructmg__domain__context_html_a25db94e78d0710af1bb4d7f3b8bd6556"><div class="ttname"><a href="structmg__domain__context.html#a25db94e78d0710af1bb4d7f3b8bd6556">mg_domain_context::nonce_count</a></div><div class="ttdeci">unsigned long nonce_count</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02277">civetweb.c:2277</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l02276">mg_domain_context::auth_nonce_mask</a>, <a class="el" href="civetweb_8c_source.html#l01999">AUTHENTICATION_DOMAIN</a>, <a class="el" href="civetweb_8c_source.html#l02271">mg_domain_context::config</a>, <a class="el" href="civetweb_8c_source.html#l02062">config_options</a>, <a class="el" href="civetweb_8c_source.html#l02442">mg_context::dd</a>, <a class="el" href="civetweb_8c_source.html#l00242">DEBUG_TRACE</a>, <a class="el" href="lua-5_81_85_2src_2lundump_8c_source.html#l00036">error()</a>, <a class="el" href="civetweb_8c_source.html#l03159">get_option_index()</a>, <a class="el" href="civetweb_8c_source.html#l05909">get_random()</a>, <a class="el" href="civetweb_8c_source.html#l02272">mg_domain_context::handlers</a>, <a class="el" href="civetweb_8c_source.html#l17485">init_ssl_ctx()</a>, <a class="el" href="civetweb_8c_source.html#l01498">mg_calloc_ctx</a>, <a class="el" href="civetweb_8c_source.html#l02586">mg_cry_ctx_internal</a>, <a class="el" href="civetweb_8h_source.html#l01749">MG_ERROR_DATA_CODE_DUPLICATE_DOMAIN</a>, <a class="el" href="civetweb_8h_source.html#l01743">MG_ERROR_DATA_CODE_INIT_TLS_FAILED</a>, <a class="el" href="civetweb_8h_source.html#l01740">MG_ERROR_DATA_CODE_INVALID_OPTION</a>, <a class="el" href="civetweb_8h_source.html#l01737">MG_ERROR_DATA_CODE_INVALID_PARAM</a>, <a class="el" href="civetweb_8h_source.html#l01746">MG_ERROR_DATA_CODE_MISSING_OPTION</a>, <a class="el" href="civetweb_8h_source.html#l01734">MG_ERROR_DATA_CODE_OK</a>, <a class="el" href="civetweb_8h_source.html#l01752">MG_ERROR_DATA_CODE_OUT_OF_MEMORY</a>, <a class="el" href="civetweb_8h_source.html#l01755">MG_ERROR_DATA_CODE_SERVER_STOPPED</a>, <a class="el" href="civetweb_8c_source.html#l01492">mg_free()</a>, <a class="el" href="civetweb_8c_source.html#l13018">mg_lock_context()</a>, <a class="el" href="civetweb_8c.html#a847434a4a5f5ea7a1a1bca87625ccb81">mg_snprintf()</a>, <a class="el" href="civetweb_8c_source.html#l03034">mg_strcasecmp()</a>, <a class="el" href="civetweb_8c_source.html#l03062">mg_strdup_ctx()</a>, <a class="el" href="civetweb_8c_source.html#l13027">mg_unlock_context()</a>, <a class="el" href="civetweb_8h_source.html#l00686">mg_option::name</a>, <a class="el" href="lsqlite3_8c_source.html#l02154">name</a>, <a class="el" href="civetweb_8c_source.html#l02285">mg_domain_context::next</a>, <a class="el" href="civetweb_8c_source.html#l02277">mg_domain_context::nonce_count</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, <a class="el" href="civetweb_8c_source.html#l02373">mg_context::stop_flag</a>, <a class="el" href="civetweb_8c_source.html#l02322">STOP_FLAG_IS_ZERO</a>, and <a class="el" href="lsqlite3_8c_source.html#l02155">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l21422">mg_start_domain()</a>.</p>

</div>
</div>
<a id="a5c12d8cc958f8d80ff92d6cee5ab54da" name="a5c12d8cc958f8d80ff92d6cee5ab54da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c12d8cc958f8d80ff92d6cee5ab54da">&#9670;&#160;</a></span>mg_start_thread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_start_thread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11f18a1c01860c3928019a829cae3ba6">mg_thread_func_t</a></td>          <td class="paramname"><span class="paramname"><em>f</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>p</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l05700">5700</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5701</span>{</div>
<div class="line"><span class="lineno"> 5702</span>    pthread_t thread_id;</div>
<div class="line"><span class="lineno"> 5703</span>    pthread_attr_t attr;</div>
<div class="line"><span class="lineno"> 5704</span>    <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno"> 5705</span> </div>
<div class="line"><span class="lineno"> 5706</span>    (void)pthread_attr_init(&amp;attr);</div>
<div class="line"><span class="lineno"> 5707</span>    (void)pthread_attr_setdetachstate(&amp;attr, PTHREAD_CREATE_DETACHED);</div>
<div class="line"><span class="lineno"> 5708</span> </div>
<div class="line"><span class="lineno"> 5709</span><span class="preprocessor">#if defined(__ZEPHYR__)</span></div>
<div class="line"><span class="lineno"> 5710</span>    pthread_attr_setstack(&amp;attr, &amp;civetweb_main_stack, ZEPHYR_STACK_SIZE);</div>
<div class="line"><span class="lineno"> 5711</span><span class="preprocessor">#elif defined(USE_STACK_SIZE) &amp;&amp; (USE_STACK_SIZE &gt; 1)</span></div>
<div class="line"><span class="lineno"> 5712</span>    <span class="comment">/* Compile-time option to control stack size,</span></div>
<div class="line"><span class="lineno"> 5713</span><span class="comment">     * e.g. -DUSE_STACK_SIZE=16384 */</span></div>
<div class="line"><span class="lineno"> 5714</span>    (void)pthread_attr_setstacksize(&amp;attr, USE_STACK_SIZE);</div>
<div class="line"><span class="lineno"> 5715</span><span class="preprocessor">#endif </span><span class="comment">/* defined(USE_STACK_SIZE) &amp;&amp; (USE_STACK_SIZE &gt; 1) */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno"> 5716</span> </div>
<div class="line"><span class="lineno"> 5717</span>    result = pthread_create(&amp;thread_id, &amp;attr, func, param);</div>
<div class="line"><span class="lineno"> 5718</span>    pthread_attr_destroy(&amp;attr);</div>
<div class="line"><span class="lineno"> 5719</span> </div>
<div class="line"><span class="lineno"> 5720</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 5721</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6694ad3b80ffbdb9cdcee88c6e8f611e" name="a6694ad3b80ffbdb9cdcee88c6e8f611e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6694ad3b80ffbdb9cdcee88c6e8f611e">&#9670;&#160;</a></span>mg_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void mg_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__context.html">mg_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l20346">20346</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">20347</span>{</div>
<div class="line"><span class="lineno">20348</span>    pthread_t mt;</div>
<div class="line"><span class="lineno">20349</span>    <span class="keywordflow">if</span> (!ctx) {</div>
<div class="line"><span class="lineno">20350</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">20351</span>    }</div>
<div class="line"><span class="lineno">20352</span> </div>
<div class="line"><span class="lineno">20353</span>    <span class="comment">/* We don&#39;t use a lock here. Calling mg_stop with the same ctx from</span></div>
<div class="line"><span class="lineno">20354</span><span class="comment">     * two threads is not allowed. */</span></div>
<div class="line"><span class="lineno">20355</span>    mt = ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a8bf30f14718695665927de4fa4e05104">masterthreadid</a>;</div>
<div class="line"><span class="lineno">20356</span>    <span class="keywordflow">if</span> (mt == 0) {</div>
<div class="line"><span class="lineno">20357</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">20358</span>    }</div>
<div class="line"><span class="lineno">20359</span> </div>
<div class="line"><span class="lineno">20360</span>    ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a8bf30f14718695665927de4fa4e05104">masterthreadid</a> = 0;</div>
<div class="line"><span class="lineno">20361</span> </div>
<div class="line"><span class="lineno">20362</span>    <span class="comment">/* Set stop flag, so all threads know they have to exit. */</span></div>
<div class="line"><span class="lineno">20363</span>    <a class="code hl_define" href="civetweb_8c.html#a5cd88c4a6b9186f77507c50a6ae6625f">STOP_FLAG_ASSIGN</a>(&amp;ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a733a0204e86fcf92d016bd08c9db2691">stop_flag</a>, 1);</div>
<div class="line"><span class="lineno">20364</span> </div>
<div class="line"><span class="lineno">20365</span>    <span class="comment">/* Join timer thread */</span></div>
<div class="line"><span class="lineno">20366</span><span class="preprocessor">#if defined(USE_TIMERS)</span></div>
<div class="line"><span class="lineno">20367</span>    timers_exit(ctx);</div>
<div class="line"><span class="lineno">20368</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">20369</span> </div>
<div class="line"><span class="lineno">20370</span>    <span class="comment">/* Wait until everything has stopped. */</span></div>
<div class="line"><span class="lineno">20371</span>    <span class="keywordflow">while</span> (!<a class="code hl_define" href="civetweb_8c.html#a888e9186b73dca8fe7e2fe2e4a37b392">STOP_FLAG_IS_TWO</a>(&amp;ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a733a0204e86fcf92d016bd08c9db2691">stop_flag</a>)) {</div>
<div class="line"><span class="lineno">20372</span>        (void)<a class="code hl_define" href="civetweb_8c.html#af1af7c8ef16047616b5bee88aeee10d6">mg_sleep</a>(10);</div>
<div class="line"><span class="lineno">20373</span>    }</div>
<div class="line"><span class="lineno">20374</span> </div>
<div class="line"><span class="lineno">20375</span>    <span class="comment">/* Wait to stop master thread */</span></div>
<div class="line"><span class="lineno">20376</span>    <a class="code hl_function" href="civetweb_8c.html#adfdfa9abee970034383cfb3e832d2217">mg_join_thread</a>(mt);</div>
<div class="line"><span class="lineno">20377</span> </div>
<div class="line"><span class="lineno">20378</span>    <span class="comment">/* Close remaining Lua states */</span></div>
<div class="line"><span class="lineno">20379</span><span class="preprocessor">#if defined(USE_LUA)</span></div>
<div class="line"><span class="lineno">20380</span>    lua_ctx_exit(ctx);</div>
<div class="line"><span class="lineno">20381</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">20382</span> </div>
<div class="line"><span class="lineno">20383</span>    <span class="comment">/* Free memory */</span></div>
<div class="line"><span class="lineno">20384</span>    <a class="code hl_function" href="civetweb_8c.html#ac591487b5ffc826f4824c8c1d9a4caaa">free_context</a>(ctx);</div>
<div class="line"><span class="lineno">20385</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a888e9186b73dca8fe7e2fe2e4a37b392"><div class="ttname"><a href="civetweb_8c.html#a888e9186b73dca8fe7e2fe2e4a37b392">STOP_FLAG_IS_TWO</a></div><div class="ttdeci">#define STOP_FLAG_IS_TWO(f)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02323">civetweb.c:2323</a></div></div>
<div class="ttc" id="acivetweb_8c_html_af1af7c8ef16047616b5bee88aeee10d6"><div class="ttname"><a href="civetweb_8c.html#af1af7c8ef16047616b5bee88aeee10d6">mg_sleep</a></div><div class="ttdeci">#define mg_sleep(x)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l00920">civetweb.c:920</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l20249">free_context()</a>, <a class="el" href="civetweb_8c_source.html#l02376">mg_context::masterthreadid</a>, <a class="el" href="civetweb_8c_source.html#l05757">mg_join_thread()</a>, <a class="el" href="civetweb_8c_source.html#l00920">mg_sleep</a>, <a class="el" href="civetweb_8c_source.html#l02373">mg_context::stop_flag</a>, <a class="el" href="civetweb_8c_source.html#l02324">STOP_FLAG_ASSIGN</a>, and <a class="el" href="civetweb_8c_source.html#l02323">STOP_FLAG_IS_TWO</a>.</p>

<p class="reference">Referenced by <a class="el" href="server_8c_source.html#l00059">start_http_server()</a>, and <a class="el" href="vendor_2civetweb_2main_8c_source.html#l01409">stop_civetweb()</a>.</p>

</div>
</div>
<a id="a1973d17da3ae4db49964b93ab92c5b06" name="a1973d17da3ae4db49964b93ab92c5b06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1973d17da3ae4db49964b93ab92c5b06">&#9670;&#160;</a></span>mg_store_body()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> long long mg_store_body </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l10622">10622</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">10623</span>{</div>
<div class="line"><span class="lineno">10624</span>    <span class="keywordtype">char</span> buf[<a class="code hl_define" href="civetweb_8c.html#ac22a8a822b8728d8cd7e2718749f3ca4">MG_BUF_LEN</a>];</div>
<div class="line"><span class="lineno">10625</span>    <span class="keywordtype">long</span> <span class="keywordtype">long</span> len = 0;</div>
<div class="line"><span class="lineno">10626</span>    <span class="keywordtype">int</span> ret, n;</div>
<div class="line"><span class="lineno">10627</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structmg__file.html">mg_file</a> fi;</div>
<div class="line"><span class="lineno">10628</span> </div>
<div class="line"><span class="lineno">10629</span>    <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a271e16e618bd9265577aef7ef5ed637d">consumed_content</a> != 0) {</div>
<div class="line"><span class="lineno">10630</span>        <a class="code hl_define" href="civetweb_8c.html#a9c82560e32fee25bd5f05767a625fa77">mg_cry_internal</a>(conn, <span class="stringliteral">&quot;%s: Contents already consumed&quot;</span>, __func__);</div>
<div class="line"><span class="lineno">10631</span>        <span class="keywordflow">return</span> -11;</div>
<div class="line"><span class="lineno">10632</span>    }</div>
<div class="line"><span class="lineno">10633</span> </div>
<div class="line"><span class="lineno">10634</span>    ret = <a class="code hl_function" href="civetweb_8c.html#a21b71badd56313936783f198fdd20c9a">put_dir</a>(conn, path);</div>
<div class="line"><span class="lineno">10635</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">10636</span>        <span class="comment">/* -1 for path too long,</span></div>
<div class="line"><span class="lineno">10637</span><span class="comment">         * -2 for path can not be created. */</span></div>
<div class="line"><span class="lineno">10638</span>        <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">10639</span>    }</div>
<div class="line"><span class="lineno">10640</span>    <span class="keywordflow">if</span> (ret != 1) {</div>
<div class="line"><span class="lineno">10641</span>        <span class="comment">/* Return 0 means, path itself is a directory. */</span></div>
<div class="line"><span class="lineno">10642</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">10643</span>    }</div>
<div class="line"><span class="lineno">10644</span> </div>
<div class="line"><span class="lineno">10645</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="civetweb_8c.html#a3341033fb439f4b1566fa8bc71f28e2b">mg_fopen</a>(conn, path, <a class="code hl_define" href="civetweb_8c.html#abb547e0027f87aeb69575479967c1f5f">MG_FOPEN_MODE_WRITE</a>, &amp;fi) == 0) {</div>
<div class="line"><span class="lineno">10646</span>        <span class="keywordflow">return</span> -12;</div>
<div class="line"><span class="lineno">10647</span>    }</div>
<div class="line"><span class="lineno">10648</span> </div>
<div class="line"><span class="lineno">10649</span>    ret = <a class="code hl_function" href="civetweb_8c.html#afeb3b13a0524f5532d16953927743966">mg_read</a>(conn, buf, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno">10650</span>    <span class="keywordflow">while</span> (ret &gt; 0) {</div>
<div class="line"><span class="lineno">10651</span>        n = (int)<a class="code hl_function" href="stdcheaders_8h.html#ae791f89cbd418b3074b1349d8f5075dd">fwrite</a>(buf, 1, (<span class="keywordtype">size_t</span>)ret, fi.access.fp);</div>
<div class="line"><span class="lineno">10652</span>        <span class="keywordflow">if</span> (n != ret) {</div>
<div class="line"><span class="lineno">10653</span>            (void)<a class="code hl_function" href="civetweb_8c.html#ada8ae98eea53a76bee149585c48beca3">mg_fclose</a>(</div>
<div class="line"><span class="lineno">10654</span>                &amp;fi.access); <span class="comment">/* File is bad and will be removed anyway. */</span></div>
<div class="line"><span class="lineno">10655</span>            <a class="code hl_function" href="civetweb_8c.html#a0e117d579dddd909e2370d437c566cf1">remove_bad_file</a>(conn, path);</div>
<div class="line"><span class="lineno">10656</span>            <span class="keywordflow">return</span> -13;</div>
<div class="line"><span class="lineno">10657</span>        }</div>
<div class="line"><span class="lineno">10658</span>        len += ret;</div>
<div class="line"><span class="lineno">10659</span>        ret = <a class="code hl_function" href="civetweb_8c.html#afeb3b13a0524f5532d16953927743966">mg_read</a>(conn, buf, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno">10660</span>    }</div>
<div class="line"><span class="lineno">10661</span> </div>
<div class="line"><span class="lineno">10662</span>    <span class="comment">/* File is open for writing. If fclose fails, there was probably an</span></div>
<div class="line"><span class="lineno">10663</span><span class="comment">     * error flushing the buffer to disk, so the file on disk might be</span></div>
<div class="line"><span class="lineno">10664</span><span class="comment">     * broken. Delete it and return an error to the caller. */</span></div>
<div class="line"><span class="lineno">10665</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="civetweb_8c.html#ada8ae98eea53a76bee149585c48beca3">mg_fclose</a>(&amp;fi.access) != 0) {</div>
<div class="line"><span class="lineno">10666</span>        <a class="code hl_function" href="civetweb_8c.html#a0e117d579dddd909e2370d437c566cf1">remove_bad_file</a>(conn, path);</div>
<div class="line"><span class="lineno">10667</span>        <span class="keywordflow">return</span> -14;</div>
<div class="line"><span class="lineno">10668</span>    }</div>
<div class="line"><span class="lineno">10669</span> </div>
<div class="line"><span class="lineno">10670</span>    <span class="keywordflow">return</span> len;</div>
<div class="line"><span class="lineno">10671</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a0e117d579dddd909e2370d437c566cf1"><div class="ttname"><a href="civetweb_8c.html#a0e117d579dddd909e2370d437c566cf1">remove_bad_file</a></div><div class="ttdeci">static void remove_bad_file(const struct mg_connection *conn, const char *path)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l10609">civetweb.c:10609</a></div></div>
<div class="ttc" id="acivetweb_8c_html_a21b71badd56313936783f198fdd20c9a"><div class="ttname"><a href="civetweb_8c.html#a21b71badd56313936783f198fdd20c9a">put_dir</a></div><div class="ttdeci">static int put_dir(struct mg_connection *conn, const char *path)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l10572">civetweb.c:10572</a></div></div>
<div class="ttc" id="acivetweb_8c_html_abb547e0027f87aeb69575479967c1f5f"><div class="ttname"><a href="civetweb_8c.html#abb547e0027f87aeb69575479967c1f5f">MG_FOPEN_MODE_WRITE</a></div><div class="ttdeci">#define MG_FOPEN_MODE_WRITE</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02846">civetweb.c:2846</a></div></div>
<div class="ttc" id="acivetweb_8c_html_afeb3b13a0524f5532d16953927743966"><div class="ttname"><a href="civetweb_8c.html#afeb3b13a0524f5532d16953927743966">mg_read</a></div><div class="ttdeci">CIVETWEB_API int mg_read(struct mg_connection *conn, void *buf, size_t len)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l06614">civetweb.c:6614</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l01887">mg_file::access</a>, <a class="el" href="civetweb_8c_source.html#l02524">mg_connection::consumed_content</a>, <a class="el" href="civetweb_8c_source.html#l01882">mg_file_access::fp</a>, <a class="el" href="stdcheaders_8h.html#ae791f89cbd418b3074b1349d8f5075dd">fwrite()</a>, <a class="el" href="civetweb_8c_source.html#l00498">MG_BUF_LEN</a>, <a class="el" href="civetweb_8c_source.html#l02583">mg_cry_internal</a>, <a class="el" href="civetweb_8c_source.html#l02986">mg_fclose()</a>, <a class="el" href="civetweb_8c_source.html#l02915">mg_fopen()</a>, <a class="el" href="civetweb_8c_source.html#l02846">MG_FOPEN_MODE_WRITE</a>, <a class="el" href="civetweb_8c_source.html#l06614">mg_read()</a>, <a class="el" href="civetweb_8c_source.html#l10572">put_dir()</a>, and <a class="el" href="civetweb_8c_source.html#l10609">remove_bad_file()</a>.</p>

</div>
</div>
<a id="ab9f9136408375834d87a8aa01e6633ca" name="ab9f9136408375834d87a8aa01e6633ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9f9136408375834d87a8aa01e6633ca">&#9670;&#160;</a></span>mg_strcasecmp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void <a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_strcasecmp </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>s1</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>s2</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l03034">3034</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3035</span>{</div>
<div class="line"><span class="lineno"> 3036</span>    <span class="keywordtype">int</span> diff;</div>
<div class="line"><span class="lineno"> 3037</span> </div>
<div class="line"><span class="lineno"> 3038</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno"> 3039</span>        diff = <a class="code hl_function" href="civetweb_8c.html#a9682bb02df6aff4820e030d3c730872e">lowercase</a>(s1++) - <a class="code hl_function" href="civetweb_8c.html#a9682bb02df6aff4820e030d3c730872e">lowercase</a>(s2++);</div>
<div class="line"><span class="lineno"> 3040</span>    } <span class="keywordflow">while</span> (diff == 0 &amp;&amp; s1[-1] != <span class="charliteral">&#39;\0&#39;</span>);</div>
<div class="line"><span class="lineno"> 3041</span> </div>
<div class="line"><span class="lineno"> 3042</span>    <span class="keywordflow">return</span> diff;</div>
<div class="line"><span class="lineno"> 3043</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a9682bb02df6aff4820e030d3c730872e"><div class="ttname"><a href="civetweb_8c.html#a9682bb02df6aff4820e030d3c730872e">lowercase</a></div><div class="ttdeci">static int lowercase(const char *s)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l03012">civetweb.c:3012</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l03012">lowercase()</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l08427">check_password_digest()</a>, <a class="el" href="civetweb_8c_source.html#l11184">forward_body_data()</a>, <a class="el" href="civetweb_8c_source.html#l03820">get_header()</a>, <a class="el" href="civetweb_8c_source.html#l18465">get_rel_url_at_current_server()</a>, <a class="el" href="civetweb_8c_source.html#l03836">get_req_headers()</a>, <a class="el" href="civetweb_8c_source.html#l18645">get_request()</a>, <a class="el" href="civetweb_8c_source.html#l18737">get_response()</a>, <a class="el" href="civetweb_8c_source.html#l11587">handle_cgi_request()</a>, <a class="el" href="civetweb_8c_source.html#l12759">handle_propfind()</a>, <a class="el" href="civetweb_8c_source.html#l14704">handle_request()</a>, <a class="el" href="civetweb_8c_source.html#l19329">init_connection()</a>, <a class="el" href="civetweb_8c_source.html#l17239">init_ssl_ctx_impl()</a>, <a class="el" href="civetweb_8c_source.html#l07622">interpret_uri()</a>, <a class="el" href="civetweb_8c_source.html#l10468">is_not_modified()</a>, <a class="el" href="civetweb_8c_source.html#l03601">mg_construct_local_link()</a>, <a class="el" href="civetweb_8c_source.html#l08332">mg_get_builtin_mime_type()</a>, <a class="el" href="civetweb_8c_source.html#l10526">mg_send_mime_file2()</a>, <a class="el" href="civetweb_8c_source.html#l21220">mg_start_domain2()</a>, <a class="el" href="civetweb_8c_source.html#l16377">refresh_trust()</a>, <a class="el" href="civetweb_8c_source.html#l10055">send_file_data()</a>, <a class="el" href="civetweb_8c_source.html#l04034">should_decode_query_string()</a>, <a class="el" href="civetweb_8c_source.html#l04023">should_decode_url()</a>, <a class="el" href="civetweb_8c_source.html#l03984">should_keep_alive()</a>, <a class="el" href="civetweb_8c_source.html#l17066">ssl_servername_callback()</a>, <a class="el" href="civetweb_8c_source.html#l16455">sslize()</a>, and <a class="el" href="vendor_2civetweb_2main_8c_source.html#l01181">start_civetweb()</a>.</p>

</div>
</div>
<a id="a1e22e846cc0308d6521ed516918f380f" name="a1e22e846cc0308d6521ed516918f380f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e22e846cc0308d6521ed516918f380f">&#9670;&#160;</a></span>mg_strncasecmp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_strncasecmp </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>s1</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>s2</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l03019">3019</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3020</span>{</div>
<div class="line"><span class="lineno"> 3021</span>    <span class="keywordtype">int</span> diff = 0;</div>
<div class="line"><span class="lineno"> 3022</span> </div>
<div class="line"><span class="lineno"> 3023</span>    <span class="keywordflow">if</span> (len &gt; 0) {</div>
<div class="line"><span class="lineno"> 3024</span>        <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno"> 3025</span>            diff = <a class="code hl_function" href="civetweb_8c.html#a9682bb02df6aff4820e030d3c730872e">lowercase</a>(s1++) - <a class="code hl_function" href="civetweb_8c.html#a9682bb02df6aff4820e030d3c730872e">lowercase</a>(s2++);</div>
<div class="line"><span class="lineno"> 3026</span>        } <span class="keywordflow">while</span> (diff == 0 &amp;&amp; s1[-1] != <span class="charliteral">&#39;\0&#39;</span> &amp;&amp; --len &gt; 0);</div>
<div class="line"><span class="lineno"> 3027</span>    }</div>
<div class="line"><span class="lineno"> 3028</span> </div>
<div class="line"><span class="lineno"> 3029</span>    <span class="keywordflow">return</span> diff;</div>
<div class="line"><span class="lineno"> 3030</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l03012">lowercase()</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l08354">get_mime_type()</a>, <a class="el" href="civetweb_8c_source.html#l18465">get_rel_url_at_current_server()</a>, <a class="el" href="civetweb_8c_source.html#l18395">get_uri_type()</a>, <a class="el" href="civetweb_8c_source.html#l03956">header_has_option()</a>, <a class="el" href="civetweb_8c_source.html#l07099">mg_get_var2()</a>, <a class="el" href="civetweb_8c_source.html#l20464">mg_start2()</a>, <a class="el" href="civetweb_8c_source.html#l03075">mg_strcasestr()</a>, <a class="el" href="civetweb_8c_source.html#l08555">parse_auth_header()</a>, and <a class="el" href="civetweb_8c_source.html#l14174">switch_domain_context()</a>.</p>

</div>
</div>
<a id="a23acf2c99018649c40b525c8bde45960" name="a23acf2c99018649c40b525c8bde45960"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23acf2c99018649c40b525c8bde45960">&#9670;&#160;</a></span>mg_unlock_connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void mg_unlock_connection </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l13009">13009</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">13010</span>{</div>
<div class="line"><span class="lineno">13011</span>    <span class="keywordflow">if</span> (conn) {</div>
<div class="line"><span class="lineno">13012</span>        (void)pthread_mutex_unlock(&amp;conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a641ac188409fd64c07e486b265d58a03">mutex</a>);</div>
<div class="line"><span class="lineno">13013</span>    }</div>
<div class="line"><span class="lineno">13014</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l02565">mg_connection::mutex</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l17864">close_connection()</a>.</p>

</div>
</div>
<a id="a40bc6a84aa4f6dc3af32fcb62e74a848" name="a40bc6a84aa4f6dc3af32fcb62e74a848"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40bc6a84aa4f6dc3af32fcb62e74a848">&#9670;&#160;</a></span>mg_unlock_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> void mg_unlock_context </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__context.html">mg_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l13027">13027</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">13028</span>{</div>
<div class="line"><span class="lineno">13029</span>    <span class="keywordflow">if</span> (ctx &amp;&amp; (ctx-&gt;<a class="code hl_variable" href="structmg__context.html#a90a2997b56e1c373156481a79c4e5d52">context_type</a> == <a class="code hl_enumvalue" href="civetweb_8c.html#a99fb83031ce9923c84392b4e92f956b5a6392e857a250daf7dd0a85461da6d099">CONTEXT_SERVER</a>)) {</div>
<div class="line"><span class="lineno">13030</span>        (void)pthread_mutex_unlock(&amp;ctx-&gt;<a class="code hl_variable" href="structmg__context.html#afc4b8c1d52b30239820683d842e975fe">nonce_mutex</a>);</div>
<div class="line"><span class="lineno">13031</span>    }</div>
<div class="line"><span class="lineno">13032</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l02263">CONTEXT_SERVER</a>, <a class="el" href="civetweb_8c_source.html#l02354">mg_context::context_type</a>, and <a class="el" href="civetweb_8c_source.html#l02427">mg_context::nonce_mutex</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l12802">dav_lock_file()</a>, <a class="el" href="civetweb_8c_source.html#l12931">dav_unlock_file()</a>, <a class="el" href="civetweb_8c_source.html#l14560">get_request_handler()</a>, <a class="el" href="civetweb_8c_source.html#l14280">mg_set_handler_type()</a>, <a class="el" href="civetweb_8c_source.html#l21220">mg_start_domain2()</a>, <a class="el" href="civetweb_8c_source.html#l16377">refresh_trust()</a>, <a class="el" href="civetweb_8c_source.html#l14687">release_handler_ref()</a>, <a class="el" href="civetweb_8c_source.html#l08974">send_authorization_request()</a>, <a class="el" href="civetweb_8c_source.html#l17066">ssl_servername_callback()</a>, <a class="el" href="civetweb_8c_source.html#l16455">sslize()</a>, and <a class="el" href="civetweb_8c_source.html#l14174">switch_domain_context()</a>.</p>

</div>
</div>
<a id="a3bdfbeb661f200bdbe2e19e6258bb937" name="a3bdfbeb661f200bdbe2e19e6258bb937"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bdfbeb661f200bdbe2e19e6258bb937">&#9670;&#160;</a></span>mg_url_decode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_url_decode </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>src</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>src_len</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>dst</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>dst_len</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>is_form_url_encoded</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l07048">7048</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7053</span>{</div>
<div class="line"><span class="lineno"> 7054</span>    <span class="keywordtype">int</span> i, j, <a class="code hl_class" href="classa.html">a</a>, b;</div>
<div class="line"><span class="lineno"> 7055</span><span class="preprocessor">#define HEXTOI(x) (isdigit(x) ? (x - &#39;0&#39;) : (x - &#39;W&#39;))</span></div>
<div class="line"><span class="lineno"> 7056</span> </div>
<div class="line"><span class="lineno"> 7057</span>    <span class="keywordflow">for</span> (i = j = 0; (i &lt; src_len) &amp;&amp; (j &lt; (dst_len - 1)); i++, j++) {</div>
<div class="line"><span class="lineno"> 7058</span>        <span class="keywordflow">if</span> ((i &lt; src_len - 2) &amp;&amp; (src[i] == <span class="charliteral">&#39;%&#39;</span>)</div>
<div class="line"><span class="lineno"> 7059</span>            &amp;&amp; isxdigit((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)src[i + 1])</div>
<div class="line"><span class="lineno"> 7060</span>            &amp;&amp; isxdigit((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)src[i + 2])) {</div>
<div class="line"><span class="lineno"> 7061</span>            <a class="code hl_class" href="classa.html">a</a> = tolower((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)src[i + 1]);</div>
<div class="line"><span class="lineno"> 7062</span>            b = tolower((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)src[i + 2]);</div>
<div class="line"><span class="lineno"> 7063</span>            dst[j] = (char)((<a class="code hl_define" href="civetweb_8c.html#a09ca1005ef34aa3b14445f325c532873">HEXTOI</a>(<a class="code hl_class" href="classa.html">a</a>) &lt;&lt; 4) | <a class="code hl_define" href="civetweb_8c.html#a09ca1005ef34aa3b14445f325c532873">HEXTOI</a>(b));</div>
<div class="line"><span class="lineno"> 7064</span>            i += 2;</div>
<div class="line"><span class="lineno"> 7065</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (is_form_url_encoded &amp;&amp; (src[i] == <span class="charliteral">&#39;+&#39;</span>)) {</div>
<div class="line"><span class="lineno"> 7066</span>            dst[j] = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><span class="lineno"> 7067</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 7068</span>            dst[j] = src[i];</div>
<div class="line"><span class="lineno"> 7069</span>        }</div>
<div class="line"><span class="lineno"> 7070</span>    }</div>
<div class="line"><span class="lineno"> 7071</span> </div>
<div class="line"><span class="lineno"> 7072</span>    dst[j] = <span class="charliteral">&#39;\0&#39;</span>; <span class="comment">/* Null-terminate the destination */</span></div>
<div class="line"><span class="lineno"> 7073</span> </div>
<div class="line"><span class="lineno"> 7074</span>    <span class="keywordflow">return</span> (i &gt;= src_len) ? j : -1;</div>
<div class="line"><span class="lineno"> 7075</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a09ca1005ef34aa3b14445f325c532873"><div class="ttname"><a href="civetweb_8c.html#a09ca1005ef34aa3b14445f325c532873">HEXTOI</a></div><div class="ttdeci">#define HEXTOI(x)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c.html#a09ca1005ef34aa3b14445f325c532873">HEXTOI</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l11994">dav_move_file()</a>, <a class="el" href="civetweb_8c_source.html#l07099">mg_get_var2()</a>, and <a class="el" href="civetweb_8c_source.html#l07080">url_decode_in_place()</a>.</p>

</div>
</div>
<a id="afec55bb47160c2d4fe76c5df4ce54f56" name="afec55bb47160c2d4fe76c5df4ce54f56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afec55bb47160c2d4fe76c5df4ce54f56">&#9670;&#160;</a></span>mg_url_encode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_url_encode </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>src</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>dst</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>dst_len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l09581">9581</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 9582</span>{</div>
<div class="line"><span class="lineno"> 9583</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *dont_escape = <span class="stringliteral">&quot;._-$,;~()&quot;</span>;</div>
<div class="line"><span class="lineno"> 9584</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *hex = <span class="stringliteral">&quot;0123456789abcdef&quot;</span>;</div>
<div class="line"><span class="lineno"> 9585</span>    <span class="keywordtype">char</span> *pos = dst;</div>
<div class="line"><span class="lineno"> 9586</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *end = dst + dst_len - 1;</div>
<div class="line"><span class="lineno"> 9587</span> </div>
<div class="line"><span class="lineno"> 9588</span>    <span class="keywordflow">for</span> (; ((*src != <span class="charliteral">&#39;\0&#39;</span>) &amp;&amp; (pos &lt; end)); src++, pos++) {</div>
<div class="line"><span class="lineno"> 9589</span>        <span class="keywordflow">if</span> (isalnum((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*src)</div>
<div class="line"><span class="lineno"> 9590</span>            || (strchr(dont_escape, *src) != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><span class="lineno"> 9591</span>            *pos = *src;</div>
<div class="line"><span class="lineno"> 9592</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pos + 2 &lt; end) {</div>
<div class="line"><span class="lineno"> 9593</span>            pos[0] = <span class="charliteral">&#39;%&#39;</span>;</div>
<div class="line"><span class="lineno"> 9594</span>            pos[1] = hex[(<span class="keywordtype">unsigned</span> char)*src &gt;&gt; 4];</div>
<div class="line"><span class="lineno"> 9595</span>            pos[2] = hex[(<span class="keywordtype">unsigned</span> char)*src &amp; 0xf];</div>
<div class="line"><span class="lineno"> 9596</span>            pos += 2;</div>
<div class="line"><span class="lineno"> 9597</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 9598</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 9599</span>        }</div>
<div class="line"><span class="lineno"> 9600</span>    }</div>
<div class="line"><span class="lineno"> 9601</span> </div>
<div class="line"><span class="lineno"> 9602</span>    *pos = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 9603</span>    <span class="keywordflow">return</span> (*src == <span class="charliteral">&#39;\0&#39;</span>) ? (int)(pos - dst) : -1;</div>
<div class="line"><span class="lineno"> 9604</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l03601">mg_construct_local_link()</a>, and <a class="el" href="civetweb_8c_source.html#l09609">print_dir_entry()</a>.</p>

</div>
</div>
<a id="a057ebd236dc84e6e8f6c9765da609329" name="a057ebd236dc84e6e8f6c9765da609329"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a057ebd236dc84e6e8f6c9765da609329">&#9670;&#160;</a></span>mg_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> const char * mg_version </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l03514">3514</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3515</span>{</div>
<div class="line"><span class="lineno"> 3516</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="#a2a38653ae23013ece7ae6a38db041f94">CIVETWEB_VERSION</a>;</div>
<div class="line"><span class="lineno"> 3517</span>}</div>
<div class="ttc" id="acivetweb_8h_html_a2a38653ae23013ece7ae6a38db041f94"><div class="ttname"><a href="#a2a38653ae23013ece7ae6a38db041f94">CIVETWEB_VERSION</a></div><div class="ttdeci">#define CIVETWEB_VERSION</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8h_source.html#l00026">civetweb.h:26</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8h_source.html#l00026">CIVETWEB_VERSION</a>.</p>

<p class="reference">Referenced by <a class="el" href="vendor_2civetweb_2main_8c_source.html#l00838">init_server_name()</a>, <a class="el" href="civetweb_8c_source.html#l21512">mg_get_system_info()</a>, <a class="el" href="civetweb_8c_source.html#l11354">prepare_cgi_environment()</a>, and <a class="el" href="vendor_2civetweb_2main_8c_source.html#l00303">show_server_name()</a>.</p>

</div>
</div>
<a id="a5096962c35c3a51d8df5a2773377634e" name="a5096962c35c3a51d8df5a2773377634e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5096962c35c3a51d8df5a2773377634e">&#9670;&#160;</a></span>mg_websocket_client_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_websocket_client_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>opcode</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>data_len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a11d2fbe891254028a4aabf041b4dba6c" name="a11d2fbe891254028a4aabf041b4dba6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11d2fbe891254028a4aabf041b4dba6c">&#9670;&#160;</a></span>mg_websocket_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_websocket_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>opcode</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>data_len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4cc91a6d8ed39079e7d805cc459a4224" name="a4cc91a6d8ed39079e7d805cc459a4224"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cc91a6d8ed39079e7d805cc459a4224">&#9670;&#160;</a></span>mg_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a5dbf083d19889dba3fef7503ce764ef6">CIVETWEB_API</a> int mg_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmg__connection.html">mg_connection</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>buf</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="civetweb_8c_source.html#l06779">6779</a> of file <a class="el" href="civetweb_8c_source.html">civetweb.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6780</span>{</div>
<div class="line"><span class="lineno"> 6781</span>    time_t now;</div>
<div class="line"><span class="lineno"> 6782</span>    <span class="keywordtype">int</span> n, total, allowed;</div>
<div class="line"><span class="lineno"> 6783</span> </div>
<div class="line"><span class="lineno"> 6784</span>    <span class="keywordflow">if</span> (conn == <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno"> 6785</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 6786</span>    }</div>
<div class="line"><span class="lineno"> 6787</span>    <span class="keywordflow">if</span> (len &gt; INT_MAX) {</div>
<div class="line"><span class="lineno"> 6788</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 6789</span>    }</div>
<div class="line"><span class="lineno"> 6790</span> </div>
<div class="line"><span class="lineno"> 6791</span>    <span class="comment">/* Mark connection as &quot;data sent&quot; */</span></div>
<div class="line"><span class="lineno"> 6792</span>    conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a161c1c775b5f3933f8428d4eb1381f52">request_state</a> = 10;</div>
<div class="line"><span class="lineno"> 6793</span><span class="preprocessor">#if defined(USE_HTTP2)</span></div>
<div class="line"><span class="lineno"> 6794</span>    <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a7afb014954a870291a215479a81fc242">protocol_type</a> == <a class="code hl_enumvalue" href="civetweb_8c.html#adc29c2ff13d900c2f185ee95427fb06ca3c3663fdf461dc9873cadc4a36b3a139">PROTOCOL_TYPE_HTTP2</a>) {</div>
<div class="line"><span class="lineno"> 6795</span>        http2_data_frame_head(conn, len, 0);</div>
<div class="line"><span class="lineno"> 6796</span>    }</div>
<div class="line"><span class="lineno"> 6797</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 6798</span> </div>
<div class="line"><span class="lineno"> 6799</span>    <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a1253d8e7156cefe37debd0c1aa2b3769">throttle</a> &gt; 0) {</div>
<div class="line"><span class="lineno"> 6800</span>        <span class="keywordflow">if</span> ((now = time(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) != conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a0514c4ba89ab66306fa4c44186593437">last_throttle_time</a>) {</div>
<div class="line"><span class="lineno"> 6801</span>            conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a0514c4ba89ab66306fa4c44186593437">last_throttle_time</a> = now;</div>
<div class="line"><span class="lineno"> 6802</span>            conn-&gt;<a class="code hl_variable" href="structmg__connection.html#aea8bb02b7736ff40766a98dc98ee9414">last_throttle_bytes</a> = 0;</div>
<div class="line"><span class="lineno"> 6803</span>        }</div>
<div class="line"><span class="lineno"> 6804</span>        allowed = conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a1253d8e7156cefe37debd0c1aa2b3769">throttle</a> - conn-&gt;<a class="code hl_variable" href="structmg__connection.html#aea8bb02b7736ff40766a98dc98ee9414">last_throttle_bytes</a>;</div>
<div class="line"><span class="lineno"> 6805</span>        <span class="keywordflow">if</span> (allowed &gt; (<span class="keywordtype">int</span>)len) {</div>
<div class="line"><span class="lineno"> 6806</span>            allowed = (int)len;</div>
<div class="line"><span class="lineno"> 6807</span>        }</div>
<div class="line"><span class="lineno"> 6808</span> </div>
<div class="line"><span class="lineno"> 6809</span>        total = <a class="code hl_function" href="civetweb_8c.html#ab855e2c5d4e7913fb2138a9909c8caca">push_all</a>(conn-&gt;<a class="code hl_variable" href="structmg__connection.html#aba76ab7aef56551015fe468e8fc306c1">phys_ctx</a>,</div>
<div class="line"><span class="lineno"> 6810</span>                         <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno"> 6811</span>                         conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a6a9f2b9d1087412cac4187ce5a44d274">client</a>.<a class="code hl_variable" href="structsocket.html#ace41176c1363c25e08837812c18d22dd">sock</a>,</div>
<div class="line"><span class="lineno"> 6812</span>                         conn-&gt;<a class="code hl_variable" href="structmg__connection.html#ac376c70a4f827896a0152d704233424b">ssl</a>,</div>
<div class="line"><span class="lineno"> 6813</span>                         (<span class="keyword">const</span> <span class="keywordtype">char</span> *)buf,</div>
<div class="line"><span class="lineno"> 6814</span>                         allowed);</div>
<div class="line"><span class="lineno"> 6815</span> </div>
<div class="line"><span class="lineno"> 6816</span>        <span class="keywordflow">if</span> (total == allowed) {</div>
<div class="line"><span class="lineno"> 6817</span> </div>
<div class="line"><span class="lineno"> 6818</span>            buf = (<span class="keyword">const</span> <span class="keywordtype">char</span> *)buf + total;</div>
<div class="line"><span class="lineno"> 6819</span>            conn-&gt;<a class="code hl_variable" href="structmg__connection.html#aea8bb02b7736ff40766a98dc98ee9414">last_throttle_bytes</a> += total;</div>
<div class="line"><span class="lineno"> 6820</span>            <span class="keywordflow">while</span> ((total &lt; (<span class="keywordtype">int</span>)len)</div>
<div class="line"><span class="lineno"> 6821</span>                   &amp;&amp; <a class="code hl_define" href="civetweb_8c.html#a42c400d6feb7aa0de4280b0cf1c63fcc">STOP_FLAG_IS_ZERO</a>(&amp;conn-&gt;<a class="code hl_variable" href="structmg__connection.html#aba76ab7aef56551015fe468e8fc306c1">phys_ctx</a>-&gt;<a class="code hl_variable" href="structmg__context.html#a733a0204e86fcf92d016bd08c9db2691">stop_flag</a>)) {</div>
<div class="line"><span class="lineno"> 6822</span>                allowed = (conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a1253d8e7156cefe37debd0c1aa2b3769">throttle</a> &gt; ((int)len - total))</div>
<div class="line"><span class="lineno"> 6823</span>                              ? (<span class="keywordtype">int</span>)len - total</div>
<div class="line"><span class="lineno"> 6824</span>                              : conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a1253d8e7156cefe37debd0c1aa2b3769">throttle</a>;</div>
<div class="line"><span class="lineno"> 6825</span> </div>
<div class="line"><span class="lineno"> 6826</span>                n = <a class="code hl_function" href="civetweb_8c.html#ab855e2c5d4e7913fb2138a9909c8caca">push_all</a>(conn-&gt;<a class="code hl_variable" href="structmg__connection.html#aba76ab7aef56551015fe468e8fc306c1">phys_ctx</a>,</div>
<div class="line"><span class="lineno"> 6827</span>                             <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno"> 6828</span>                             conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a6a9f2b9d1087412cac4187ce5a44d274">client</a>.<a class="code hl_variable" href="structsocket.html#ace41176c1363c25e08837812c18d22dd">sock</a>,</div>
<div class="line"><span class="lineno"> 6829</span>                             conn-&gt;<a class="code hl_variable" href="structmg__connection.html#ac376c70a4f827896a0152d704233424b">ssl</a>,</div>
<div class="line"><span class="lineno"> 6830</span>                             (<span class="keyword">const</span> <span class="keywordtype">char</span> *)buf,</div>
<div class="line"><span class="lineno"> 6831</span>                             allowed);</div>
<div class="line"><span class="lineno"> 6832</span> </div>
<div class="line"><span class="lineno"> 6833</span>                <span class="keywordflow">if</span> (n != allowed) {</div>
<div class="line"><span class="lineno"> 6834</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6835</span>                }</div>
<div class="line"><span class="lineno"> 6836</span>                sleep(1);</div>
<div class="line"><span class="lineno"> 6837</span>                conn-&gt;<a class="code hl_variable" href="structmg__connection.html#aea8bb02b7736ff40766a98dc98ee9414">last_throttle_bytes</a> = allowed;</div>
<div class="line"><span class="lineno"> 6838</span>                conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a0514c4ba89ab66306fa4c44186593437">last_throttle_time</a> = time(<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 6839</span>                buf = (<span class="keyword">const</span> <span class="keywordtype">char</span> *)buf + n;</div>
<div class="line"><span class="lineno"> 6840</span>                total += n;</div>
<div class="line"><span class="lineno"> 6841</span>            }</div>
<div class="line"><span class="lineno"> 6842</span>        }</div>
<div class="line"><span class="lineno"> 6843</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 6844</span>        total = <a class="code hl_function" href="civetweb_8c.html#ab855e2c5d4e7913fb2138a9909c8caca">push_all</a>(conn-&gt;<a class="code hl_variable" href="structmg__connection.html#aba76ab7aef56551015fe468e8fc306c1">phys_ctx</a>,</div>
<div class="line"><span class="lineno"> 6845</span>                         <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><span class="lineno"> 6846</span>                         conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a6a9f2b9d1087412cac4187ce5a44d274">client</a>.<a class="code hl_variable" href="structsocket.html#ace41176c1363c25e08837812c18d22dd">sock</a>,</div>
<div class="line"><span class="lineno"> 6847</span>                         conn-&gt;<a class="code hl_variable" href="structmg__connection.html#ac376c70a4f827896a0152d704233424b">ssl</a>,</div>
<div class="line"><span class="lineno"> 6848</span>                         (<span class="keyword">const</span> <span class="keywordtype">char</span> *)buf,</div>
<div class="line"><span class="lineno"> 6849</span>                         (<span class="keywordtype">int</span>)len);</div>
<div class="line"><span class="lineno"> 6850</span>    }</div>
<div class="line"><span class="lineno"> 6851</span>    <span class="keywordflow">if</span> (total &gt; 0) {</div>
<div class="line"><span class="lineno"> 6852</span>        conn-&gt;<a class="code hl_variable" href="structmg__connection.html#a482f3e0e76b5e4b885c971ab232f7653">num_bytes_sent</a> += total;</div>
<div class="line"><span class="lineno"> 6853</span>    }</div>
<div class="line"><span class="lineno"> 6854</span>    <span class="keywordflow">return</span> total;</div>
<div class="line"><span class="lineno"> 6855</span>}</div>
<div class="ttc" id="acivetweb_8c_html_ab855e2c5d4e7913fb2138a9909c8caca"><div class="ttname"><a href="civetweb_8c.html#ab855e2c5d4e7913fb2138a9909c8caca">push_all</a></div><div class="ttdeci">static int push_all(struct mg_context *ctx, FILE *fp, SOCKET sock, SSL *ssl, const char *buf, int len)</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l06162">civetweb.c:6162</a></div></div>
<div class="ttc" id="acivetweb_8c_html_adc29c2ff13d900c2f185ee95427fb06ca3c3663fdf461dc9873cadc4a36b3a139"><div class="ttname"><a href="civetweb_8c.html#adc29c2ff13d900c2f185ee95427fb06ca3c3663fdf461dc9873cadc4a36b3a139">PROTOCOL_TYPE_HTTP2</a></div><div class="ttdeci">@ PROTOCOL_TYPE_HTTP2</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02469">civetweb.c:2468</a></div></div>
<div class="ttc" id="astructmg__connection_html_a0514c4ba89ab66306fa4c44186593437"><div class="ttname"><a href="structmg__connection.html#a0514c4ba89ab66306fa4c44186593437">mg_connection::last_throttle_time</a></div><div class="ttdeci">time_t last_throttle_time</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02563">civetweb.c:2563</a></div></div>
<div class="ttc" id="astructmg__connection_html_a1253d8e7156cefe37debd0c1aa2b3769"><div class="ttname"><a href="structmg__connection.html#a1253d8e7156cefe37debd0c1aa2b3769">mg_connection::throttle</a></div><div class="ttdeci">int throttle</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02560">civetweb.c:2560</a></div></div>
<div class="ttc" id="astructmg__connection_html_a161c1c775b5f3933f8428d4eb1381f52"><div class="ttname"><a href="structmg__connection.html#a161c1c775b5f3933f8428d4eb1381f52">mg_connection::request_state</a></div><div class="ttdeci">int request_state</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02488">civetweb.c:2488</a></div></div>
<div class="ttc" id="astructmg__connection_html_a482f3e0e76b5e4b885c971ab232f7653"><div class="ttname"><a href="structmg__connection.html#a482f3e0e76b5e4b885c971ab232f7653">mg_connection::num_bytes_sent</a></div><div class="ttdeci">int64_t num_bytes_sent</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02517">civetweb.c:2517</a></div></div>
<div class="ttc" id="astructmg__connection_html_a6a9f2b9d1087412cac4187ce5a44d274"><div class="ttname"><a href="structmg__connection.html#a6a9f2b9d1087412cac4187ce5a44d274">mg_connection::client</a></div><div class="ttdeci">struct socket client</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02507">civetweb.c:2507</a></div></div>
<div class="ttc" id="astructmg__connection_html_ac376c70a4f827896a0152d704233424b"><div class="ttname"><a href="structmg__connection.html#ac376c70a4f827896a0152d704233424b">mg_connection::ssl</a></div><div class="ttdeci">SSL * ssl</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02506">civetweb.c:2506</a></div></div>
<div class="ttc" id="astructmg__connection_html_aea8bb02b7736ff40766a98dc98ee9414"><div class="ttname"><a href="structmg__connection.html#aea8bb02b7736ff40766a98dc98ee9414">mg_connection::last_throttle_bytes</a></div><div class="ttdeci">int last_throttle_bytes</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l02564">civetweb.c:2564</a></div></div>
<div class="ttc" id="astructsocket_html_ace41176c1363c25e08837812c18d22dd"><div class="ttname"><a href="structsocket.html#ace41176c1363c25e08837812c18d22dd">socket::sock</a></div><div class="ttdeci">SOCKET sock</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01903">civetweb.c:1903</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l02507">mg_connection::client</a>, <a class="el" href="civetweb_8c_source.html#l02564">mg_connection::last_throttle_bytes</a>, <a class="el" href="civetweb_8c_source.html#l02563">mg_connection::last_throttle_time</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, <a class="el" href="civetweb_8c_source.html#l02517">mg_connection::num_bytes_sent</a>, <a class="el" href="civetweb_8c_source.html#l02497">mg_connection::phys_ctx</a>, <a class="el" href="civetweb_8c_source.html#l02487">mg_connection::protocol_type</a>, <a class="el" href="civetweb_8c_source.html#l02468">PROTOCOL_TYPE_HTTP2</a>, <a class="el" href="civetweb_8c_source.html#l06162">push_all()</a>, <a class="el" href="civetweb_8c_source.html#l02488">mg_connection::request_state</a>, <a class="el" href="civetweb_8c_source.html#l01903">socket::sock</a>, <a class="el" href="civetweb_8c_source.html#l02506">mg_connection::ssl</a>, <a class="el" href="civetweb_8c_source.html#l02373">mg_context::stop_flag</a>, <a class="el" href="civetweb_8c_source.html#l02322">STOP_FLAG_IS_ZERO</a>, and <a class="el" href="civetweb_8c_source.html#l02560">mg_connection::throttle</a>.</p>

<p class="reference">Referenced by <a class="el" href="civetweb_8c_source.html#l11587">handle_cgi_request()</a>, <a class="el" href="civetweb_8c_source.html#l06860">mg_send_chunk()</a>, <a class="el" href="civetweb_8c_source.html#l04375">mg_send_http_error_impl()</a>, <a class="el" href="civetweb_8c_source.html#l04618">mg_send_http_redirect()</a>, <a class="el" href="civetweb_8c_source.html#l07016">mg_vprintf()</a>, <a class="el" href="civetweb_8c_source.html#l10055">send_file_data()</a>, and <a class="el" href="civetweb_8c_source.html#l12482">send_ssi_file()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_1e03628437b642463b7b6eb98fac43e1.html">vendor</a></li><li class="navelem"><a class="el" href="dir_84591d08937a968859b7757c3b203700.html">civetweb</a></li><li class="navelem"><a class="el" href="civetweb_8h.html">civetweb.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
