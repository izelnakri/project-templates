<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Github User Fetcher: LuaXML_lib.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Github User Fetcher<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">C/C++ Application with Server and GUI</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('LuaXML__lib_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">LuaXML_lib.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="LuaXML__lib_8h_source.html">LuaXML_lib.h</a>&quot;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
</div>
<p><a href="LuaXML__lib_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTokenizer__s.html">Tokenizer_s</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:acd7dd1b3f9966e050366c0a7e7e06a13" id="r_acd7dd1b3f9966e050366c0a7e7e06a13"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acd7dd1b3f9966e050366c0a7e7e06a13">lua_rawlen</a>(L,  <a class="el" href="deprecated_2gthread_8h.html#ac9be6c0781aab4af4c0d61c77a938911">index</a>)&#160;&#160;&#160;<a class="el" href="lua-5_81_85_2src_2lapi_8c.html#aa97a87dfaccc2e3b7861aaaca493db21">lua_objlen</a>(L, <a class="el" href="deprecated_2gthread_8h.html#ac9be6c0781aab4af4c0d61c77a938911">index</a>)</td></tr>
<tr class="separator:acd7dd1b3f9966e050366c0a7e7e06a13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c70df52a653b5ec80e042573872009a" id="r_a4c70df52a653b5ec80e042573872009a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4c70df52a653b5ec80e042573872009a">luaL_newlib</a>(L,  <a class="el" href="lua-5_83_86_2src_2lutf8lib_8c.html#aa4be121cd05b20a87bf4f1d5c1978a1b">funcs</a>)</td></tr>
<tr class="separator:a4c70df52a653b5ec80e042573872009a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e6e51edaf835b43afe7740475378a98" id="r_a1e6e51edaf835b43afe7740475378a98"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1e6e51edaf835b43afe7740475378a98">LUAXML_META</a>&#160;&#160;&#160;&quot;LuaXML&quot;</td></tr>
<tr class="separator:a1e6e51edaf835b43afe7740475378a98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4af1b6159e447ba72652bb7fcdfa726e" id="r_a4af1b6159e447ba72652bb7fcdfa726e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4af1b6159e447ba72652bb7fcdfa726e">ESC</a>&#160;&#160;&#160;27 /* end of scope, closing tag */</td></tr>
<tr class="separator:a4af1b6159e447ba72652bb7fcdfa726e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeeb8be75f412638b2798c797937a015" id="r_adeeb8be75f412638b2798c797937a015"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adeeb8be75f412638b2798c797937a015">OPN</a>&#160;&#160;&#160;28 /* &quot;open&quot;, start of tag */</td></tr>
<tr class="separator:adeeb8be75f412638b2798c797937a015"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada59561816893aa39c4aa41f1043c554" id="r_ada59561816893aa39c4aa41f1043c554"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ada59561816893aa39c4aa41f1043c554">CLS</a>&#160;&#160;&#160;29 /* closes opening tag, actual content follows */</td></tr>
<tr class="separator:ada59561816893aa39c4aa41f1043c554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23ff23abe0ed9ed2fdb64307db41d5d6" id="r_a23ff23abe0ed9ed2fdb64307db41d5d6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a23ff23abe0ed9ed2fdb64307db41d5d6">Tokenizer_print</a>(tok)&#160;&#160;&#160;/* ignore */</td></tr>
<tr class="separator:a23ff23abe0ed9ed2fdb64307db41d5d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a4acf6a8d55f4a167ccc0e7a39a33ad5f" id="r_a4acf6a8d55f4a167ccc0e7a39a33ad5f"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structTokenizer__s.html">Tokenizer_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4acf6a8d55f4a167ccc0e7a39a33ad5f">Tokenizer</a></td></tr>
<tr class="separator:a4acf6a8d55f4a167ccc0e7a39a33ad5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a8d4aebec79ed1487d2eadbd4e5cc3db4" id="r_a8d4aebec79ed1487d2eadbd4e5cc3db4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d4aebec79ed1487d2eadbd4e5cc3db4">whitespace_mode</a> { <a class="el" href="#a8d4aebec79ed1487d2eadbd4e5cc3db4ace9da5ab4cea73ed035e603cd3373b1c">WHITESPACE_TRIM</a>
, <a class="el" href="#a8d4aebec79ed1487d2eadbd4e5cc3db4a668ca1a6296903b51e43e94b5d750221">WHITESPACE_NORMALIZE</a>
, <a class="el" href="#a8d4aebec79ed1487d2eadbd4e5cc3db4a87ba33d417c3cac8e732202c9253099d">WHITESPACE_PRESERVE</a>
 }</td></tr>
<tr class="memdesc:a8d4aebec79ed1487d2eadbd4e5cc3db4"><td class="mdescLeft">&#160;</td><td class="mdescRight">strip all leading / trailing whitespace  <a href="#a8d4aebec79ed1487d2eadbd4e5cc3db4">More...</a><br /></td></tr>
<tr class="separator:a8d4aebec79ed1487d2eadbd4e5cc3db4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac73f63de925419e7dcab33861ebd6e8a" id="r_ac73f63de925419e7dcab33861ebd6e8a"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac73f63de925419e7dcab33861ebd6e8a">find</a> (const char *<a class="el" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>, const char *pattern, size_t start)</td></tr>
<tr class="separator:ac73f63de925419e7dcab33861ebd6e8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a857f5cce9e7a4d986f281bf32d15a25d" id="r_a857f5cce9e7a4d986f281bf32d15a25d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a857f5cce9e7a4d986f281bf32d15a25d">push_TAG_key</a> (<a class="el" href="structlua__State.html">lua_State</a> *L)</td></tr>
<tr class="separator:a857f5cce9e7a4d986f281bf32d15a25d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d0e209a65a22c09f445cf801d5f052b" id="r_a8d0e209a65a22c09f445cf801d5f052b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d0e209a65a22c09f445cf801d5f052b">make_xml_object</a> (<a class="el" href="structlua__State.html">lua_State</a> *L, int <a class="el" href="deprecated_2gthread_8h.html#ac9be6c0781aab4af4c0d61c77a938911">index</a>)</td></tr>
<tr class="separator:a8d0e209a65a22c09f445cf801d5f052b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47b3391cf97c4147ba380c0be60f34af" id="r_a47b3391cf97c4147ba380c0be60f34af"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a47b3391cf97c4147ba380c0be60f34af">push_indentStr</a> (<a class="el" href="structlua__State.html">lua_State</a> *L, int level)</td></tr>
<tr class="separator:a47b3391cf97c4147ba380c0be60f34af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeef6fcee07afceb6eb40d73fd6476a67" id="r_aeef6fcee07afceb6eb40d73fd6476a67"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeef6fcee07afceb6eb40d73fd6476a67">is_whitespace</a> (const char *<a class="el" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>)</td></tr>
<tr class="separator:aeef6fcee07afceb6eb40d73fd6476a67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90118d1cef21690223578ef10dafc900" id="r_a90118d1cef21690223578ef10dafc900"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a90118d1cef21690223578ef10dafc900">is_lead_token</a> (const char *<a class="el" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>)</td></tr>
<tr class="separator:a90118d1cef21690223578ef10dafc900"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10a59753dfbe098f30e549f800230b41" id="r_a10a59753dfbe098f30e549f800230b41"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a10a59753dfbe098f30e549f800230b41">do_gsub</a> (<a class="el" href="structlua__State.html">lua_State</a> *L, int <a class="el" href="deprecated_2gthread_8h.html#ac9be6c0781aab4af4c0d61c77a938911">index</a>, const char *p, const char *r)</td></tr>
<tr class="separator:a10a59753dfbe098f30e549f800230b41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81892eade917e392f21016fc165470fc" id="r_a81892eade917e392f21016fc165470fc"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a81892eade917e392f21016fc165470fc">XMLencoding_replacement</a> (<a class="el" href="structlua__State.html">lua_State</a> *L)</td></tr>
<tr class="separator:a81892eade917e392f21016fc165470fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86f9571ac2c402cfe7a236b08bf1a300" id="r_a86f9571ac2c402cfe7a236b08bf1a300"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a86f9571ac2c402cfe7a236b08bf1a300">find_on_match</a> (<a class="el" href="structlua__State.html">lua_State</a> *L)</td></tr>
<tr class="separator:a86f9571ac2c402cfe7a236b08bf1a300"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e7c0e598d6511e16ebdb113b0a94e26" id="r_a6e7c0e598d6511e16ebdb113b0a94e26"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="#a4acf6a8d55f4a167ccc0e7a39a33ad5f">Tokenizer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6e7c0e598d6511e16ebdb113b0a94e26">Tokenizer_new</a> (const char *str, size_t str_size, enum <a class="el" href="#a8d4aebec79ed1487d2eadbd4e5cc3db4">whitespace_mode</a> mode)</td></tr>
<tr class="separator:a6e7c0e598d6511e16ebdb113b0a94e26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeda118062ec11268cbf22c272d07736" id="r_adeda118062ec11268cbf22c272d07736"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adeda118062ec11268cbf22c272d07736">Tokenizer_delete</a> (<a class="el" href="#a4acf6a8d55f4a167ccc0e7a39a33ad5f">Tokenizer</a> *tok)</td></tr>
<tr class="separator:adeda118062ec11268cbf22c272d07736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af580336039fe63a185c82ddd3f51629c" id="r_af580336039fe63a185c82ddd3f51629c"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af580336039fe63a185c82ddd3f51629c">Tokenizer_set</a> (<a class="el" href="#a4acf6a8d55f4a167ccc0e7a39a33ad5f">Tokenizer</a> *tok, const char *<a class="el" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>, size_t size)</td></tr>
<tr class="separator:af580336039fe63a185c82ddd3f51629c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac24224aaa8bab4eafe0d1f57812e9bcb" id="r_ac24224aaa8bab4eafe0d1f57812e9bcb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac24224aaa8bab4eafe0d1f57812e9bcb">Tokenizer_append</a> (<a class="el" href="#a4acf6a8d55f4a167ccc0e7a39a33ad5f">Tokenizer</a> *tok, char ch)</td></tr>
<tr class="separator:ac24224aaa8bab4eafe0d1f57812e9bcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f37fce3db6968260b15b138be28b046" id="r_a4f37fce3db6968260b15b138be28b046"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4f37fce3db6968260b15b138be28b046">Tokenizer_next</a> (<a class="el" href="#a4acf6a8d55f4a167ccc0e7a39a33ad5f">Tokenizer</a> *tok)</td></tr>
<tr class="separator:a4f37fce3db6968260b15b138be28b046"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c1f901539127bd9c9c8079e2aa5989f" id="r_a2c1f901539127bd9c9c8079e2aa5989f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2c1f901539127bd9c9c8079e2aa5989f">Xml_tag</a> (<a class="el" href="structlua__State.html">lua_State</a> *L)</td></tr>
<tr class="separator:a2c1f901539127bd9c9c8079e2aa5989f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebebc9c7e778a0a9b70729f68ac355fa" id="r_aebebc9c7e778a0a9b70729f68ac355fa"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aebebc9c7e778a0a9b70729f68ac355fa">Xml_new</a> (<a class="el" href="structlua__State.html">lua_State</a> *L)</td></tr>
<tr class="separator:aebebc9c7e778a0a9b70729f68ac355fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0986e98c151bf1d0a7d259083882d163" id="r_a0986e98c151bf1d0a7d259083882d163"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0986e98c151bf1d0a7d259083882d163">Xml_append</a> (<a class="el" href="structlua__State.html">lua_State</a> *L)</td></tr>
<tr class="separator:a0986e98c151bf1d0a7d259083882d163"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c4f03461a7dca3ff6eb72c6be41f2aa" id="r_a6c4f03461a7dca3ff6eb72c6be41f2aa"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c4f03461a7dca3ff6eb72c6be41f2aa">Xml_pushEncode</a> (<a class="el" href="structlua__State.html">lua_State</a> *L, int <a class="el" href="deprecated_2gthread_8h.html#ac9be6c0781aab4af4c0d61c77a938911">index</a>)</td></tr>
<tr class="separator:a6c4f03461a7dca3ff6eb72c6be41f2aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac231357aed3a3e19647a92eaf5984e81" id="r_ac231357aed3a3e19647a92eaf5984e81"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac231357aed3a3e19647a92eaf5984e81">Xml_pushDecode</a> (<a class="el" href="structlua__State.html">lua_State</a> *L, const char *<a class="el" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>, int size)</td></tr>
<tr class="separator:ac231357aed3a3e19647a92eaf5984e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cfa20751b0a4f0bff71c7326c8386ec" id="r_a6cfa20751b0a4f0bff71c7326c8386ec"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6cfa20751b0a4f0bff71c7326c8386ec">Xml_eval</a> (<a class="el" href="structlua__State.html">lua_State</a> *L)</td></tr>
<tr class="separator:a6cfa20751b0a4f0bff71c7326c8386ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07b8930b629b0000db5e0540b1bee189" id="r_a07b8930b629b0000db5e0540b1bee189"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a07b8930b629b0000db5e0540b1bee189">Xml_load</a> (<a class="el" href="structlua__State.html">lua_State</a> *L)</td></tr>
<tr class="separator:a07b8930b629b0000db5e0540b1bee189"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7a3af412a6f4b815ba277c4fc0382c7" id="r_af7a3af412a6f4b815ba277c4fc0382c7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af7a3af412a6f4b815ba277c4fc0382c7">Xml_registerCode</a> (<a class="el" href="structlua__State.html">lua_State</a> *L)</td></tr>
<tr class="separator:af7a3af412a6f4b815ba277c4fc0382c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafd876f582721f8a8fef402e01300d8c" id="r_aafd876f582721f8a8fef402e01300d8c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aafd876f582721f8a8fef402e01300d8c">Xml_encode</a> (<a class="el" href="structlua__State.html">lua_State</a> *L)</td></tr>
<tr class="separator:aafd876f582721f8a8fef402e01300d8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae67a4ad7262adec84d992334151a40c6" id="r_ae67a4ad7262adec84d992334151a40c6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae67a4ad7262adec84d992334151a40c6">Xml_decode</a> (<a class="el" href="structlua__State.html">lua_State</a> *L)</td></tr>
<tr class="separator:ae67a4ad7262adec84d992334151a40c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c49c7587de875bcb3c28c57892ce394" id="r_a9c49c7587de875bcb3c28c57892ce394"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c49c7587de875bcb3c28c57892ce394">Xml_str</a> (<a class="el" href="structlua__State.html">lua_State</a> *L)</td></tr>
<tr class="separator:a9c49c7587de875bcb3c28c57892ce394"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d8f3af0d16b2cacd3c7cac6c61bc642" id="r_a9d8f3af0d16b2cacd3c7cac6c61bc642"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9d8f3af0d16b2cacd3c7cac6c61bc642">Xml_match</a> (<a class="el" href="structlua__State.html">lua_State</a> *L)</td></tr>
<tr class="separator:a9d8f3af0d16b2cacd3c7cac6c61bc642"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70c963af19827acc07ee951bcc60f40d" id="r_a70c963af19827acc07ee951bcc60f40d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a70c963af19827acc07ee951bcc60f40d">Xml_iterate</a> (<a class="el" href="structlua__State.html">lua_State</a> *L)</td></tr>
<tr class="separator:a70c963af19827acc07ee951bcc60f40d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a077a372d7965550383ea9eebaa5b76c4" id="r_a077a372d7965550383ea9eebaa5b76c4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a077a372d7965550383ea9eebaa5b76c4">Xml_find</a> (<a class="el" href="structlua__State.html">lua_State</a> *L)</td></tr>
<tr class="separator:a077a372d7965550383ea9eebaa5b76c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f2b9e9b44c59f55461dd72bd50a37b1" id="r_a1f2b9e9b44c59f55461dd72bd50a37b1"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="LuaXML__lib_8h.html#a994fa2da49cc7b971acfb763778c14fc">_EXPORT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f2b9e9b44c59f55461dd72bd50a37b1">luaopen_LuaXML_lib</a> (<a class="el" href="structlua__State.html">lua_State</a> *L)</td></tr>
<tr class="separator:a1f2b9e9b44c59f55461dd72bd50a37b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:acb0ebdc4816e2724115f3fc731ae932d" id="r_acb0ebdc4816e2724115f3fc731ae932d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acb0ebdc4816e2724115f3fc731ae932d">sv_code_ref</a></td></tr>
<tr class="separator:acb0ebdc4816e2724115f3fc731ae932d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ada59561816893aa39c4aa41f1043c554" name="ada59561816893aa39c4aa41f1043c554"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada59561816893aa39c4aa41f1043c554">&#9670;&#160;</a></span>CLS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CLS&#160;&#160;&#160;29 /* closes opening tag, actual content follows */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00231">231</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l00323">Tokenizer_next()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00692">Xml_eval()</a>.</p>

</div>
</div>
<a id="a4af1b6159e447ba72652bb7fcdfa726e" name="a4af1b6159e447ba72652bb7fcdfa726e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4af1b6159e447ba72652bb7fcdfa726e">&#9670;&#160;</a></span>ESC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ESC&#160;&#160;&#160;27 /* end of scope, closing tag */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00229">229</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l00323">Tokenizer_next()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00692">Xml_eval()</a>.</p>

</div>
</div>
<a id="acd7dd1b3f9966e050366c0a7e7e06a13" name="acd7dd1b3f9966e050366c0a7e7e06a13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd7dd1b3f9966e050366c0a7e7e06a13">&#9670;&#160;</a></span>lua_rawlen</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define lua_rawlen</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">L, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><a class="el" href="deprecated_2gthread_8h.html#ac9be6c0781aab4af4c0d61c77a938911">index</a></span>&#160;)&#160;&#160;&#160;<a class="el" href="lua-5_81_85_2src_2lapi_8c.html#aa97a87dfaccc2e3b7861aaaca493db21">lua_objlen</a>(L, <a class="el" href="deprecated_2gthread_8h.html#ac9be6c0781aab4af4c0d61c77a938911">index</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00042">42</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="lua-5_82_84_2src_2lbaselib_8c_source.html#l00133">luaB_rawlen()</a>, <a class="el" href="lua-5_83_86_2src_2lbaselib_8c_source.html#l00146">luaB_rawlen()</a>, <a class="el" href="lua-5_84_83_2src_2lbaselib_8c_source.html#l00157">luaB_rawlen()</a>, <a class="el" href="lua-5_82_84_2src_2lauxlib_8c_source.html#l00522">luaL_ref()</a>, <a class="el" href="lua-5_82_84_2src_2liolib_8c_source.html#l00371">read_line()</a>, <a class="el" href="lua-5_83_86_2src_2liolib_8c_source.html#l00484">read_line()</a>, <a class="el" href="lua-5_84_83_2src_2liolib_8c_source.html#l00519">read_line()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00558">Xml_append()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00692">Xml_eval()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00912">Xml_str()</a>.</p>

</div>
</div>
<a id="a4c70df52a653b5ec80e042573872009a" name="a4c70df52a653b5ec80e042573872009a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c70df52a653b5ec80e042573872009a">&#9670;&#160;</a></span>luaL_newlib</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define luaL_newlib</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">L, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><a class="el" href="lua-5_83_86_2src_2lutf8lib_8c.html#aa4be121cd05b20a87bf4f1d5c1978a1b">funcs</a></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> {                                                                       \</div>
<div class="line">        lua_newtable(L);                                                       \</div>
<div class="line">        luaL_register(L, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_variable" href="lua-5_83_86_2src_2lutf8lib_8c.html#aa4be121cd05b20a87bf4f1d5c1978a1b">funcs</a>);                                         \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="agmacros_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> <a href="gmacros_8h_source.html#l00924">gmacros.h:924</a></div></div>
<div class="ttc" id="alua-5_83_86_2src_2lutf8lib_8c_html_aa4be121cd05b20a87bf4f1d5c1978a1b"><div class="ttname"><a href="lua-5_83_86_2src_2lutf8lib_8c.html#aa4be121cd05b20a87bf4f1d5c1978a1b">funcs</a></div><div class="ttdeci">static const luaL_Reg funcs[]</div><div class="ttdef"><b>Definition</b> <a href="lua-5_83_86_2src_2lutf8lib_8c_source.html#l00238">lua-5.3.6/src/lutf8lib.c:238</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00045">45</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   45</span><span class="preprocessor">#define luaL_newlib(L, funcs)                                                  \</span></div>
<div class="line"><span class="lineno">   46</span><span class="preprocessor">    do {                                                                       \</span></div>
<div class="line"><span class="lineno">   47</span><span class="preprocessor">        lua_newtable(L);                                                       \</span></div>
<div class="line"><span class="lineno">   48</span><span class="preprocessor">        luaL_register(L, NULL, funcs);                                         \</span></div>
<div class="line"><span class="lineno">   49</span><span class="preprocessor">    } while (0)</span></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l01280">luaopen_LuaXML_lib()</a>.</p>

</div>
</div>
<a id="a1e6e51edaf835b43afe7740475378a98" name="a1e6e51edaf835b43afe7740475378a98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e6e51edaf835b43afe7740475378a98">&#9670;&#160;</a></span>LUAXML_META</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LUAXML_META&#160;&#160;&#160;&quot;LuaXML&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00072">72</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l01280">luaopen_LuaXML_lib()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00100">make_xml_object()</a>.</p>

</div>
</div>
<a id="adeeb8be75f412638b2798c797937a015" name="adeeb8be75f412638b2798c797937a015"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeeb8be75f412638b2798c797937a015">&#9670;&#160;</a></span>OPN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OPN&#160;&#160;&#160;28 /* &quot;open&quot;, start of tag */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00230">230</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l00323">Tokenizer_next()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00692">Xml_eval()</a>.</p>

</div>
</div>
<a id="a23ff23abe0ed9ed2fdb64307db41d5d6" name="a23ff23abe0ed9ed2fdb64307db41d5d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23ff23abe0ed9ed2fdb64307db41d5d6">&#9670;&#160;</a></span>Tokenizer_print</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Tokenizer_print</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">tok</span></td><td>)</td>
          <td>&#160;&#160;&#160;/* ignore */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00293">293</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l00323">Tokenizer_next()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00297">Tokenizer_set()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a4acf6a8d55f4a167ccc0e7a39a33ad5f" name="a4acf6a8d55f4a167ccc0e7a39a33ad5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4acf6a8d55f4a167ccc0e7a39a33ad5f">&#9670;&#160;</a></span>Tokenizer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structTokenizer__s.html">Tokenizer_s</a> <a class="el" href="#a4acf6a8d55f4a167ccc0e7a39a33ad5f">Tokenizer</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a8d4aebec79ed1487d2eadbd4e5cc3db4" name="a8d4aebec79ed1487d2eadbd4e5cc3db4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d4aebec79ed1487d2eadbd4e5cc3db4">&#9670;&#160;</a></span>whitespace_mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a8d4aebec79ed1487d2eadbd4e5cc3db4">whitespace_mode</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>strip all leading / trailing whitespace </p>
<p>remove "lead in" whitespace before tags preserve all whitespace, even between tags </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a8d4aebec79ed1487d2eadbd4e5cc3db4ace9da5ab4cea73ed035e603cd3373b1c" name="a8d4aebec79ed1487d2eadbd4e5cc3db4ace9da5ab4cea73ed035e603cd3373b1c"></a>WHITESPACE_TRIM&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8d4aebec79ed1487d2eadbd4e5cc3db4a668ca1a6296903b51e43e94b5d750221" name="a8d4aebec79ed1487d2eadbd4e5cc3db4a668ca1a6296903b51e43e94b5d750221"></a>WHITESPACE_NORMALIZE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8d4aebec79ed1487d2eadbd4e5cc3db4a87ba33d417c3cac8e732202c9253099d" name="a8d4aebec79ed1487d2eadbd4e5cc3db4a87ba33d417c3cac8e732202c9253099d"></a>WHITESPACE_PRESERVE&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00222">222</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  222</span>                     {</div>
<div class="line"><span class="lineno">  223</span>    <a class="code hl_enumvalue" href="#a8d4aebec79ed1487d2eadbd4e5cc3db4ace9da5ab4cea73ed035e603cd3373b1c">WHITESPACE_TRIM</a>,</div>
<div class="line"><span class="lineno">  224</span>    <a class="code hl_enumvalue" href="#a8d4aebec79ed1487d2eadbd4e5cc3db4a668ca1a6296903b51e43e94b5d750221">WHITESPACE_NORMALIZE</a>,</div>
<div class="line"><span class="lineno">  225</span>    <a class="code hl_enumvalue" href="#a8d4aebec79ed1487d2eadbd4e5cc3db4a87ba33d417c3cac8e732202c9253099d">WHITESPACE_PRESERVE</a></div>
<div class="line"><span class="lineno">  226</span>};</div>
<div class="ttc" id="aLuaXML__lib_8c_html_a8d4aebec79ed1487d2eadbd4e5cc3db4a668ca1a6296903b51e43e94b5d750221"><div class="ttname"><a href="#a8d4aebec79ed1487d2eadbd4e5cc3db4a668ca1a6296903b51e43e94b5d750221">WHITESPACE_NORMALIZE</a></div><div class="ttdeci">@ WHITESPACE_NORMALIZE</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00224">LuaXML_lib.c:224</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_a8d4aebec79ed1487d2eadbd4e5cc3db4a87ba33d417c3cac8e732202c9253099d"><div class="ttname"><a href="#a8d4aebec79ed1487d2eadbd4e5cc3db4a87ba33d417c3cac8e732202c9253099d">WHITESPACE_PRESERVE</a></div><div class="ttdeci">@ WHITESPACE_PRESERVE</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00226">LuaXML_lib.c:225</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_a8d4aebec79ed1487d2eadbd4e5cc3db4ace9da5ab4cea73ed035e603cd3373b1c"><div class="ttname"><a href="#a8d4aebec79ed1487d2eadbd4e5cc3db4ace9da5ab4cea73ed035e603cd3373b1c">WHITESPACE_TRIM</a></div><div class="ttdeci">@ WHITESPACE_TRIM</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00223">LuaXML_lib.c:223</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a10a59753dfbe098f30e549f800230b41" name="a10a59753dfbe098f30e549f800230b41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10a59753dfbe098f30e549f800230b41">&#9670;&#160;</a></span>do_gsub()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char * do_gsub </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlua__State.html">lua_State</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>index</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>p</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>r</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00162">162</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  163</span>{</div>
<div class="line"><span class="lineno">  164</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="deprecated_2gthread_8h.html#ac9be6c0781aab4af4c0d61c77a938911">index</a> &lt; 0)</div>
<div class="line"><span class="lineno">  165</span>        <a class="code hl_variable" href="deprecated_2gthread_8h.html#ac9be6c0781aab4af4c0d61c77a938911">index</a> += <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#afbb08ecb69421875494105d4de68e5bf">lua_gettop</a>(L) + 1; <span class="comment">// relative to absolute index</span></div>
<div class="line"><span class="lineno">  166</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *result = <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#ac3eedb8425d056c08d479393ff14ad89">luaL_gsub</a>(L, <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#ac813fc3bc1886ba17c363d5b4c6e7ef1">lua_tostring</a>(L, <a class="code hl_variable" href="deprecated_2gthread_8h.html#ac9be6c0781aab4af4c0d61c77a938911">index</a>), p, r);</div>
<div class="line"><span class="lineno">  167</span>    <a class="code hl_define" href="lua-5_83_86_2src_2lua_8h.html#a09daca42852c6356e4b415c46eba5955">lua_replace</a>(L, <a class="code hl_variable" href="deprecated_2gthread_8h.html#ac9be6c0781aab4af4c0d61c77a938911">index</a>);</div>
<div class="line"><span class="lineno">  168</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  169</span>}</div>
<div class="ttc" id="adeprecated_2gthread_8h_html_ac9be6c0781aab4af4c0d61c77a938911"><div class="ttname"><a href="deprecated_2gthread_8h.html#ac9be6c0781aab4af4c0d61c77a938911">index</a></div><div class="ttdeci">guint index</div><div class="ttdef"><b>Definition</b> <a href="deprecated_2gthread_8h_source.html#l00001">deprecated/gthread.h:1</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_afbb08ecb69421875494105d4de68e5bf"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#afbb08ecb69421875494105d4de68e5bf">lua_gettop</a></div><div class="ttdeci">LUA_API int lua_gettop(lua_State *L)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00159">lua-5.1.5/src/lapi.c:159</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lauxlib_8c_html_ac3eedb8425d056c08d479393ff14ad89"><div class="ttname"><a href="lua-5_81_85_2src_2lauxlib_8c.html#ac3eedb8425d056c08d479393ff14ad89">luaL_gsub</a></div><div class="ttdeci">LUALIB_API const char * luaL_gsub(lua_State *L, const char *s, const char *p, const char *r)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00340">lua-5.1.5/src/lauxlib.c:340</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lua_8h_html_ac813fc3bc1886ba17c363d5b4c6e7ef1"><div class="ttname"><a href="lua-5_81_85_2src_2lua_8h.html#ac813fc3bc1886ba17c363d5b4c6e7ef1">lua_tostring</a></div><div class="ttdeci">#define lua_tostring(L, i)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lua_8h_source.html#l00279">lua-5.1.5/src/lua.h:279</a></div></div>
<div class="ttc" id="alua-5_83_86_2src_2lua_8h_html_a09daca42852c6356e4b415c46eba5955"><div class="ttname"><a href="lua-5_83_86_2src_2lua_8h.html#a09daca42852c6356e4b415c46eba5955">lua_replace</a></div><div class="ttdeci">#define lua_replace(L, idx)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_83_86_2src_2lua_8h_source.html#l00372">lua-5.3.6/src/lua.h:372</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="deprecated_2gthread_8h_source.html#l00001">index</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00159">lua_gettop()</a>, <a class="el" href="lua-5_83_86_2src_2lua_8h_source.html#l00372">lua_replace</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00279">lua_tostring</a>, and <a class="el" href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00340">luaL_gsub()</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l00638">Xml_pushDecode()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00575">Xml_pushEncode()</a>.</p>

</div>
</div>
<a id="ac73f63de925419e7dcab33861ebd6e8a" name="ac73f63de925419e7dcab33861ebd6e8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac73f63de925419e7dcab33861ebd6e8a">&#9670;&#160;</a></span>find()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t find </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>s</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>pattern</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>start</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00077">77</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   78</span>{</div>
<div class="line"><span class="lineno">   79</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *found = strstr(<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a> + start, pattern);</div>
<div class="line"><span class="lineno">   80</span>    <span class="keywordflow">return</span> found ? (size_t)(found - <a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>) : strlen(<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>);</div>
<div class="line"><span class="lineno">   81</span>}</div>
<div class="ttc" id="amulti_8h_html_a3c9cc97360bd1a6ca03b4b31f16d1342"><div class="ttname"><a href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a></div><div class="ttdeci">CURL_EXTERN CURLMcode curl_socket_t s</div><div class="ttdef"><b>Definition</b> <a href="multi_8h_source.html#l00318">multi.h:318</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="multi_8h_source.html#l00318">s</a>.</p>

<p class="reference">Referenced by <a class="el" href="lua-5_81_85_2src_2lstrlib_8c_source.html#l00495">str_find_aux()</a>, <a class="el" href="lua-5_82_84_2src_2lstrlib_8c_source.html#l00577">str_find_aux()</a>, <a class="el" href="lua-5_83_86_2src_2lstrlib_8c_source.html#l00607">str_find_aux()</a>, <a class="el" href="lua-5_84_83_2src_2lstrlib_8c_source.html#l00773">str_find_aux()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00323">Tokenizer_next()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00692">Xml_eval()</a>.</p>

</div>
</div>
<a id="a86f9571ac2c402cfe7a236b08bf1a300" name="a86f9571ac2c402cfe7a236b08bf1a300"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86f9571ac2c402cfe7a236b08bf1a300">&#9670;&#160;</a></span>find_on_match()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int find_on_match </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlua__State.html">lua_State</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00204">204</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  205</span>{</div>
<div class="line"><span class="lineno">  206</span>    <span class="comment">// Upon entry the Lua stack will have `var` and `depth`</span></div>
<div class="line"><span class="lineno">  207</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#adaa30f0d34786144c94644039d1d1b6e">lua_settop</a>(L, 1); <span class="comment">// discard depth, leaving var on the stack</span></div>
<div class="line"><span class="lineno">  208</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a89eb1578890571d202f8b3c357c822bc">lua_rawseti</a>(L, <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#ac3aa6665c25070f282c9827ec919fe6a">lua_upvalueindex</a>(1), 1); <span class="comment">// store to upvalue table</span></div>
<div class="line"><span class="lineno">  209</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a56bbb7479265e38da2e2596e6ec25faa">lua_pushboolean</a>(L, <span class="keyword">false</span>);              <span class="comment">// return false to stop iteration</span></div>
<div class="line"><span class="lineno">  210</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  211</span>}</div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_a56bbb7479265e38da2e2596e6ec25faa"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#a56bbb7479265e38da2e2596e6ec25faa">lua_pushboolean</a></div><div class="ttdeci">LUA_API void lua_pushboolean(lua_State *L, int b)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00503">lua-5.1.5/src/lapi.c:503</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_a89eb1578890571d202f8b3c357c822bc"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#a89eb1578890571d202f8b3c357c822bc">lua_rawseti</a></div><div class="ttdeci">LUA_API void lua_rawseti(lua_State *L, int idx, int n)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00684">lua-5.1.5/src/lapi.c:684</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_adaa30f0d34786144c94644039d1d1b6e"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#adaa30f0d34786144c94644039d1d1b6e">lua_settop</a></div><div class="ttdeci">LUA_API void lua_settop(lua_State *L, int idx)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00164">lua-5.1.5/src/lapi.c:164</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lua_8h_html_ac3aa6665c25070f282c9827ec919fe6a"><div class="ttname"><a href="lua-5_81_85_2src_2lua_8h.html#ac3aa6665c25070f282c9827ec919fe6a">lua_upvalueindex</a></div><div class="ttdeci">#define lua_upvalueindex(i)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lua_8h_source.html#l00039">lua-5.1.5/src/lua.h:39</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00503">lua_pushboolean()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00684">lua_rawseti()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00164">lua_settop()</a>, and <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00039">lua_upvalueindex</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l01254">Xml_find()</a>.</p>

</div>
</div>
<a id="a90118d1cef21690223578ef10dafc900" name="a90118d1cef21690223578ef10dafc900"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90118d1cef21690223578ef10dafc900">&#9670;&#160;</a></span>is_lead_token()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool is_lead_token </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00148">148</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  149</span>{</div>
<div class="line"><span class="lineno">  150</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#aeef6fcee07afceb6eb40d73fd6476a67">is_whitespace</a>(<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>) &amp;&amp; (*<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a> == <span class="charliteral">&#39;\n&#39;</span> || *<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a> == <span class="charliteral">&#39;\r&#39;</span>);</div>
<div class="line"><span class="lineno">  151</span>}</div>
<div class="ttc" id="aLuaXML__lib_8c_html_aeef6fcee07afceb6eb40d73fd6476a67"><div class="ttname"><a href="#aeef6fcee07afceb6eb40d73fd6476a67">is_whitespace</a></div><div class="ttdeci">static bool is_whitespace(const char *s)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00133">LuaXML_lib.c:133</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="LuaXML__lib_8c_source.html#l00133">is_whitespace()</a>, and <a class="el" href="multi_8h_source.html#l00318">s</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l00692">Xml_eval()</a>.</p>

</div>
</div>
<a id="aeef6fcee07afceb6eb40d73fd6476a67" name="aeef6fcee07afceb6eb40d73fd6476a67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeef6fcee07afceb6eb40d73fd6476a67">&#9670;&#160;</a></span>is_whitespace()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool is_whitespace </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00133">133</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  134</span>{</div>
<div class="line"><span class="lineno">  135</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>)</div>
<div class="line"><span class="lineno">  136</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// NULL pointer</span></div>
<div class="line"><span class="lineno">  137</span>    <span class="keywordflow">if</span> (*<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a> == 0)</div>
<div class="line"><span class="lineno">  138</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// empty string</span></div>
<div class="line"><span class="lineno">  139</span>    <span class="keywordflow">while</span> (*<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>)</div>
<div class="line"><span class="lineno">  140</span>        <span class="keywordflow">if</span> (!isspace(*<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>++))</div>
<div class="line"><span class="lineno">  141</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  142</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  143</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="multi_8h_source.html#l00318">s</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l00148">is_lead_token()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00692">Xml_eval()</a>.</p>

</div>
</div>
<a id="a1f2b9e9b44c59f55461dd72bd50a37b1" name="a1f2b9e9b44c59f55461dd72bd50a37b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f2b9e9b44c59f55461dd72bd50a37b1">&#9670;&#160;</a></span>luaopen_LuaXML_lib()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="LuaXML__lib_8h.html#a994fa2da49cc7b971acfb763778c14fc">_EXPORT</a> luaopen_LuaXML_lib </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlua__State.html">lua_State</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l01280">1280</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1281</span>{</div>
<div class="line"><span class="lineno"> 1282</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structluaL__Reg.html">luaL_Reg</a> <a class="code hl_variable" href="lua-5_83_86_2src_2lutf8lib_8c.html#aa4be121cd05b20a87bf4f1d5c1978a1b">funcs</a>[] = {{<span class="stringliteral">&quot;append&quot;</span>, <a class="code hl_function" href="#a0986e98c151bf1d0a7d259083882d163">Xml_append</a>},</div>
<div class="line"><span class="lineno"> 1283</span>                                            {<span class="stringliteral">&quot;decode&quot;</span>, <a class="code hl_function" href="#ae67a4ad7262adec84d992334151a40c6">Xml_decode</a>},</div>
<div class="line"><span class="lineno"> 1284</span>                                            {<span class="stringliteral">&quot;encode&quot;</span>, <a class="code hl_function" href="#aafd876f582721f8a8fef402e01300d8c">Xml_encode</a>},</div>
<div class="line"><span class="lineno"> 1285</span>                                            {<span class="stringliteral">&quot;eval&quot;</span>, <a class="code hl_function" href="#a6cfa20751b0a4f0bff71c7326c8386ec">Xml_eval</a>},</div>
<div class="line"><span class="lineno"> 1286</span>                                            {<span class="stringliteral">&quot;find&quot;</span>, <a class="code hl_function" href="#a077a372d7965550383ea9eebaa5b76c4">Xml_find</a>},</div>
<div class="line"><span class="lineno"> 1287</span>                                            {<span class="stringliteral">&quot;iterate&quot;</span>, <a class="code hl_function" href="#a70c963af19827acc07ee951bcc60f40d">Xml_iterate</a>},</div>
<div class="line"><span class="lineno"> 1288</span>                                            {<span class="stringliteral">&quot;load&quot;</span>, <a class="code hl_function" href="#a07b8930b629b0000db5e0540b1bee189">Xml_load</a>},</div>
<div class="line"><span class="lineno"> 1289</span>                                            {<span class="stringliteral">&quot;match&quot;</span>, <a class="code hl_function" href="#a9d8f3af0d16b2cacd3c7cac6c61bc642">Xml_match</a>},</div>
<div class="line"><span class="lineno"> 1290</span>                                            {<span class="stringliteral">&quot;new&quot;</span>, <a class="code hl_function" href="#aebebc9c7e778a0a9b70729f68ac355fa">Xml_new</a>},</div>
<div class="line"><span class="lineno"> 1291</span>                                            {<span class="stringliteral">&quot;registerCode&quot;</span>, <a class="code hl_function" href="#af7a3af412a6f4b815ba277c4fc0382c7">Xml_registerCode</a>},</div>
<div class="line"><span class="lineno"> 1292</span>                                            {<span class="stringliteral">&quot;str&quot;</span>, <a class="code hl_function" href="#a9c49c7587de875bcb3c28c57892ce394">Xml_str</a>},</div>
<div class="line"><span class="lineno"> 1293</span>                                            {<span class="stringliteral">&quot;tag&quot;</span>, <a class="code hl_function" href="#a2c1f901539127bd9c9c8079e2aa5989f">Xml_tag</a>},</div>
<div class="line"><span class="lineno"> 1294</span>                                            {<a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>}};</div>
<div class="line"><span class="lineno"> 1295</span>    <a class="code hl_define" href="#a4c70df52a653b5ec80e042573872009a">luaL_newlib</a>(L, <a class="code hl_variable" href="lua-5_83_86_2src_2lutf8lib_8c.html#aa4be121cd05b20a87bf4f1d5c1978a1b">funcs</a>);</div>
<div class="line"><span class="lineno"> 1296</span> </div>
<div class="line"><span class="lineno"> 1297</span>    <span class="comment">// create a metatable for LuaXML &quot;objects&quot;</span></div>
<div class="line"><span class="lineno"> 1298</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a2664eb7bcc85bbf6eeded2a81cf09b01">luaL_newmetatable</a>(L, <a class="code hl_define" href="#a1e6e51edaf835b43afe7740475378a98">LUAXML_META</a>);</div>
<div class="line"><span class="lineno"> 1299</span>    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a47854189a679002ed743ebbcb30b1b26">lua_pushliteral</a>(L, <span class="stringliteral">&quot;__index&quot;</span>);</div>
<div class="line"><span class="lineno"> 1300</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a602f61a9b583d69dc1c72c8970bd65e8">lua_pushvalue</a>(L, -3); <span class="comment">// duplicate the module table</span></div>
<div class="line"><span class="lineno"> 1301</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#afb2d27f421677ef40425f9054ae216a7">lua_rawset</a>(L, -3);    <span class="comment">// and set it as metaindex</span></div>
<div class="line"><span class="lineno"> 1302</span>    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a47854189a679002ed743ebbcb30b1b26">lua_pushliteral</a>(L, <span class="stringliteral">&quot;__tostring&quot;</span>);</div>
<div class="line"><span class="lineno"> 1303</span>    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a2e4fbbe97182bf90004379202202f2b9">lua_pushcfunction</a>(L, <a class="code hl_function" href="#a9c49c7587de875bcb3c28c57892ce394">Xml_str</a>);</div>
<div class="line"><span class="lineno"> 1304</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#afb2d27f421677ef40425f9054ae216a7">lua_rawset</a>(L, -3); <span class="comment">// set metamethod</span></div>
<div class="line"><span class="lineno"> 1305</span>    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#abb8eae2164badeafdb037bc1e03cc822">lua_pop</a>(L, 1);     <span class="comment">// drop value (metatable)</span></div>
<div class="line"><span class="lineno"> 1306</span> </div>
<div class="line"><span class="lineno"> 1307</span>    <span class="comment">// expose API constants (via the module table)</span></div>
<div class="line"><span class="lineno"> 1308</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#adcec46ff05dfee9a3c4c05828b40c213">lua_pushinteger</a>(L, <a class="code hl_enumvalue" href="#a8d4aebec79ed1487d2eadbd4e5cc3db4ace9da5ab4cea73ed035e603cd3373b1c">WHITESPACE_TRIM</a>);</div>
<div class="line"><span class="lineno"> 1309</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a3f2f542ee6728d82e51b1c302f9606df">lua_setfield</a>(L, -2, <span class="stringliteral">&quot;WS_TRIM&quot;</span>);</div>
<div class="line"><span class="lineno"> 1310</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#adcec46ff05dfee9a3c4c05828b40c213">lua_pushinteger</a>(L, <a class="code hl_enumvalue" href="#a8d4aebec79ed1487d2eadbd4e5cc3db4a668ca1a6296903b51e43e94b5d750221">WHITESPACE_NORMALIZE</a>);</div>
<div class="line"><span class="lineno"> 1311</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a3f2f542ee6728d82e51b1c302f9606df">lua_setfield</a>(L, -2, <span class="stringliteral">&quot;WS_NORMALIZE&quot;</span>);</div>
<div class="line"><span class="lineno"> 1312</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#adcec46ff05dfee9a3c4c05828b40c213">lua_pushinteger</a>(L, <a class="code hl_enumvalue" href="#a8d4aebec79ed1487d2eadbd4e5cc3db4a87ba33d417c3cac8e732202c9253099d">WHITESPACE_PRESERVE</a>);</div>
<div class="line"><span class="lineno"> 1313</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a3f2f542ee6728d82e51b1c302f9606df">lua_setfield</a>(L, -2, <span class="stringliteral">&quot;WS_PRESERVE&quot;</span>);</div>
<div class="line"><span class="lineno"> 1314</span> </div>
<div class="line"><span class="lineno"> 1315</span>    <span class="comment">// register default codes</span></div>
<div class="line"><span class="lineno"> 1316</span>    <span class="comment">// Note: We&#39;ll always handle &quot;&amp;amp;&quot; separately!</span></div>
<div class="line"><span class="lineno"> 1317</span>    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#aa59db6b784aa1ec954599a44168c7761">lua_newtable</a>(L);</div>
<div class="line"><span class="lineno"> 1318</span>    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a47854189a679002ed743ebbcb30b1b26">lua_pushliteral</a>(L, <span class="stringliteral">&quot;&amp;lt;&quot;</span>);</div>
<div class="line"><span class="lineno"> 1319</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a3f2f542ee6728d82e51b1c302f9606df">lua_setfield</a>(L, -2, <span class="stringliteral">&quot;&lt;&quot;</span>);</div>
<div class="line"><span class="lineno"> 1320</span>    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a47854189a679002ed743ebbcb30b1b26">lua_pushliteral</a>(L, <span class="stringliteral">&quot;&amp;gt;&quot;</span>);</div>
<div class="line"><span class="lineno"> 1321</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a3f2f542ee6728d82e51b1c302f9606df">lua_setfield</a>(L, -2, <span class="stringliteral">&quot;&gt;&quot;</span>);</div>
<div class="line"><span class="lineno"> 1322</span>    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a47854189a679002ed743ebbcb30b1b26">lua_pushliteral</a>(L, <span class="stringliteral">&quot;&amp;quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 1323</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a3f2f542ee6728d82e51b1c302f9606df">lua_setfield</a>(L, -2, <span class="stringliteral">&quot;\&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 1324</span>    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a47854189a679002ed743ebbcb30b1b26">lua_pushliteral</a>(L, <span class="stringliteral">&quot;&amp;apos;&quot;</span>);</div>
<div class="line"><span class="lineno"> 1325</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a3f2f542ee6728d82e51b1c302f9606df">lua_setfield</a>(L, -2, <span class="stringliteral">&quot;&#39;&quot;</span>);</div>
<div class="line"><span class="lineno"> 1326</span>    <a class="code hl_variable" href="#acb0ebdc4816e2724115f3fc731ae932d">sv_code_ref</a> = <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a1adeae26be7c2e3001c3583f43f70720">luaL_ref</a>(L, <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a3524c2bbc8fcf847dc083246b62945dd">LUA_REGISTRYINDEX</a>); <span class="comment">// reference (and pop table)</span></div>
<div class="line"><span class="lineno"> 1327</span> </div>
<div class="line"><span class="lineno"> 1328</span>    <span class="keywordflow">return</span> 1; <span class="comment">// return module (table)</span></div>
<div class="line"><span class="lineno"> 1329</span>}</div>
<div class="ttc" id="aLuaXML__lib_8c_html_a077a372d7965550383ea9eebaa5b76c4"><div class="ttname"><a href="#a077a372d7965550383ea9eebaa5b76c4">Xml_find</a></div><div class="ttdeci">static int Xml_find(lua_State *L)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l01254">LuaXML_lib.c:1254</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_a07b8930b629b0000db5e0540b1bee189"><div class="ttname"><a href="#a07b8930b629b0000db5e0540b1bee189">Xml_load</a></div><div class="ttdeci">static int Xml_load(lua_State *L)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00791">LuaXML_lib.c:791</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_a0986e98c151bf1d0a7d259083882d163"><div class="ttname"><a href="#a0986e98c151bf1d0a7d259083882d163">Xml_append</a></div><div class="ttdeci">static int Xml_append(lua_State *L)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00558">LuaXML_lib.c:558</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_a1e6e51edaf835b43afe7740475378a98"><div class="ttname"><a href="#a1e6e51edaf835b43afe7740475378a98">LUAXML_META</a></div><div class="ttdeci">#define LUAXML_META</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00072">LuaXML_lib.c:72</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_a2c1f901539127bd9c9c8079e2aa5989f"><div class="ttname"><a href="#a2c1f901539127bd9c9c8079e2aa5989f">Xml_tag</a></div><div class="ttdeci">static int Xml_tag(lua_State *L)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00483">LuaXML_lib.c:483</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_a4c70df52a653b5ec80e042573872009a"><div class="ttname"><a href="#a4c70df52a653b5ec80e042573872009a">luaL_newlib</a></div><div class="ttdeci">#define luaL_newlib(L, funcs)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00045">LuaXML_lib.c:45</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_a6cfa20751b0a4f0bff71c7326c8386ec"><div class="ttname"><a href="#a6cfa20751b0a4f0bff71c7326c8386ec">Xml_eval</a></div><div class="ttdeci">static int Xml_eval(lua_State *L)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00692">LuaXML_lib.c:692</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_a70c963af19827acc07ee951bcc60f40d"><div class="ttname"><a href="#a70c963af19827acc07ee951bcc60f40d">Xml_iterate</a></div><div class="ttdeci">static int Xml_iterate(lua_State *L)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l01182">LuaXML_lib.c:1182</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_a9c49c7587de875bcb3c28c57892ce394"><div class="ttname"><a href="#a9c49c7587de875bcb3c28c57892ce394">Xml_str</a></div><div class="ttdeci">static int Xml_str(lua_State *L)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00912">LuaXML_lib.c:912</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_a9d8f3af0d16b2cacd3c7cac6c61bc642"><div class="ttname"><a href="#a9d8f3af0d16b2cacd3c7cac6c61bc642">Xml_match</a></div><div class="ttdeci">static int Xml_match(lua_State *L)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l01116">LuaXML_lib.c:1116</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_aafd876f582721f8a8fef402e01300d8c"><div class="ttname"><a href="#aafd876f582721f8a8fef402e01300d8c">Xml_encode</a></div><div class="ttdeci">static int Xml_encode(lua_State *L)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00864">LuaXML_lib.c:864</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_acb0ebdc4816e2724115f3fc731ae932d"><div class="ttname"><a href="#acb0ebdc4816e2724115f3fc731ae932d">sv_code_ref</a></div><div class="ttdeci">static int sv_code_ref</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00463">LuaXML_lib.c:463</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_ae67a4ad7262adec84d992334151a40c6"><div class="ttname"><a href="#ae67a4ad7262adec84d992334151a40c6">Xml_decode</a></div><div class="ttdeci">static int Xml_decode(lua_State *L)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00884">LuaXML_lib.c:884</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_aebebc9c7e778a0a9b70729f68ac355fa"><div class="ttname"><a href="#aebebc9c7e778a0a9b70729f68ac355fa">Xml_new</a></div><div class="ttdeci">static int Xml_new(lua_State *L)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00528">LuaXML_lib.c:528</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_af7a3af412a6f4b815ba277c4fc0382c7"><div class="ttname"><a href="#af7a3af412a6f4b815ba277c4fc0382c7">Xml_registerCode</a></div><div class="ttdeci">static int Xml_registerCode(lua_State *L)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00836">LuaXML_lib.c:836</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_a3f2f542ee6728d82e51b1c302f9606df"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#a3f2f542ee6728d82e51b1c302f9606df">lua_setfield</a></div><div class="ttdeci">LUA_API void lua_setfield(lua_State *L, int idx, const char *k)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00657">lua-5.1.5/src/lapi.c:657</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_a602f61a9b583d69dc1c72c8970bd65e8"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#a602f61a9b583d69dc1c72c8970bd65e8">lua_pushvalue</a></div><div class="ttdeci">LUA_API void lua_pushvalue(lua_State *L, int idx)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00228">lua-5.1.5/src/lapi.c:228</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_adcec46ff05dfee9a3c4c05828b40c213"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#adcec46ff05dfee9a3c4c05828b40c213">lua_pushinteger</a></div><div class="ttdeci">LUA_API void lua_pushinteger(lua_State *L, lua_Integer n)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00437">lua-5.1.5/src/lapi.c:437</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_afb2d27f421677ef40425f9054ae216a7"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#afb2d27f421677ef40425f9054ae216a7">lua_rawset</a></div><div class="ttdeci">LUA_API void lua_rawset(lua_State *L, int idx)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00671">lua-5.1.5/src/lapi.c:671</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lauxlib_8c_html_a1adeae26be7c2e3001c3583f43f70720"><div class="ttname"><a href="lua-5_81_85_2src_2lauxlib_8c.html#a1adeae26be7c2e3001c3583f43f70720">luaL_ref</a></div><div class="ttdeci">LUALIB_API int luaL_ref(lua_State *L, int t)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00481">lua-5.1.5/src/lauxlib.c:481</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lauxlib_8c_html_a2664eb7bcc85bbf6eeded2a81cf09b01"><div class="ttname"><a href="lua-5_81_85_2src_2lauxlib_8c.html#a2664eb7bcc85bbf6eeded2a81cf09b01">luaL_newmetatable</a></div><div class="ttdeci">LUALIB_API int luaL_newmetatable(lua_State *L, const char *tname)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00112">lua-5.1.5/src/lauxlib.c:112</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lua_8h_html_a2e4fbbe97182bf90004379202202f2b9"><div class="ttname"><a href="lua-5_81_85_2src_2lua_8h.html#a2e4fbbe97182bf90004379202202f2b9">lua_pushcfunction</a></div><div class="ttdeci">#define lua_pushcfunction(L, f)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lua_8h_source.html#l00260">lua-5.1.5/src/lua.h:260</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lua_8h_html_a3524c2bbc8fcf847dc083246b62945dd"><div class="ttname"><a href="lua-5_81_85_2src_2lua_8h.html#a3524c2bbc8fcf847dc083246b62945dd">LUA_REGISTRYINDEX</a></div><div class="ttdeci">#define LUA_REGISTRYINDEX</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lua_8h_source.html#l00036">lua-5.1.5/src/lua.h:36</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lua_8h_html_a47854189a679002ed743ebbcb30b1b26"><div class="ttname"><a href="lua-5_81_85_2src_2lua_8h.html#a47854189a679002ed743ebbcb30b1b26">lua_pushliteral</a></div><div class="ttdeci">#define lua_pushliteral(L, s)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lua_8h_source.html#l00273">lua-5.1.5/src/lua.h:273</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lua_8h_html_aa59db6b784aa1ec954599a44168c7761"><div class="ttname"><a href="lua-5_81_85_2src_2lua_8h.html#aa59db6b784aa1ec954599a44168c7761">lua_newtable</a></div><div class="ttdeci">#define lua_newtable(L)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lua_8h_source.html#l00256">lua-5.1.5/src/lua.h:256</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lua_8h_html_abb8eae2164badeafdb037bc1e03cc822"><div class="ttname"><a href="lua-5_81_85_2src_2lua_8h.html#abb8eae2164badeafdb037bc1e03cc822">lua_pop</a></div><div class="ttdeci">#define lua_pop(L, n)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lua_8h_source.html#l00254">lua-5.1.5/src/lua.h:254</a></div></div>
<div class="ttc" id="astructluaL__Reg_html"><div class="ttname"><a href="structluaL__Reg.html">luaL_Reg</a></div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lauxlib_8h_source.html#l00035">lua-5.1.5/src/lauxlib.h:35</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lua-5_83_86_2src_2lutf8lib_8c_source.html#l00238">funcs</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00256">lua_newtable</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00254">lua_pop</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00260">lua_pushcfunction</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00437">lua_pushinteger()</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00273">lua_pushliteral</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00228">lua_pushvalue()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00671">lua_rawset()</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00036">LUA_REGISTRYINDEX</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00657">lua_setfield()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00045">luaL_newlib</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00112">luaL_newmetatable()</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00481">luaL_ref()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00072">LUAXML_META</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00463">sv_code_ref</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00224">WHITESPACE_NORMALIZE</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00225">WHITESPACE_PRESERVE</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00223">WHITESPACE_TRIM</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00558">Xml_append()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00884">Xml_decode()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00864">Xml_encode()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00692">Xml_eval()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l01254">Xml_find()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l01182">Xml_iterate()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00791">Xml_load()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l01116">Xml_match()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00528">Xml_new()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00836">Xml_registerCode()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00912">Xml_str()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00483">Xml_tag()</a>.</p>

</div>
</div>
<a id="a8d0e209a65a22c09f445cf801d5f052b" name="a8d0e209a65a22c09f445cf801d5f052b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d0e209a65a22c09f445cf801d5f052b">&#9670;&#160;</a></span>make_xml_object()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void make_xml_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlua__State.html">lua_State</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>index</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00100">100</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  101</span>{</div>
<div class="line"><span class="lineno">  102</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="deprecated_2gthread_8h.html#ac9be6c0781aab4af4c0d61c77a938911">index</a> &lt; 0)</div>
<div class="line"><span class="lineno">  103</span>        <a class="code hl_variable" href="deprecated_2gthread_8h.html#ac9be6c0781aab4af4c0d61c77a938911">index</a> += <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#afbb08ecb69421875494105d4de68e5bf">lua_gettop</a>(L) + 1; <span class="comment">// relative to absolute index</span></div>
<div class="line"><span class="lineno">  104</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a161af51893c5f79dacc1c382416a5f27">lua_istable</a>(L, <a class="code hl_variable" href="deprecated_2gthread_8h.html#ac9be6c0781aab4af4c0d61c77a938911">index</a>))</div>
<div class="line"><span class="lineno">  105</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a6c51d83d29244779392551388913e08a">luaL_error</a>(L,</div>
<div class="line"><span class="lineno">  106</span>                   <span class="stringliteral">&quot;%s() error: invalid type at %d - expected table, got %s&quot;</span>,</div>
<div class="line"><span class="lineno">  107</span>                   __func__,</div>
<div class="line"><span class="lineno">  108</span>                   <a class="code hl_variable" href="deprecated_2gthread_8h.html#ac9be6c0781aab4af4c0d61c77a938911">index</a>,</div>
<div class="line"><span class="lineno">  109</span>                   <a class="code hl_define" href="lua-5_81_85_2src_2lauxlib_8h.html#a2bee94954917c5bccb05d6578f3c675b">luaL_typename</a>(L, <a class="code hl_variable" href="deprecated_2gthread_8h.html#ac9be6c0781aab4af4c0d61c77a938911">index</a>));</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>    <a class="code hl_define" href="lua-5_81_85_2src_2lauxlib_8h.html#a201407aa41ff74577c67308372a130d9">luaL_getmetatable</a>(L, <a class="code hl_define" href="#a1e6e51edaf835b43afe7740475378a98">LUAXML_META</a>);</div>
<div class="line"><span class="lineno">  112</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a15719ea4119bdf5b3f2a406534431a7e">lua_setmetatable</a>(L, <a class="code hl_variable" href="deprecated_2gthread_8h.html#ac9be6c0781aab4af4c0d61c77a938911">index</a>); <span class="comment">// assign metatable</span></div>
<div class="line"><span class="lineno">  113</span>}</div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_a15719ea4119bdf5b3f2a406534431a7e"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#a15719ea4119bdf5b3f2a406534431a7e">lua_setmetatable</a></div><div class="ttdeci">LUA_API int lua_setmetatable(lua_State *L, int objindex)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00697">lua-5.1.5/src/lapi.c:697</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lauxlib_8c_html_a6c51d83d29244779392551388913e08a"><div class="ttname"><a href="lua-5_81_85_2src_2lauxlib_8c.html#a6c51d83d29244779392551388913e08a">luaL_error</a></div><div class="ttdeci">LUALIB_API int luaL_error(lua_State *L, const char *fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00086">lua-5.1.5/src/lauxlib.c:86</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lauxlib_8h_html_a201407aa41ff74577c67308372a130d9"><div class="ttname"><a href="lua-5_81_85_2src_2lauxlib_8h.html#a201407aa41ff74577c67308372a130d9">luaL_getmetatable</a></div><div class="ttdeci">#define luaL_getmetatable(L, n)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lauxlib_8h_source.html#l00117">lua-5.1.5/src/lauxlib.h:117</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lauxlib_8h_html_a2bee94954917c5bccb05d6578f3c675b"><div class="ttname"><a href="lua-5_81_85_2src_2lauxlib_8h.html#a2bee94954917c5bccb05d6578f3c675b">luaL_typename</a></div><div class="ttdeci">#define luaL_typename(L, i)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lauxlib_8h_source.html#l00109">lua-5.1.5/src/lauxlib.h:109</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lua_8h_html_a161af51893c5f79dacc1c382416a5f27"><div class="ttname"><a href="lua-5_81_85_2src_2lua_8h.html#a161af51893c5f79dacc1c382416a5f27">lua_istable</a></div><div class="ttdeci">#define lua_istable(L, n)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lua_8h_source.html#l00265">lua-5.1.5/src/lua.h:265</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="deprecated_2gthread_8h_source.html#l00001">index</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00159">lua_gettop()</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00265">lua_istable</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00697">lua_setmetatable()</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00086">luaL_error()</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8h_source.html#l00117">luaL_getmetatable</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8h_source.html#l00109">luaL_typename</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00072">LUAXML_META</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l00692">Xml_eval()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l01116">Xml_match()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00528">Xml_new()</a>.</p>

</div>
</div>
<a id="a47b3391cf97c4147ba380c0be60f34af" name="a47b3391cf97c4147ba380c0be60f34af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47b3391cf97c4147ba380c0be60f34af">&#9670;&#160;</a></span>push_indentStr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void push_indentStr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlua__State.html">lua_State</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>level</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00117">117</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  118</span>{</div>
<div class="line"><span class="lineno">  119</span>    <span class="keywordflow">if</span> (level &lt;= 0) {</div>
<div class="line"><span class="lineno">  120</span>        <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a47854189a679002ed743ebbcb30b1b26">lua_pushliteral</a>(L, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  121</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  122</span>    }</div>
<div class="line"><span class="lineno">  123</span>    <a class="code hl_struct" href="structluaL__Buffer.html">luaL_Buffer</a> b;</div>
<div class="line"><span class="lineno">  124</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a0830ef75e335f6d7590b0e058f82a5eb">luaL_buffinit</a>(L, &amp;b);</div>
<div class="line"><span class="lineno">  125</span>    <span class="comment">// while (level-- &gt; 0) luaL_addlstring(&amp;b, &quot;  &quot;, 2);</span></div>
<div class="line"><span class="lineno">  126</span>    <span class="keywordflow">while</span> (level-- &gt; 0)</div>
<div class="line"><span class="lineno">  127</span>        <a class="code hl_define" href="lua-5_81_85_2src_2lauxlib_8h.html#a63935c5b4cf5d45930c875f6cc5e1432">luaL_addchar</a>(&amp;b, <span class="charliteral">&#39;\t&#39;</span>); <span class="comment">// one TAB char per level</span></div>
<div class="line"><span class="lineno">  128</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a3a1f80033814e2057583a7d24cee23b4">luaL_pushresult</a>(&amp;b);</div>
<div class="line"><span class="lineno">  129</span>}</div>
<div class="ttc" id="alua-5_81_85_2src_2lauxlib_8c_html_a0830ef75e335f6d7590b0e058f82a5eb"><div class="ttname"><a href="lua-5_81_85_2src_2lauxlib_8c.html#a0830ef75e335f6d7590b0e058f82a5eb">luaL_buffinit</a></div><div class="ttdeci">LUALIB_API void luaL_buffinit(lua_State *L, luaL_Buffer *B)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00472">lua-5.1.5/src/lauxlib.c:472</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lauxlib_8c_html_a3a1f80033814e2057583a7d24cee23b4"><div class="ttname"><a href="lua-5_81_85_2src_2lauxlib_8c.html#a3a1f80033814e2057583a7d24cee23b4">luaL_pushresult</a></div><div class="ttdeci">LUALIB_API void luaL_pushresult(luaL_Buffer *B)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00447">lua-5.1.5/src/lauxlib.c:447</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lauxlib_8h_html_a63935c5b4cf5d45930c875f6cc5e1432"><div class="ttname"><a href="lua-5_81_85_2src_2lauxlib_8h.html#a63935c5b4cf5d45930c875f6cc5e1432">luaL_addchar</a></div><div class="ttdeci">#define luaL_addchar(B, c)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lauxlib_8h_source.html#l00136">lua-5.1.5/src/lauxlib.h:136</a></div></div>
<div class="ttc" id="astructluaL__Buffer_html"><div class="ttname"><a href="structluaL__Buffer.html">luaL_Buffer</a></div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lauxlib_8h_source.html#l00129">lua-5.1.5/src/lauxlib.h:129</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00273">lua_pushliteral</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8h_source.html#l00136">luaL_addchar</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00472">luaL_buffinit()</a>, and <a class="el" href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00447">luaL_pushresult()</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l00912">Xml_str()</a>.</p>

</div>
</div>
<a id="a857f5cce9e7a4d986f281bf32d15a25d" name="a857f5cce9e7a4d986f281bf32d15a25d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a857f5cce9e7a4d986f281bf32d15a25d">&#9670;&#160;</a></span>push_TAG_key()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void push_TAG_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlua__State.html">lua_State</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00085">85</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   86</span>{</div>
<div class="line"><span class="lineno">   87</span>    <span class="comment">/* Note: Currently this is the number 0, which fits in nicely with using</span></div>
<div class="line"><span class="lineno">   88</span><span class="comment">     * string keys for attribute-value pairs and also &#39;stays clear&#39; of the</span></div>
<div class="line"><span class="lineno">   89</span><span class="comment">     * array of sub-elements (starting at index 1).</span></div>
<div class="line"><span class="lineno">   90</span><span class="comment">     * Theoretically, this could be any kind of Lua value; but when using a</span></div>
<div class="line"><span class="lineno">   91</span><span class="comment">     * string key (e.g. &quot;TAG&quot;), extra care needs to be taken that it doesn&#39;t</span></div>
<div class="line"><span class="lineno">   92</span><span class="comment">     * get confused with an attribute - which means that the str() function</span></div>
<div class="line"><span class="lineno">   93</span><span class="comment">     * should be modified accordingly (to recognise and avoid the tag key).</span></div>
<div class="line"><span class="lineno">   94</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">   95</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#adcec46ff05dfee9a3c4c05828b40c213">lua_pushinteger</a>(L, 0);</div>
<div class="line"><span class="lineno">   96</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00437">lua_pushinteger()</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l00692">Xml_eval()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l01116">Xml_match()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00912">Xml_str()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00483">Xml_tag()</a>.</p>

</div>
</div>
<a id="ac24224aaa8bab4eafe0d1f57812e9bcb" name="ac24224aaa8bab4eafe0d1f57812e9bcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac24224aaa8bab4eafe0d1f57812e9bcb">&#9670;&#160;</a></span>Tokenizer_append()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void Tokenizer_append </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a4acf6a8d55f4a167ccc0e7a39a33ad5f">Tokenizer</a> *</td>          <td class="paramname"><span class="paramname"><em>tok</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char</td>          <td class="paramname"><span class="paramname"><em>ch</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00311">311</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  312</span>{</div>
<div class="line"><span class="lineno">  313</span>    <span class="keywordflow">if</span> (tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#abd000bb3776df32b9249dbd46c217406">m_token_size</a> + 1 &gt;= tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a29ea4887ce877f925634c5dc78743601">m_token_capacity</a>) {</div>
<div class="line"><span class="lineno">  314</span>        tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a29ea4887ce877f925634c5dc78743601">m_token_capacity</a> =</div>
<div class="line"><span class="lineno">  315</span>            tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a29ea4887ce877f925634c5dc78743601">m_token_capacity</a> ? tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a29ea4887ce877f925634c5dc78743601">m_token_capacity</a> * 2 : 16;</div>
<div class="line"><span class="lineno">  316</span>        tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5b31065bb8c67f57cef6f6a1f46f7dd8">m_token</a> = <a class="code hl_define" href="civetweb_8c.html#a1b739878adcdb46fb5d209af7ce79628">realloc</a>(tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5b31065bb8c67f57cef6f6a1f46f7dd8">m_token</a>, tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a29ea4887ce877f925634c5dc78743601">m_token_capacity</a>);</div>
<div class="line"><span class="lineno">  317</span>    }</div>
<div class="line"><span class="lineno">  318</span>    tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5b31065bb8c67f57cef6f6a1f46f7dd8">m_token</a>[tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#abd000bb3776df32b9249dbd46c217406">m_token_size</a>] = ch;</div>
<div class="line"><span class="lineno">  319</span>    tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5b31065bb8c67f57cef6f6a1f46f7dd8">m_token</a>[++tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#abd000bb3776df32b9249dbd46c217406">m_token_size</a>] = 0;</div>
<div class="line"><span class="lineno">  320</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a1b739878adcdb46fb5d209af7ce79628"><div class="ttname"><a href="civetweb_8c.html#a1b739878adcdb46fb5d209af7ce79628">realloc</a></div><div class="ttdeci">#define realloc</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01541">civetweb.c:1541</a></div></div>
<div class="ttc" id="astructTokenizer__s_html_a29ea4887ce877f925634c5dc78743601"><div class="ttname"><a href="structTokenizer__s.html#a29ea4887ce877f925634c5dc78743601">Tokenizer_s::m_token_capacity</a></div><div class="ttdeci">size_t m_token_capacity</div><div class="ttdoc">capacity of current token</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00255">LuaXML_lib.c:255</a></div></div>
<div class="ttc" id="astructTokenizer__s_html_a5b31065bb8c67f57cef6f6a1f46f7dd8"><div class="ttname"><a href="structTokenizer__s.html#a5b31065bb8c67f57cef6f6a1f46f7dd8">Tokenizer_s::m_token</a></div><div class="ttdeci">char * m_token</div><div class="ttdoc">pointer to current token</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00251">LuaXML_lib.c:251</a></div></div>
<div class="ttc" id="astructTokenizer__s_html_abd000bb3776df32b9249dbd46c217406"><div class="ttname"><a href="structTokenizer__s.html#abd000bb3776df32b9249dbd46c217406">Tokenizer_s::m_token_size</a></div><div class="ttdeci">size_t m_token_size</div><div class="ttdoc">size of current token</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00253">LuaXML_lib.c:253</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="LuaXML__lib_8c_source.html#l00251">Tokenizer_s::m_token</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00255">Tokenizer_s::m_token_capacity</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00253">Tokenizer_s::m_token_size</a>, and <a class="el" href="civetweb_8c_source.html#l01541">realloc</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l00323">Tokenizer_next()</a>.</p>

</div>
</div>
<a id="adeda118062ec11268cbf22c272d07736" name="adeda118062ec11268cbf22c272d07736"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeda118062ec11268cbf22c272d07736">&#9670;&#160;</a></span>Tokenizer_delete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void Tokenizer_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a4acf6a8d55f4a167ccc0e7a39a33ad5f">Tokenizer</a> *</td>          <td class="paramname"><span class="paramname"><em>tok</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00271">271</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  272</span>{</div>
<div class="line"><span class="lineno">  273</span>    <a class="code hl_define" href="civetweb_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5b31065bb8c67f57cef6f6a1f46f7dd8">m_token</a>);</div>
<div class="line"><span class="lineno">  274</span>    <a class="code hl_define" href="civetweb_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(tok);</div>
<div class="line"><span class="lineno">  275</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a2c6efa7679f8cd9f61af96e105017560"><div class="ttname"><a href="civetweb_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a></div><div class="ttdeci">#define free</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01542">civetweb.c:1542</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l01542">free</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00251">Tokenizer_s::m_token</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l00692">Xml_eval()</a>.</p>

</div>
</div>
<a id="a6e7c0e598d6511e16ebdb113b0a94e26" name="a6e7c0e598d6511e16ebdb113b0a94e26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e7c0e598d6511e16ebdb113b0a94e26">&#9670;&#160;</a></span>Tokenizer_new()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="#a4acf6a8d55f4a167ccc0e7a39a33ad5f">Tokenizer</a> * Tokenizer_new </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>str</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>str_size</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="#a8d4aebec79ed1487d2eadbd4e5cc3db4">whitespace_mode</a></td>          <td class="paramname"><span class="paramname"><em>mode</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00261">261</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  262</span>{</div>
<div class="line"><span class="lineno">  263</span>    <a class="code hl_struct" href="structTokenizer__s.html">Tokenizer</a> *tok = <a class="code hl_define" href="civetweb_8c.html#a84beef8cc122add35118ec7cd35286c4">calloc</a>(1, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structTokenizer__s.html">Tokenizer</a>));</div>
<div class="line"><span class="lineno">  264</span>    tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2cd35d952bb0e0a7422f5d02cb7b3e9c">s_size</a> = str_size;</div>
<div class="line"><span class="lineno">  265</span>    tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a9cd2010a3fa8a62fd63f4fa86f35869a">s</a> = str;</div>
<div class="line"><span class="lineno">  266</span>    tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a39e6f71c5bb66e07a970c9e12bce9df0">mode</a> = mode;</div>
<div class="line"><span class="lineno">  267</span>    <span class="keywordflow">return</span> tok;</div>
<div class="line"><span class="lineno">  268</span>}</div>
<div class="ttc" id="acivetweb_8c_html_a84beef8cc122add35118ec7cd35286c4"><div class="ttname"><a href="civetweb_8c.html#a84beef8cc122add35118ec7cd35286c4">calloc</a></div><div class="ttdeci">#define calloc</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01540">civetweb.c:1540</a></div></div>
<div class="ttc" id="astructTokenizer__s_html"><div class="ttname"><a href="structTokenizer__s.html">Tokenizer_s</a></div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00235">LuaXML_lib.c:235</a></div></div>
<div class="ttc" id="astructTokenizer__s_html_a2cd35d952bb0e0a7422f5d02cb7b3e9c"><div class="ttname"><a href="structTokenizer__s.html#a2cd35d952bb0e0a7422f5d02cb7b3e9c">Tokenizer_s::s_size</a></div><div class="ttdeci">size_t s_size</div><div class="ttdoc">stores size of string to be tokenized</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00239">LuaXML_lib.c:239</a></div></div>
<div class="ttc" id="astructTokenizer__s_html_a39e6f71c5bb66e07a970c9e12bce9df0"><div class="ttname"><a href="structTokenizer__s.html#a39e6f71c5bb66e07a970c9e12bce9df0">Tokenizer_s::mode</a></div><div class="ttdeci">enum whitespace_mode mode</div><div class="ttdoc">whitespace handling</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00257">LuaXML_lib.c:257</a></div></div>
<div class="ttc" id="astructTokenizer__s_html_a9cd2010a3fa8a62fd63f4fa86f35869a"><div class="ttname"><a href="structTokenizer__s.html#a9cd2010a3fa8a62fd63f4fa86f35869a">Tokenizer_s::s</a></div><div class="ttdeci">const char * s</div><div class="ttdoc">stores string to be tokenized</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00237">LuaXML_lib.c:237</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l01540">calloc</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00257">Tokenizer_s::mode</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00237">Tokenizer_s::s</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00239">Tokenizer_s::s_size</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l00692">Xml_eval()</a>.</p>

</div>
</div>
<a id="a4f37fce3db6968260b15b138be28b046" name="a4f37fce3db6968260b15b138be28b046"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f37fce3db6968260b15b138be28b046">&#9670;&#160;</a></span>Tokenizer_next()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char * Tokenizer_next </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a4acf6a8d55f4a167ccc0e7a39a33ad5f">Tokenizer</a> *</td>          <td class="paramname"><span class="paramname"><em>tok</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00323">323</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  324</span>{</div>
<div class="line"><span class="lineno">  325</span>    <span class="comment">// NUL-terminated strings for the special tokens</span></div>
<div class="line"><span class="lineno">  326</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> ESC_str[] = {<a class="code hl_define" href="#a4af1b6159e447ba72652bb7fcdfa726e">ESC</a>, 0};</div>
<div class="line"><span class="lineno">  327</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> OPEN_str[] = {<a class="code hl_define" href="#adeeb8be75f412638b2798c797937a015">OPN</a>, 0};</div>
<div class="line"><span class="lineno">  328</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> CLOSE_str[] = {<a class="code hl_define" href="#ada59561816893aa39c4aa41f1043c554">CLS</a>, 0};</div>
<div class="line"><span class="lineno">  329</span> </div>
<div class="line"><span class="lineno">  330</span>    <span class="keywordflow">if</span> (tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5b31065bb8c67f57cef6f6a1f46f7dd8">m_token</a>) {</div>
<div class="line"><span class="lineno">  331</span>        <a class="code hl_define" href="civetweb_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5b31065bb8c67f57cef6f6a1f46f7dd8">m_token</a>);</div>
<div class="line"><span class="lineno">  332</span>        tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5b31065bb8c67f57cef6f6a1f46f7dd8">m_token</a> = <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  333</span>        tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#abd000bb3776df32b9249dbd46c217406">m_token_size</a> = tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a29ea4887ce877f925634c5dc78743601">m_token_capacity</a> = 0;</div>
<div class="line"><span class="lineno">  334</span>    }</div>
<div class="line"><span class="lineno">  335</span> </div>
<div class="line"><span class="lineno">  336</span>    <span class="keywordtype">char</span> quotMode = 0;</div>
<div class="line"><span class="lineno">  337</span>    <span class="keywordtype">int</span> tokenComplete = 0;</div>
<div class="line"><span class="lineno">  338</span>    <span class="keywordflow">while</span> (tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5077bade543f8f4091b4e8a146c951b8">m_next_size</a> || (tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a> &lt; tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2cd35d952bb0e0a7422f5d02cb7b3e9c">s_size</a>)) {</div>
<div class="line"><span class="lineno">  339</span>        tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#abf2de311fca774d986ef1b0543d07316">cdata</a> = 0;</div>
<div class="line"><span class="lineno">  340</span> </div>
<div class="line"><span class="lineno">  341</span>        <span class="keywordflow">if</span> (tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5077bade543f8f4091b4e8a146c951b8">m_next_size</a>) {</div>
<div class="line"><span class="lineno">  342</span>            <a class="code hl_function" href="#af580336039fe63a185c82ddd3f51629c">Tokenizer_set</a>(tok, tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a7367f8c7e7057b2a3eb8e3f9a044388e">m_next</a>, tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5077bade543f8f4091b4e8a146c951b8">m_next_size</a>);</div>
<div class="line"><span class="lineno">  343</span>            tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a7367f8c7e7057b2a3eb8e3f9a044388e">m_next</a> = <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  344</span>            tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5077bade543f8f4091b4e8a146c951b8">m_next_size</a> = 0;</div>
<div class="line"><span class="lineno">  345</span>            <span class="keywordflow">return</span> tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5b31065bb8c67f57cef6f6a1f46f7dd8">m_token</a>;</div>
<div class="line"><span class="lineno">  346</span>        }</div>
<div class="line"><span class="lineno">  347</span> </div>
<div class="line"><span class="lineno">  348</span>        <span class="keywordflow">switch</span> (tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a9cd2010a3fa8a62fd63f4fa86f35869a">s</a>[tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a>]) {</div>
<div class="line"><span class="lineno">  349</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;&quot;&#39;</span>:</div>
<div class="line"><span class="lineno">  350</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;\&#39;&#39;</span>:</div>
<div class="line"><span class="lineno">  351</span>            <span class="keywordflow">if</span> (tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a4868405218f06650f15abb5612d2c818">tagMode</a>) {</div>
<div class="line"><span class="lineno">  352</span>                <span class="comment">// toggle quotation mode</span></div>
<div class="line"><span class="lineno">  353</span>                <span class="keywordflow">if</span> (!quotMode)</div>
<div class="line"><span class="lineno">  354</span>                    quotMode = tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a9cd2010a3fa8a62fd63f4fa86f35869a">s</a>[tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a>];</div>
<div class="line"><span class="lineno">  355</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (quotMode == tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a9cd2010a3fa8a62fd63f4fa86f35869a">s</a>[tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a>])</div>
<div class="line"><span class="lineno">  356</span>                    quotMode = 0;</div>
<div class="line"><span class="lineno">  357</span>            }</div>
<div class="line"><span class="lineno">  358</span>            <a class="code hl_function" href="#ac24224aaa8bab4eafe0d1f57812e9bcb">Tokenizer_append</a>(tok, tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a9cd2010a3fa8a62fd63f4fa86f35869a">s</a>[tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a>]);</div>
<div class="line"><span class="lineno">  359</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  360</span> </div>
<div class="line"><span class="lineno">  361</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;&lt;&#39;</span>:</div>
<div class="line"><span class="lineno">  362</span>            <span class="keywordflow">if</span> (!quotMode &amp;&amp; (tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a> + 4 &lt; tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2cd35d952bb0e0a7422f5d02cb7b3e9c">s_size</a>)</div>
<div class="line"><span class="lineno">  363</span>                &amp;&amp; (strncmp(tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a9cd2010a3fa8a62fd63f4fa86f35869a">s</a> + tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a>, <span class="stringliteral">&quot;&lt;!--&quot;</span>, 4) == 0))</div>
<div class="line"><span class="lineno">  364</span>                tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a> = <a class="code hl_function" href="#ac73f63de925419e7dcab33861ebd6e8a">find</a>(tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a9cd2010a3fa8a62fd63f4fa86f35869a">s</a>, <span class="stringliteral">&quot;--&gt;&quot;</span>, tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a> + 4) + 2; <span class="comment">// strip comments</span></div>
<div class="line"><span class="lineno">  365</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!quotMode &amp;&amp; (tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a> + 9 &lt; tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2cd35d952bb0e0a7422f5d02cb7b3e9c">s_size</a>)</div>
<div class="line"><span class="lineno">  366</span>                     &amp;&amp; (strncmp(tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a9cd2010a3fa8a62fd63f4fa86f35869a">s</a> + tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a>, <span class="stringliteral">&quot;&lt;![CDATA[&quot;</span>, 9) == 0)) {</div>
<div class="line"><span class="lineno">  367</span>                <span class="keywordflow">if</span> (tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#abd000bb3776df32b9249dbd46c217406">m_token_size</a> &gt; 0)</div>
<div class="line"><span class="lineno">  368</span>                    <span class="comment">// finish current token first, after that reparse CDATA</span></div>
<div class="line"><span class="lineno">  369</span>                    tokenComplete = 1;</div>
<div class="line"><span class="lineno">  370</span>                <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  371</span>                    <span class="comment">// interpret CDATA</span></div>
<div class="line"><span class="lineno">  372</span>                    <span class="keywordtype">size_t</span> b = tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a> + 9;</div>
<div class="line"><span class="lineno">  373</span>                    tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a> = <a class="code hl_function" href="#ac73f63de925419e7dcab33861ebd6e8a">find</a>(tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a9cd2010a3fa8a62fd63f4fa86f35869a">s</a>, <span class="stringliteral">&quot;]]&gt;&quot;</span>, b) + 3;</div>
<div class="line"><span class="lineno">  374</span>                    <span class="keywordtype">size_t</span> cdata_len = tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a> - b - 3;</div>
<div class="line"><span class="lineno">  375</span>                    <span class="keywordflow">if</span> (cdata_len &gt; 0) {</div>
<div class="line"><span class="lineno">  376</span>                        tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#abf2de311fca774d986ef1b0543d07316">cdata</a> = 1; <span class="comment">// mark as &quot;raw&quot; byte sequence</span></div>
<div class="line"><span class="lineno">  377</span>                        <span class="keywordflow">return</span> <a class="code hl_function" href="#af580336039fe63a185c82ddd3f51629c">Tokenizer_set</a>(tok, tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a9cd2010a3fa8a62fd63f4fa86f35869a">s</a> + b, cdata_len);</div>
<div class="line"><span class="lineno">  378</span>                    }</div>
<div class="line"><span class="lineno">  379</span>                }</div>
<div class="line"><span class="lineno">  380</span>                --tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a>;</div>
<div class="line"><span class="lineno">  381</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!quotMode &amp;&amp; (tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a> + 1 &lt; tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2cd35d952bb0e0a7422f5d02cb7b3e9c">s_size</a>)</div>
<div class="line"><span class="lineno">  382</span>                       &amp;&amp; ((tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a9cd2010a3fa8a62fd63f4fa86f35869a">s</a>[tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a> + 1] == <span class="charliteral">&#39;?&#39;</span>)</div>
<div class="line"><span class="lineno">  383</span>                           || (tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a9cd2010a3fa8a62fd63f4fa86f35869a">s</a>[tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a> + 1] == <span class="charliteral">&#39;!&#39;</span>)))</div>
<div class="line"><span class="lineno">  384</span>                tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a> =</div>
<div class="line"><span class="lineno">  385</span>                    <a class="code hl_function" href="#ac73f63de925419e7dcab33861ebd6e8a">find</a>(tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a9cd2010a3fa8a62fd63f4fa86f35869a">s</a>, <span class="stringliteral">&quot;&gt;&quot;</span>, tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a> + 2); <span class="comment">// strip meta information</span></div>
<div class="line"><span class="lineno">  386</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!quotMode &amp;&amp; !tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a4868405218f06650f15abb5612d2c818">tagMode</a>) {</div>
<div class="line"><span class="lineno">  387</span>                <span class="keywordflow">if</span> ((tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a> + 1 &lt; tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2cd35d952bb0e0a7422f5d02cb7b3e9c">s_size</a>) &amp;&amp; (tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a9cd2010a3fa8a62fd63f4fa86f35869a">s</a>[tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a> + 1] == <span class="charliteral">&#39;/&#39;</span>)) {</div>
<div class="line"><span class="lineno">  388</span>                    <span class="comment">// &quot;&lt;/&quot; sequence that starts a closing tag</span></div>
<div class="line"><span class="lineno">  389</span>                    tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a7367f8c7e7057b2a3eb8e3f9a044388e">m_next</a> = ESC_str;</div>
<div class="line"><span class="lineno">  390</span>                    tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5077bade543f8f4091b4e8a146c951b8">m_next_size</a> = 1;</div>
<div class="line"><span class="lineno">  391</span>                    tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a> = <a class="code hl_function" href="#ac73f63de925419e7dcab33861ebd6e8a">find</a>(tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a9cd2010a3fa8a62fd63f4fa86f35869a">s</a>, <span class="stringliteral">&quot;&gt;&quot;</span>, tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a> + 2);</div>
<div class="line"><span class="lineno">  392</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  393</span>                    <span class="comment">// regular &#39;&lt;&#39; opening a new tag</span></div>
<div class="line"><span class="lineno">  394</span>                    tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a7367f8c7e7057b2a3eb8e3f9a044388e">m_next</a> = OPEN_str;</div>
<div class="line"><span class="lineno">  395</span>                    tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5077bade543f8f4091b4e8a146c951b8">m_next_size</a> = 1;</div>
<div class="line"><span class="lineno">  396</span>                    tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a4868405218f06650f15abb5612d2c818">tagMode</a> = 1;</div>
<div class="line"><span class="lineno">  397</span>                }</div>
<div class="line"><span class="lineno">  398</span>                tokenComplete = 1;</div>
<div class="line"><span class="lineno">  399</span>            } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  400</span>                <a class="code hl_function" href="#ac24224aaa8bab4eafe0d1f57812e9bcb">Tokenizer_append</a>(tok, tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a9cd2010a3fa8a62fd63f4fa86f35869a">s</a>[tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a>]);</div>
<div class="line"><span class="lineno">  401</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  402</span> </div>
<div class="line"><span class="lineno">  403</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;/&#39;</span>:</div>
<div class="line"><span class="lineno">  404</span>            <span class="keywordflow">if</span> (tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a4868405218f06650f15abb5612d2c818">tagMode</a> &amp;&amp; !quotMode) {</div>
<div class="line"><span class="lineno">  405</span>                tokenComplete = 1;</div>
<div class="line"><span class="lineno">  406</span>                <span class="keywordflow">if</span> ((tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a> + 1 &lt; tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2cd35d952bb0e0a7422f5d02cb7b3e9c">s_size</a>) &amp;&amp; (tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a9cd2010a3fa8a62fd63f4fa86f35869a">s</a>[tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a> + 1] == <span class="charliteral">&#39;&gt;&#39;</span>)) {</div>
<div class="line"><span class="lineno">  407</span>                    <span class="comment">// &quot;/&gt;&quot; sequence = end of &#39;empty&#39; tag</span></div>
<div class="line"><span class="lineno">  408</span>                    tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a4868405218f06650f15abb5612d2c818">tagMode</a> = 0;</div>
<div class="line"><span class="lineno">  409</span>                    tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a7367f8c7e7057b2a3eb8e3f9a044388e">m_next</a> = ESC_str;</div>
<div class="line"><span class="lineno">  410</span>                    tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5077bade543f8f4091b4e8a146c951b8">m_next_size</a> = 1;</div>
<div class="line"><span class="lineno">  411</span>                    ++tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a>;</div>
<div class="line"><span class="lineno">  412</span>                } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  413</span>                    <a class="code hl_function" href="#ac24224aaa8bab4eafe0d1f57812e9bcb">Tokenizer_append</a>(tok, tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a9cd2010a3fa8a62fd63f4fa86f35869a">s</a>[tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a>]);</div>
<div class="line"><span class="lineno">  414</span>            } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  415</span>                <a class="code hl_function" href="#ac24224aaa8bab4eafe0d1f57812e9bcb">Tokenizer_append</a>(tok, tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a9cd2010a3fa8a62fd63f4fa86f35869a">s</a>[tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a>]);</div>
<div class="line"><span class="lineno">  416</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;&gt;&#39;</span>:</div>
<div class="line"><span class="lineno">  419</span>            <span class="keywordflow">if</span> (!quotMode &amp;&amp; tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a4868405218f06650f15abb5612d2c818">tagMode</a>) {</div>
<div class="line"><span class="lineno">  420</span>                <span class="comment">// this &#39;&gt;&#39; closes the current tag</span></div>
<div class="line"><span class="lineno">  421</span>                tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a4868405218f06650f15abb5612d2c818">tagMode</a> = 0;</div>
<div class="line"><span class="lineno">  422</span>                tokenComplete = 1;</div>
<div class="line"><span class="lineno">  423</span>                tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a7367f8c7e7057b2a3eb8e3f9a044388e">m_next</a> = CLOSE_str;</div>
<div class="line"><span class="lineno">  424</span>                tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5077bade543f8f4091b4e8a146c951b8">m_next_size</a> = 1;</div>
<div class="line"><span class="lineno">  425</span>            } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  426</span>                <a class="code hl_function" href="#ac24224aaa8bab4eafe0d1f57812e9bcb">Tokenizer_append</a>(tok, tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a9cd2010a3fa8a62fd63f4fa86f35869a">s</a>[tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a>]);</div>
<div class="line"><span class="lineno">  427</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  428</span> </div>
<div class="line"><span class="lineno">  429</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39; &#39;</span>:</div>
<div class="line"><span class="lineno">  430</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;\r&#39;</span>:</div>
<div class="line"><span class="lineno">  431</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;\n&#39;</span>:</div>
<div class="line"><span class="lineno">  432</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;\t&#39;</span>:</div>
<div class="line"><span class="lineno">  433</span>            <span class="keywordflow">if</span> (tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a4868405218f06650f15abb5612d2c818">tagMode</a> &amp;&amp; !quotMode) {</div>
<div class="line"><span class="lineno">  434</span>                <span class="comment">// within a tag, any unquoted whitespace ends the current token</span></div>
<div class="line"><span class="lineno">  435</span>                <span class="comment">// (= attribute)</span></div>
<div class="line"><span class="lineno">  436</span>                <span class="keywordflow">if</span> (tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#abd000bb3776df32b9249dbd46c217406">m_token_size</a>)</div>
<div class="line"><span class="lineno">  437</span>                    tokenComplete = 1;</div>
<div class="line"><span class="lineno">  438</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#abd000bb3776df32b9249dbd46c217406">m_token_size</a> || tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a39e6f71c5bb66e07a970c9e12bce9df0">mode</a> != <a class="code hl_enumvalue" href="#a8d4aebec79ed1487d2eadbd4e5cc3db4ace9da5ab4cea73ed035e603cd3373b1c">WHITESPACE_TRIM</a>)</div>
<div class="line"><span class="lineno">  439</span>                <a class="code hl_function" href="#ac24224aaa8bab4eafe0d1f57812e9bcb">Tokenizer_append</a>(tok, tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a9cd2010a3fa8a62fd63f4fa86f35869a">s</a>[tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a>]);</div>
<div class="line"><span class="lineno">  440</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  443</span>            <a class="code hl_function" href="#ac24224aaa8bab4eafe0d1f57812e9bcb">Tokenizer_append</a>(tok, tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a9cd2010a3fa8a62fd63f4fa86f35869a">s</a>[tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a>]);</div>
<div class="line"><span class="lineno">  444</span>        }</div>
<div class="line"><span class="lineno">  445</span>        ++tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a>;</div>
<div class="line"><span class="lineno">  446</span>        <span class="keywordflow">if</span> (tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a> &gt;= tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2cd35d952bb0e0a7422f5d02cb7b3e9c">s_size</a> || (tokenComplete &amp;&amp; tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#abd000bb3776df32b9249dbd46c217406">m_token_size</a>)) {</div>
<div class="line"><span class="lineno">  447</span>            tokenComplete = 0;</div>
<div class="line"><span class="lineno">  448</span>            <span class="keywordflow">if</span> (tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a39e6f71c5bb66e07a970c9e12bce9df0">mode</a> == <a class="code hl_enumvalue" href="#a8d4aebec79ed1487d2eadbd4e5cc3db4ace9da5ab4cea73ed035e603cd3373b1c">WHITESPACE_TRIM</a>) <span class="comment">// trim whitespace</span></div>
<div class="line"><span class="lineno">  449</span>                <span class="keywordflow">while</span> (tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#abd000bb3776df32b9249dbd46c217406">m_token_size</a></div>
<div class="line"><span class="lineno">  450</span>                       &amp;&amp; isspace(tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5b31065bb8c67f57cef6f6a1f46f7dd8">m_token</a>[tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#abd000bb3776df32b9249dbd46c217406">m_token_size</a> - 1]))</div>
<div class="line"><span class="lineno">  451</span>                    tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5b31065bb8c67f57cef6f6a1f46f7dd8">m_token</a>[--tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#abd000bb3776df32b9249dbd46c217406">m_token_size</a>] = 0;</div>
<div class="line"><span class="lineno">  452</span>            <span class="keywordflow">if</span> (tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#abd000bb3776df32b9249dbd46c217406">m_token_size</a>)</div>
<div class="line"><span class="lineno">  453</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  454</span>        }</div>
<div class="line"><span class="lineno">  455</span>    }</div>
<div class="line"><span class="lineno">  456</span>    <a class="code hl_define" href="#a23ff23abe0ed9ed2fdb64307db41d5d6">Tokenizer_print</a>(tok);</div>
<div class="line"><span class="lineno">  457</span>    <span class="keywordflow">return</span> tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5b31065bb8c67f57cef6f6a1f46f7dd8">m_token</a>;</div>
<div class="line"><span class="lineno">  458</span>}</div>
<div class="ttc" id="aLuaXML__lib_8c_html_a23ff23abe0ed9ed2fdb64307db41d5d6"><div class="ttname"><a href="#a23ff23abe0ed9ed2fdb64307db41d5d6">Tokenizer_print</a></div><div class="ttdeci">#define Tokenizer_print(tok)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00293">LuaXML_lib.c:293</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_a4af1b6159e447ba72652bb7fcdfa726e"><div class="ttname"><a href="#a4af1b6159e447ba72652bb7fcdfa726e">ESC</a></div><div class="ttdeci">#define ESC</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00229">LuaXML_lib.c:229</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_ac24224aaa8bab4eafe0d1f57812e9bcb"><div class="ttname"><a href="#ac24224aaa8bab4eafe0d1f57812e9bcb">Tokenizer_append</a></div><div class="ttdeci">static void Tokenizer_append(Tokenizer *tok, char ch)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00311">LuaXML_lib.c:311</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_ac73f63de925419e7dcab33861ebd6e8a"><div class="ttname"><a href="#ac73f63de925419e7dcab33861ebd6e8a">find</a></div><div class="ttdeci">static size_t find(const char *s, const char *pattern, size_t start)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00077">LuaXML_lib.c:77</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_ada59561816893aa39c4aa41f1043c554"><div class="ttname"><a href="#ada59561816893aa39c4aa41f1043c554">CLS</a></div><div class="ttdeci">#define CLS</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00231">LuaXML_lib.c:231</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_adeeb8be75f412638b2798c797937a015"><div class="ttname"><a href="#adeeb8be75f412638b2798c797937a015">OPN</a></div><div class="ttdeci">#define OPN</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00230">LuaXML_lib.c:230</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_af580336039fe63a185c82ddd3f51629c"><div class="ttname"><a href="#af580336039fe63a185c82ddd3f51629c">Tokenizer_set</a></div><div class="ttdeci">static const char * Tokenizer_set(Tokenizer *tok, const char *s, size_t size)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00297">LuaXML_lib.c:297</a></div></div>
<div class="ttc" id="astructTokenizer__s_html_a2c68618048fbc7110d477078026bb51c"><div class="ttname"><a href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">Tokenizer_s::i</a></div><div class="ttdeci">size_t i</div><div class="ttdoc">stores current read position</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00241">LuaXML_lib.c:241</a></div></div>
<div class="ttc" id="astructTokenizer__s_html_a4868405218f06650f15abb5612d2c818"><div class="ttname"><a href="structTokenizer__s.html#a4868405218f06650f15abb5612d2c818">Tokenizer_s::tagMode</a></div><div class="ttdeci">int tagMode</div><div class="ttdoc">stores current read context</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00243">LuaXML_lib.c:243</a></div></div>
<div class="ttc" id="astructTokenizer__s_html_a5077bade543f8f4091b4e8a146c951b8"><div class="ttname"><a href="structTokenizer__s.html#a5077bade543f8f4091b4e8a146c951b8">Tokenizer_s::m_next_size</a></div><div class="ttdeci">size_t m_next_size</div><div class="ttdoc">size of next token</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00249">LuaXML_lib.c:249</a></div></div>
<div class="ttc" id="astructTokenizer__s_html_a7367f8c7e7057b2a3eb8e3f9a044388e"><div class="ttname"><a href="structTokenizer__s.html#a7367f8c7e7057b2a3eb8e3f9a044388e">Tokenizer_s::m_next</a></div><div class="ttdeci">const char * m_next</div><div class="ttdoc">stores next token, if already determined</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00247">LuaXML_lib.c:247</a></div></div>
<div class="ttc" id="astructTokenizer__s_html_abf2de311fca774d986ef1b0543d07316"><div class="ttname"><a href="structTokenizer__s.html#abf2de311fca774d986ef1b0543d07316">Tokenizer_s::cdata</a></div><div class="ttdeci">int cdata</div><div class="ttdoc">stores flag for &quot;raw&quot; byte sequence, DON'T decode any further</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00245">LuaXML_lib.c:245</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="LuaXML__lib_8c_source.html#l00245">Tokenizer_s::cdata</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00231">CLS</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00229">ESC</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00077">find()</a>, <a class="el" href="civetweb_8c_source.html#l01542">free</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00241">Tokenizer_s::i</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00247">Tokenizer_s::m_next</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00249">Tokenizer_s::m_next_size</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00251">Tokenizer_s::m_token</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00255">Tokenizer_s::m_token_capacity</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00253">Tokenizer_s::m_token_size</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00257">Tokenizer_s::mode</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00230">OPN</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00237">Tokenizer_s::s</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00239">Tokenizer_s::s_size</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00243">Tokenizer_s::tagMode</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00311">Tokenizer_append()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00293">Tokenizer_print</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00297">Tokenizer_set()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00223">WHITESPACE_TRIM</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l00692">Xml_eval()</a>.</p>

</div>
</div>
<a id="af580336039fe63a185c82ddd3f51629c" name="af580336039fe63a185c82ddd3f51629c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af580336039fe63a185c82ddd3f51629c">&#9670;&#160;</a></span>Tokenizer_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char * Tokenizer_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a4acf6a8d55f4a167ccc0e7a39a33ad5f">Tokenizer</a> *</td>          <td class="paramname"><span class="paramname"><em>tok</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>s</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00297">297</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  298</span>{</div>
<div class="line"><span class="lineno">  299</span>    <span class="keywordflow">if</span> (!size || !<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>)</div>
<div class="line"><span class="lineno">  300</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  301</span>    <a class="code hl_define" href="civetweb_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5b31065bb8c67f57cef6f6a1f46f7dd8">m_token</a>);</div>
<div class="line"><span class="lineno">  302</span>    tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5b31065bb8c67f57cef6f6a1f46f7dd8">m_token</a> = <a class="code hl_define" href="civetweb_8c.html#acf143577800376dd931c059ecc61ba06">malloc</a>(size + 1);</div>
<div class="line"><span class="lineno">  303</span>    strncpy(tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5b31065bb8c67f57cef6f6a1f46f7dd8">m_token</a>, <a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>, size);</div>
<div class="line"><span class="lineno">  304</span>    tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5b31065bb8c67f57cef6f6a1f46f7dd8">m_token</a>[size] = 0;</div>
<div class="line"><span class="lineno">  305</span>    tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#abd000bb3776df32b9249dbd46c217406">m_token_size</a> = tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a29ea4887ce877f925634c5dc78743601">m_token_capacity</a> = size;</div>
<div class="line"><span class="lineno">  306</span>    <a class="code hl_define" href="#a23ff23abe0ed9ed2fdb64307db41d5d6">Tokenizer_print</a>(tok);</div>
<div class="line"><span class="lineno">  307</span>    <span class="keywordflow">return</span> tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a5b31065bb8c67f57cef6f6a1f46f7dd8">m_token</a>;</div>
<div class="line"><span class="lineno">  308</span>}</div>
<div class="ttc" id="acivetweb_8c_html_acf143577800376dd931c059ecc61ba06"><div class="ttname"><a href="civetweb_8c.html#acf143577800376dd931c059ecc61ba06">malloc</a></div><div class="ttdeci">#define malloc</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01539">civetweb.c:1539</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="civetweb_8c_source.html#l01542">free</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00251">Tokenizer_s::m_token</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00255">Tokenizer_s::m_token_capacity</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00253">Tokenizer_s::m_token_size</a>, <a class="el" href="civetweb_8c_source.html#l01539">malloc</a>, <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>, <a class="el" href="multi_8h_source.html#l00318">s</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00293">Tokenizer_print</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l00323">Tokenizer_next()</a>.</p>

</div>
</div>
<a id="a0986e98c151bf1d0a7d259083882d163" name="a0986e98c151bf1d0a7d259083882d163"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0986e98c151bf1d0a7d259083882d163">&#9670;&#160;</a></span>Xml_append()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int Xml_append </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlua__State.html">lua_State</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>appends a new subordinate LuaXML object to an existing one. optionally sets tag</p>
<p>@function append </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">var</td><td>the parent LuaXML object </td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">?string</td><td>tag the tag of the appended LuaXML object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>appended LuaXML object, or <code>nil</code> in case of errors </dd></dl>

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00558">558</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  559</span>{</div>
<div class="line"><span class="lineno">  560</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a652b273947f0656686f998d8e90cd3ea">lua_type</a>(L, 1) == <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a31620fd8da5b655b7879e16a116ec31a">LUA_TTABLE</a>) {</div>
<div class="line"><span class="lineno">  561</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#adaa30f0d34786144c94644039d1d1b6e">lua_settop</a>(L, 2);</div>
<div class="line"><span class="lineno">  562</span>        <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a2e4fbbe97182bf90004379202202f2b9">lua_pushcfunction</a>(L, <a class="code hl_function" href="#aebebc9c7e778a0a9b70729f68ac355fa">Xml_new</a>);</div>
<div class="line"><span class="lineno">  563</span>        <a class="code hl_define" href="lua-5_83_86_2src_2lua_8h.html#a1ba55afa0e7f756a4599e86cf46d92e0">lua_insert</a>(L, 2);</div>
<div class="line"><span class="lineno">  564</span>        <a class="code hl_define" href="lua-5_82_84_2src_2lua_8h.html#a89cbf40f871b6fae2dd2df814c7ac1ba">lua_call</a>(L, 1, 1);                       <span class="comment">// new(tag)</span></div>
<div class="line"><span class="lineno">  565</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a602f61a9b583d69dc1c72c8970bd65e8">lua_pushvalue</a>(L, -1);                    <span class="comment">// duplicate result</span></div>
<div class="line"><span class="lineno">  566</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a89eb1578890571d202f8b3c357c822bc">lua_rawseti</a>(L, 1, <a class="code hl_define" href="#acd7dd1b3f9966e050366c0a7e7e06a13">lua_rawlen</a>(L, 1) + 1); <span class="comment">// append to parent (elements)</span></div>
<div class="line"><span class="lineno">  567</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  568</span>    }</div>
<div class="line"><span class="lineno">  569</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  570</span>}</div>
<div class="ttc" id="aLuaXML__lib_8c_html_acd7dd1b3f9966e050366c0a7e7e06a13"><div class="ttname"><a href="#acd7dd1b3f9966e050366c0a7e7e06a13">lua_rawlen</a></div><div class="ttdeci">#define lua_rawlen(L, index)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00042">LuaXML_lib.c:42</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_a652b273947f0656686f998d8e90cd3ea"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#a652b273947f0656686f998d8e90cd3ea">lua_type</a></div><div class="ttdeci">LUA_API int lua_type(lua_State *L, int idx)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00242">lua-5.1.5/src/lapi.c:242</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lua_8h_html_a31620fd8da5b655b7879e16a116ec31a"><div class="ttname"><a href="lua-5_81_85_2src_2lua_8h.html#a31620fd8da5b655b7879e16a116ec31a">LUA_TTABLE</a></div><div class="ttdeci">#define LUA_TTABLE</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lua_8h_source.html#l00079">lua-5.1.5/src/lua.h:79</a></div></div>
<div class="ttc" id="alua-5_82_84_2src_2lua_8h_html_a89cbf40f871b6fae2dd2df814c7ac1ba"><div class="ttname"><a href="lua-5_82_84_2src_2lua_8h.html#a89cbf40f871b6fae2dd2df814c7ac1ba">lua_call</a></div><div class="ttdeci">#define lua_call(L, n, r)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_82_84_2src_2lua_8h_source.html#l00253">lua-5.2.4/src/lua.h:253</a></div></div>
<div class="ttc" id="alua-5_83_86_2src_2lua_8h_html_a1ba55afa0e7f756a4599e86cf46d92e0"><div class="ttname"><a href="lua-5_83_86_2src_2lua_8h.html#a1ba55afa0e7f756a4599e86cf46d92e0">lua_insert</a></div><div class="ttdeci">#define lua_insert(L, idx)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_83_86_2src_2lua_8h_source.html#l00368">lua-5.3.6/src/lua.h:368</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lua-5_82_84_2src_2lua_8h_source.html#l00253">lua_call</a>, <a class="el" href="lua-5_83_86_2src_2lua_8h_source.html#l00368">lua_insert</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00260">lua_pushcfunction</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00228">lua_pushvalue()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00042">lua_rawlen</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00684">lua_rawseti()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00164">lua_settop()</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00079">LUA_TTABLE</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00242">lua_type()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00528">Xml_new()</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l01280">luaopen_LuaXML_lib()</a>.</p>

</div>
</div>
<a id="ae67a4ad7262adec84d992334151a40c6" name="ae67a4ad7262adec84d992334151a40c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae67a4ad7262adec84d992334151a40c6">&#9670;&#160;</a></span>Xml_decode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int Xml_decode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlua__State.html">lua_State</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>converts a string from XML encoding. This function transforms<code>str</code> by replacing any special XML encodings with their "plain text" counterparts.</p>
<p>@usage print((xml.decode("&amp;lt;-&amp;gt;")) &ndash; "&lt;-&gt;"</p>
<p>@function decode </p><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">string</td><td>str string to be transformed @treturn string the decoded string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>encode, registerCode </dd></dl>

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00884">884</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  885</span>{</div>
<div class="line"><span class="lineno">  886</span>    <span class="keywordtype">size_t</span> size;</div>
<div class="line"><span class="lineno">  887</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a9cd1af1c0b41df3c8e721b744d1d9d29">luaL_checklstring</a>(L, 1, &amp;size);              <span class="comment">// make sure arg #1 is a string</span></div>
<div class="line"><span class="lineno">  888</span>    <a class="code hl_function" href="#ac231357aed3a3e19647a92eaf5984e81">Xml_pushDecode</a>(L, <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#ac813fc3bc1886ba17c363d5b4c6e7ef1">lua_tostring</a>(L, 1), size); <span class="comment">// and convert it</span></div>
<div class="line"><span class="lineno">  889</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  890</span>}</div>
<div class="ttc" id="aLuaXML__lib_8c_html_ac231357aed3a3e19647a92eaf5984e81"><div class="ttname"><a href="#ac231357aed3a3e19647a92eaf5984e81">Xml_pushDecode</a></div><div class="ttdeci">static void Xml_pushDecode(lua_State *L, const char *s, int size)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00638">LuaXML_lib.c:638</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lauxlib_8c_html_a9cd1af1c0b41df3c8e721b744d1d9d29"><div class="ttname"><a href="lua-5_81_85_2src_2lauxlib_8c.html#a9cd1af1c0b41df3c8e721b744d1d9d29">luaL_checklstring</a></div><div class="ttdeci">LUALIB_API const char * luaL_checklstring(lua_State *L, int narg, size_t *len)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00158">lua-5.1.5/src/lauxlib.c:158</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00279">lua_tostring</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00158">luaL_checklstring()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00638">Xml_pushDecode()</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l01280">luaopen_LuaXML_lib()</a>.</p>

</div>
</div>
<a id="aafd876f582721f8a8fef402e01300d8c" name="aafd876f582721f8a8fef402e01300d8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafd876f582721f8a8fef402e01300d8c">&#9670;&#160;</a></span>Xml_encode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int Xml_encode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlua__State.html">lua_State</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>converts a string to XML encoding. This function transforms<code>str</code> by replacing any special characters with suitable XML encodings.</p>
<p>@usage print(xml.encode("&lt;-&gt;")) &ndash; "&amp;lt;-&amp;gt;"</p>
<p>@function encode </p><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">string</td><td>str string to be transformed @treturn string the XML-encoded string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>decode, registerCode </dd></dl>

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00864">864</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  865</span>{</div>
<div class="line"><span class="lineno">  866</span>    <a class="code hl_define" href="lua-5_81_85_2src_2lauxlib_8h.html#ad9917d22c79651fdd73d42c146b5056f">luaL_checkstring</a>(L, 1); <span class="comment">// make sure arg #1 is a string</span></div>
<div class="line"><span class="lineno">  867</span>    <a class="code hl_function" href="#a6c4f03461a7dca3ff6eb72c6be41f2aa">Xml_pushEncode</a>(L, 1);   <span class="comment">// and convert it</span></div>
<div class="line"><span class="lineno">  868</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  869</span>}</div>
<div class="ttc" id="aLuaXML__lib_8c_html_a6c4f03461a7dca3ff6eb72c6be41f2aa"><div class="ttname"><a href="#a6c4f03461a7dca3ff6eb72c6be41f2aa">Xml_pushEncode</a></div><div class="ttdeci">static void Xml_pushEncode(lua_State *L, int index)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00575">LuaXML_lib.c:575</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lauxlib_8h_html_ad9917d22c79651fdd73d42c146b5056f"><div class="ttname"><a href="lua-5_81_85_2src_2lauxlib_8h.html#ad9917d22c79651fdd73d42c146b5056f">luaL_checkstring</a></div><div class="ttdeci">#define luaL_checkstring(L, n)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lauxlib_8h_source.html#l00102">lua-5.1.5/src/lauxlib.h:102</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lua-5_81_85_2src_2lauxlib_8h_source.html#l00102">luaL_checkstring</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00575">Xml_pushEncode()</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l01280">luaopen_LuaXML_lib()</a>.</p>

</div>
</div>
<a id="a6cfa20751b0a4f0bff71c7326c8386ec" name="a6cfa20751b0a4f0bff71c7326c8386ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cfa20751b0a4f0bff71c7326c8386ec">&#9670;&#160;</a></span>Xml_eval()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int Xml_eval </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlua__State.html">lua_State</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>parses an XML string into a Lua table. The table will contain a representation of the XML tag, attributes (and their values), and element content / subelements (either as strings or nested LuaXML "objects").</p>
<p>Note: Parsing "wide" strings or Unicode (UCS-2, UCS-4, UTF-16) currently is <b>not</b> supported. If needed, convert such <code>xml</code> data to UTF-8 before passing it to <code>eval()</code>. UTF-8 should be safe to use, and this function will also recognize and ignore a UTF-8 BOM (byte order mark) at the start of <code>xml</code>.</p>
<p>@function eval</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">string|userdata</td><td>xml the XML to be converted. When passing a userdata type <code>xml</code> value, it must point to a C-style (NUL-terminated) string.</td></tr>
    <tr><td class="paramname">?number</td><td>mode whitespace handling mode, one of the <code>WS_*</code> constants - see Fields. defaults to <code>WS_TRIM</code> (compatible to previous LuaXML versions)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a LuaXML object containing the XML data, or <code>nil</code> in case of errors </dd></dl>

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00692">692</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  693</span>{</div>
<div class="line"><span class="lineno">  694</span>    <span class="keyword">enum</span> <a class="code hl_enumeration" href="#a8d4aebec79ed1487d2eadbd4e5cc3db4">whitespace_mode</a> mode = <a class="code hl_define" href="lua-5_81_85_2src_2lauxlib_8h.html#ab4d7f693e9405558c725783a756e0aca">luaL_optint</a>(L, 2, <a class="code hl_enumvalue" href="#a8d4aebec79ed1487d2eadbd4e5cc3db4ace9da5ab4cea73ed035e603cd3373b1c">WHITESPACE_TRIM</a>);</div>
<div class="line"><span class="lineno">  695</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *str;</div>
<div class="line"><span class="lineno">  696</span>    <span class="keywordtype">size_t</span> str_size;</div>
<div class="line"><span class="lineno">  697</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#aa8a1dab86cfb4e0f9a4d1f699af0041b">lua_isuserdata</a>(L, 1)) {</div>
<div class="line"><span class="lineno">  698</span>        str = <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#ac3856ea479475afddd0b2b85c6da116d">lua_touserdata</a>(L, 1);</div>
<div class="line"><span class="lineno">  699</span>        str_size = strlen(str);</div>
<div class="line"><span class="lineno">  700</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  701</span>        str = <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a9cd1af1c0b41df3c8e721b744d1d9d29">luaL_checklstring</a>(L, 1, &amp;str_size);</div>
<div class="line"><span class="lineno">  702</span> </div>
<div class="line"><span class="lineno">  703</span>    <span class="keywordflow">if</span> (str_size &gt;= 3 &amp;&amp; strncmp(str, <span class="stringliteral">&quot;\xEF\xBB\xBF&quot;</span>, 3) == 0) {</div>
<div class="line"><span class="lineno">  704</span>        <span class="comment">// ignore / skip over UTF-8 BOM (byte order mark)</span></div>
<div class="line"><span class="lineno">  705</span>        str += 3;</div>
<div class="line"><span class="lineno">  706</span>        str_size -= 3;</div>
<div class="line"><span class="lineno">  707</span>    }</div>
<div class="line"><span class="lineno">  708</span> </div>
<div class="line"><span class="lineno">  709</span>    <a class="code hl_struct" href="structTokenizer__s.html">Tokenizer</a> *tok = <a class="code hl_function" href="#a6e7c0e598d6511e16ebdb113b0a94e26">Tokenizer_new</a>(str, str_size, mode);</div>
<div class="line"><span class="lineno">  710</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#adaa30f0d34786144c94644039d1d1b6e">lua_settop</a>(L, 1);</div>
<div class="line"><span class="lineno">  711</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *token;</div>
<div class="line"><span class="lineno">  712</span>    <span class="keywordtype">int</span> firstStatement = 1;</div>
<div class="line"><span class="lineno">  713</span>    <span class="keywordflow">while</span> ((token = <a class="code hl_function" href="#a4f37fce3db6968260b15b138be28b046">Tokenizer_next</a>(tok)))</div>
<div class="line"><span class="lineno">  714</span>        <span class="keywordflow">if</span> (*token == <a class="code hl_define" href="#adeeb8be75f412638b2798c797937a015">OPN</a>) { <span class="comment">// new tag found</span></div>
<div class="line"><span class="lineno">  715</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#afbb08ecb69421875494105d4de68e5bf">lua_gettop</a>(L) &gt; 1) {</div>
<div class="line"><span class="lineno">  716</span>                <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#aa59db6b784aa1ec954599a44168c7761">lua_newtable</a>(L);</div>
<div class="line"><span class="lineno">  717</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a602f61a9b583d69dc1c72c8970bd65e8">lua_pushvalue</a>(L,</div>
<div class="line"><span class="lineno">  718</span>                              -1); <span class="comment">// duplicate table (keep one copy on stack)</span></div>
<div class="line"><span class="lineno">  719</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a89eb1578890571d202f8b3c357c822bc">lua_rawseti</a>(L,</div>
<div class="line"><span class="lineno">  720</span>                            -3,</div>
<div class="line"><span class="lineno">  721</span>                            <a class="code hl_define" href="#acd7dd1b3f9966e050366c0a7e7e06a13">lua_rawlen</a>(L, -3) + 1); <span class="comment">// set parent subelement</span></div>
<div class="line"><span class="lineno">  722</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  723</span>                <span class="keywordflow">if</span> (firstStatement) {</div>
<div class="line"><span class="lineno">  724</span>                    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#aa59db6b784aa1ec954599a44168c7761">lua_newtable</a>(L);</div>
<div class="line"><span class="lineno">  725</span>                    firstStatement = 0;</div>
<div class="line"><span class="lineno">  726</span>                } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  727</span>                    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  728</span>            }</div>
<div class="line"><span class="lineno">  729</span>            <a class="code hl_function" href="#a8d0e209a65a22c09f445cf801d5f052b">make_xml_object</a>(L, -1); <span class="comment">// assign metatable</span></div>
<div class="line"><span class="lineno">  730</span> </div>
<div class="line"><span class="lineno">  731</span>            <span class="comment">// parse tag and content:</span></div>
<div class="line"><span class="lineno">  732</span>            <a class="code hl_function" href="#a857f5cce9e7a4d986f281bf32d15a25d">push_TAG_key</a>(L); <span class="comment">// place tag key on top of stack</span></div>
<div class="line"><span class="lineno">  733</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a1281a7e2b52370cc416123bfd32b1b29">lua_pushstring</a>(L, <a class="code hl_function" href="#a4f37fce3db6968260b15b138be28b046">Tokenizer_next</a>(tok));</div>
<div class="line"><span class="lineno">  734</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#afb2d27f421677ef40425f9054ae216a7">lua_rawset</a>(L, -3);</div>
<div class="line"><span class="lineno">  735</span> </div>
<div class="line"><span class="lineno">  736</span>            <span class="keywordflow">while</span> ((token = <a class="code hl_function" href="#a4f37fce3db6968260b15b138be28b046">Tokenizer_next</a>(tok)) &amp;&amp; (*token != <a class="code hl_define" href="#ada59561816893aa39c4aa41f1043c554">CLS</a>)</div>
<div class="line"><span class="lineno">  737</span>                   &amp;&amp; (*token != <a class="code hl_define" href="#a4af1b6159e447ba72652bb7fcdfa726e">ESC</a>)) {</div>
<div class="line"><span class="lineno">  738</span>                <span class="comment">// parse tag header</span></div>
<div class="line"><span class="lineno">  739</span>                <span class="keywordtype">size_t</span> sepPos = <a class="code hl_function" href="#ac73f63de925419e7dcab33861ebd6e8a">find</a>(token, <span class="stringliteral">&quot;=&quot;</span>, 0);</div>
<div class="line"><span class="lineno">  740</span>                <span class="keywordflow">if</span> (token[sepPos]) { <span class="comment">// regular attribute (key=&quot;value&quot;)</span></div>
<div class="line"><span class="lineno">  741</span>                    <span class="keyword">const</span> <span class="keywordtype">char</span> *aVal = token + sepPos + 2;</div>
<div class="line"><span class="lineno">  742</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#ad457b6dc1bc1b6d5cf9b625c5b329e5e">lua_pushlstring</a>(L, token, sepPos);</div>
<div class="line"><span class="lineno">  743</span>                    <a class="code hl_function" href="#ac231357aed3a3e19647a92eaf5984e81">Xml_pushDecode</a>(L, aVal, strlen(aVal) - 1);</div>
<div class="line"><span class="lineno">  744</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#afb2d27f421677ef40425f9054ae216a7">lua_rawset</a>(L, -3);</div>
<div class="line"><span class="lineno">  745</span>                }</div>
<div class="line"><span class="lineno">  746</span>            }</div>
<div class="line"><span class="lineno">  747</span>            <span class="keywordflow">if</span> (!token || (*token == <a class="code hl_define" href="#a4af1b6159e447ba72652bb7fcdfa726e">ESC</a>)) {</div>
<div class="line"><span class="lineno">  748</span>                <span class="comment">// this tag has no content, only attributes</span></div>
<div class="line"><span class="lineno">  749</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#afbb08ecb69421875494105d4de68e5bf">lua_gettop</a>(L) &gt; 2)</div>
<div class="line"><span class="lineno">  750</span>                    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#abb8eae2164badeafdb037bc1e03cc822">lua_pop</a>(L, 1);</div>
<div class="line"><span class="lineno">  751</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  752</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  753</span>            }</div>
<div class="line"><span class="lineno">  754</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*token == <a class="code hl_define" href="#a4af1b6159e447ba72652bb7fcdfa726e">ESC</a>) { <span class="comment">// previous tag is over</span></div>
<div class="line"><span class="lineno">  755</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#afbb08ecb69421875494105d4de68e5bf">lua_gettop</a>(L) &gt; 2)</div>
<div class="line"><span class="lineno">  756</span>                <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#abb8eae2164badeafdb037bc1e03cc822">lua_pop</a>(L, 1); <span class="comment">// pop current table</span></div>
<div class="line"><span class="lineno">  757</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  758</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  759</span>        } <span class="keywordflow">else</span> { <span class="comment">// read elements</span></div>
<div class="line"><span class="lineno">  760</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#afbb08ecb69421875494105d4de68e5bf">lua_gettop</a>(L) &gt; 1) {</div>
<div class="line"><span class="lineno">  761</span>                <span class="comment">// when normalizing, we ignore tokens considered &quot;lead-in&quot; type</span></div>
<div class="line"><span class="lineno">  762</span>                <span class="keywordflow">if</span> (mode != <a class="code hl_enumvalue" href="#a8d4aebec79ed1487d2eadbd4e5cc3db4a668ca1a6296903b51e43e94b5d750221">WHITESPACE_NORMALIZE</a> || !<a class="code hl_function" href="#a90118d1cef21690223578ef10dafc900">is_lead_token</a>(token)) {</div>
<div class="line"><span class="lineno">  763</span>                    <span class="keywordflow">if</span> (tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#abf2de311fca774d986ef1b0543d07316">cdata</a>) <span class="comment">// &quot;raw&quot; mode, don&#39;t change token string!</span></div>
<div class="line"><span class="lineno">  764</span>                        <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a1281a7e2b52370cc416123bfd32b1b29">lua_pushstring</a>(L, token);</div>
<div class="line"><span class="lineno">  765</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  766</span>                        <a class="code hl_function" href="#ac231357aed3a3e19647a92eaf5984e81">Xml_pushDecode</a>(L, token, -1);</div>
<div class="line"><span class="lineno">  767</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a89eb1578890571d202f8b3c357c822bc">lua_rawseti</a>(L, -2, <a class="code hl_define" href="#acd7dd1b3f9966e050366c0a7e7e06a13">lua_rawlen</a>(L, -2) + 1);</div>
<div class="line"><span class="lineno">  768</span>                }</div>
<div class="line"><span class="lineno">  769</span>            } <span class="keywordflow">else</span> <span class="comment">// element stack is empty, i.e. we encountered a token</span></div>
<div class="line"><span class="lineno">  770</span>                   <span class="comment">// *before* any tag</span></div>
<div class="line"><span class="lineno">  771</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="#aeef6fcee07afceb6eb40d73fd6476a67">is_whitespace</a>(token))</div>
<div class="line"><span class="lineno">  772</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a6c51d83d29244779392551388913e08a">luaL_error</a>(L,</div>
<div class="line"><span class="lineno">  773</span>                           <span class="stringliteral">&quot;Malformed XML: non-empty string &#39;%s&#39; before any &quot;</span></div>
<div class="line"><span class="lineno">  774</span>                           <span class="stringliteral">&quot;tag (parser pos %d)&quot;</span>,</div>
<div class="line"><span class="lineno">  775</span>                           token,</div>
<div class="line"><span class="lineno">  776</span>                           (<span class="keywordtype">int</span>)tok-&gt;<a class="code hl_variable" href="structTokenizer__s.html#a2c68618048fbc7110d477078026bb51c">i</a>);</div>
<div class="line"><span class="lineno">  777</span>        }</div>
<div class="line"><span class="lineno">  778</span>    <a class="code hl_function" href="#adeda118062ec11268cbf22c272d07736">Tokenizer_delete</a>(tok);</div>
<div class="line"><span class="lineno">  779</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#afbb08ecb69421875494105d4de68e5bf">lua_gettop</a>(L) - 1;</div>
<div class="line"><span class="lineno">  780</span>}</div>
<div class="ttc" id="aLuaXML__lib_8c_html_a4f37fce3db6968260b15b138be28b046"><div class="ttname"><a href="#a4f37fce3db6968260b15b138be28b046">Tokenizer_next</a></div><div class="ttdeci">static const char * Tokenizer_next(Tokenizer *tok)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00323">LuaXML_lib.c:323</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_a6e7c0e598d6511e16ebdb113b0a94e26"><div class="ttname"><a href="#a6e7c0e598d6511e16ebdb113b0a94e26">Tokenizer_new</a></div><div class="ttdeci">static Tokenizer * Tokenizer_new(const char *str, size_t str_size, enum whitespace_mode mode)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00261">LuaXML_lib.c:261</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_a857f5cce9e7a4d986f281bf32d15a25d"><div class="ttname"><a href="#a857f5cce9e7a4d986f281bf32d15a25d">push_TAG_key</a></div><div class="ttdeci">static void push_TAG_key(lua_State *L)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00085">LuaXML_lib.c:85</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_a8d0e209a65a22c09f445cf801d5f052b"><div class="ttname"><a href="#a8d0e209a65a22c09f445cf801d5f052b">make_xml_object</a></div><div class="ttdeci">static void make_xml_object(lua_State *L, int index)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00100">LuaXML_lib.c:100</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_a8d4aebec79ed1487d2eadbd4e5cc3db4"><div class="ttname"><a href="#a8d4aebec79ed1487d2eadbd4e5cc3db4">whitespace_mode</a></div><div class="ttdeci">whitespace_mode</div><div class="ttdoc">strip all leading / trailing whitespace</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00222">LuaXML_lib.c:222</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_a90118d1cef21690223578ef10dafc900"><div class="ttname"><a href="#a90118d1cef21690223578ef10dafc900">is_lead_token</a></div><div class="ttdeci">static bool is_lead_token(const char *s)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00148">LuaXML_lib.c:148</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_adeda118062ec11268cbf22c272d07736"><div class="ttname"><a href="#adeda118062ec11268cbf22c272d07736">Tokenizer_delete</a></div><div class="ttdeci">static void Tokenizer_delete(Tokenizer *tok)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00271">LuaXML_lib.c:271</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_a1281a7e2b52370cc416123bfd32b1b29"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#a1281a7e2b52370cc416123bfd32b1b29">lua_pushstring</a></div><div class="ttdeci">LUA_API void lua_pushstring(lua_State *L, const char *s)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00454">lua-5.1.5/src/lapi.c:454</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_aa8a1dab86cfb4e0f9a4d1f699af0041b"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#aa8a1dab86cfb4e0f9a4d1f699af0041b">lua_isuserdata</a></div><div class="ttdeci">LUA_API int lua_isuserdata(lua_State *L, int idx)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00273">lua-5.1.5/src/lapi.c:273</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_ac3856ea479475afddd0b2b85c6da116d"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#ac3856ea479475afddd0b2b85c6da116d">lua_touserdata</a></div><div class="ttdeci">LUA_API void * lua_touserdata(lua_State *L, int idx)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00385">lua-5.1.5/src/lapi.c:385</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_ad457b6dc1bc1b6d5cf9b625c5b329e5e"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#ad457b6dc1bc1b6d5cf9b625c5b329e5e">lua_pushlstring</a></div><div class="ttdeci">LUA_API void lua_pushlstring(lua_State *L, const char *s, size_t len)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00445">lua-5.1.5/src/lapi.c:445</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lauxlib_8h_html_ab4d7f693e9405558c725783a756e0aca"><div class="ttname"><a href="lua-5_81_85_2src_2lauxlib_8h.html#ab4d7f693e9405558c725783a756e0aca">luaL_optint</a></div><div class="ttdeci">#define luaL_optint(L, n, d)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lauxlib_8h_source.html#l00105">lua-5.1.5/src/lauxlib.h:105</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="LuaXML__lib_8c_source.html#l00245">Tokenizer_s::cdata</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00231">CLS</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00229">ESC</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00077">find()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00241">Tokenizer_s::i</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00148">is_lead_token()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00133">is_whitespace()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00159">lua_gettop()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00273">lua_isuserdata()</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00256">lua_newtable</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00254">lua_pop</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00445">lua_pushlstring()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00454">lua_pushstring()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00228">lua_pushvalue()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00042">lua_rawlen</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00671">lua_rawset()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00684">lua_rawseti()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00164">lua_settop()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00385">lua_touserdata()</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00158">luaL_checklstring()</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00086">luaL_error()</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8h_source.html#l00105">luaL_optint</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00100">make_xml_object()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00230">OPN</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00085">push_TAG_key()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00271">Tokenizer_delete()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00261">Tokenizer_new()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00323">Tokenizer_next()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00224">WHITESPACE_NORMALIZE</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00223">WHITESPACE_TRIM</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00638">Xml_pushDecode()</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l01280">luaopen_LuaXML_lib()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00791">Xml_load()</a>.</p>

</div>
</div>
<a id="a077a372d7965550383ea9eebaa5b76c4" name="a077a372d7965550383ea9eebaa5b76c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a077a372d7965550383ea9eebaa5b76c4">&#9670;&#160;</a></span>Xml_find()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int Xml_find </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlua__State.html">lua_State</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>recursively searches a Lua table for a subelement matching the provided tag and attribute. See the description of <code>match</code> for the logic involved with testing for<code>tag</code>, <code>key</code> and <code>value</code>.</p>
<p>@function find </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">var</td><td>the table to be searched in </td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">?string</td><td>tag the XML tag to be found </td></tr>
    <tr><td class="paramname">?string</td><td>key the attribute key (= exact name) to be found </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>(optional) the attribute value to be found </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the first (sub-)table that satisfies the search condition, or <code>nil</code> for no match </dd></dl>

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l01254">1254</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1255</span>{</div>
<div class="line"><span class="lineno"> 1256</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#adaa30f0d34786144c94644039d1d1b6e">lua_settop</a>(L, 4); <span class="comment">// accept at most four parameters for this function</span></div>
<div class="line"><span class="lineno"> 1257</span> </div>
<div class="line"><span class="lineno"> 1258</span>    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#aa59db6b784aa1ec954599a44168c7761">lua_newtable</a>(L); <span class="comment">// upon a match, this table will receive our result as t[1]</span></div>
<div class="line"><span class="lineno"> 1259</span>    <a class="code hl_define" href="lua-5_83_86_2src_2lua_8h.html#a1ba55afa0e7f756a4599e86cf46d92e0">lua_insert</a>(L, 1); <span class="comment">// (move it before anything else)</span></div>
<div class="line"><span class="lineno"> 1260</span> </div>
<div class="line"><span class="lineno"> 1261</span>    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a2e4fbbe97182bf90004379202202f2b9">lua_pushcfunction</a>(L, <a class="code hl_function" href="#a70c963af19827acc07ee951bcc60f40d">Xml_iterate</a>);</div>
<div class="line"><span class="lineno"> 1262</span>    <a class="code hl_define" href="lua-5_83_86_2src_2lua_8h.html#a1ba55afa0e7f756a4599e86cf46d92e0">lua_insert</a>(L, 2);    <span class="comment">// iterate is now stack arg #2, `var` at #3</span></div>
<div class="line"><span class="lineno"> 1263</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a602f61a9b583d69dc1c72c8970bd65e8">lua_pushvalue</a>(L, 1); <span class="comment">// duplicate the table (for use as upvalue)</span></div>
<div class="line"><span class="lineno"> 1264</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a142802b91cdd22516b54599f51e101e4">lua_pushcclosure</a>(L, <a class="code hl_function" href="#a86f9571ac2c402cfe7a236b08bf1a300">find_on_match</a>, 1); <span class="comment">// create a C closure</span></div>
<div class="line"><span class="lineno"> 1265</span>    <a class="code hl_define" href="lua-5_83_86_2src_2lua_8h.html#a1ba55afa0e7f756a4599e86cf46d92e0">lua_insert</a>(L, 4); <span class="comment">// place the callback function (closure) at #4</span></div>
<div class="line"><span class="lineno"> 1266</span>    <span class="comment">// (`tag`, `key` and `value` have moved to #5, #6 and #7 respectively)</span></div>
<div class="line"><span class="lineno"> 1267</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a56bbb7479265e38da2e2596e6ec25faa">lua_pushboolean</a>(L, <span class="keyword">true</span>); <span class="comment">// set &quot;recursive&quot; flag (#8)</span></div>
<div class="line"><span class="lineno"> 1268</span> </div>
<div class="line"><span class="lineno"> 1269</span>    <span class="comment">// iterate(var, find_on_match, tag, key, value, true), discarding results</span></div>
<div class="line"><span class="lineno"> 1270</span>    <span class="comment">// (but if something matches, we expect that `find_on_match` sets t[1])</span></div>
<div class="line"><span class="lineno"> 1271</span>    <a class="code hl_define" href="lua-5_82_84_2src_2lua_8h.html#a89cbf40f871b6fae2dd2df814c7ac1ba">lua_call</a>(L, 6, 0);</div>
<div class="line"><span class="lineno"> 1272</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#ae37bc3e2991700913a74d2b656442520">lua_rawgeti</a>(L, 1, 1);</div>
<div class="line"><span class="lineno"> 1273</span>    <span class="keywordflow">return</span> 1; <span class="comment">// returns result[1], which may be `nil` (if no match)</span></div>
<div class="line"><span class="lineno"> 1274</span>}</div>
<div class="ttc" id="aLuaXML__lib_8c_html_a86f9571ac2c402cfe7a236b08bf1a300"><div class="ttname"><a href="#a86f9571ac2c402cfe7a236b08bf1a300">find_on_match</a></div><div class="ttdeci">static int find_on_match(lua_State *L)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00204">LuaXML_lib.c:204</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_a142802b91cdd22516b54599f51e101e4"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#a142802b91cdd22516b54599f51e101e4">lua_pushcclosure</a></div><div class="ttdeci">LUA_API void lua_pushcclosure(lua_State *L, lua_CFunction fn, int n)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00486">lua-5.1.5/src/lapi.c:486</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_ae37bc3e2991700913a74d2b656442520"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#ae37bc3e2991700913a74d2b656442520">lua_rawgeti</a></div><div class="ttdeci">LUA_API void lua_rawgeti(lua_State *L, int idx, int n)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00567">lua-5.1.5/src/lapi.c:567</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="LuaXML__lib_8c_source.html#l00204">find_on_match()</a>, <a class="el" href="lua-5_82_84_2src_2lua_8h_source.html#l00253">lua_call</a>, <a class="el" href="lua-5_83_86_2src_2lua_8h_source.html#l00368">lua_insert</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00256">lua_newtable</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00503">lua_pushboolean()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00486">lua_pushcclosure()</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00260">lua_pushcfunction</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00228">lua_pushvalue()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00567">lua_rawgeti()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00164">lua_settop()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l01182">Xml_iterate()</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l01280">luaopen_LuaXML_lib()</a>.</p>

</div>
</div>
<a id="a70c963af19827acc07ee951bcc60f40d" name="a70c963af19827acc07ee951bcc60f40d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70c963af19827acc07ee951bcc60f40d">&#9670;&#160;</a></span>Xml_iterate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int Xml_iterate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlua__State.html">lua_State</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>iterates a LuaXML object, invoking a callback function for all matching (sub)elements.</p>
<p>The iteration starts with the variable <code>var</code> itself (= default depth 0). A callback function <code>cb</code> gets invoked for each <code>match</code>, depending on the specified criteria. If the <code>r</code> flag is set, the process will repeat <b>recursively</b> for the subelements of <code>var</code> (at depth + 1). You can limit the scope by setting a maximum depth, or have the callback function explicitly request to stop the iteration (by returning <code>false</code>).</p>
<p>@function iterate</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">var</td><td>the table (LuaXML object) to iterate</td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">function</td><td>cb callback function. <code>callback(var, depth)</code> will be called for each matching element.<br  />
 The function may return <code>false</code> to request a stop; if its result is any other value (including <code>nil</code>), the iteration will continue.</td></tr>
    <tr><td class="paramname">?string</td><td>tag XML tag to be matched </td></tr>
    <tr><td class="paramname">?string</td><td>key attribute key to be matched </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>(optional) attribute value to be matched</td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">?boolean</td><td>r recursive operation. If <code>true</code>, also iterate over the subelements of <code>var</code></td></tr>
    <tr><td class="paramname">?number</td><td>max maximum depth allowed </td></tr>
    <tr><td class="paramname">?number</td><td>d initial depth value, defaults to 0</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns two values: a counter representing the number of elements that were successfully matched (and processed), and a boolean completion flag. The latter is <code>true</code> for an exhaustive iteration, and <code>false</code> if was stopped from the callback.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="lua-5_81_85_2src_2lstrlib_8c.html#a52a45835b75e5d31ec66421456bbb728">match</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l01182">1182</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1183</span>{</div>
<div class="line"><span class="lineno"> 1184</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#adaa30f0d34786144c94644039d1d1b6e">lua_settop</a>(L, 8);</div>
<div class="line"><span class="lineno"> 1185</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a2289f14c4cd08df158f8894c87ed2c52">luaL_checktype</a>(L, 2, <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#adaa7fa6e2561c1bc428ba8d265171494">LUA_TFUNCTION</a>);  <span class="comment">// callback must be a function</span></div>
<div class="line"><span class="lineno"> 1186</span>    <span class="keywordtype">int</span> maxdepth = <a class="code hl_define" href="lua-5_81_85_2src_2lauxlib_8h.html#ab4d7f693e9405558c725783a756e0aca">luaL_optint</a>(L, 7, -1); <span class="comment">// default (&lt; 0) indicates &quot;no limit&quot;</span></div>
<div class="line"><span class="lineno"> 1187</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="deprecated_2gthread_8h.html#a2b31ea2bc2a86a6f81186b13309f0f45">depth</a> = <a class="code hl_define" href="lua-5_82_84_2src_2lua_8h.html#a1365e48377a3b567e9d88423b2a6345c">lua_tointeger</a>(L, 8);</div>
<div class="line"><span class="lineno"> 1188</span>    <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><span class="lineno"> 1189</span>    <span class="keywordtype">bool</span> cont = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1190</span>    <span class="comment">// examine &quot;var&quot; element first</span></div>
<div class="line"><span class="lineno"> 1191</span>    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a2e4fbbe97182bf90004379202202f2b9">lua_pushcfunction</a>(L, <a class="code hl_function" href="#a9d8f3af0d16b2cacd3c7cac6c61bc642">Xml_match</a>);</div>
<div class="line"><span class="lineno"> 1192</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a602f61a9b583d69dc1c72c8970bd65e8">lua_pushvalue</a>(L, 1); <span class="comment">// var</span></div>
<div class="line"><span class="lineno"> 1193</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a602f61a9b583d69dc1c72c8970bd65e8">lua_pushvalue</a>(L, 3); <span class="comment">// tag</span></div>
<div class="line"><span class="lineno"> 1194</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a602f61a9b583d69dc1c72c8970bd65e8">lua_pushvalue</a>(L, 4); <span class="comment">// key</span></div>
<div class="line"><span class="lineno"> 1195</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a602f61a9b583d69dc1c72c8970bd65e8">lua_pushvalue</a>(L, 5); <span class="comment">// value</span></div>
<div class="line"><span class="lineno"> 1196</span>    <a class="code hl_define" href="lua-5_82_84_2src_2lua_8h.html#a89cbf40f871b6fae2dd2df814c7ac1ba">lua_call</a>(L, 4, 1);</div>
<div class="line"><span class="lineno"> 1197</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a86d737d7002e7e94023765397c6eef20">lua_isnil</a>(L, -1)) { <span class="comment">// &quot;var&quot; matches, invoke callback</span></div>
<div class="line"><span class="lineno"> 1198</span>        count = 1;</div>
<div class="line"><span class="lineno"> 1199</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a602f61a9b583d69dc1c72c8970bd65e8">lua_pushvalue</a>(L, 2); <span class="comment">// duplicate function</span></div>
<div class="line"><span class="lineno"> 1200</span>        <a class="code hl_define" href="lua-5_83_86_2src_2lua_8h.html#a1ba55afa0e7f756a4599e86cf46d92e0">lua_insert</a>(L, -2);</div>
<div class="line"><span class="lineno"> 1201</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#adcec46ff05dfee9a3c4c05828b40c213">lua_pushinteger</a>(L, <a class="code hl_variable" href="deprecated_2gthread_8h.html#a2b31ea2bc2a86a6f81186b13309f0f45">depth</a>);</div>
<div class="line"><span class="lineno"> 1202</span>        <a class="code hl_define" href="lua-5_82_84_2src_2lua_8h.html#a89cbf40f871b6fae2dd2df814c7ac1ba">lua_call</a>(L, 2, 1);</div>
<div class="line"><span class="lineno"> 1203</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a56bbb7479265e38da2e2596e6ec25faa">lua_pushboolean</a>(L, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1204</span>        cont = !<a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#ae9280336584359894597220e5691bbce">lua_equal</a>(L, -1, -2);</div>
<div class="line"><span class="lineno"> 1205</span>        <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#abb8eae2164badeafdb037bc1e03cc822">lua_pop</a>(L, 2);</div>
<div class="line"><span class="lineno"> 1206</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1207</span>        <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#abb8eae2164badeafdb037bc1e03cc822">lua_pop</a>(L, 1);</div>
<div class="line"><span class="lineno"> 1208</span>    <span class="keywordflow">if</span> (cont &amp;&amp; <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a444aee9aa56b0b06175ee3c7bcf7927c">lua_toboolean</a>(L, 6) &amp;&amp; <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a652b273947f0656686f998d8e90cd3ea">lua_type</a>(L, 1) == <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a31620fd8da5b655b7879e16a116ec31a">LUA_TTABLE</a>) {</div>
<div class="line"><span class="lineno"> 1209</span>        <span class="comment">// process &quot;children&quot; / sub-elements recursively</span></div>
<div class="line"><span class="lineno"> 1210</span>        <a class="code hl_variable" href="deprecated_2gthread_8h.html#a2b31ea2bc2a86a6f81186b13309f0f45">depth</a> += 1;</div>
<div class="line"><span class="lineno"> 1211</span>        <span class="keywordflow">if</span> (maxdepth &lt; 0 || <a class="code hl_variable" href="deprecated_2gthread_8h.html#a2b31ea2bc2a86a6f81186b13309f0f45">depth</a> &lt;= maxdepth) {</div>
<div class="line"><span class="lineno"> 1212</span>            <span class="keywordtype">int</span> k = 0;</div>
<div class="line"><span class="lineno"> 1213</span>            <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 1214</span>                <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a2e4fbbe97182bf90004379202202f2b9">lua_pushcfunction</a>(L, <a class="code hl_function" href="#a70c963af19827acc07ee951bcc60f40d">Xml_iterate</a>);</div>
<div class="line"><span class="lineno"> 1215</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#ae37bc3e2991700913a74d2b656442520">lua_rawgeti</a>(L, 1, ++k);</div>
<div class="line"><span class="lineno"> 1216</span>                <span class="keywordflow">if</span> (<a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a86d737d7002e7e94023765397c6eef20">lua_isnil</a>(L, -1))</div>
<div class="line"><span class="lineno"> 1217</span>                    <span class="keywordflow">break</span>; <span class="comment">// no element var[k], exit loop</span></div>
<div class="line"><span class="lineno"> 1218</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a602f61a9b583d69dc1c72c8970bd65e8">lua_pushvalue</a>(L, 2);</div>
<div class="line"><span class="lineno"> 1219</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a602f61a9b583d69dc1c72c8970bd65e8">lua_pushvalue</a>(L, 3);</div>
<div class="line"><span class="lineno"> 1220</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a602f61a9b583d69dc1c72c8970bd65e8">lua_pushvalue</a>(L, 4);</div>
<div class="line"><span class="lineno"> 1221</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a602f61a9b583d69dc1c72c8970bd65e8">lua_pushvalue</a>(L, 5);</div>
<div class="line"><span class="lineno"> 1222</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a56bbb7479265e38da2e2596e6ec25faa">lua_pushboolean</a>(L, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1223</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a602f61a9b583d69dc1c72c8970bd65e8">lua_pushvalue</a>(L, 7);</div>
<div class="line"><span class="lineno"> 1224</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#adcec46ff05dfee9a3c4c05828b40c213">lua_pushinteger</a>(L, <a class="code hl_variable" href="deprecated_2gthread_8h.html#a2b31ea2bc2a86a6f81186b13309f0f45">depth</a>);</div>
<div class="line"><span class="lineno"> 1225</span>                <a class="code hl_define" href="lua-5_82_84_2src_2lua_8h.html#a89cbf40f871b6fae2dd2df814c7ac1ba">lua_call</a>(L, 8, 2); <span class="comment">// done, continue = iterate(var[k], ...)</span></div>
<div class="line"><span class="lineno"> 1226</span>                count += <a class="code hl_define" href="lua-5_82_84_2src_2lua_8h.html#a1365e48377a3b567e9d88423b2a6345c">lua_tointeger</a>(L, -2);</div>
<div class="line"><span class="lineno"> 1227</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a444aee9aa56b0b06175ee3c7bcf7927c">lua_toboolean</a>(L, -1)) {</div>
<div class="line"><span class="lineno"> 1228</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#adcec46ff05dfee9a3c4c05828b40c213">lua_pushinteger</a>(L, count);</div>
<div class="line"><span class="lineno"> 1229</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a56bbb7479265e38da2e2596e6ec25faa">lua_pushboolean</a>(L, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1230</span>                    <span class="keywordflow">return</span> 2;</div>
<div class="line"><span class="lineno"> 1231</span>                }</div>
<div class="line"><span class="lineno"> 1232</span>                <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#abb8eae2164badeafdb037bc1e03cc822">lua_pop</a>(L, 2);</div>
<div class="line"><span class="lineno"> 1233</span>            }</div>
<div class="line"><span class="lineno"> 1234</span>        }</div>
<div class="line"><span class="lineno"> 1235</span>    }</div>
<div class="line"><span class="lineno"> 1236</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#adcec46ff05dfee9a3c4c05828b40c213">lua_pushinteger</a>(L, count);</div>
<div class="line"><span class="lineno"> 1237</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a56bbb7479265e38da2e2596e6ec25faa">lua_pushboolean</a>(L, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1238</span>    <span class="keywordflow">return</span> 2;</div>
<div class="line"><span class="lineno"> 1239</span>}</div>
<div class="ttc" id="adeprecated_2gthread_8h_html_a2b31ea2bc2a86a6f81186b13309f0f45"><div class="ttname"><a href="deprecated_2gthread_8h.html#a2b31ea2bc2a86a6f81186b13309f0f45">depth</a></div><div class="ttdeci">guint depth</div><div class="ttdef"><b>Definition</b> <a href="deprecated_2gthread_8h_source.html#l00002">deprecated/gthread.h:2</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_a444aee9aa56b0b06175ee3c7bcf7927c"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#a444aee9aa56b0b06175ee3c7bcf7927c">lua_toboolean</a></div><div class="ttdeci">LUA_API int lua_toboolean(lua_State *L, int idx)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00337">lua-5.1.5/src/lapi.c:337</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_ae9280336584359894597220e5691bbce"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#ae9280336584359894597220e5691bbce">lua_equal</a></div><div class="ttdeci">LUA_API int lua_equal(lua_State *L, int index1, int index2)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00287">lua-5.1.5/src/lapi.c:287</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lauxlib_8c_html_a2289f14c4cd08df158f8894c87ed2c52"><div class="ttname"><a href="lua-5_81_85_2src_2lauxlib_8c.html#a2289f14c4cd08df158f8894c87ed2c52">luaL_checktype</a></div><div class="ttdeci">LUALIB_API void luaL_checktype(lua_State *L, int narg, int t)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00146">lua-5.1.5/src/lauxlib.c:146</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lua_8h_html_a86d737d7002e7e94023765397c6eef20"><div class="ttname"><a href="lua-5_81_85_2src_2lua_8h.html#a86d737d7002e7e94023765397c6eef20">lua_isnil</a></div><div class="ttdeci">#define lua_isnil(L, n)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lua_8h_source.html#l00267">lua-5.1.5/src/lua.h:267</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lua_8h_html_adaa7fa6e2561c1bc428ba8d265171494"><div class="ttname"><a href="lua-5_81_85_2src_2lua_8h.html#adaa7fa6e2561c1bc428ba8d265171494">LUA_TFUNCTION</a></div><div class="ttdeci">#define LUA_TFUNCTION</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lua_8h_source.html#l00080">lua-5.1.5/src/lua.h:80</a></div></div>
<div class="ttc" id="alua-5_82_84_2src_2lua_8h_html_a1365e48377a3b567e9d88423b2a6345c"><div class="ttname"><a href="lua-5_82_84_2src_2lua_8h.html#a1365e48377a3b567e9d88423b2a6345c">lua_tointeger</a></div><div class="ttdeci">#define lua_tointeger(L, i)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_82_84_2src_2lua_8h_source.html#l00320">lua-5.2.4/src/lua.h:320</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="deprecated_2gthread_8h_source.html#l00002">depth</a>, <a class="el" href="lua-5_82_84_2src_2lua_8h_source.html#l00253">lua_call</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00287">lua_equal()</a>, <a class="el" href="lua-5_83_86_2src_2lua_8h_source.html#l00368">lua_insert</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00267">lua_isnil</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00254">lua_pop</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00503">lua_pushboolean()</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00260">lua_pushcfunction</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00437">lua_pushinteger()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00228">lua_pushvalue()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00567">lua_rawgeti()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00164">lua_settop()</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00080">LUA_TFUNCTION</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00337">lua_toboolean()</a>, <a class="el" href="lua-5_82_84_2src_2lua_8h_source.html#l00320">lua_tointeger</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00079">LUA_TTABLE</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00242">lua_type()</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00146">luaL_checktype()</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8h_source.html#l00105">luaL_optint</a>, <a class="el" href="LuaXML__lib_8c_source.html#l01182">Xml_iterate()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l01116">Xml_match()</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l01280">luaopen_LuaXML_lib()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l01254">Xml_find()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l01182">Xml_iterate()</a>.</p>

</div>
</div>
<a id="a07b8930b629b0000db5e0540b1bee189" name="a07b8930b629b0000db5e0540b1bee189"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07b8930b629b0000db5e0540b1bee189">&#9670;&#160;</a></span>Xml_load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int Xml_load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlua__State.html">lua_State</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>loads XML data from a file and returns it as table. Basically, this is just calling <code>eval</code> on the given file's content.</p>
<p>@function load </p><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">string</td><td>filename the name and path of the file to be loaded </td></tr>
    <tr><td class="paramname">?number</td><td>mode whitespace handling mode, defaults to <code>WS_TRIM</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a Lua table representing the XML data, or <code>nil</code> in case of errors </dd></dl>

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00791">791</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  792</span>{</div>
<div class="line"><span class="lineno">  793</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *filename = <a class="code hl_define" href="lua-5_81_85_2src_2lauxlib_8h.html#ad9917d22c79651fdd73d42c146b5056f">luaL_checkstring</a>(L, 1);</div>
<div class="line"><span class="lineno">  794</span>    FILE *file = fopen(filename, <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><span class="lineno">  795</span>    <span class="keywordflow">if</span> (!file)</div>
<div class="line"><span class="lineno">  796</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a6c51d83d29244779392551388913e08a">luaL_error</a>(L,</div>
<div class="line"><span class="lineno">  797</span>                          <span class="stringliteral">&quot;LuaXML ERROR: \&quot;%s\&quot; file error or file not found!&quot;</span>,</div>
<div class="line"><span class="lineno">  798</span>                          filename);</div>
<div class="line"><span class="lineno">  799</span> </div>
<div class="line"><span class="lineno">  800</span>    fseek(file, 0, SEEK_END);</div>
<div class="line"><span class="lineno">  801</span>    <span class="keywordtype">size_t</span> sz = ftell(file);</div>
<div class="line"><span class="lineno">  802</span>    rewind(file);</div>
<div class="line"><span class="lineno">  803</span>    <span class="keywordtype">char</span> *buffer = <a class="code hl_define" href="civetweb_8c.html#acf143577800376dd931c059ecc61ba06">malloc</a>(sz + 1);</div>
<div class="line"><span class="lineno">  804</span>    sz = <a class="code hl_function" href="stdcheaders_8h.html#aae22dd41ebe1e64904429c5a31e7e642">fread</a>(buffer, 1, sz, file);</div>
<div class="line"><span class="lineno">  805</span>    fclose(file);</div>
<div class="line"><span class="lineno">  806</span>    buffer[sz] = 0;</div>
<div class="line"><span class="lineno">  807</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a85e3e3d32b068aef62426828a104b561">lua_pushlightuserdata</a>(L, buffer);</div>
<div class="line"><span class="lineno">  808</span>    <a class="code hl_define" href="lua-5_83_86_2src_2lua_8h.html#a09daca42852c6356e4b415c46eba5955">lua_replace</a>(L, 1);</div>
<div class="line"><span class="lineno">  809</span>    <span class="keywordtype">int</span> result = <a class="code hl_function" href="#a6cfa20751b0a4f0bff71c7326c8386ec">Xml_eval</a>(L);</div>
<div class="line"><span class="lineno">  810</span>    <a class="code hl_define" href="civetweb_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(buffer);</div>
<div class="line"><span class="lineno">  811</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  812</span>};</div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_a85e3e3d32b068aef62426828a104b561"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#a85e3e3d32b068aef62426828a104b561">lua_pushlightuserdata</a></div><div class="ttdeci">LUA_API void lua_pushlightuserdata(lua_State *L, void *p)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00511">lua-5.1.5/src/lapi.c:511</a></div></div>
<div class="ttc" id="astdcheaders_8h_html_aae22dd41ebe1e64904429c5a31e7e642"><div class="ttname"><a href="stdcheaders_8h.html#aae22dd41ebe1e64904429c5a31e7e642">fread</a></div><div class="ttdeci">size_t fread(void *, size_t, size_t, FILE *)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="stdcheaders_8h.html#aae22dd41ebe1e64904429c5a31e7e642">fread()</a>, <a class="el" href="civetweb_8c_source.html#l01542">free</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00511">lua_pushlightuserdata()</a>, <a class="el" href="lua-5_83_86_2src_2lua_8h_source.html#l00372">lua_replace</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8h_source.html#l00102">luaL_checkstring</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00086">luaL_error()</a>, <a class="el" href="civetweb_8c_source.html#l01539">malloc</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00692">Xml_eval()</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l01280">luaopen_LuaXML_lib()</a>.</p>

</div>
</div>
<a id="a9d8f3af0d16b2cacd3c7cac6c61bc642" name="a9d8f3af0d16b2cacd3c7cac6c61bc642"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d8f3af0d16b2cacd3c7cac6c61bc642">&#9670;&#160;</a></span>Xml_match()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int Xml_match </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlua__State.html">lua_State</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>match XML entity against given (optional) criteria. Passing <code>nil</code> for one of the<code>tag</code>, <code>key</code>, or <code>value</code> parameters means "don't
care" (i.e. match anything for that particular aspect). So for example var:match(nil, "text", nil) &ndash; or shorter, but identical: var:match(nil, "text") will look for an XML attribute (name) "text" to be present in <code>var</code>, but won't consider its value or the tag of <code>var</code>.</p>
<p>Note: If you want to test for a specific attribute <code>value</code>, so also have to supply a <code>key</code> - otherwise <code>value</code> will be ignored.</p>
<p>@usage &ndash; each of these will either return <code>x</code>, or <code>nil</code> in case of no match</p>
<p>x:match("foo") &ndash; test for x:tag() == "foo" x:match(nil, "bar") &ndash; test if x has a "bar" attribute x:match(nil, "foo", "bar") &ndash; test if x has a "foo" attribute that equals "bar" x:match("foobar", "foo", "bar") &ndash; test for "foobar" tag, and attr "foo" == "bar"</p>
<p>@function match</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">var</td><td>the variable to test, normally a Lua table or LuaXML object. (If <code>var</code> is not a table type, the test always fails.)</td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">?string</td><td>tag If set, has to match the XML <code>tag</code> (i.e. must be equal to the <code>tag(var, nil)</code> result)</td></tr>
    <tr><td class="paramname">?string</td><td>key If set, a corresponding <b>attribute key</b> needs to be present (exact name match).</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>(optional) arbitrary Lua value. If set, the <b>attribute value</b> for <code>key</code> has to match it.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>either <code>nil</code> for no match; or the <code>var</code> argument properly converted to a LuaXML object, equivalent to <code>xml.new(var)</code>.</dd></dl>
<p>This allows you to either make direct use of the matched LuaXML object, or to use the return value in a boolean test (<code>if xml.match(...)</code>), which is a common Lua idiom. </p>

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l01116">1116</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1117</span>{</div>
<div class="line"><span class="lineno"> 1118</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a652b273947f0656686f998d8e90cd3ea">lua_type</a>(L, 1) == <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a31620fd8da5b655b7879e16a116ec31a">LUA_TTABLE</a>) {</div>
<div class="line"><span class="lineno"> 1119</span>        <span class="keywordflow">if</span> (!<a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#af51702bb75a31bb4a279953ee386d533">lua_isnoneornil</a>(L, 2)) {</div>
<div class="line"><span class="lineno"> 1120</span>            <a class="code hl_function" href="#a857f5cce9e7a4d986f281bf32d15a25d">push_TAG_key</a>(L);</div>
<div class="line"><span class="lineno"> 1121</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a43379a0ba1fb68a4c81d205ad60b3cc1">lua_rawget</a>(L, 1); <span class="comment">// get the tag value from var</span></div>
<div class="line"><span class="lineno"> 1122</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#ae9280336584359894597220e5691bbce">lua_equal</a>(L, -1, 2))</div>
<div class="line"><span class="lineno"> 1123</span>                <span class="keywordflow">return</span> 0;  <span class="comment">// tag mismatch, return `nil`</span></div>
<div class="line"><span class="lineno"> 1124</span>            <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#abb8eae2164badeafdb037bc1e03cc822">lua_pop</a>(L, 1); <span class="comment">// realign stack</span></div>
<div class="line"><span class="lineno"> 1125</span>        }</div>
<div class="line"><span class="lineno"> 1126</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a652b273947f0656686f998d8e90cd3ea">lua_type</a>(L, 3) == <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a57de20d87bb5131a3159f2bd52e3fab6">LUA_TSTRING</a>) {</div>
<div class="line"><span class="lineno"> 1127</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a602f61a9b583d69dc1c72c8970bd65e8">lua_pushvalue</a>(L, 3); <span class="comment">// duplicate attribute key</span></div>
<div class="line"><span class="lineno"> 1128</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a43379a0ba1fb68a4c81d205ad60b3cc1">lua_rawget</a>(L, 1);    <span class="comment">// try to get value from var</span></div>
<div class="line"><span class="lineno"> 1129</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a86d737d7002e7e94023765397c6eef20">lua_isnil</a>(L, -1))</div>
<div class="line"><span class="lineno"> 1130</span>                <span class="keywordflow">return</span> 0; <span class="comment">// no such attribute</span></div>
<div class="line"><span class="lineno"> 1131</span>            <span class="keywordflow">if</span> (!<a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#af51702bb75a31bb4a279953ee386d533">lua_isnoneornil</a>(L, 4)) {</div>
<div class="line"><span class="lineno"> 1132</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#ae9280336584359894597220e5691bbce">lua_equal</a>(L, -1, 4))</div>
<div class="line"><span class="lineno"> 1133</span>                    <span class="keywordflow">return</span> 0; <span class="comment">// attribute value mismatch</span></div>
<div class="line"><span class="lineno"> 1134</span>            }</div>
<div class="line"><span class="lineno"> 1135</span>        }</div>
<div class="line"><span class="lineno"> 1136</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#adaa30f0d34786144c94644039d1d1b6e">lua_settop</a>(L, 1);</div>
<div class="line"><span class="lineno"> 1137</span>        <a class="code hl_function" href="#a8d0e209a65a22c09f445cf801d5f052b">make_xml_object</a>(L, 1);</div>
<div class="line"><span class="lineno"> 1138</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1139</span>    }</div>
<div class="line"><span class="lineno"> 1140</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1141</span>}</div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_a43379a0ba1fb68a4c81d205ad60b3cc1"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#a43379a0ba1fb68a4c81d205ad60b3cc1">lua_rawget</a></div><div class="ttdeci">LUA_API void lua_rawget(lua_State *L, int idx)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00557">lua-5.1.5/src/lapi.c:557</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lua_8h_html_a57de20d87bb5131a3159f2bd52e3fab6"><div class="ttname"><a href="lua-5_81_85_2src_2lua_8h.html#a57de20d87bb5131a3159f2bd52e3fab6">LUA_TSTRING</a></div><div class="ttdeci">#define LUA_TSTRING</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lua_8h_source.html#l00078">lua-5.1.5/src/lua.h:78</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lua_8h_html_af51702bb75a31bb4a279953ee386d533"><div class="ttname"><a href="lua-5_81_85_2src_2lua_8h.html#af51702bb75a31bb4a279953ee386d533">lua_isnoneornil</a></div><div class="ttdeci">#define lua_isnoneornil(L, n)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lua_8h_source.html#l00271">lua-5.1.5/src/lua.h:271</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00287">lua_equal()</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00267">lua_isnil</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00271">lua_isnoneornil</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00254">lua_pop</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00228">lua_pushvalue()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00557">lua_rawget()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00164">lua_settop()</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00078">LUA_TSTRING</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00079">LUA_TTABLE</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00242">lua_type()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00100">make_xml_object()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00085">push_TAG_key()</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l01280">luaopen_LuaXML_lib()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l01182">Xml_iterate()</a>.</p>

</div>
</div>
<a id="aebebc9c7e778a0a9b70729f68ac355fa" name="aebebc9c7e778a0a9b70729f68ac355fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebebc9c7e778a0a9b70729f68ac355fa">&#9670;&#160;</a></span>Xml_new()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int Xml_new </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlua__State.html">lua_State</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>creates a LuaXML "object", and optionally sets its tag. The function either sets the metatable of an existing Lua table, or creates a new (empty) "object". If you pass an optional<code>tag</code> string, it will be assigned to the result.</p>
<p>(It's also possible to call this as <code>new(tag)</code>, which creates a new XML object with the given tag and is equivalent to <code>new({}, tag)</code>.)</p>
<p>Note that it's not mandatory to use this function in order to treat a Lua table as LuaXML object. Setting the metatable just allows the usage of a more object-oriented syntax (e.g. <code>xmlvar:str()</code> instead of <code>xml.str(xmlvar)</code>). XML objects created by <code>load</code> or <code>eval</code> automatically offer the object-oriented syntax.</p>
<p>@function new </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>(optional) <a class="el" href="gi18n-lib_8h.html#a32a3cf3d9dd914f5aeeca5423c157934">_(1)</a>_ a table to be converted to a LuaXML object, or <a class="el" href="gi18n-lib_8h.html#a32a3cf3d9dd914f5aeeca5423c157934">_(2)</a>_ the tag of the new LuaXML object </td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">?string</td><td>tag a tag value that will be assigned to the object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>LuaXML object, either newly created or the conversion of <code>arg</code>; optionally tagged as requested </dd></dl>

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00528">528</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  529</span>{</div>
<div class="line"><span class="lineno">  530</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a161af51893c5f79dacc1c382416a5f27">lua_istable</a>(L, 1)) {</div>
<div class="line"><span class="lineno">  531</span>        <span class="comment">// create a new table and move it to the bottom of the stack (#1),</span></div>
<div class="line"><span class="lineno">  532</span>        <span class="comment">// possibly shifting other elements &quot;one up&quot;</span></div>
<div class="line"><span class="lineno">  533</span>        <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#aa59db6b784aa1ec954599a44168c7761">lua_newtable</a>(L);</div>
<div class="line"><span class="lineno">  534</span>        <a class="code hl_define" href="lua-5_83_86_2src_2lua_8h.html#a1ba55afa0e7f756a4599e86cf46d92e0">lua_insert</a>(L, 1);</div>
<div class="line"><span class="lineno">  535</span>    }</div>
<div class="line"><span class="lineno">  536</span>    <span class="comment">// element at #1 now is a table, convert to &quot;object&quot;</span></div>
<div class="line"><span class="lineno">  537</span>    <a class="code hl_function" href="#a8d0e209a65a22c09f445cf801d5f052b">make_xml_object</a>(L, 1);</div>
<div class="line"><span class="lineno">  538</span> </div>
<div class="line"><span class="lineno">  539</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a652b273947f0656686f998d8e90cd3ea">lua_type</a>(L, 2) == <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a57de20d87bb5131a3159f2bd52e3fab6">LUA_TSTRING</a>) {</div>
<div class="line"><span class="lineno">  540</span>        <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a2e4fbbe97182bf90004379202202f2b9">lua_pushcfunction</a>(L, <a class="code hl_function" href="#a2c1f901539127bd9c9c8079e2aa5989f">Xml_tag</a>);</div>
<div class="line"><span class="lineno">  541</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a602f61a9b583d69dc1c72c8970bd65e8">lua_pushvalue</a>(L, 1); <span class="comment">// duplicate the object table</span></div>
<div class="line"><span class="lineno">  542</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a602f61a9b583d69dc1c72c8970bd65e8">lua_pushvalue</a>(L, 2); <span class="comment">// duplicate the tag (string)</span></div>
<div class="line"><span class="lineno">  543</span>        <a class="code hl_define" href="lua-5_82_84_2src_2lua_8h.html#a89cbf40f871b6fae2dd2df814c7ac1ba">lua_call</a>(L, 2, 0);   <span class="comment">// call the &quot;tag&quot; function, discarding any result</span></div>
<div class="line"><span class="lineno">  544</span>    }</div>
<div class="line"><span class="lineno">  545</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#adaa30f0d34786144c94644039d1d1b6e">lua_settop</a>(L, 1);</div>
<div class="line"><span class="lineno">  546</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  547</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lua-5_82_84_2src_2lua_8h_source.html#l00253">lua_call</a>, <a class="el" href="lua-5_83_86_2src_2lua_8h_source.html#l00368">lua_insert</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00265">lua_istable</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00256">lua_newtable</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00260">lua_pushcfunction</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00228">lua_pushvalue()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00164">lua_settop()</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00078">LUA_TSTRING</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00242">lua_type()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00100">make_xml_object()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00483">Xml_tag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l01280">luaopen_LuaXML_lib()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00558">Xml_append()</a>.</p>

</div>
</div>
<a id="ac231357aed3a3e19647a92eaf5984e81" name="ac231357aed3a3e19647a92eaf5984e81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac231357aed3a3e19647a92eaf5984e81">&#9670;&#160;</a></span>Xml_pushDecode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void Xml_pushDecode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlua__State.html">lua_State</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>s</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00638">638</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  639</span>{</div>
<div class="line"><span class="lineno">  640</span>    <span class="keywordflow">if</span> (size == 0) {</div>
<div class="line"><span class="lineno">  641</span>        <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a47854189a679002ed743ebbcb30b1b26">lua_pushliteral</a>(L, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  642</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  643</span>    }</div>
<div class="line"><span class="lineno">  644</span>    <span class="keywordflow">if</span> (size &lt; 0)</div>
<div class="line"><span class="lineno">  645</span>        size = strlen(<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>);</div>
<div class="line"><span class="lineno">  646</span> </div>
<div class="line"><span class="lineno">  647</span>    <span class="comment">// try a gsub() substition of decimal and hexadecimal character encodings</span></div>
<div class="line"><span class="lineno">  648</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#ad457b6dc1bc1b6d5cf9b625c5b329e5e">lua_pushlstring</a>(L, <a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>, size); <span class="comment">// initial string</span></div>
<div class="line"><span class="lineno">  649</span>    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a47854189a679002ed743ebbcb30b1b26">lua_pushliteral</a>(L, <span class="stringliteral">&quot;gsub&quot;</span>);</div>
<div class="line"><span class="lineno">  650</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a6c759e1dc54a07d99eac4f19a4cd142a">lua_gettable</a>(L, -2); <span class="comment">// using string as object, retrieve the &quot;gsub&quot; function</span></div>
<div class="line"><span class="lineno">  651</span>    <a class="code hl_define" href="lua-5_83_86_2src_2lua_8h.html#a1ba55afa0e7f756a4599e86cf46d92e0">lua_insert</a>(L, -2);   <span class="comment">// swap with function, making string the arg #1</span></div>
<div class="line"><span class="lineno">  652</span>    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a47854189a679002ed743ebbcb30b1b26">lua_pushliteral</a>(L, <span class="stringliteral">&quot;&amp;#(x?%x+);&quot;</span>); <span class="comment">// pattern for XML encodings (arg #2)</span></div>
<div class="line"><span class="lineno">  653</span>    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a2e4fbbe97182bf90004379202202f2b9">lua_pushcfunction</a>(L, <a class="code hl_function" href="#a81892eade917e392f21016fc165470fc">XMLencoding_replacement</a>); <span class="comment">// replacement func (arg #3)</span></div>
<div class="line"><span class="lineno">  654</span>    <a class="code hl_define" href="lua-5_82_84_2src_2lua_8h.html#a89cbf40f871b6fae2dd2df814c7ac1ba">lua_call</a>(L, 3, 1); <span class="comment">// three parameters, one result (the substituted string)</span></div>
<div class="line"><span class="lineno">  655</span> </div>
<div class="line"><span class="lineno">  656</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#ae37bc3e2991700913a74d2b656442520">lua_rawgeti</a>(L, <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a3524c2bbc8fcf847dc083246b62945dd">LUA_REGISTRYINDEX</a>, <a class="code hl_variable" href="#acb0ebdc4816e2724115f3fc731ae932d">sv_code_ref</a>);</div>
<div class="line"><span class="lineno">  657</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a1b4cd0d80f51e5545a97ca6c28c03c50">lua_pushnil</a>(L);</div>
<div class="line"><span class="lineno">  658</span>    <span class="keywordflow">while</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#aa8bf464b98335a075732200ad91ce1de">lua_next</a>(L, -2)) {</div>
<div class="line"><span class="lineno">  659</span>        <span class="comment">// Lua stack has string to work on (-4), substitution table (-3),</span></div>
<div class="line"><span class="lineno">  660</span>        <span class="comment">// table key (-2 = special char) and value (-1 = replacement)</span></div>
<div class="line"><span class="lineno">  661</span>        <span class="comment">// (We want to replace the XML encoding with the original char.)</span></div>
<div class="line"><span class="lineno">  662</span>        <a class="code hl_function" href="#a10a59753dfbe098f30e549f800230b41">do_gsub</a>(L, -4, <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#ac813fc3bc1886ba17c363d5b4c6e7ef1">lua_tostring</a>(L, -1), <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#ac813fc3bc1886ba17c363d5b4c6e7ef1">lua_tostring</a>(L, -2));</div>
<div class="line"><span class="lineno">  663</span>        <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#abb8eae2164badeafdb037bc1e03cc822">lua_pop</a>(L, 1); <span class="comment">// pop value, leaving key for the next iteration</span></div>
<div class="line"><span class="lineno">  664</span>    }</div>
<div class="line"><span class="lineno">  665</span>    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#abb8eae2164badeafdb037bc1e03cc822">lua_pop</a>(L, 1); <span class="comment">// pop substitution table, leaving result string on stack</span></div>
<div class="line"><span class="lineno">  666</span>    <a class="code hl_function" href="#a10a59753dfbe098f30e549f800230b41">do_gsub</a>(L, -1, <span class="stringliteral">&quot;&amp;amp;&quot;</span>, <span class="stringliteral">&quot;&amp;&quot;</span>); <span class="comment">// this should always be done last</span></div>
<div class="line"><span class="lineno">  667</span>}</div>
<div class="ttc" id="aLuaXML__lib_8c_html_a10a59753dfbe098f30e549f800230b41"><div class="ttname"><a href="#a10a59753dfbe098f30e549f800230b41">do_gsub</a></div><div class="ttdeci">static const char * do_gsub(lua_State *L, int index, const char *p, const char *r)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00162">LuaXML_lib.c:162</a></div></div>
<div class="ttc" id="aLuaXML__lib_8c_html_a81892eade917e392f21016fc165470fc"><div class="ttname"><a href="#a81892eade917e392f21016fc165470fc">XMLencoding_replacement</a></div><div class="ttdeci">static int XMLencoding_replacement(lua_State *L)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00180">LuaXML_lib.c:180</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_a1b4cd0d80f51e5545a97ca6c28c03c50"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#a1b4cd0d80f51e5545a97ca6c28c03c50">lua_pushnil</a></div><div class="ttdeci">LUA_API void lua_pushnil(lua_State *L)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00421">lua-5.1.5/src/lapi.c:421</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_a6c759e1dc54a07d99eac4f19a4cd142a"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#a6c759e1dc54a07d99eac4f19a4cd142a">lua_gettable</a></div><div class="ttdeci">LUA_API void lua_gettable(lua_State *L, int idx)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00534">lua-5.1.5/src/lapi.c:534</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_aa8bf464b98335a075732200ad91ce1de"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#aa8bf464b98335a075732200ad91ce1de">lua_next</a></div><div class="ttdeci">LUA_API int lua_next(lua_State *L, int idx)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00973">lua-5.1.5/src/lapi.c:973</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="LuaXML__lib_8c_source.html#l00162">do_gsub()</a>, <a class="el" href="lua-5_82_84_2src_2lua_8h_source.html#l00253">lua_call</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00534">lua_gettable()</a>, <a class="el" href="lua-5_83_86_2src_2lua_8h_source.html#l00368">lua_insert</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00973">lua_next()</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00254">lua_pop</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00260">lua_pushcfunction</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00273">lua_pushliteral</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00445">lua_pushlstring()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00421">lua_pushnil()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00567">lua_rawgeti()</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00036">LUA_REGISTRYINDEX</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00279">lua_tostring</a>, <a class="el" href="multi_8h_source.html#l00318">s</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00463">sv_code_ref</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00180">XMLencoding_replacement()</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l00884">Xml_decode()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00692">Xml_eval()</a>.</p>

</div>
</div>
<a id="a6c4f03461a7dca3ff6eb72c6be41f2aa" name="a6c4f03461a7dca3ff6eb72c6be41f2aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c4f03461a7dca3ff6eb72c6be41f2aa">&#9670;&#160;</a></span>Xml_pushEncode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void Xml_pushEncode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlua__State.html">lua_State</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>index</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00575">575</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  576</span>{</div>
<div class="line"><span class="lineno">  577</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="deprecated_2gthread_8h.html#ac9be6c0781aab4af4c0d61c77a938911">index</a> &lt; 0)</div>
<div class="line"><span class="lineno">  578</span>        <a class="code hl_variable" href="deprecated_2gthread_8h.html#ac9be6c0781aab4af4c0d61c77a938911">index</a> += <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#afbb08ecb69421875494105d4de68e5bf">lua_gettop</a>(L) + 1; <span class="comment">// relative to absolute index</span></div>
<div class="line"><span class="lineno">  579</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a652b273947f0656686f998d8e90cd3ea">lua_type</a>(L, <a class="code hl_variable" href="deprecated_2gthread_8h.html#ac9be6c0781aab4af4c0d61c77a938911">index</a>) == <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a57de20d87bb5131a3159f2bd52e3fab6">LUA_TSTRING</a>)</div>
<div class="line"><span class="lineno">  580</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a602f61a9b583d69dc1c72c8970bd65e8">lua_pushvalue</a>(L, <a class="code hl_variable" href="deprecated_2gthread_8h.html#ac9be6c0781aab4af4c0d61c77a938911">index</a>); <span class="comment">// already a string, just duplicate it</span></div>
<div class="line"><span class="lineno">  581</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  582</span>        <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#abc2f6fef4682c1d4cdc33206aaf42bec">lua_getglobal</a>(L, <span class="stringliteral">&quot;tostring&quot;</span>);</div>
<div class="line"><span class="lineno">  583</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a602f61a9b583d69dc1c72c8970bd65e8">lua_pushvalue</a>(L, <a class="code hl_variable" href="deprecated_2gthread_8h.html#ac9be6c0781aab4af4c0d61c77a938911">index</a>); <span class="comment">// duplicate value</span></div>
<div class="line"><span class="lineno">  584</span>        <a class="code hl_define" href="lua-5_82_84_2src_2lua_8h.html#a89cbf40f871b6fae2dd2df814c7ac1ba">lua_call</a>(L, 1, 1);       <span class="comment">// tostring()</span></div>
<div class="line"><span class="lineno">  585</span>    }</div>
<div class="line"><span class="lineno">  586</span> </div>
<div class="line"><span class="lineno">  587</span>    <span class="comment">// always do &quot;&amp;amp;&quot; first</span></div>
<div class="line"><span class="lineno">  588</span>    <span class="comment">// (avoids later affecting other substitutions, which may contain &#39;&amp;&#39;)</span></div>
<div class="line"><span class="lineno">  589</span>    <a class="code hl_function" href="#a10a59753dfbe098f30e549f800230b41">do_gsub</a>(L, -1, <span class="stringliteral">&quot;&amp;&quot;</span>, <span class="stringliteral">&quot;&amp;amp;&quot;</span>);</div>
<div class="line"><span class="lineno">  590</span> </div>
<div class="line"><span class="lineno">  591</span>    <span class="comment">// encode other special entities</span></div>
<div class="line"><span class="lineno">  592</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#ae37bc3e2991700913a74d2b656442520">lua_rawgeti</a>(L, <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a3524c2bbc8fcf847dc083246b62945dd">LUA_REGISTRYINDEX</a>, <a class="code hl_variable" href="#acb0ebdc4816e2724115f3fc731ae932d">sv_code_ref</a>);</div>
<div class="line"><span class="lineno">  593</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a1b4cd0d80f51e5545a97ca6c28c03c50">lua_pushnil</a>(L);</div>
<div class="line"><span class="lineno">  594</span>    <span class="keywordflow">while</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#aa8bf464b98335a075732200ad91ce1de">lua_next</a>(L, -2)) {</div>
<div class="line"><span class="lineno">  595</span>        <span class="comment">// Lua stack has string to work on (-4), substitution table (-3),</span></div>
<div class="line"><span class="lineno">  596</span>        <span class="comment">// table key (-2 = special char) and value (-1 = replacement)</span></div>
<div class="line"><span class="lineno">  597</span>        <span class="comment">// (We want to replace the original char with the XML encoding.)</span></div>
<div class="line"><span class="lineno">  598</span>        <a class="code hl_function" href="#a10a59753dfbe098f30e549f800230b41">do_gsub</a>(L, -4, <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#ac813fc3bc1886ba17c363d5b4c6e7ef1">lua_tostring</a>(L, -2), <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#ac813fc3bc1886ba17c363d5b4c6e7ef1">lua_tostring</a>(L, -1));</div>
<div class="line"><span class="lineno">  599</span>        <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#abb8eae2164badeafdb037bc1e03cc822">lua_pop</a>(L, 1); <span class="comment">// pop value, leaving key for the next iteration</span></div>
<div class="line"><span class="lineno">  600</span>    }</div>
<div class="line"><span class="lineno">  601</span>    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#abb8eae2164badeafdb037bc1e03cc822">lua_pop</a>(L, 1); <span class="comment">// pop substitution table to realign the stack</span></div>
<div class="line"><span class="lineno">  602</span> </div>
<div class="line"><span class="lineno">  603</span>    <span class="comment">// transfer string one character at a time, encoding any chars with MSB set</span></div>
<div class="line"><span class="lineno">  604</span>    <span class="keywordtype">char</span> buf[8];</div>
<div class="line"><span class="lineno">  605</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#ac813fc3bc1886ba17c363d5b4c6e7ef1">lua_tostring</a>(L, -1);</div>
<div class="line"><span class="lineno">  606</span>    <a class="code hl_struct" href="structluaL__Buffer.html">luaL_Buffer</a> b;</div>
<div class="line"><span class="lineno">  607</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a0830ef75e335f6d7590b0e058f82a5eb">luaL_buffinit</a>(L, &amp;b);</div>
<div class="line"><span class="lineno">  608</span>    <span class="keywordflow">while</span> (*<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>) {</div>
<div class="line"><span class="lineno">  609</span>        <span class="keywordflow">if</span> (*<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a> &lt; 128)</div>
<div class="line"><span class="lineno">  610</span>            <a class="code hl_define" href="lua-5_81_85_2src_2lauxlib_8h.html#a63935c5b4cf5d45930c875f6cc5e1432">luaL_addchar</a>(&amp;b, *<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>); <span class="comment">// copy character literally</span></div>
<div class="line"><span class="lineno">  611</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  612</span>            <span class="keywordtype">int</span> len = <a class="code hl_define" href="civetweb_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;&amp;#%d;&quot;</span>, *<a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>); <span class="comment">// encode char</span></div>
<div class="line"><span class="lineno">  613</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a0d56993399c45ae61ebb9b448dc30538">luaL_addlstring</a>(&amp;b, buf, len);</div>
<div class="line"><span class="lineno">  614</span>        }</div>
<div class="line"><span class="lineno">  615</span>        <a class="code hl_variable" href="multi_8h.html#a3c9cc97360bd1a6ca03b4b31f16d1342">s</a>++;</div>
<div class="line"><span class="lineno">  616</span>    }</div>
<div class="line"><span class="lineno">  617</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a3a1f80033814e2057583a7d24cee23b4">luaL_pushresult</a>(&amp;b);</div>
<div class="line"><span class="lineno">  618</span>    <a class="code hl_define" href="lua-5_83_86_2src_2lua_8h.html#a09daca42852c6356e4b415c46eba5955">lua_replace</a>(L, -2); <span class="comment">// (leaving the result on the stack)</span></div>
<div class="line"><span class="lineno">  619</span>}</div>
<div class="ttc" id="acivetweb_8c_html_aa367b75c5aed883fef5befbdf04835a4"><div class="ttname"><a href="civetweb_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a></div><div class="ttdeci">#define snprintf</div><div class="ttdef"><b>Definition</b> <a href="civetweb_8c_source.html#l01543">civetweb.c:1543</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lauxlib_8c_html_a0d56993399c45ae61ebb9b448dc30538"><div class="ttname"><a href="lua-5_81_85_2src_2lauxlib_8c.html#a0d56993399c45ae61ebb9b448dc30538">luaL_addlstring</a></div><div class="ttdeci">LUALIB_API void luaL_addlstring(luaL_Buffer *B, const char *s, size_t l)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00436">lua-5.1.5/src/lauxlib.c:436</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lua_8h_html_abc2f6fef4682c1d4cdc33206aaf42bec"><div class="ttname"><a href="lua-5_81_85_2src_2lua_8h.html#abc2f6fef4682c1d4cdc33206aaf42bec">lua_getglobal</a></div><div class="ttdeci">#define lua_getglobal(L, s)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lua_8h_source.html#l00277">lua-5.1.5/src/lua.h:277</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="LuaXML__lib_8c_source.html#l00162">do_gsub()</a>, <a class="el" href="deprecated_2gthread_8h_source.html#l00001">index</a>, <a class="el" href="lua-5_82_84_2src_2lua_8h_source.html#l00253">lua_call</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00277">lua_getglobal</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00159">lua_gettop()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00973">lua_next()</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00254">lua_pop</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00421">lua_pushnil()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00228">lua_pushvalue()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00567">lua_rawgeti()</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00036">LUA_REGISTRYINDEX</a>, <a class="el" href="lua-5_83_86_2src_2lua_8h_source.html#l00372">lua_replace</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00279">lua_tostring</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00078">LUA_TSTRING</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00242">lua_type()</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8h_source.html#l00136">luaL_addchar</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00436">luaL_addlstring()</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00472">luaL_buffinit()</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00447">luaL_pushresult()</a>, <a class="el" href="multi_8h_source.html#l00318">s</a>, <a class="el" href="civetweb_8c_source.html#l01543">snprintf</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00463">sv_code_ref</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l00864">Xml_encode()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00912">Xml_str()</a>.</p>

</div>
</div>
<a id="af7a3af412a6f4b815ba277c4fc0382c7" name="af7a3af412a6f4b815ba277c4fc0382c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7a3af412a6f4b815ba277c4fc0382c7">&#9670;&#160;</a></span>Xml_registerCode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int Xml_registerCode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlua__State.html">lua_State</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>registers a custom code for the conversion between non-standard characters and XML character entities.</p>
<p>By default, only the most basic entities are known to LuaXML: " &lt; &gt; ' On top (and independent) of that, the <b>ampersand</b> sign always gets encoded / decoded separately: <code>&amp;amp;</code> &harr; <code>&amp;amp;amp;</code>. Character codes above 127 are directly converted to an appropriate XML encoding, representing the character number (e.g. <code>&amp;amp;#160;</code>). If other special encodings are needed, they can be registered using this function.</p>
<p>Note: LuaXML now manages these encodings in a (private) standard Lua table. This allows you to replace entries by calling <code>registerCode()</code> again, using the same <code>decoded</code> and a different <code>encoded</code>. Encodings may even be removed later, by explictly registering a <code>nil</code> value: <code>registerCode(decoded, nil)</code>.</p>
<p>@function registerCode </p><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">string</td><td>decoded the character (sequence) to be used within Lua </td></tr>
    <tr><td class="paramname">string</td><td>encoded the character entity to be used in XML </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>encode, decode </dd></dl>

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00836">836</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  837</span>{</div>
<div class="line"><span class="lineno">  838</span>    <span class="comment">// We require the &quot;decoded&quot; string, but allow `nil` as argument #2.</span></div>
<div class="line"><span class="lineno">  839</span>    <span class="comment">// That way, users may remove entries from the table again.</span></div>
<div class="line"><span class="lineno">  840</span>    <a class="code hl_define" href="lua-5_81_85_2src_2lauxlib_8h.html#ad9917d22c79651fdd73d42c146b5056f">luaL_checkstring</a>(L, 1);</div>
<div class="line"><span class="lineno">  841</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#af51702bb75a31bb4a279953ee386d533">lua_isnoneornil</a>(L, 2))</div>
<div class="line"><span class="lineno">  842</span>        <a class="code hl_define" href="lua-5_81_85_2src_2lauxlib_8h.html#ad9917d22c79651fdd73d42c146b5056f">luaL_checkstring</a>(L, 2);</div>
<div class="line"><span class="lineno">  843</span> </div>
<div class="line"><span class="lineno">  844</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#adaa30f0d34786144c94644039d1d1b6e">lua_settop</a>(L, 2);</div>
<div class="line"><span class="lineno">  845</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#ae37bc3e2991700913a74d2b656442520">lua_rawgeti</a>(L, <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a3524c2bbc8fcf847dc083246b62945dd">LUA_REGISTRYINDEX</a>, <a class="code hl_variable" href="#acb0ebdc4816e2724115f3fc731ae932d">sv_code_ref</a>); <span class="comment">// get translation table</span></div>
<div class="line"><span class="lineno">  846</span>    <a class="code hl_define" href="lua-5_83_86_2src_2lua_8h.html#a1ba55afa0e7f756a4599e86cf46d92e0">lua_insert</a>(L, 1);</div>
<div class="line"><span class="lineno">  847</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#afb2d27f421677ef40425f9054ae216a7">lua_rawset</a>(L, 1); <span class="comment">// assign key-value pair (k &quot;decoded&quot; -&gt; v &quot;encoded&quot;)</span></div>
<div class="line"><span class="lineno">  848</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  849</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lua-5_83_86_2src_2lua_8h_source.html#l00368">lua_insert</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00271">lua_isnoneornil</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00567">lua_rawgeti()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00671">lua_rawset()</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00036">LUA_REGISTRYINDEX</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00164">lua_settop()</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8h_source.html#l00102">luaL_checkstring</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00463">sv_code_ref</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l01280">luaopen_LuaXML_lib()</a>.</p>

</div>
</div>
<a id="a9c49c7587de875bcb3c28c57892ce394" name="a9c49c7587de875bcb3c28c57892ce394"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c49c7587de875bcb3c28c57892ce394">&#9670;&#160;</a></span>Xml_str()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int Xml_str </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlua__State.html">lua_State</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>converts any Lua value to an XML string. @function str</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>the value to be converted, normally a table (LuaXML object). However this function will 'encapsulate' other Lua values (of arbitrary type) in a way that should make them valid XML. <br  />
Note: Passing no <code>value</code> will cause the function to return <code>nil</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">?number</td><td>indent indentation level for 'pretty' output. Mainly for internal use, defaults to 0.</td></tr>
    <tr><td class="paramname">?string</td><td>tag the tag to be used in case <code>value</code> doesn't already have an 'implicit' tag. Mainly for internal use.</td></tr>
  </table>
  </dd>
</dl>
<p>@treturn string an XML string, or <code>nil</code> in case of errors. </p>

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00912">912</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  913</span>{</div>
<div class="line"><span class="lineno">  914</span>    <span class="comment">// Note:</span></div>
<div class="line"><span class="lineno">  915</span>    <span class="comment">// Be very careful about mixing Lua stack usage and buffer access here.</span></div>
<div class="line"><span class="lineno">  916</span>    <span class="comment">// The stack *must* be (re)balanced before accessing &quot;b&quot;, i.e. any output</span></div>
<div class="line"><span class="lineno">  917</span>    <span class="comment">// should only occur at the same Lua stack level as the previous one!</span></div>
<div class="line"><span class="lineno">  918</span>    <a class="code hl_struct" href="structluaL__Buffer.html">luaL_Buffer</a> b;</div>
<div class="line"><span class="lineno">  919</span> </div>
<div class="line"><span class="lineno">  920</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#adaa30f0d34786144c94644039d1d1b6e">lua_settop</a>(L, 3);</div>
<div class="line"><span class="lineno">  921</span>    <span class="keywordtype">int</span> type = <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a652b273947f0656686f998d8e90cd3ea">lua_type</a>(L, 1); <span class="comment">// type of &quot;value&quot;</span></div>
<div class="line"><span class="lineno">  922</span>    <span class="keywordflow">if</span> (type == <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#ae38a6fb8c687b8bfab211b7675a695ef">LUA_TNIL</a>)</div>
<div class="line"><span class="lineno">  923</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  924</span> </div>
<div class="line"><span class="lineno">  925</span>    <span class="keywordflow">if</span> (type == <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a31620fd8da5b655b7879e16a116ec31a">LUA_TTABLE</a>) {</div>
<div class="line"><span class="lineno">  926</span>        <a class="code hl_function" href="#a857f5cce9e7a4d986f281bf32d15a25d">push_TAG_key</a>(L);</div>
<div class="line"><span class="lineno">  927</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a43379a0ba1fb68a4c81d205ad60b3cc1">lua_rawget</a>(L, 1); <span class="comment">// retrieve tag entry from the table (may be `nil`)</span></div>
<div class="line"><span class="lineno">  928</span> </div>
<div class="line"><span class="lineno">  929</span>        <span class="comment">// order of precedence: value[0], explicit tag string, Lua type name</span></div>
<div class="line"><span class="lineno">  930</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *tag = <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#ac813fc3bc1886ba17c363d5b4c6e7ef1">lua_tostring</a>(L, -1);</div>
<div class="line"><span class="lineno">  931</span>        <span class="keywordflow">if</span> (!tag)</div>
<div class="line"><span class="lineno">  932</span>            tag = <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#ac813fc3bc1886ba17c363d5b4c6e7ef1">lua_tostring</a>(L, 3);</div>
<div class="line"><span class="lineno">  933</span>        <span class="keywordflow">if</span> (!tag)</div>
<div class="line"><span class="lineno">  934</span>            tag = <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#ade1fd7b7ed1bd88ecdffbc025a1eaebd">lua_typename</a>(L, type);</div>
<div class="line"><span class="lineno">  935</span> </div>
<div class="line"><span class="lineno">  936</span>        <span class="comment">// Four elements already on stack: value, indent, tag, value[0]</span></div>
<div class="line"><span class="lineno">  937</span>        <span class="comment">// Use a string (#5) to manage (concatenate) simple attributes</span></div>
<div class="line"><span class="lineno">  938</span>        <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a47854189a679002ed743ebbcb30b1b26">lua_pushliteral</a>(L, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  939</span>        <span class="comment">// And a table (#6) to take care of (collect) &#39;extended&#39; attributes</span></div>
<div class="line"><span class="lineno">  940</span>        <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#aa59db6b784aa1ec954599a44168c7761">lua_newtable</a>(L);</div>
<div class="line"><span class="lineno">  941</span>        <span class="keywordtype">size_t</span> table_attr = 0;</div>
<div class="line"><span class="lineno">  942</span> </div>
<div class="line"><span class="lineno">  943</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a0830ef75e335f6d7590b0e058f82a5eb">luaL_buffinit</a>(L, &amp;b);</div>
<div class="line"><span class="lineno">  944</span>        <a class="code hl_function" href="#a47b3391cf97c4147ba380c0be60f34af">push_indentStr</a>(L, <a class="code hl_define" href="lua-5_82_84_2src_2lua_8h.html#a1365e48377a3b567e9d88423b2a6345c">lua_tointeger</a>(L, 2));</div>
<div class="line"><span class="lineno">  945</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a59a8ac34826fee305ad56101d97aee18">luaL_addvalue</a>(&amp;b);</div>
<div class="line"><span class="lineno">  946</span>        <a class="code hl_define" href="lua-5_81_85_2src_2lauxlib_8h.html#a63935c5b4cf5d45930c875f6cc5e1432">luaL_addchar</a>(&amp;b, <span class="charliteral">&#39;&lt;&#39;</span>);</div>
<div class="line"><span class="lineno">  947</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#aced031f9a3f68375e9f80315933d9a88">luaL_addstring</a>(&amp;b, tag);</div>
<div class="line"><span class="lineno">  948</span> </div>
<div class="line"><span class="lineno">  949</span>        <span class="comment">// Iterate over string keys (= attributes)</span></div>
<div class="line"><span class="lineno">  950</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a1b4cd0d80f51e5545a97ca6c28c03c50">lua_pushnil</a>(L);</div>
<div class="line"><span class="lineno">  951</span>        <span class="keywordflow">while</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#aa8bf464b98335a075732200ad91ce1de">lua_next</a>(L, 1)) {</div>
<div class="line"><span class="lineno">  952</span>            <span class="comment">// (k, v) pair on the stack</span></div>
<div class="line"><span class="lineno">  953</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a652b273947f0656686f998d8e90cd3ea">lua_type</a>(L, -2) == <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a57de20d87bb5131a3159f2bd52e3fab6">LUA_TSTRING</a>) {</div>
<div class="line"><span class="lineno">  954</span>                <span class="comment">// (the &quot;_M&quot; test here is to avoid recursion on module tables)</span></div>
<div class="line"><span class="lineno">  955</span>                <span class="keywordflow">if</span> (<a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a161af51893c5f79dacc1c382416a5f27">lua_istable</a>(L, -1) &amp;&amp; strcmp(<a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#ac813fc3bc1886ba17c363d5b4c6e7ef1">lua_tostring</a>(L, -2), <span class="stringliteral">&quot;_M&quot;</span>)) {</div>
<div class="line"><span class="lineno">  956</span>                    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a2e4fbbe97182bf90004379202202f2b9">lua_pushcfunction</a>(L, <a class="code hl_function" href="#a9c49c7587de875bcb3c28c57892ce394">Xml_str</a>);</div>
<div class="line"><span class="lineno">  957</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a602f61a9b583d69dc1c72c8970bd65e8">lua_pushvalue</a>(L, -2); <span class="comment">// duplicate &quot;v&quot;</span></div>
<div class="line"><span class="lineno">  958</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#adcec46ff05dfee9a3c4c05828b40c213">lua_pushinteger</a>(L, <a class="code hl_define" href="lua-5_82_84_2src_2lua_8h.html#a1365e48377a3b567e9d88423b2a6345c">lua_tointeger</a>(L, 2) + 1); <span class="comment">// indent + 1</span></div>
<div class="line"><span class="lineno">  959</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a602f61a9b583d69dc1c72c8970bd65e8">lua_pushvalue</a>(L, -4); <span class="comment">// duplicate &quot;k&quot;</span></div>
<div class="line"><span class="lineno">  960</span>                    <a class="code hl_define" href="lua-5_82_84_2src_2lua_8h.html#a89cbf40f871b6fae2dd2df814c7ac1ba">lua_call</a>(L, 3, 1);    <span class="comment">// xml.str(v, indent + 1, k)</span></div>
<div class="line"><span class="lineno">  961</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a89eb1578890571d202f8b3c357c822bc">lua_rawseti</a>(L, 6, ++table_attr); <span class="comment">// append string to table</span></div>
<div class="line"><span class="lineno">  962</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  963</span>                    <a class="code hl_function" href="#a6c4f03461a7dca3ff6eb72c6be41f2aa">Xml_pushEncode</a>(L, -1); <span class="comment">// encode(tostring(v))</span></div>
<div class="line"><span class="lineno">  964</span>                    <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a35a21b17f4d19eeaf59630d1dc873b1a">lua_pushfstring</a>(L,</div>
<div class="line"><span class="lineno">  965</span>                                    <span class="stringliteral">&quot;%s %s=\&quot;%s\&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">  966</span>                                    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#ac813fc3bc1886ba17c363d5b4c6e7ef1">lua_tostring</a>(L, 5),</div>
<div class="line"><span class="lineno">  967</span>                                    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#ac813fc3bc1886ba17c363d5b4c6e7ef1">lua_tostring</a>(L, -3),</div>
<div class="line"><span class="lineno">  968</span>                                    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#ac813fc3bc1886ba17c363d5b4c6e7ef1">lua_tostring</a>(L, -1));</div>
<div class="line"><span class="lineno">  969</span>                    <a class="code hl_define" href="lua-5_83_86_2src_2lua_8h.html#a09daca42852c6356e4b415c46eba5955">lua_replace</a>(L, 5); <span class="comment">// new attribute string</span></div>
<div class="line"><span class="lineno">  970</span>                    <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#abb8eae2164badeafdb037bc1e03cc822">lua_pop</a>(L, 1);     <span class="comment">// realign stack</span></div>
<div class="line"><span class="lineno">  971</span>                }</div>
<div class="line"><span class="lineno">  972</span>            }</div>
<div class="line"><span class="lineno">  973</span>            <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#abb8eae2164badeafdb037bc1e03cc822">lua_pop</a>(L, 1); <span class="comment">// pop &lt;v&gt;alue, leaving &lt;k&gt;ey for next iteration</span></div>
<div class="line"><span class="lineno">  974</span>        }</div>
<div class="line"><span class="lineno">  975</span>        <span class="comment">// append &quot;simple&quot; attribute string to the output</span></div>
<div class="line"><span class="lineno">  976</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="#acd7dd1b3f9966e050366c0a7e7e06a13">lua_rawlen</a>(L, 5) &gt; 0)</div>
<div class="line"><span class="lineno">  977</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#aced031f9a3f68375e9f80315933d9a88">luaL_addstring</a>(&amp;b, <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#ac813fc3bc1886ba17c363d5b4c6e7ef1">lua_tostring</a>(L, 5));</div>
<div class="line"><span class="lineno">  978</span> </div>
<div class="line"><span class="lineno">  979</span>        <span class="keywordtype">size_t</span> count = <a class="code hl_define" href="#acd7dd1b3f9966e050366c0a7e7e06a13">lua_rawlen</a>(L, 1); <span class="comment">// number of &quot;array&quot; (sub)elements</span></div>
<div class="line"><span class="lineno">  980</span>        <span class="keywordflow">if</span> (count == 0 &amp;&amp; table_attr == 0) {</div>
<div class="line"><span class="lineno">  981</span>            <span class="comment">// no sub-elements and no extended attr -&gt; close tag and we&#39;re done</span></div>
<div class="line"><span class="lineno">  982</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a0d56993399c45ae61ebb9b448dc30538">luaL_addlstring</a>(&amp;b, <span class="stringliteral">&quot; /&gt;\n&quot;</span>, 4);</div>
<div class="line"><span class="lineno">  983</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a3a1f80033814e2057583a7d24cee23b4">luaL_pushresult</a>(&amp;b);</div>
<div class="line"><span class="lineno">  984</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  985</span>        }</div>
<div class="line"><span class="lineno">  986</span>        <a class="code hl_define" href="lua-5_81_85_2src_2lauxlib_8h.html#a63935c5b4cf5d45930c875f6cc5e1432">luaL_addchar</a>(&amp;b, <span class="charliteral">&#39;&gt;&#39;</span>); <span class="comment">// close opening tag</span></div>
<div class="line"><span class="lineno">  987</span>        <span class="keywordflow">if</span> (count == 1 &amp;&amp; table_attr == 0) {</div>
<div class="line"><span class="lineno">  988</span>            <span class="comment">// single subelement, no extended attributes</span></div>
<div class="line"><span class="lineno">  989</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#ae37bc3e2991700913a74d2b656442520">lua_rawgeti</a>(L, 1, 1); <span class="comment">// value[1]</span></div>
<div class="line"><span class="lineno">  990</span>            <span class="keywordflow">if</span> (!<a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a161af51893c5f79dacc1c382416a5f27">lua_istable</a>(L, -1)) {</div>
<div class="line"><span class="lineno">  991</span>                <span class="comment">// output as single string, then close tag</span></div>
<div class="line"><span class="lineno">  992</span>                <a class="code hl_function" href="#a6c4f03461a7dca3ff6eb72c6be41f2aa">Xml_pushEncode</a>(L, -1); <span class="comment">// encode(tostring(value[1]))</span></div>
<div class="line"><span class="lineno">  993</span>                <a class="code hl_define" href="lua-5_83_86_2src_2lua_8h.html#a09daca42852c6356e4b415c46eba5955">lua_replace</a>(L, -2);</div>
<div class="line"><span class="lineno">  994</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a59a8ac34826fee305ad56101d97aee18">luaL_addvalue</a>(&amp;b); <span class="comment">// add and pop</span></div>
<div class="line"><span class="lineno">  995</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a0d56993399c45ae61ebb9b448dc30538">luaL_addlstring</a>(&amp;b, <span class="stringliteral">&quot;&lt;/&quot;</span>, 2);</div>
<div class="line"><span class="lineno">  996</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#aced031f9a3f68375e9f80315933d9a88">luaL_addstring</a>(&amp;b, tag);</div>
<div class="line"><span class="lineno">  997</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a0d56993399c45ae61ebb9b448dc30538">luaL_addlstring</a>(&amp;b, <span class="stringliteral">&quot;&gt;\n&quot;</span>, 2);</div>
<div class="line"><span class="lineno">  998</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a3a1f80033814e2057583a7d24cee23b4">luaL_pushresult</a>(&amp;b);</div>
<div class="line"><span class="lineno">  999</span>                <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1000</span>            }</div>
<div class="line"><span class="lineno"> 1001</span>            <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#abb8eae2164badeafdb037bc1e03cc822">lua_pop</a>(L, 1); <span class="comment">// discard (table) value, to realign stack</span></div>
<div class="line"><span class="lineno"> 1002</span>        }</div>
<div class="line"><span class="lineno"> 1003</span>        <a class="code hl_define" href="lua-5_81_85_2src_2lauxlib_8h.html#a63935c5b4cf5d45930c875f6cc5e1432">luaL_addchar</a>(&amp;b, <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><span class="lineno"> 1004</span> </div>
<div class="line"><span class="lineno"> 1005</span>        <span class="comment">// Loop over all the sub-elements, placing each on a separate line</span></div>
<div class="line"><span class="lineno"> 1006</span>        <span class="keywordtype">size_t</span> k;</div>
<div class="line"><span class="lineno"> 1007</span>        <span class="keywordflow">for</span> (k = 1; k &lt;= count; k++) {</div>
<div class="line"><span class="lineno"> 1008</span><span class="preprocessor">#if LUA_VERSION_NUM &lt; 503</span></div>
<div class="line"><span class="lineno"> 1009</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#ae37bc3e2991700913a74d2b656442520">lua_rawgeti</a>(L, 1, k);</div>
<div class="line"><span class="lineno"> 1010</span>            type = <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a652b273947f0656686f998d8e90cd3ea">lua_type</a>(L, -1);</div>
<div class="line"><span class="lineno"> 1011</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1012</span>            type = <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#ae37bc3e2991700913a74d2b656442520">lua_rawgeti</a>(L, 1, k); <span class="comment">// (Lua 5.3 returns type directly)</span></div>
<div class="line"><span class="lineno"> 1013</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1014</span>            <span class="keywordflow">if</span> (type == <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a57de20d87bb5131a3159f2bd52e3fab6">LUA_TSTRING</a>) {</div>
<div class="line"><span class="lineno"> 1015</span>                <a class="code hl_function" href="#a47b3391cf97c4147ba380c0be60f34af">push_indentStr</a>(L, <a class="code hl_define" href="lua-5_82_84_2src_2lua_8h.html#a1365e48377a3b567e9d88423b2a6345c">lua_tointeger</a>(L, 2) + 1); <span class="comment">// indentation</span></div>
<div class="line"><span class="lineno"> 1016</span>                <a class="code hl_function" href="#a6c4f03461a7dca3ff6eb72c6be41f2aa">Xml_pushEncode</a>(L, -2);</div>
<div class="line"><span class="lineno"> 1017</span>                <a class="code hl_define" href="lua-5_83_86_2src_2lua_8h.html#a7664dec8f7220c706b7e71ad3227cc78">lua_remove</a>(L, -3);</div>
<div class="line"><span class="lineno"> 1018</span>                <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a47854189a679002ed743ebbcb30b1b26">lua_pushliteral</a>(L, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1019</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a1de3afee1daece63d455f23818c883d9">lua_concat</a>(L, 3);</div>
<div class="line"><span class="lineno"> 1020</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1021</span>                <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a2e4fbbe97182bf90004379202202f2b9">lua_pushcfunction</a>(L, <a class="code hl_function" href="#a9c49c7587de875bcb3c28c57892ce394">Xml_str</a>);</div>
<div class="line"><span class="lineno"> 1022</span>                <a class="code hl_define" href="lua-5_83_86_2src_2lua_8h.html#a1ba55afa0e7f756a4599e86cf46d92e0">lua_insert</a>(L, -2); <span class="comment">// place function before value</span></div>
<div class="line"><span class="lineno"> 1023</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#adcec46ff05dfee9a3c4c05828b40c213">lua_pushinteger</a>(L, <a class="code hl_define" href="lua-5_82_84_2src_2lua_8h.html#a1365e48377a3b567e9d88423b2a6345c">lua_tointeger</a>(L, 2) + 1); <span class="comment">// indent + 1</span></div>
<div class="line"><span class="lineno"> 1024</span>                <a class="code hl_define" href="lua-5_82_84_2src_2lua_8h.html#a89cbf40f871b6fae2dd2df814c7ac1ba">lua_call</a>(L, 2, 1); <span class="comment">// xml.str(v, indent + 1)</span></div>
<div class="line"><span class="lineno"> 1025</span>            }</div>
<div class="line"><span class="lineno"> 1026</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a59a8ac34826fee305ad56101d97aee18">luaL_addvalue</a>(&amp;b); <span class="comment">// add (string) to output, pop from stack</span></div>
<div class="line"><span class="lineno"> 1027</span>        }</div>
<div class="line"><span class="lineno"> 1028</span> </div>
<div class="line"><span class="lineno"> 1029</span>        <span class="comment">// Finally we&#39;ll take care of the &quot;extended&quot; (table-type) attributes.</span></div>
<div class="line"><span class="lineno"> 1030</span>        <span class="comment">// The output is appended after the regular sub-elements, in order</span></div>
<div class="line"><span class="lineno"> 1031</span>        <span class="comment">// not to affect their numbering.</span></div>
<div class="line"><span class="lineno"> 1032</span>        <span class="comment">// Just process the corresponding table, concatenating all entries:</span></div>
<div class="line"><span class="lineno"> 1033</span>        <span class="keywordflow">for</span> (k = 1; k &lt;= table_attr; k++) {</div>
<div class="line"><span class="lineno"> 1034</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#ae37bc3e2991700913a74d2b656442520">lua_rawgeti</a>(L, 6, k);</div>
<div class="line"><span class="lineno"> 1035</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a59a8ac34826fee305ad56101d97aee18">luaL_addvalue</a>(&amp;b);</div>
<div class="line"><span class="lineno"> 1036</span>        }</div>
<div class="line"><span class="lineno"> 1037</span> </div>
<div class="line"><span class="lineno"> 1038</span>        <span class="comment">// closing tag</span></div>
<div class="line"><span class="lineno"> 1039</span>        <a class="code hl_function" href="#a47b3391cf97c4147ba380c0be60f34af">push_indentStr</a>(L, <a class="code hl_define" href="lua-5_82_84_2src_2lua_8h.html#a1365e48377a3b567e9d88423b2a6345c">lua_tointeger</a>(L, 2));</div>
<div class="line"><span class="lineno"> 1040</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a59a8ac34826fee305ad56101d97aee18">luaL_addvalue</a>(&amp;b);</div>
<div class="line"><span class="lineno"> 1041</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a0d56993399c45ae61ebb9b448dc30538">luaL_addlstring</a>(&amp;b, <span class="stringliteral">&quot;&lt;/&quot;</span>, 2);</div>
<div class="line"><span class="lineno"> 1042</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#aced031f9a3f68375e9f80315933d9a88">luaL_addstring</a>(&amp;b, tag);</div>
<div class="line"><span class="lineno"> 1043</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a0d56993399c45ae61ebb9b448dc30538">luaL_addlstring</a>(&amp;b, <span class="stringliteral">&quot;&gt;\n&quot;</span>, 2);</div>
<div class="line"><span class="lineno"> 1044</span> </div>
<div class="line"><span class="lineno"> 1045</span>        <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a3a1f80033814e2057583a7d24cee23b4">luaL_pushresult</a>(&amp;b);</div>
<div class="line"><span class="lineno"> 1046</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1047</span>    }</div>
<div class="line"><span class="lineno"> 1048</span> </div>
<div class="line"><span class="lineno"> 1049</span>    <span class="comment">// Getting here means a &quot;flat&quot; Lua value, format to XML as a single string</span></div>
<div class="line"><span class="lineno"> 1050</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *tag = <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#ac813fc3bc1886ba17c363d5b4c6e7ef1">lua_tostring</a>(L, 3);</div>
<div class="line"><span class="lineno"> 1051</span>    <span class="keywordflow">if</span> (!tag)</div>
<div class="line"><span class="lineno"> 1052</span>        tag = <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#ade1fd7b7ed1bd88ecdffbc025a1eaebd">lua_typename</a>(L, type); <span class="comment">// use either tag or the type name</span></div>
<div class="line"><span class="lineno"> 1053</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a0830ef75e335f6d7590b0e058f82a5eb">luaL_buffinit</a>(L, &amp;b);</div>
<div class="line"><span class="lineno"> 1054</span>    <a class="code hl_function" href="#a47b3391cf97c4147ba380c0be60f34af">push_indentStr</a>(L, <a class="code hl_define" href="lua-5_82_84_2src_2lua_8h.html#a1365e48377a3b567e9d88423b2a6345c">lua_tointeger</a>(L, 2));</div>
<div class="line"><span class="lineno"> 1055</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a59a8ac34826fee305ad56101d97aee18">luaL_addvalue</a>(&amp;b);</div>
<div class="line"><span class="lineno"> 1056</span>    <a class="code hl_define" href="lua-5_81_85_2src_2lauxlib_8h.html#a63935c5b4cf5d45930c875f6cc5e1432">luaL_addchar</a>(&amp;b, <span class="charliteral">&#39;&lt;&#39;</span>);</div>
<div class="line"><span class="lineno"> 1057</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#aced031f9a3f68375e9f80315933d9a88">luaL_addstring</a>(&amp;b, tag);</div>
<div class="line"><span class="lineno"> 1058</span>    <a class="code hl_define" href="lua-5_81_85_2src_2lauxlib_8h.html#a63935c5b4cf5d45930c875f6cc5e1432">luaL_addchar</a>(&amp;b, <span class="charliteral">&#39;&gt;&#39;</span>);</div>
<div class="line"><span class="lineno"> 1059</span> </div>
<div class="line"><span class="lineno"> 1060</span>    <a class="code hl_function" href="#a6c4f03461a7dca3ff6eb72c6be41f2aa">Xml_pushEncode</a>(L, 1); <span class="comment">// encode(tostring(value))</span></div>
<div class="line"><span class="lineno"> 1061</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a59a8ac34826fee305ad56101d97aee18">luaL_addvalue</a>(&amp;b);</div>
<div class="line"><span class="lineno"> 1062</span> </div>
<div class="line"><span class="lineno"> 1063</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a0d56993399c45ae61ebb9b448dc30538">luaL_addlstring</a>(&amp;b, <span class="stringliteral">&quot;&lt;/&quot;</span>, 2);</div>
<div class="line"><span class="lineno"> 1064</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#aced031f9a3f68375e9f80315933d9a88">luaL_addstring</a>(&amp;b, tag);</div>
<div class="line"><span class="lineno"> 1065</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a0d56993399c45ae61ebb9b448dc30538">luaL_addlstring</a>(&amp;b, <span class="stringliteral">&quot;&gt;\n&quot;</span>, 2);</div>
<div class="line"><span class="lineno"> 1066</span>    <a class="code hl_function" href="lua-5_81_85_2src_2lauxlib_8c.html#a3a1f80033814e2057583a7d24cee23b4">luaL_pushresult</a>(&amp;b);</div>
<div class="line"><span class="lineno"> 1067</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1068</span>}</div>
<div class="ttc" id="aLuaXML__lib_8c_html_a47b3391cf97c4147ba380c0be60f34af"><div class="ttname"><a href="#a47b3391cf97c4147ba380c0be60f34af">push_indentStr</a></div><div class="ttdeci">static void push_indentStr(lua_State *L, int level)</div><div class="ttdef"><b>Definition</b> <a href="LuaXML__lib_8c_source.html#l00117">LuaXML_lib.c:117</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_a1de3afee1daece63d455f23818c883d9"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#a1de3afee1daece63d455f23818c883d9">lua_concat</a></div><div class="ttdeci">LUA_API void lua_concat(lua_State *L, int n)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00990">lua-5.1.5/src/lapi.c:990</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_a35a21b17f4d19eeaf59630d1dc873b1a"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#a35a21b17f4d19eeaf59630d1dc873b1a">lua_pushfstring</a></div><div class="ttdeci">LUA_API const char * lua_pushfstring(lua_State *L, const char *fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00473">lua-5.1.5/src/lapi.c:473</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lapi_8c_html_ade1fd7b7ed1bd88ecdffbc025a1eaebd"><div class="ttname"><a href="lua-5_81_85_2src_2lapi_8c.html#ade1fd7b7ed1bd88ecdffbc025a1eaebd">lua_typename</a></div><div class="ttdeci">LUA_API const char * lua_typename(lua_State *L, int t)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lapi_8c_source.html#l00248">lua-5.1.5/src/lapi.c:248</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lauxlib_8c_html_a59a8ac34826fee305ad56101d97aee18"><div class="ttname"><a href="lua-5_81_85_2src_2lauxlib_8c.html#a59a8ac34826fee305ad56101d97aee18">luaL_addvalue</a></div><div class="ttdeci">LUALIB_API void luaL_addvalue(luaL_Buffer *B)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00454">lua-5.1.5/src/lauxlib.c:454</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lauxlib_8c_html_aced031f9a3f68375e9f80315933d9a88"><div class="ttname"><a href="lua-5_81_85_2src_2lauxlib_8c.html#aced031f9a3f68375e9f80315933d9a88">luaL_addstring</a></div><div class="ttdeci">LUALIB_API void luaL_addstring(luaL_Buffer *B, const char *s)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00442">lua-5.1.5/src/lauxlib.c:442</a></div></div>
<div class="ttc" id="alua-5_81_85_2src_2lua_8h_html_ae38a6fb8c687b8bfab211b7675a695ef"><div class="ttname"><a href="lua-5_81_85_2src_2lua_8h.html#ae38a6fb8c687b8bfab211b7675a695ef">LUA_TNIL</a></div><div class="ttdeci">#define LUA_TNIL</div><div class="ttdef"><b>Definition</b> <a href="lua-5_81_85_2src_2lua_8h_source.html#l00074">lua-5.1.5/src/lua.h:74</a></div></div>
<div class="ttc" id="alua-5_83_86_2src_2lua_8h_html_a7664dec8f7220c706b7e71ad3227cc78"><div class="ttname"><a href="lua-5_83_86_2src_2lua_8h.html#a7664dec8f7220c706b7e71ad3227cc78">lua_remove</a></div><div class="ttdeci">#define lua_remove(L, idx)</div><div class="ttdef"><b>Definition</b> <a href="lua-5_83_86_2src_2lua_8h_source.html#l00370">lua-5.3.6/src/lua.h:370</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lua-5_82_84_2src_2lua_8h_source.html#l00253">lua_call</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00990">lua_concat()</a>, <a class="el" href="lua-5_83_86_2src_2lua_8h_source.html#l00368">lua_insert</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00265">lua_istable</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00256">lua_newtable</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00973">lua_next()</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00254">lua_pop</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00260">lua_pushcfunction</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00473">lua_pushfstring()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00437">lua_pushinteger()</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00273">lua_pushliteral</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00421">lua_pushnil()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00228">lua_pushvalue()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00557">lua_rawget()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00567">lua_rawgeti()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00042">lua_rawlen</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00684">lua_rawseti()</a>, <a class="el" href="lua-5_83_86_2src_2lua_8h_source.html#l00370">lua_remove</a>, <a class="el" href="lua-5_83_86_2src_2lua_8h_source.html#l00372">lua_replace</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00164">lua_settop()</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00074">LUA_TNIL</a>, <a class="el" href="lua-5_82_84_2src_2lua_8h_source.html#l00320">lua_tointeger</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00279">lua_tostring</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00078">LUA_TSTRING</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00079">LUA_TTABLE</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00242">lua_type()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00248">lua_typename()</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8h_source.html#l00136">luaL_addchar</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00436">luaL_addlstring()</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00442">luaL_addstring()</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00454">luaL_addvalue()</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00472">luaL_buffinit()</a>, <a class="el" href="lua-5_81_85_2src_2lauxlib_8c_source.html#l00447">luaL_pushresult()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00117">push_indentStr()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00085">push_TAG_key()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00575">Xml_pushEncode()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00912">Xml_str()</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l01280">luaopen_LuaXML_lib()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00912">Xml_str()</a>.</p>

</div>
</div>
<a id="a2c1f901539127bd9c9c8079e2aa5989f" name="a2c1f901539127bd9c9c8079e2aa5989f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c1f901539127bd9c9c8079e2aa5989f">&#9670;&#160;</a></span>Xml_tag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int Xml_tag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlua__State.html">lua_State</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>sets or returns tag of a LuaXML object. This method is just "syntactic sugar" (using a typical Lua term) that allows the writing of clearer code. LuaXML stores the tag value of an XML statement at table index 0, hence it can be simply accessed or altered by <code>var[0]</code>. However, writing <code>var:tag()</code> for access or <code>var:tag("newTag")</code> for altering may be more self explanatory (and future-proof in case LuaXML's tag handling should ever change).</p>
<p>@function tag </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">var</td><td>the variable whose tag should be accessed, a LuaXML object </td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">?string</td><td>tag the new tag to be set </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If you have passed a new tag, the function will return <code>var</code> (with its tag changed); otherwise the result will be the current tag of <code>var</code> (normally a string). </dd></dl>

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00483">483</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  484</span>{</div>
<div class="line"><span class="lineno">  485</span>    <span class="comment">// the function will only operate on tables</span></div>
<div class="line"><span class="lineno">  486</span>    <span class="keywordflow">if</span></div>
<div class="line"><span class="lineno">  487</span>        <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a161af51893c5f79dacc1c382416a5f27">lua_istable</a>(L, 1)</div>
<div class="line"><span class="lineno">  488</span>        {</div>
<div class="line"><span class="lineno">  489</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#adaa30f0d34786144c94644039d1d1b6e">lua_settop</a>(L, 2);</div>
<div class="line"><span class="lineno">  490</span>            <a class="code hl_function" href="#a857f5cce9e7a4d986f281bf32d15a25d">push_TAG_key</a>(L); <span class="comment">// place tag key on top of stack (#3)</span></div>
<div class="line"><span class="lineno">  491</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a652b273947f0656686f998d8e90cd3ea">lua_type</a>(L, 2) == <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#a57de20d87bb5131a3159f2bd52e3fab6">LUA_TSTRING</a>) {</div>
<div class="line"><span class="lineno">  492</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a602f61a9b583d69dc1c72c8970bd65e8">lua_pushvalue</a>(L, 2); <span class="comment">// duplicate the value</span></div>
<div class="line"><span class="lineno">  493</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#afb2d27f421677ef40425f9054ae216a7">lua_rawset</a>(L, 1);</div>
<div class="line"><span class="lineno">  494</span>                <span class="comment">// we return the (modified) table</span></div>
<div class="line"><span class="lineno">  495</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#adaa30f0d34786144c94644039d1d1b6e">lua_settop</a>(L, 1);</div>
<div class="line"><span class="lineno">  496</span>                <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  497</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  498</span>                <span class="comment">// &quot;tag&quot; is empty or wrong type, retrieve the current tag</span></div>
<div class="line"><span class="lineno">  499</span>                <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#a43379a0ba1fb68a4c81d205ad60b3cc1">lua_rawget</a>(L, 1);</div>
<div class="line"><span class="lineno">  500</span>                <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  501</span>            }</div>
<div class="line"><span class="lineno">  502</span>        }</div>
<div class="line"><span class="lineno">  503</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  504</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00265">lua_istable</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00228">lua_pushvalue()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00557">lua_rawget()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00671">lua_rawset()</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00164">lua_settop()</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00078">LUA_TSTRING</a>, <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00242">lua_type()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00085">push_TAG_key()</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l01280">luaopen_LuaXML_lib()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00528">Xml_new()</a>.</p>

</div>
</div>
<a id="a81892eade917e392f21016fc165470fc" name="a81892eade917e392f21016fc165470fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81892eade917e392f21016fc165470fc">&#9670;&#160;</a></span>XMLencoding_replacement()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int XMLencoding_replacement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlua__State.html">lua_State</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00180">180</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  181</span>{</div>
<div class="line"><span class="lineno">  182</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *matched = <a class="code hl_define" href="lua-5_81_85_2src_2lua_8h.html#ac813fc3bc1886ba17c363d5b4c6e7ef1">lua_tostring</a>(L, 1);</div>
<div class="line"><span class="lineno">  183</span>    <span class="keywordflow">if</span> (matched) {</div>
<div class="line"><span class="lineno">  184</span>        <span class="comment">// support both decimal and hexadecimal conversion</span></div>
<div class="line"><span class="lineno">  185</span>        <span class="keywordtype">char</span> c = *matched == <span class="charliteral">&#39;x&#39;</span> ? strtol(++matched, <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 16) : atoi(matched);</div>
<div class="line"><span class="lineno">  186</span>        <span class="keywordflow">if</span> (c) {</div>
<div class="line"><span class="lineno">  187</span>            <a class="code hl_function" href="lua-5_81_85_2src_2lapi_8c.html#ad457b6dc1bc1b6d5cf9b625c5b329e5e">lua_pushlstring</a>(L, &amp;c, 1); <span class="comment">// return character as Lua string</span></div>
<div class="line"><span class="lineno">  188</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  189</span>        } <span class="comment">// c == 0 probably indicates conversion failure, return `nil`</span></div>
<div class="line"><span class="lineno">  190</span>    }</div>
<div class="line"><span class="lineno">  191</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  192</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lua-5_81_85_2src_2lapi_8c_source.html#l00445">lua_pushlstring()</a>, <a class="el" href="lua-5_81_85_2src_2lua_8h_source.html#l00279">lua_tostring</a>, and <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l00638">Xml_pushDecode()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="acb0ebdc4816e2724115f3fc731ae932d" name="acb0ebdc4816e2724115f3fc731ae932d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb0ebdc4816e2724115f3fc731ae932d">&#9670;&#160;</a></span>sv_code_ref</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int sv_code_ref</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LuaXML__lib_8c_source.html#l00463">463</a> of file <a class="el" href="LuaXML__lib_8c_source.html">LuaXML_lib.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="LuaXML__lib_8c_source.html#l01280">luaopen_LuaXML_lib()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00638">Xml_pushDecode()</a>, <a class="el" href="LuaXML__lib_8c_source.html#l00575">Xml_pushEncode()</a>, and <a class="el" href="LuaXML__lib_8c_source.html#l00836">Xml_registerCode()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_1e03628437b642463b7b6eb98fac43e1.html">vendor</a></li><li class="navelem"><a class="el" href="dir_84591d08937a968859b7757c3b203700.html">civetweb</a></li><li class="navelem"><a class="el" href="dir_34c971402fa1824d9c500953fc75cb63.html">third_party</a></li><li class="navelem"><a class="el" href="LuaXML__lib_8c.html">LuaXML_lib.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
