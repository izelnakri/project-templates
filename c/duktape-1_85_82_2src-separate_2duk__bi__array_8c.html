<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Github User Fetcher: duk_bi_array.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Github User Fetcher<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">C/C++ Application with Server and GUI</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('duktape-1_85_82_2src-separate_2duk__bi__array_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">duk_bi_array.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="duktape-1_85_82_2src-separate_2duk__internal_8h_source.html">duk_internal.h</a>&quot;</code><br />
</div>
<p><a href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa88a4dc315092fb66985e7a1d610b30c" id="r_aa88a4dc315092fb66985e7a1d610b30c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa88a4dc315092fb66985e7a1d610b30c">DUK__ARRAY_MID_JOIN_LIMIT</a>&#160;&#160;&#160;4096</td></tr>
<tr class="separator:aa88a4dc315092fb66985e7a1d610b30c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b05b9c18484dedf16cf6d8e19a9c9ca" id="r_a6b05b9c18484dedf16cf6d8e19a9c9ca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6b05b9c18484dedf16cf6d8e19a9c9ca">DUK__ITER_EVERY</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a6b05b9c18484dedf16cf6d8e19a9c9ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16fea8efe7fd5405c4717680348044be" id="r_a16fea8efe7fd5405c4717680348044be"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a16fea8efe7fd5405c4717680348044be">DUK__ITER_SOME</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a16fea8efe7fd5405c4717680348044be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ac756c8c35d70f58b49621d19413f2c" id="r_a5ac756c8c35d70f58b49621d19413f2c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5ac756c8c35d70f58b49621d19413f2c">DUK__ITER_FOREACH</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a5ac756c8c35d70f58b49621d19413f2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a265b21e27f75282618ee78e12449e1b4" id="r_a265b21e27f75282618ee78e12449e1b4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a265b21e27f75282618ee78e12449e1b4">DUK__ITER_MAP</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a265b21e27f75282618ee78e12449e1b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5afc6793b242a38e31a6ee487c456ed" id="r_ac5afc6793b242a38e31a6ee487c456ed"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac5afc6793b242a38e31a6ee487c456ed">DUK__ITER_FILTER</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:ac5afc6793b242a38e31a6ee487c456ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a98f1b9d6290cd4c65d7bc8cae6d4ac91" id="r_a98f1b9d6290cd4c65d7bc8cae6d4ac91"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a245b431abb36cac1ac8d0eae054ed5c1">DUK_LOCAL</a> duk_uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a98f1b9d6290cd4c65d7bc8cae6d4ac91">duk__push_this_obj_len_u32</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *ctx)</td></tr>
<tr class="separator:a98f1b9d6290cd4c65d7bc8cae6d4ac91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbab260b4b64aea1d9d86d0e4b903943" id="r_adbab260b4b64aea1d9d86d0e4b903943"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a245b431abb36cac1ac8d0eae054ed5c1">DUK_LOCAL</a> duk_uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adbab260b4b64aea1d9d86d0e4b903943">duk__push_this_obj_len_u32_limited</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *ctx)</td></tr>
<tr class="separator:adbab260b4b64aea1d9d86d0e4b903943"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4953b0b4b929aab1b5fabe24646f883" id="r_ad4953b0b4b929aab1b5fabe24646f883"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad4953b0b4b929aab1b5fabe24646f883">duk_bi_array_constructor</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *ctx)</td></tr>
<tr class="separator:ad4953b0b4b929aab1b5fabe24646f883"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab819247be10bb9d232c1f9be992cfdb8" id="r_ab819247be10bb9d232c1f9be992cfdb8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab819247be10bb9d232c1f9be992cfdb8">duk_bi_array_constructor_is_array</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *ctx)</td></tr>
<tr class="separator:ab819247be10bb9d232c1f9be992cfdb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a176f41b84f1956c2eeb8c9ea50df5325" id="r_a176f41b84f1956c2eeb8c9ea50df5325"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a176f41b84f1956c2eeb8c9ea50df5325">duk_bi_array_prototype_to_string</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *ctx)</td></tr>
<tr class="separator:a176f41b84f1956c2eeb8c9ea50df5325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cff534fe49769b2b0a2faf1aca79dec" id="r_a0cff534fe49769b2b0a2faf1aca79dec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0cff534fe49769b2b0a2faf1aca79dec">duk_bi_array_prototype_concat</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *ctx)</td></tr>
<tr class="separator:a0cff534fe49769b2b0a2faf1aca79dec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21b5ddfb863267e17de0c53b421c68bf" id="r_a21b5ddfb863267e17de0c53b421c68bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a21b5ddfb863267e17de0c53b421c68bf">duk_bi_array_prototype_join_shared</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *ctx)</td></tr>
<tr class="separator:a21b5ddfb863267e17de0c53b421c68bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d64018302ad3c25ce7b58259e5c958f" id="r_a3d64018302ad3c25ce7b58259e5c958f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3d64018302ad3c25ce7b58259e5c958f">duk_bi_array_prototype_pop</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *ctx)</td></tr>
<tr class="separator:a3d64018302ad3c25ce7b58259e5c958f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72b5d5538f0a422edfab676a8c6b6097" id="r_a72b5d5538f0a422edfab676a8c6b6097"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a72b5d5538f0a422edfab676a8c6b6097">duk_bi_array_prototype_push</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *ctx)</td></tr>
<tr class="separator:a72b5d5538f0a422edfab676a8c6b6097"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8fddc5e2fc32a0b421eb733aa8d820a" id="r_ab8fddc5e2fc32a0b421eb733aa8d820a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a245b431abb36cac1ac8d0eae054ed5c1">DUK_LOCAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a041e9b0b2d41c5af8429259808290726">duk_small_int_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab8fddc5e2fc32a0b421eb733aa8d820a">duk__array_sort_compare</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *ctx, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> idx1, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> idx2)</td></tr>
<tr class="separator:ab8fddc5e2fc32a0b421eb733aa8d820a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62a16ea6b968a10a6d3f947e90a9ba7a" id="r_a62a16ea6b968a10a6d3f947e90a9ba7a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a245b431abb36cac1ac8d0eae054ed5c1">DUK_LOCAL</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a62a16ea6b968a10a6d3f947e90a9ba7a">duk__array_sort_swap</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *ctx, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> l, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> r)</td></tr>
<tr class="separator:a62a16ea6b968a10a6d3f947e90a9ba7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfad86edfba1208da5c864c6f7ed5572" id="r_adfad86edfba1208da5c864c6f7ed5572"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a245b431abb36cac1ac8d0eae054ed5c1">DUK_LOCAL</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adfad86edfba1208da5c864c6f7ed5572">duk__array_qsort</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *ctx, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> lo, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> hi)</td></tr>
<tr class="separator:adfad86edfba1208da5c864c6f7ed5572"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ed8a2c592a783c15a0de756f061a54a" id="r_a0ed8a2c592a783c15a0de756f061a54a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ed8a2c592a783c15a0de756f061a54a">duk_bi_array_prototype_sort</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *ctx)</td></tr>
<tr class="separator:a0ed8a2c592a783c15a0de756f061a54a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7a5bf24c017e831bce59862de042d6c" id="r_af7a5bf24c017e831bce59862de042d6c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af7a5bf24c017e831bce59862de042d6c">duk_bi_array_prototype_splice</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *ctx)</td></tr>
<tr class="separator:af7a5bf24c017e831bce59862de042d6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a781bd7acc240dc8c3fa1d5d43c8d4ee4" id="r_a781bd7acc240dc8c3fa1d5d43c8d4ee4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a781bd7acc240dc8c3fa1d5d43c8d4ee4">duk_bi_array_prototype_reverse</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *ctx)</td></tr>
<tr class="separator:a781bd7acc240dc8c3fa1d5d43c8d4ee4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52c5dff105b8bc90b03178cc69275a51" id="r_a52c5dff105b8bc90b03178cc69275a51"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a52c5dff105b8bc90b03178cc69275a51">duk_bi_array_prototype_slice</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *ctx)</td></tr>
<tr class="separator:a52c5dff105b8bc90b03178cc69275a51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b69c5a84c31bf2be7586d4fed269b39" id="r_a3b69c5a84c31bf2be7586d4fed269b39"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b69c5a84c31bf2be7586d4fed269b39">duk_bi_array_prototype_shift</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *ctx)</td></tr>
<tr class="separator:a3b69c5a84c31bf2be7586d4fed269b39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e04fd82fd8ac6e80438bd4dbf1ef0e3" id="r_a0e04fd82fd8ac6e80438bd4dbf1ef0e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0e04fd82fd8ac6e80438bd4dbf1ef0e3">duk_bi_array_prototype_unshift</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *ctx)</td></tr>
<tr class="separator:a0e04fd82fd8ac6e80438bd4dbf1ef0e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58ddd423423702af85fa97debe69d139" id="r_a58ddd423423702af85fa97debe69d139"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a58ddd423423702af85fa97debe69d139">duk_bi_array_prototype_indexof_shared</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *ctx)</td></tr>
<tr class="separator:a58ddd423423702af85fa97debe69d139"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac61d2bb18badfb4af6e5a571cd500a7" id="r_aac61d2bb18badfb4af6e5a571cd500a7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aac61d2bb18badfb4af6e5a571cd500a7">duk_bi_array_prototype_iter_shared</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *ctx)</td></tr>
<tr class="separator:aac61d2bb18badfb4af6e5a571cd500a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0f85470c9f388d6d46bcdb01be1f595" id="r_ac0f85470c9f388d6d46bcdb01be1f595"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac0f85470c9f388d6d46bcdb01be1f595">duk_bi_array_prototype_reduce_shared</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *ctx)</td></tr>
<tr class="separator:ac0f85470c9f388d6d46bcdb01be1f595"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aa88a4dc315092fb66985e7a1d610b30c" name="aa88a4dc315092fb66985e7a1d610b30c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa88a4dc315092fb66985e7a1d610b30c">&#9670;&#160;</a></span>DUK__ARRAY_MID_JOIN_LIMIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK__ARRAY_MID_JOIN_LIMIT&#160;&#160;&#160;4096</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00049">49</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00267">duk_bi_array_prototype_join_shared()</a>.</p>

</div>
</div>
<a id="a6b05b9c18484dedf16cf6d8e19a9c9ca" name="a6b05b9c18484dedf16cf6d8e19a9c9ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b05b9c18484dedf16cf6d8e19a9c9ca">&#9670;&#160;</a></span>DUK__ITER_EVERY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK__ITER_EVERY&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01207">1207</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01218">duk_bi_array_prototype_iter_shared()</a>.</p>

</div>
</div>
<a id="ac5afc6793b242a38e31a6ee487c456ed" name="ac5afc6793b242a38e31a6ee487c456ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5afc6793b242a38e31a6ee487c456ed">&#9670;&#160;</a></span>DUK__ITER_FILTER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK__ITER_FILTER&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01211">1211</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01218">duk_bi_array_prototype_iter_shared()</a>.</p>

</div>
</div>
<a id="a5ac756c8c35d70f58b49621d19413f2c" name="a5ac756c8c35d70f58b49621d19413f2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ac756c8c35d70f58b49621d19413f2c">&#9670;&#160;</a></span>DUK__ITER_FOREACH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK__ITER_FOREACH&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01209">1209</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01218">duk_bi_array_prototype_iter_shared()</a>.</p>

</div>
</div>
<a id="a265b21e27f75282618ee78e12449e1b4" name="a265b21e27f75282618ee78e12449e1b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a265b21e27f75282618ee78e12449e1b4">&#9670;&#160;</a></span>DUK__ITER_MAP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK__ITER_MAP&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01210">1210</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01218">duk_bi_array_prototype_iter_shared()</a>.</p>

</div>
</div>
<a id="a16fea8efe7fd5405c4717680348044be" name="a16fea8efe7fd5405c4717680348044be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16fea8efe7fd5405c4717680348044be">&#9670;&#160;</a></span>DUK__ITER_SOME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK__ITER_SOME&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01208">1208</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01218">duk_bi_array_prototype_iter_shared()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="adfad86edfba1208da5c864c6f7ed5572" name="adfad86edfba1208da5c864c6f7ed5572"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfad86edfba1208da5c864c6f7ed5572">&#9670;&#160;</a></span>duk__array_qsort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a245b431abb36cac1ac8d0eae054ed5c1">DUK_LOCAL</a> void duk__array_qsort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a></td>          <td class="paramname"><span class="paramname"><em>lo</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a></td>          <td class="paramname"><span class="paramname"><em>hi</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00602">602</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  602</span>                                                                              {</div>
<div class="line"><span class="lineno">  603</span>    <a class="code hl_struct" href="structduk__hthread.html">duk_hthread</a> *thr = (<a class="code hl_struct" href="structduk__hthread.html">duk_hthread</a> *) ctx;</div>
<div class="line"><span class="lineno">  604</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> p, l, r;</div>
<div class="line"><span class="lineno">  605</span> </div>
<div class="line"><span class="lineno">  606</span>    <span class="comment">/* The lo/hi indices may be crossed and hi &lt; 0 is possible at entry. */</span></div>
<div class="line"><span class="lineno">  607</span> </div>
<div class="line"><span class="lineno">  608</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;duk__array_qsort: lo=%ld, hi=%ld, obj=%!T&quot;</span>,</div>
<div class="line"><span class="lineno">  609</span>                         (<span class="keywordtype">long</span>) lo, (<span class="keywordtype">long</span>) hi, (<a class="code hl_struct" href="structduk__tval__struct.html">duk_tval</a> *) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a>(ctx, 1)));</div>
<div class="line"><span class="lineno">  610</span> </div>
<div class="line"><span class="lineno">  611</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, 3);</div>
<div class="line"><span class="lineno">  612</span> </div>
<div class="line"><span class="lineno">  613</span>    <span class="comment">/* In some cases it may be that lo &gt; hi, or hi &lt; 0; these</span></div>
<div class="line"><span class="lineno">  614</span><span class="comment">     * degenerate cases happen e.g. for empty arrays, and in</span></div>
<div class="line"><span class="lineno">  615</span><span class="comment">     * recursion leaves.</span></div>
<div class="line"><span class="lineno">  616</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  617</span> </div>
<div class="line"><span class="lineno">  618</span>    <span class="comment">/* trivial cases */</span></div>
<div class="line"><span class="lineno">  619</span>    <span class="keywordflow">if</span> (hi - lo &lt; 1) {</div>
<div class="line"><span class="lineno">  620</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;degenerate case, return immediately&quot;</span>));</div>
<div class="line"><span class="lineno">  621</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  622</span>    }</div>
<div class="line"><span class="lineno">  623</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(hi &gt; lo);</div>
<div class="line"><span class="lineno">  624</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(hi - lo + 1 &gt;= 2);</div>
<div class="line"><span class="lineno">  625</span> </div>
<div class="line"><span class="lineno">  626</span>    <span class="comment">/* randomized pivot selection */</span></div>
<div class="line"><span class="lineno">  627</span>    p = lo + (<a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a24c2e280da6676b6462930dbbce7f79c">duk_util_tinyrandom_get_bits</a>(thr, 30) % (hi - lo + 1));  <span class="comment">/* rnd in [lo,hi] */</span></div>
<div class="line"><span class="lineno">  628</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(p &gt;= lo &amp;&amp; p &lt;= hi);</div>
<div class="line"><span class="lineno">  629</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;lo=%ld, hi=%ld, chose pivot p=%ld&quot;</span>,</div>
<div class="line"><span class="lineno">  630</span>                         (<span class="keywordtype">long</span>) lo, (<span class="keywordtype">long</span>) hi, (<span class="keywordtype">long</span>) p));</div>
<div class="line"><span class="lineno">  631</span> </div>
<div class="line"><span class="lineno">  632</span>    <span class="comment">/* move pivot out of the way */</span></div>
<div class="line"><span class="lineno">  633</span>    <a class="code hl_function" href="#a62a16ea6b968a10a6d3f947e90a9ba7a">duk__array_sort_swap</a>(ctx, p, lo);</div>
<div class="line"><span class="lineno">  634</span>    p = lo;</div>
<div class="line"><span class="lineno">  635</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;pivot moved out of the way: %!T&quot;</span>, (<a class="code hl_struct" href="structduk__tval__struct.html">duk_tval</a> *) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a>(ctx, 1)));</div>
<div class="line"><span class="lineno">  636</span> </div>
<div class="line"><span class="lineno">  637</span>    l = lo + 1;</div>
<div class="line"><span class="lineno">  638</span>    r = hi;</div>
<div class="line"><span class="lineno">  639</span>    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><span class="lineno">  640</span>        <span class="comment">/* find elements to swap */</span></div>
<div class="line"><span class="lineno">  641</span>        <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><span class="lineno">  642</span>            <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;left scan: l=%ld, r=%ld, p=%ld&quot;</span>,</div>
<div class="line"><span class="lineno">  643</span>                                 (<span class="keywordtype">long</span>) l, (<span class="keywordtype">long</span>) r, (<span class="keywordtype">long</span>) p));</div>
<div class="line"><span class="lineno">  644</span>            <span class="keywordflow">if</span> (l &gt;= hi) {</div>
<div class="line"><span class="lineno">  645</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  646</span>            }</div>
<div class="line"><span class="lineno">  647</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="#ab8fddc5e2fc32a0b421eb733aa8d820a">duk__array_sort_compare</a>(ctx, l, p) &gt;= 0) {  <span class="comment">/* !(l &lt; p) */</span></div>
<div class="line"><span class="lineno">  648</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  649</span>            }</div>
<div class="line"><span class="lineno">  650</span>            l++;</div>
<div class="line"><span class="lineno">  651</span>        }</div>
<div class="line"><span class="lineno">  652</span>        <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><span class="lineno">  653</span>            <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;right scan: l=%ld, r=%ld, p=%ld&quot;</span>,</div>
<div class="line"><span class="lineno">  654</span>                                 (<span class="keywordtype">long</span>) l, (<span class="keywordtype">long</span>) r, (<span class="keywordtype">long</span>) p));</div>
<div class="line"><span class="lineno">  655</span>            <span class="keywordflow">if</span> (r &lt;= lo) {</div>
<div class="line"><span class="lineno">  656</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  657</span>            }</div>
<div class="line"><span class="lineno">  658</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="#ab8fddc5e2fc32a0b421eb733aa8d820a">duk__array_sort_compare</a>(ctx, p, r) &gt;= 0) {  <span class="comment">/* !(p &lt; r) */</span></div>
<div class="line"><span class="lineno">  659</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  660</span>            }</div>
<div class="line"><span class="lineno">  661</span>            r--;</div>
<div class="line"><span class="lineno">  662</span>        }</div>
<div class="line"><span class="lineno">  663</span>        <span class="keywordflow">if</span> (l &gt;= r) {</div>
<div class="line"><span class="lineno">  664</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  665</span>        }</div>
<div class="line"><span class="lineno">  666</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(l &lt; r);</div>
<div class="line"><span class="lineno">  667</span> </div>
<div class="line"><span class="lineno">  668</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;swap %ld and %ld&quot;</span>, (<span class="keywordtype">long</span>) l, (<span class="keywordtype">long</span>) r));</div>
<div class="line"><span class="lineno">  669</span> </div>
<div class="line"><span class="lineno">  670</span>        <a class="code hl_function" href="#a62a16ea6b968a10a6d3f947e90a9ba7a">duk__array_sort_swap</a>(ctx, l, r);</div>
<div class="line"><span class="lineno">  671</span> </div>
<div class="line"><span class="lineno">  672</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;after swap: %!T&quot;</span>, (<a class="code hl_struct" href="structduk__tval__struct.html">duk_tval</a> *) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a>(ctx, 1)));</div>
<div class="line"><span class="lineno">  673</span>        l++;</div>
<div class="line"><span class="lineno">  674</span>        r--;</div>
<div class="line"><span class="lineno">  675</span>    }</div>
<div class="line"><span class="lineno">  676</span> done:</div>
<div class="line"><span class="lineno">  677</span>    <span class="comment">/* Note that &#39;l&#39; and &#39;r&#39; may cross, i.e. r &lt; l */</span></div>
<div class="line"><span class="lineno">  678</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(l &gt;= lo &amp;&amp; l &lt;= hi);</div>
<div class="line"><span class="lineno">  679</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(r &gt;= lo &amp;&amp; r &lt;= hi);</div>
<div class="line"><span class="lineno">  680</span> </div>
<div class="line"><span class="lineno">  681</span>    <span class="comment">/* XXX: there&#39;s no explicit recursion bound here now.  For the average</span></div>
<div class="line"><span class="lineno">  682</span><span class="comment">     * qsort recursion depth O(log n) that&#39;s not really necessary: e.g. for</span></div>
<div class="line"><span class="lineno">  683</span><span class="comment">     * 2**32 recursion depth would be about 32 which is OK.  However, qsort</span></div>
<div class="line"><span class="lineno">  684</span><span class="comment">     * worst case recursion depth is O(n) which may be a problem.</span></div>
<div class="line"><span class="lineno">  685</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  686</span> </div>
<div class="line"><span class="lineno">  687</span>    <span class="comment">/* move pivot to its final place */</span></div>
<div class="line"><span class="lineno">  688</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;before final pivot swap: %!T&quot;</span>, (<a class="code hl_struct" href="structduk__tval__struct.html">duk_tval</a> *) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a>(ctx, 1)));</div>
<div class="line"><span class="lineno">  689</span>    <a class="code hl_function" href="#a62a16ea6b968a10a6d3f947e90a9ba7a">duk__array_sort_swap</a>(ctx, lo, r);</div>
<div class="line"><span class="lineno">  690</span> </div>
<div class="line"><span class="lineno">  691</span><span class="preprocessor">#if defined(DUK_USE_DDDPRINT)</span></div>
<div class="line"><span class="lineno">  692</span>    duk__debuglog_qsort_state(ctx, lo, hi, r);</div>
<div class="line"><span class="lineno">  693</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  694</span> </div>
<div class="line"><span class="lineno">  695</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;recurse: pivot=%ld, obj=%!T&quot;</span>, (<span class="keywordtype">long</span>) r, (<a class="code hl_struct" href="structduk__tval__struct.html">duk_tval</a> *) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a>(ctx, 1)));</div>
<div class="line"><span class="lineno">  696</span>    <a class="code hl_function" href="#adfad86edfba1208da5c864c6f7ed5572">duk__array_qsort</a>(ctx, lo, r - 1);</div>
<div class="line"><span class="lineno">  697</span>    <a class="code hl_function" href="#adfad86edfba1208da5c864c6f7ed5572">duk__array_qsort</a>(ctx, r + 1, hi);</div>
<div class="line"><span class="lineno">  698</span>}</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_a9dbc0fdd27e7326d21cbf56e6d40d8a5"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a></div><div class="ttdeci">duk_int_fast32_t duk_int_t</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l01785">duktape-1.5.2/src-noline/duk_config.h:1785</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a24c2e280da6676b6462930dbbce7f79c"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a24c2e280da6676b6462930dbbce7f79c">duk_util_tinyrandom_get_bits</a></div><div class="ttdeci">DUK_INTERNAL_DECL duk_uint32_t duk_util_tinyrandom_get_bits(duk_hthread *thr, duk_small_int_t n)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l86508">duktape-1.5.2/src-noline/duktape.c:86508</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a2db20d2d3b36d8491ed171cf503488bb"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a></div><div class="ttdeci">#define DUK_DDD(x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07497">duktape-1.5.2/src-noline/duktape.c:7497</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a52bc112231cf556000de414bca74c712"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a></div><div class="ttdeci">#define DUK_ASSERT(x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07755">duktape-1.5.2/src-noline/duktape.c:7755</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_aa6e5d41ceaba6832e5ede737f0a35fb9"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a></div><div class="ttdeci">#define DUK_DDDPRINT</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07509">duktape-1.5.2/src-noline/duktape.c:7509</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_ab01286cf716e36b9089bd434841ed9eb"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a></div><div class="ttdeci">#define DUK_ASSERT_TOP(ctx, n)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07784">duktape-1.5.2/src-noline/duktape.c:7784</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_afa34aa8c7f880082f9de613ef2bc3c58"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a></div><div class="ttdeci">DUK_INTERNAL_DECL duk_tval * duk_get_tval(duk_context *ctx, duk_idx_t index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15121">duktape-1.5.2/src-noline/duktape.c:15121</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-separate_2duk__bi__array_8c_html_a62a16ea6b968a10a6d3f947e90a9ba7a"><div class="ttname"><a href="#a62a16ea6b968a10a6d3f947e90a9ba7a">duk__array_sort_swap</a></div><div class="ttdeci">DUK_LOCAL void duk__array_sort_swap(duk_context *ctx, duk_int_t l, duk_int_t r)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00542">duktape-1.5.2/src-separate/duk_bi_array.c:542</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-separate_2duk__bi__array_8c_html_ab8fddc5e2fc32a0b421eb733aa8d820a"><div class="ttname"><a href="#ab8fddc5e2fc32a0b421eb733aa8d820a">duk__array_sort_compare</a></div><div class="ttdeci">DUK_LOCAL duk_small_int_t duk__array_sort_compare(duk_context *ctx, duk_int_t idx1, duk_int_t idx2)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00424">duktape-1.5.2/src-separate/duk_bi_array.c:424</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-separate_2duk__bi__array_8c_html_adfad86edfba1208da5c864c6f7ed5572"><div class="ttname"><a href="#adfad86edfba1208da5c864c6f7ed5572">duk__array_qsort</a></div><div class="ttdeci">DUK_LOCAL void duk__array_qsort(duk_context *ctx, duk_int_t lo, duk_int_t hi)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00602">duktape-1.5.2/src-separate/duk_bi_array.c:602</a></div></div>
<div class="ttc" id="astructduk__hthread_html"><div class="ttname"><a href="structduk__hthread.html">duk_hthread</a></div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06190">duktape-1.5.2/src-noline/duktape.c:6190</a></div></div>
<div class="ttc" id="astructduk__tval__struct_html"><div class="ttname"><a href="structduk__tval__struct.html">duk_tval_struct</a></div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l00616">duktape-1.5.2/src-noline/duktape.c:616</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00602">duk__array_qsort()</a>, <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00424">duk__array_sort_compare()</a>, <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00542">duk__array_sort_swap()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07755">DUK_ASSERT</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07784">DUK_ASSERT_TOP</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07497">DUK_DDD</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07509">DUK_DDDPRINT</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15121">duk_get_tval()</a>, and <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l86508">duk_util_tinyrandom_get_bits()</a>.</p>

<p class="reference">Referenced by <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00602">duk__array_qsort()</a>, and <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00700">duk_bi_array_prototype_sort()</a>.</p>

</div>
</div>
<a id="ab8fddc5e2fc32a0b421eb733aa8d820a" name="ab8fddc5e2fc32a0b421eb733aa8d820a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8fddc5e2fc32a0b421eb733aa8d820a">&#9670;&#160;</a></span>duk__array_sort_compare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a245b431abb36cac1ac8d0eae054ed5c1">DUK_LOCAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a041e9b0b2d41c5af8429259808290726">duk_small_int_t</a> duk__array_sort_compare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a></td>          <td class="paramname"><span class="paramname"><em>idx1</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a></td>          <td class="paramname"><span class="paramname"><em>idx2</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00424">424</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  424</span>                                                                                                    {</div>
<div class="line"><span class="lineno">  425</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af32ca4c30431e819676401ce2b11c2e7">duk_bool_t</a> have1, have2;</div>
<div class="line"><span class="lineno">  426</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af32ca4c30431e819676401ce2b11c2e7">duk_bool_t</a> undef1, undef2;</div>
<div class="line"><span class="lineno">  427</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a041e9b0b2d41c5af8429259808290726">duk_small_int_t</a> ret;</div>
<div class="line"><span class="lineno">  428</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a> idx_obj = 1;  <span class="comment">/* fixed offsets in valstack */</span></div>
<div class="line"><span class="lineno">  429</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a> idx_fn = 0;</div>
<div class="line"><span class="lineno">  430</span>    <a class="code hl_struct" href="structduk__hstring.html">duk_hstring</a> *h1, *h2;</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>    <span class="comment">/* Fast exit if indices are identical.  This is valid for a non-existent property,</span></div>
<div class="line"><span class="lineno">  433</span><span class="comment">     * for an undefined value, and almost always for ToString() coerced comparison of</span></div>
<div class="line"><span class="lineno">  434</span><span class="comment">     * arbitrary values (corner cases where this is not the case include e.g. a an</span></div>
<div class="line"><span class="lineno">  435</span><span class="comment">     * object with varying ToString() coercion).</span></div>
<div class="line"><span class="lineno">  436</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno">  437</span><span class="comment">     * The specification does not prohibit &quot;caching&quot; of values read from the array, so</span></div>
<div class="line"><span class="lineno">  438</span><span class="comment">     * assuming equality for comparing an index with itself falls into the category of</span></div>
<div class="line"><span class="lineno">  439</span><span class="comment">     * &quot;caching&quot;.</span></div>
<div class="line"><span class="lineno">  440</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno">  441</span><span class="comment">     * Also, compareFn may be inconsistent, so skipping a call to compareFn here may</span></div>
<div class="line"><span class="lineno">  442</span><span class="comment">     * have an effect on the final result.  The specification does not require any</span></div>
<div class="line"><span class="lineno">  443</span><span class="comment">     * specific behavior for inconsistent compare functions, so again, this fast path</span></div>
<div class="line"><span class="lineno">  444</span><span class="comment">     * is OK.</span></div>
<div class="line"><span class="lineno">  445</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  446</span> </div>
<div class="line"><span class="lineno">  447</span>    <span class="keywordflow">if</span> (idx1 == idx2) {</div>
<div class="line"><span class="lineno">  448</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;duk__array_sort_compare: idx1=%ld, idx2=%ld -&gt; indices identical, quick exit&quot;</span>,</div>
<div class="line"><span class="lineno">  449</span>                             (<span class="keywordtype">long</span>) idx1, (<span class="keywordtype">long</span>) idx2));</div>
<div class="line"><span class="lineno">  450</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  451</span>    }</div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>    have1 = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9077276f5224f3985b570a4d82322253">duk_get_prop_index</a>(ctx, idx_obj, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) idx1);</div>
<div class="line"><span class="lineno">  454</span>    have2 = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9077276f5224f3985b570a4d82322253">duk_get_prop_index</a>(ctx, idx_obj, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) idx2);</div>
<div class="line"><span class="lineno">  455</span> </div>
<div class="line"><span class="lineno">  456</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;duk__array_sort_compare: idx1=%ld, idx2=%ld, have1=%ld, have2=%ld, val1=%!T, val2=%!T&quot;</span>,</div>
<div class="line"><span class="lineno">  457</span>                         (<span class="keywordtype">long</span>) idx1, (<span class="keywordtype">long</span>) idx2, (<span class="keywordtype">long</span>) have1, (<span class="keywordtype">long</span>) have2,</div>
<div class="line"><span class="lineno">  458</span>                         (<a class="code hl_struct" href="structduk__tval__struct.html">duk_tval</a> *) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a>(ctx, -2), (<a class="code hl_struct" href="structduk__tval__struct.html">duk_tval</a> *) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a>(ctx, -1)));</div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span>    <span class="keywordflow">if</span> (have1) {</div>
<div class="line"><span class="lineno">  461</span>        <span class="keywordflow">if</span> (have2) {</div>
<div class="line"><span class="lineno">  462</span>            ;</div>
<div class="line"><span class="lineno">  463</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  464</span>            ret = -1;</div>
<div class="line"><span class="lineno">  465</span>            <span class="keywordflow">goto</span> pop_ret;</div>
<div class="line"><span class="lineno">  466</span>        }</div>
<div class="line"><span class="lineno">  467</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  468</span>        <span class="keywordflow">if</span> (have2) {</div>
<div class="line"><span class="lineno">  469</span>            ret = 1;</div>
<div class="line"><span class="lineno">  470</span>            <span class="keywordflow">goto</span> pop_ret;</div>
<div class="line"><span class="lineno">  471</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  472</span>            ret = 0;</div>
<div class="line"><span class="lineno">  473</span>            <span class="keywordflow">goto</span> pop_ret;</div>
<div class="line"><span class="lineno">  474</span>        }</div>
<div class="line"><span class="lineno">  475</span>    }</div>
<div class="line"><span class="lineno">  476</span> </div>
<div class="line"><span class="lineno">  477</span>    undef1 = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a10838caaff9e74b1e3904c78df71d53a">duk_is_undefined</a>(ctx, -2);</div>
<div class="line"><span class="lineno">  478</span>    undef2 = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a10838caaff9e74b1e3904c78df71d53a">duk_is_undefined</a>(ctx, -1);</div>
<div class="line"><span class="lineno">  479</span>    <span class="keywordflow">if</span> (undef1) {</div>
<div class="line"><span class="lineno">  480</span>        <span class="keywordflow">if</span> (undef2) {</div>
<div class="line"><span class="lineno">  481</span>            ret = 0;</div>
<div class="line"><span class="lineno">  482</span>            <span class="keywordflow">goto</span> pop_ret;</div>
<div class="line"><span class="lineno">  483</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  484</span>            ret = 1;</div>
<div class="line"><span class="lineno">  485</span>            <span class="keywordflow">goto</span> pop_ret;</div>
<div class="line"><span class="lineno">  486</span>        }</div>
<div class="line"><span class="lineno">  487</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  488</span>        <span class="keywordflow">if</span> (undef2) {</div>
<div class="line"><span class="lineno">  489</span>            ret = -1;</div>
<div class="line"><span class="lineno">  490</span>            <span class="keywordflow">goto</span> pop_ret;</div>
<div class="line"><span class="lineno">  491</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  492</span>            ;</div>
<div class="line"><span class="lineno">  493</span>        }</div>
<div class="line"><span class="lineno">  494</span>    }</div>
<div class="line"><span class="lineno">  495</span> </div>
<div class="line"><span class="lineno">  496</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a10838caaff9e74b1e3904c78df71d53a">duk_is_undefined</a>(ctx, idx_fn)) {</div>
<div class="line"><span class="lineno">  497</span>        <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a> d;</div>
<div class="line"><span class="lineno">  498</span> </div>
<div class="line"><span class="lineno">  499</span>        <span class="comment">/* no need to check callable; duk_call() will do that */</span></div>
<div class="line"><span class="lineno">  500</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8566105ab847d4151b62c29ceab53a0d">duk_dup</a>(ctx, idx_fn);    <span class="comment">/* -&gt; [ ... x y fn ] */</span></div>
<div class="line"><span class="lineno">  501</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a86e82045aad43776c7280e8e689c5158">duk_insert</a>(ctx, -3);     <span class="comment">/* -&gt; [ ... fn x y ] */</span></div>
<div class="line"><span class="lineno">  502</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab7781c0c62f694e9a356cdb8decdaa78">duk_call</a>(ctx, 2);        <span class="comment">/* -&gt; [ ... res ] */</span></div>
<div class="line"><span class="lineno">  503</span> </div>
<div class="line"><span class="lineno">  504</span>        <span class="comment">/* The specification is a bit vague what to do if the return</span></div>
<div class="line"><span class="lineno">  505</span><span class="comment">         * value is not a number.  Other implementations seem to</span></div>
<div class="line"><span class="lineno">  506</span><span class="comment">         * tolerate non-numbers but e.g. V8 won&#39;t apparently do a</span></div>
<div class="line"><span class="lineno">  507</span><span class="comment">         * ToNumber().</span></div>
<div class="line"><span class="lineno">  508</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  509</span> </div>
<div class="line"><span class="lineno">  510</span>        <span class="comment">/* XXX: best behavior for real world compatibility? */</span></div>
<div class="line"><span class="lineno">  511</span> </div>
<div class="line"><span class="lineno">  512</span>        d = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a60da7a5524bcdb03fb59734d8ffa6ffc">duk_to_number</a>(ctx, -1);</div>
<div class="line"><span class="lineno">  513</span>        <span class="keywordflow">if</span> (d &lt; 0.0) {</div>
<div class="line"><span class="lineno">  514</span>            ret = -1;</div>
<div class="line"><span class="lineno">  515</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (d &gt; 0.0) {</div>
<div class="line"><span class="lineno">  516</span>            ret = 1;</div>
<div class="line"><span class="lineno">  517</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  518</span>            ret = 0;</div>
<div class="line"><span class="lineno">  519</span>        }</div>
<div class="line"><span class="lineno">  520</span> </div>
<div class="line"><span class="lineno">  521</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac8da334e24a5f42f252271161d2116fb">duk_pop</a>(ctx);</div>
<div class="line"><span class="lineno">  522</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;-&gt; result %ld (from comparefn, after coercion)&quot;</span>, (<span class="keywordtype">long</span>) ret));</div>
<div class="line"><span class="lineno">  523</span>        <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  524</span>    }</div>
<div class="line"><span class="lineno">  525</span> </div>
<div class="line"><span class="lineno">  526</span>    <span class="comment">/* string compare is the default (a bit oddly) */</span></div>
<div class="line"><span class="lineno">  527</span> </div>
<div class="line"><span class="lineno">  528</span>    h1 = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a08a5b25284eaa8cfe960915609061b59">duk_to_hstring</a>(ctx, -2);</div>
<div class="line"><span class="lineno">  529</span>    h2 = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a08a5b25284eaa8cfe960915609061b59">duk_to_hstring</a>(ctx, -1);</div>
<div class="line"><span class="lineno">  530</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(h1 != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">  531</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(h2 != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">  532</span> </div>
<div class="line"><span class="lineno">  533</span>    ret = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9c40843c312ccfa6872359eb376bbaee">duk_js_string_compare</a>(h1, h2);  <span class="comment">/* retval is directly usable */</span></div>
<div class="line"><span class="lineno">  534</span>    <span class="keywordflow">goto</span> pop_ret;</div>
<div class="line"><span class="lineno">  535</span> </div>
<div class="line"><span class="lineno">  536</span> pop_ret:</div>
<div class="line"><span class="lineno">  537</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a09f116a4bcf486b3359afaa1abf4bf66">duk_pop_2</a>(ctx);</div>
<div class="line"><span class="lineno">  538</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;-&gt; result %ld&quot;</span>, (<span class="keywordtype">long</span>) ret));</div>
<div class="line"><span class="lineno">  539</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  540</span>}</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_a041e9b0b2d41c5af8429259808290726"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a041e9b0b2d41c5af8429259808290726">duk_small_int_t</a></div><div class="ttdeci">int duk_small_int_t</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l01807">duktape-1.5.2/src-noline/duk_config.h:1807</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_a3e3bb369382aab50155c1d18bdf73923"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a></div><div class="ttdeci">duk_int_t duk_idx_t</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l01830">duktape-1.5.2/src-noline/duk_config.h:1830</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_a63e15ff4dd1c9ad036a030a80346cdc3"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a></div><div class="ttdeci">double duk_double_t</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l01877">duktape-1.5.2/src-noline/duk_config.h:1877</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_a66a83b11b322fb452d3677f28ee7067f"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a></div><div class="ttdeci">duk_uint_t duk_uarridx_t</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l01842">duktape-1.5.2/src-noline/duk_config.h:1842</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_af32ca4c30431e819676401ce2b11c2e7"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af32ca4c30431e819676401ce2b11c2e7">duk_bool_t</a></div><div class="ttdeci">duk_small_int_t duk_bool_t</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l01825">duktape-1.5.2/src-noline/duk_config.h:1825</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a08a5b25284eaa8cfe960915609061b59"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a08a5b25284eaa8cfe960915609061b59">duk_to_hstring</a></div><div class="ttdeci">DUK_INTERNAL_DECL duk_hstring * duk_to_hstring(duk_context *ctx, duk_idx_t index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17177">duktape-1.5.2/src-noline/duktape.c:17177</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a09f116a4bcf486b3359afaa1abf4bf66"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a09f116a4bcf486b3359afaa1abf4bf66">duk_pop_2</a></div><div class="ttdeci">DUK_EXTERNAL void duk_pop_2(duk_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l19167">duktape-1.5.2/src-noline/duktape.c:19167</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a10838caaff9e74b1e3904c78df71d53a"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a10838caaff9e74b1e3904c78df71d53a">duk_is_undefined</a></div><div class="ttdeci">DUK_EXTERNAL duk_bool_t duk_is_undefined(duk_context *ctx, duk_idx_t index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17600">duktape-1.5.2/src-noline/duktape.c:17600</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a60da7a5524bcdb03fb59734d8ffa6ffc"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a60da7a5524bcdb03fb59734d8ffa6ffc">duk_to_number</a></div><div class="ttdeci">DUK_EXTERNAL duk_double_t duk_to_number(duk_context *ctx, duk_idx_t index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l16766">duktape-1.5.2/src-noline/duktape.c:16766</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a8566105ab847d4151b62c29ceab53a0d"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8566105ab847d4151b62c29ceab53a0d">duk_dup</a></div><div class="ttdeci">DUK_EXTERNAL void duk_dup(duk_context *ctx, duk_idx_t from_index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15702">duktape-1.5.2/src-noline/duktape.c:15702</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a86e82045aad43776c7280e8e689c5158"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a86e82045aad43776c7280e8e689c5158">duk_insert</a></div><div class="ttdeci">DUK_EXTERNAL void duk_insert(duk_context *ctx, duk_idx_t to_index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15740">duktape-1.5.2/src-noline/duktape.c:15740</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a9077276f5224f3985b570a4d82322253"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9077276f5224f3985b570a4d82322253">duk_get_prop_index</a></div><div class="ttdeci">DUK_EXTERNAL duk_bool_t duk_get_prop_index(duk_context *ctx, duk_idx_t obj_index, duk_uarridx_t arr_index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14310">duktape-1.5.2/src-noline/duktape.c:14310</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a9c40843c312ccfa6872359eb376bbaee"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9c40843c312ccfa6872359eb376bbaee">duk_js_string_compare</a></div><div class="ttdeci">DUK_INTERNAL_DECL duk_small_int_t duk_js_string_compare(duk_hstring *h1, duk_hstring *h2)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l70533">duktape-1.5.2/src-noline/duktape.c:70533</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_ab7781c0c62f694e9a356cdb8decdaa78"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab7781c0c62f694e9a356cdb8decdaa78">duk_call</a></div><div class="ttdeci">DUK_EXTERNAL void duk_call(duk_context *ctx, duk_idx_t nargs)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l12362">duktape-1.5.2/src-noline/duktape.c:12362</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_ac8da334e24a5f42f252271161d2116fb"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac8da334e24a5f42f252271161d2116fb">duk_pop</a></div><div class="ttdeci">DUK_EXTERNAL void duk_pop(duk_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l19146">duktape-1.5.2/src-noline/duktape.c:19146</a></div></div>
<div class="ttc" id="agmacros_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> <a href="gmacros_8h_source.html#l00924">gmacros.h:924</a></div></div>
<div class="ttc" id="astructduk__hstring_html"><div class="ttname"><a href="structduk__hstring.html">duk_hstring</a></div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04546">duktape-1.5.2/src-noline/duktape.c:4546</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07755">DUK_ASSERT</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l12362">duk_call()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07497">DUK_DDD</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07509">DUK_DDDPRINT</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15702">duk_dup()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14310">duk_get_prop_index()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15121">duk_get_tval()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15740">duk_insert()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17600">duk_is_undefined()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l70533">duk_js_string_compare()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l19146">duk_pop()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l19167">duk_pop_2()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17177">duk_to_hstring()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l16766">duk_to_number()</a>, and <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00602">duk__array_qsort()</a>.</p>

</div>
</div>
<a id="a62a16ea6b968a10a6d3f947e90a9ba7a" name="a62a16ea6b968a10a6d3f947e90a9ba7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62a16ea6b968a10a6d3f947e90a9ba7a">&#9670;&#160;</a></span>duk__array_sort_swap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a245b431abb36cac1ac8d0eae054ed5c1">DUK_LOCAL</a> void duk__array_sort_swap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a></td>          <td class="paramname"><span class="paramname"><em>l</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a></td>          <td class="paramname"><span class="paramname"><em>r</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00542">542</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  542</span>                                                                                {</div>
<div class="line"><span class="lineno">  543</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af32ca4c30431e819676401ce2b11c2e7">duk_bool_t</a> have_l, have_r;</div>
<div class="line"><span class="lineno">  544</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a> idx_obj = 1;  <span class="comment">/* fixed offset in valstack */</span></div>
<div class="line"><span class="lineno">  545</span> </div>
<div class="line"><span class="lineno">  546</span>    <span class="keywordflow">if</span> (l == r) {</div>
<div class="line"><span class="lineno">  547</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  548</span>    }</div>
<div class="line"><span class="lineno">  549</span> </div>
<div class="line"><span class="lineno">  550</span>    <span class="comment">/* swap elements; deal with non-existent elements correctly */</span></div>
<div class="line"><span class="lineno">  551</span>    have_l = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9077276f5224f3985b570a4d82322253">duk_get_prop_index</a>(ctx, idx_obj, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) l);</div>
<div class="line"><span class="lineno">  552</span>    have_r = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9077276f5224f3985b570a4d82322253">duk_get_prop_index</a>(ctx, idx_obj, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) r);</div>
<div class="line"><span class="lineno">  553</span> </div>
<div class="line"><span class="lineno">  554</span>    <span class="keywordflow">if</span> (have_r) {</div>
<div class="line"><span class="lineno">  555</span>        <span class="comment">/* right exists, [[Put]] regardless whether or not left exists */</span></div>
<div class="line"><span class="lineno">  556</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2e084d5315f93ecef64a4bdb9ef67ae2">duk_put_prop_index</a>(ctx, idx_obj, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) l);</div>
<div class="line"><span class="lineno">  557</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  558</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a19e15ce2de5329aadd210d11d347d4a1">duk_del_prop_index</a>(ctx, idx_obj, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) l);</div>
<div class="line"><span class="lineno">  559</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac8da334e24a5f42f252271161d2116fb">duk_pop</a>(ctx);</div>
<div class="line"><span class="lineno">  560</span>    }</div>
<div class="line"><span class="lineno">  561</span> </div>
<div class="line"><span class="lineno">  562</span>    <span class="keywordflow">if</span> (have_l) {</div>
<div class="line"><span class="lineno">  563</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2e084d5315f93ecef64a4bdb9ef67ae2">duk_put_prop_index</a>(ctx, idx_obj, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) r);</div>
<div class="line"><span class="lineno">  564</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  565</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a19e15ce2de5329aadd210d11d347d4a1">duk_del_prop_index</a>(ctx, idx_obj, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) r);</div>
<div class="line"><span class="lineno">  566</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac8da334e24a5f42f252271161d2116fb">duk_pop</a>(ctx);</div>
<div class="line"><span class="lineno">  567</span>    }</div>
<div class="line"><span class="lineno">  568</span>}</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a19e15ce2de5329aadd210d11d347d4a1"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a19e15ce2de5329aadd210d11d347d4a1">duk_del_prop_index</a></div><div class="ttdeci">DUK_EXTERNAL duk_bool_t duk_del_prop_index(duk_context *ctx, duk_idx_t obj_index, duk_uarridx_t arr_index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14450">duktape-1.5.2/src-noline/duktape.c:14450</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a2e084d5315f93ecef64a4bdb9ef67ae2"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2e084d5315f93ecef64a4bdb9ef67ae2">duk_put_prop_index</a></div><div class="ttdeci">DUK_EXTERNAL duk_bool_t duk_put_prop_index(duk_context *ctx, duk_idx_t obj_idx, duk_uarridx_t arr_idx)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14396">duktape-1.5.2/src-noline/duktape.c:14396</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14450">duk_del_prop_index()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14310">duk_get_prop_index()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l19146">duk_pop()</a>, and <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14396">duk_put_prop_index()</a>.</p>

<p class="reference">Referenced by <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00602">duk__array_qsort()</a>.</p>

</div>
</div>
<a id="a98f1b9d6290cd4c65d7bc8cae6d4ac91" name="a98f1b9d6290cd4c65d7bc8cae6d4ac91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98f1b9d6290cd4c65d7bc8cae6d4ac91">&#9670;&#160;</a></span>duk__push_this_obj_len_u32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a245b431abb36cac1ac8d0eae054ed5c1">DUK_LOCAL</a> duk_uint32_t duk__push_this_obj_len_u32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00054">54</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   54</span>                                                                    {</div>
<div class="line"><span class="lineno">   55</span>    duk_uint32_t len;</div>
<div class="line"><span class="lineno">   56</span> </div>
<div class="line"><span class="lineno">   57</span>    (void) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ad71a1b4a7a747956bdc3da53c4426cc3">duk_push_this_coercible_to_object</a>(ctx);</div>
<div class="line"><span class="lineno">   58</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a1549987aa437dbcc45cfb63722c834d6">duk_get_prop_stridx</a>(ctx, -1, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a846c7f411a94ad5b75b2f7a50f7abb50">DUK_STRIDX_LENGTH</a>);</div>
<div class="line"><span class="lineno">   59</span>    len = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa418fc23b85532f124eb2e54696278e2">duk_to_uint32</a>(ctx, -1);</div>
<div class="line"><span class="lineno">   60</span> </div>
<div class="line"><span class="lineno">   61</span>    <span class="comment">/* -&gt; [ ... ToObject(this) ToUint32(length) ] */</span></div>
<div class="line"><span class="lineno">   62</span>    <span class="keywordflow">return</span> len;</div>
<div class="line"><span class="lineno">   63</span>}</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a1549987aa437dbcc45cfb63722c834d6"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a1549987aa437dbcc45cfb63722c834d6">duk_get_prop_stridx</a></div><div class="ttdeci">DUK_INTERNAL_DECL duk_bool_t duk_get_prop_stridx(duk_context *ctx, duk_idx_t obj_index, duk_small_int_t stridx)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14318">duktape-1.5.2/src-noline/duktape.c:14318</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a846c7f411a94ad5b75b2f7a50f7abb50"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a846c7f411a94ad5b75b2f7a50f7abb50">DUK_STRIDX_LENGTH</a></div><div class="ttdeci">#define DUK_STRIDX_LENGTH</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l01134">duktape-1.5.2/src-noline/duktape.c:1134</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_aa418fc23b85532f124eb2e54696278e2"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa418fc23b85532f124eb2e54696278e2">duk_to_uint32</a></div><div class="ttdeci">DUK_EXTERNAL duk_uint32_t duk_to_uint32(duk_context *ctx, duk_idx_t index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l16844">duktape-1.5.2/src-noline/duktape.c:16844</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_ad71a1b4a7a747956bdc3da53c4426cc3"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#ad71a1b4a7a747956bdc3da53c4426cc3">duk_push_this_coercible_to_object</a></div><div class="ttdeci">DUK_INTERNAL_DECL duk_hobject * duk_push_this_coercible_to_object(duk_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l18183">duktape-1.5.2/src-noline/duktape.c:18183</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14318">duk_get_prop_stridx()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l18183">duk_push_this_coercible_to_object()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l01134">DUK_STRIDX_LENGTH</a>, and <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l16844">duk_to_uint32()</a>.</p>

<p class="reference">Referenced by <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00065">duk__push_this_obj_len_u32_limited()</a>, <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01218">duk_bi_array_prototype_iter_shared()</a>, <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00267">duk_bi_array_prototype_join_shared()</a>, <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00350">duk_bi_array_prototype_pop()</a>, <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00370">duk_bi_array_prototype_push()</a>, <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01351">duk_bi_array_prototype_reduce_shared()</a>, <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00900">duk_bi_array_prototype_reverse()</a>, <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01013">duk_bi_array_prototype_shift()</a>, and <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01055">duk_bi_array_prototype_unshift()</a>.</p>

</div>
</div>
<a id="adbab260b4b64aea1d9d86d0e4b903943" name="adbab260b4b64aea1d9d86d0e4b903943"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbab260b4b64aea1d9d86d0e4b903943">&#9670;&#160;</a></span>duk__push_this_obj_len_u32_limited()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a245b431abb36cac1ac8d0eae054ed5c1">DUK_LOCAL</a> duk_uint32_t duk__push_this_obj_len_u32_limited </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00065">65</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   65</span>                                                                            {</div>
<div class="line"><span class="lineno">   66</span>    <span class="comment">/* Range limited to [0, 0x7fffffff] range, i.e. range that can be</span></div>
<div class="line"><span class="lineno">   67</span><span class="comment">     * represented with duk_int32_t.  Use this when the method doesn&#39;t</span></div>
<div class="line"><span class="lineno">   68</span><span class="comment">     * handle the full 32-bit unsigned range correctly.</span></div>
<div class="line"><span class="lineno">   69</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">   70</span>    duk_uint32_t ret = <a class="code hl_function" href="#a98f1b9d6290cd4c65d7bc8cae6d4ac91">duk__push_this_obj_len_u32</a>(ctx);</div>
<div class="line"><span class="lineno">   71</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a6615c9d227b3ed8f7a543fd8e3c5e4c9">DUK_UNLIKELY</a>(ret &gt;= 0x80000000UL)) {</div>
<div class="line"><span class="lineno">   72</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a058cd56ed742ea766d26976d56c159d4">DUK_ERROR_RANGE</a>((<a class="code hl_struct" href="structduk__hthread.html">duk_hthread</a> *) ctx, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a710a8498fe5ef086526c725f002a6b33">DUK_STR_ARRAY_LENGTH_OVER_2G</a>);</div>
<div class="line"><span class="lineno">   73</span>    }</div>
<div class="line"><span class="lineno">   74</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">   75</span>}</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_a6615c9d227b3ed8f7a543fd8e3c5e4c9"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a6615c9d227b3ed8f7a543fd8e3c5e4c9">DUK_UNLIKELY</a></div><div class="ttdeci">#define DUK_UNLIKELY(x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l02518">duktape-1.5.2/src-noline/duk_config.h:2518</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a058cd56ed742ea766d26976d56c159d4"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a058cd56ed742ea766d26976d56c159d4">DUK_ERROR_RANGE</a></div><div class="ttdeci">#define DUK_ERROR_RANGE(thr, msg)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07875">duktape-1.5.2/src-noline/duktape.c:7875</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a710a8498fe5ef086526c725f002a6b33"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a710a8498fe5ef086526c725f002a6b33">DUK_STR_ARRAY_LENGTH_OVER_2G</a></div><div class="ttdeci">#define DUK_STR_ARRAY_LENGTH_OVER_2G</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l02330">duktape-1.5.2/src-noline/duktape.c:2330</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-separate_2duk__bi__array_8c_html_a98f1b9d6290cd4c65d7bc8cae6d4ac91"><div class="ttname"><a href="#a98f1b9d6290cd4c65d7bc8cae6d4ac91">duk__push_this_obj_len_u32</a></div><div class="ttdeci">DUK_LOCAL duk_uint32_t duk__push_this_obj_len_u32(duk_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00054">duktape-1.5.2/src-separate/duk_bi_array.c:54</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00054">duk__push_this_obj_len_u32()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07875">DUK_ERROR_RANGE</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l02330">DUK_STR_ARRAY_LENGTH_OVER_2G</a>, and <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l02518">DUK_UNLIKELY</a>.</p>

<p class="reference">Referenced by <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01117">duk_bi_array_prototype_indexof_shared()</a>, <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00951">duk_bi_array_prototype_slice()</a>, <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00700">duk_bi_array_prototype_sort()</a>, and <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00736">duk_bi_array_prototype_splice()</a>.</p>

</div>
</div>
<a id="ad4953b0b4b929aab1b5fabe24646f883" name="ad4953b0b4b929aab1b5fabe24646f883"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4953b0b4b929aab1b5fabe24646f883">&#9670;&#160;</a></span>duk_bi_array_constructor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a> duk_bi_array_constructor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00081">81</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   81</span>                                                                  {</div>
<div class="line"><span class="lineno">   82</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a> nargs;</div>
<div class="line"><span class="lineno">   83</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a> d;</div>
<div class="line"><span class="lineno">   84</span>    duk_uint32_t len;</div>
<div class="line"><span class="lineno">   85</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a> i;</div>
<div class="line"><span class="lineno">   86</span> </div>
<div class="line"><span class="lineno">   87</span>    nargs = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8c8653fcd951809042c23c42e534c421">duk_get_top</a>(ctx);</div>
<div class="line"><span class="lineno">   88</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#acce5984e6f3a97978d46a8280fcc3fed">duk_push_array</a>(ctx);</div>
<div class="line"><span class="lineno">   89</span> </div>
<div class="line"><span class="lineno">   90</span>    <span class="keywordflow">if</span> (nargs == 1 &amp;&amp; <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a62673f6ee46bd5428e11302ae69e74e7">duk_is_number</a>(ctx, 0)) {</div>
<div class="line"><span class="lineno">   91</span>        <span class="comment">/* XXX: expensive check (also shared elsewhere - so add a shared internal API call?) */</span></div>
<div class="line"><span class="lineno">   92</span>        d = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a20ab640ad6ec8dbc3a8e2651b954e6ef">duk_get_number</a>(ctx, 0);</div>
<div class="line"><span class="lineno">   93</span>        len = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa418fc23b85532f124eb2e54696278e2">duk_to_uint32</a>(ctx, 0);</div>
<div class="line"><span class="lineno">   94</span>        <span class="keywordflow">if</span> (((<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a>) len) != d) {</div>
<div class="line"><span class="lineno">   95</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a7546a68bcdfde55cd362646c614ccd9d">DUK_RET_RANGE_ERROR</a>;</div>
<div class="line"><span class="lineno">   96</span>        }</div>
<div class="line"><span class="lineno">   97</span> </div>
<div class="line"><span class="lineno">   98</span>        <span class="comment">/* XXX: if &#39;len&#39; is low, may want to ensure array part is kept:</span></div>
<div class="line"><span class="lineno">   99</span><span class="comment">         * the caller is likely to want a dense array.</span></div>
<div class="line"><span class="lineno">  100</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  101</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aeec241c8da1fbeaa28b17454e282b8f7">duk_push_u32</a>(ctx, len);</div>
<div class="line"><span class="lineno">  102</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ad56b7a318e093d42e552c2cf25d492e8">duk_xdef_prop_stridx</a>(ctx, -2, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a846c7f411a94ad5b75b2f7a50f7abb50">DUK_STRIDX_LENGTH</a>, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#af12eff8662388e84a80d0f4148ea43e3">DUK_PROPDESC_FLAGS_W</a>);  <span class="comment">/* [ ToUint32(len) array ToUint32(len) ] -&gt; [ ToUint32(len) array ] */</span></div>
<div class="line"><span class="lineno">  103</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  104</span>    }</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>    <span class="comment">/* XXX: optimize by creating array into correct size directly, and</span></div>
<div class="line"><span class="lineno">  107</span><span class="comment">     * operating on the array part directly; values can be memcpy()&#39;d from</span></div>
<div class="line"><span class="lineno">  108</span><span class="comment">     * value stack directly as long as refcounts are increased.</span></div>
<div class="line"><span class="lineno">  109</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  110</span>    <span class="keywordflow">for</span> (i = 0; i &lt; nargs; i++) {</div>
<div class="line"><span class="lineno">  111</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8566105ab847d4151b62c29ceab53a0d">duk_dup</a>(ctx, i);</div>
<div class="line"><span class="lineno">  112</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a341ebf29df938d732ed6805fc1333171">duk_xdef_prop_index_wec</a>(ctx, -2, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) i);</div>
<div class="line"><span class="lineno">  113</span>    }</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aeec241c8da1fbeaa28b17454e282b8f7">duk_push_u32</a>(ctx, (duk_uint32_t) nargs);</div>
<div class="line"><span class="lineno">  116</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ad56b7a318e093d42e552c2cf25d492e8">duk_xdef_prop_stridx</a>(ctx, -2, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a846c7f411a94ad5b75b2f7a50f7abb50">DUK_STRIDX_LENGTH</a>, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#af12eff8662388e84a80d0f4148ea43e3">DUK_PROPDESC_FLAGS_W</a>);</div>
<div class="line"><span class="lineno">  117</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  118</span>}</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a20ab640ad6ec8dbc3a8e2651b954e6ef"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a20ab640ad6ec8dbc3a8e2651b954e6ef">duk_get_number</a></div><div class="ttdeci">DUK_EXTERNAL duk_double_t duk_get_number(duk_context *ctx, duk_idx_t index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15996">duktape-1.5.2/src-noline/duktape.c:15996</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a341ebf29df938d732ed6805fc1333171"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a341ebf29df938d732ed6805fc1333171">duk_xdef_prop_index_wec</a></div><div class="ttdeci">#define duk_xdef_prop_index_wec(ctx, obj_index, arr_index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04369">duktape-1.5.2/src-noline/duktape.c:4369</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a62673f6ee46bd5428e11302ae69e74e7"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a62673f6ee46bd5428e11302ae69e74e7">duk_is_number</a></div><div class="ttdeci">DUK_EXTERNAL duk_bool_t duk_is_number(duk_context *ctx, duk_idx_t index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17629">duktape-1.5.2/src-noline/duktape.c:17629</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a8c8653fcd951809042c23c42e534c421"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8c8653fcd951809042c23c42e534c421">duk_get_top</a></div><div class="ttdeci">DUK_EXTERNAL duk_idx_t duk_get_top(duk_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15204">duktape-1.5.2/src-noline/duktape.c:15204</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_acce5984e6f3a97978d46a8280fcc3fed"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#acce5984e6f3a97978d46a8280fcc3fed">duk_push_array</a></div><div class="ttdeci">DUK_EXTERNAL duk_idx_t duk_push_array(duk_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l18458">duktape-1.5.2/src-noline/duktape.c:18458</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_ad56b7a318e093d42e552c2cf25d492e8"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#ad56b7a318e093d42e552c2cf25d492e8">duk_xdef_prop_stridx</a></div><div class="ttdeci">DUK_INTERNAL_DECL void duk_xdef_prop_stridx(duk_context *ctx, duk_idx_t obj_index, duk_small_int_t stridx, duk_small_uint_t desc_flags)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14559">duktape-1.5.2/src-noline/duktape.c:14559</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_aeec241c8da1fbeaa28b17454e282b8f7"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#aeec241c8da1fbeaa28b17454e282b8f7">duk_push_u32</a></div><div class="ttdeci">#define duk_push_u32(ctx, val)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04264">duktape-1.5.2/src-noline/duktape.c:4264</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_af12eff8662388e84a80d0f4148ea43e3"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#af12eff8662388e84a80d0f4148ea43e3">DUK_PROPDESC_FLAGS_W</a></div><div class="ttdeci">#define DUK_PROPDESC_FLAGS_W</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04881">duktape-1.5.2/src-noline/duktape.c:4881</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8h_html_a7546a68bcdfde55cd362646c614ccd9d"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8h.html#a7546a68bcdfde55cd362646c614ccd9d">DUK_RET_RANGE_ERROR</a></div><div class="ttdeci">#define DUK_RET_RANGE_ERROR</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l00358">duktape-1.5.2/src-noline/duktape.h:358</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15702">duk_dup()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15996">duk_get_number()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15204">duk_get_top()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17629">duk_is_number()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04881">DUK_PROPDESC_FLAGS_W</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l18458">duk_push_array()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04264">duk_push_u32</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l00358">DUK_RET_RANGE_ERROR</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l01134">DUK_STRIDX_LENGTH</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l16844">duk_to_uint32()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04369">duk_xdef_prop_index_wec</a>, and <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14559">duk_xdef_prop_stridx()</a>.</p>

</div>
</div>
<a id="ab819247be10bb9d232c1f9be992cfdb8" name="ab819247be10bb9d232c1f9be992cfdb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab819247be10bb9d232c1f9be992cfdb8">&#9670;&#160;</a></span>duk_bi_array_constructor_is_array()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a> duk_bi_array_constructor_is_array </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00124">124</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  124</span>                                                                           {</div>
<div class="line"><span class="lineno">  125</span>    <a class="code hl_struct" href="structduk__hobject.html">duk_hobject</a> *h;</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>    h = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aee2fd067d472c0b9ca7be27f504cb0e2">duk_get_hobject_with_class</a>(ctx, 0, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a4b9d518cbbdc7303a95eff81d95da25e">DUK_HOBJECT_CLASS_ARRAY</a>);</div>
<div class="line"><span class="lineno">  128</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2c95d944cae60d05c6596ee0cc19d3ee">duk_push_boolean</a>(ctx, (h != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>));</div>
<div class="line"><span class="lineno">  129</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  130</span>}</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a2c95d944cae60d05c6596ee0cc19d3ee"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2c95d944cae60d05c6596ee0cc19d3ee">duk_push_boolean</a></div><div class="ttdeci">DUK_EXTERNAL void duk_push_boolean(duk_context *ctx, duk_bool_t val)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17873">duktape-1.5.2/src-noline/duktape.c:17873</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a4b9d518cbbdc7303a95eff81d95da25e"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a4b9d518cbbdc7303a95eff81d95da25e">DUK_HOBJECT_CLASS_ARRAY</a></div><div class="ttdeci">#define DUK_HOBJECT_CLASS_ARRAY</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04693">duktape-1.5.2/src-noline/duktape.c:4693</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_aee2fd067d472c0b9ca7be27f504cb0e2"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#aee2fd067d472c0b9ca7be27f504cb0e2">duk_get_hobject_with_class</a></div><div class="ttdeci">DUK_INTERNAL_DECL duk_hobject * duk_get_hobject_with_class(duk_context *ctx, duk_idx_t index, duk_small_uint_t classnum)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l16541">duktape-1.5.2/src-noline/duktape.c:16541</a></div></div>
<div class="ttc" id="astructduk__hobject_html"><div class="ttname"><a href="structduk__hobject.html">duk_hobject</a></div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l05328">duktape-1.5.2/src-noline/duktape.c:5328</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l16541">duk_get_hobject_with_class()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04693">DUK_HOBJECT_CLASS_ARRAY</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17873">duk_push_boolean()</a>, and <a class="el" href="gmacros_8h_source.html#l00924">NULL</a>.</p>

</div>
</div>
<a id="a0cff534fe49769b2b0a2faf1aca79dec" name="a0cff534fe49769b2b0a2faf1aca79dec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cff534fe49769b2b0a2faf1aca79dec">&#9670;&#160;</a></span>duk_bi_array_prototype_concat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a> duk_bi_array_prototype_concat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00175">175</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  175</span>                                                                       {</div>
<div class="line"><span class="lineno">  176</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a> i, n;</div>
<div class="line"><span class="lineno">  177</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a> idx, idx_last;</div>
<div class="line"><span class="lineno">  178</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a> j, len;</div>
<div class="line"><span class="lineno">  179</span>    <a class="code hl_struct" href="structduk__hobject.html">duk_hobject</a> *h;</div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span>    <span class="comment">/* XXX: the insert here is a bit expensive if there are a lot of items.</span></div>
<div class="line"><span class="lineno">  182</span><span class="comment">     * It could also be special cased in the outermost for loop quite easily</span></div>
<div class="line"><span class="lineno">  183</span><span class="comment">     * (as the element is dup()&#39;d anyway).</span></div>
<div class="line"><span class="lineno">  184</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  185</span> </div>
<div class="line"><span class="lineno">  186</span>    (void) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ad71a1b4a7a747956bdc3da53c4426cc3">duk_push_this_coercible_to_object</a>(ctx);</div>
<div class="line"><span class="lineno">  187</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a86e82045aad43776c7280e8e689c5158">duk_insert</a>(ctx, 0);</div>
<div class="line"><span class="lineno">  188</span>    n = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8c8653fcd951809042c23c42e534c421">duk_get_top</a>(ctx);</div>
<div class="line"><span class="lineno">  189</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#acce5984e6f3a97978d46a8280fcc3fed">duk_push_array</a>(ctx);  <span class="comment">/* -&gt; [ ToObject(this) item1 ... itemN arr ] */</span></div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>    <span class="comment">/* NOTE: The Array special behaviors are NOT invoked by duk_xdef_prop_index()</span></div>
<div class="line"><span class="lineno">  192</span><span class="comment">     * (which differs from the official algorithm).  If no error is thrown, this</span></div>
<div class="line"><span class="lineno">  193</span><span class="comment">     * doesn&#39;t matter as the length is updated at the end.  However, if an error</span></div>
<div class="line"><span class="lineno">  194</span><span class="comment">     * is thrown, the length will be unset.  That shouldn&#39;t matter because the</span></div>
<div class="line"><span class="lineno">  195</span><span class="comment">     * caller won&#39;t get a reference to the intermediate value.</span></div>
<div class="line"><span class="lineno">  196</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>    idx = 0;</div>
<div class="line"><span class="lineno">  199</span>    idx_last = 0;</div>
<div class="line"><span class="lineno">  200</span>    <span class="keywordflow">for</span> (i = 0; i &lt; n; i++) {</div>
<div class="line"><span class="lineno">  201</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, n + 1);</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>        <span class="comment">/* [ ToObject(this) item1 ... itemN arr ] */</span></div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8566105ab847d4151b62c29ceab53a0d">duk_dup</a>(ctx, i);</div>
<div class="line"><span class="lineno">  206</span>        h = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aee2fd067d472c0b9ca7be27f504cb0e2">duk_get_hobject_with_class</a>(ctx, -1, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a4b9d518cbbdc7303a95eff81d95da25e">DUK_HOBJECT_CLASS_ARRAY</a>);</div>
<div class="line"><span class="lineno">  207</span>        <span class="keywordflow">if</span> (!h) {</div>
<div class="line"><span class="lineno">  208</span>            <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a341ebf29df938d732ed6805fc1333171">duk_xdef_prop_index_wec</a>(ctx, -2, idx++);</div>
<div class="line"><span class="lineno">  209</span>            idx_last = idx;</div>
<div class="line"><span class="lineno">  210</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  211</span>        }</div>
<div class="line"><span class="lineno">  212</span> </div>
<div class="line"><span class="lineno">  213</span>        <span class="comment">/* [ ToObject(this) item1 ... itemN arr item(i) ] */</span></div>
<div class="line"><span class="lineno">  214</span> </div>
<div class="line"><span class="lineno">  215</span>        <span class="comment">/* XXX: an array can have length higher than 32 bits; this is not handled</span></div>
<div class="line"><span class="lineno">  216</span><span class="comment">         * correctly now.</span></div>
<div class="line"><span class="lineno">  217</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  218</span>        len = (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a3ed5f27e2216e110734e3bbe7c91d00c">duk_get_length</a>(ctx, -1);</div>
<div class="line"><span class="lineno">  219</span>        <span class="keywordflow">for</span> (j = 0; j &lt; len; j++) {</div>
<div class="line"><span class="lineno">  220</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9077276f5224f3985b570a4d82322253">duk_get_prop_index</a>(ctx, -1, j)) {</div>
<div class="line"><span class="lineno">  221</span>                <span class="comment">/* [ ToObject(this) item1 ... itemN arr item(i) item(i)[j] ] */</span></div>
<div class="line"><span class="lineno">  222</span>                <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a341ebf29df938d732ed6805fc1333171">duk_xdef_prop_index_wec</a>(ctx, -3, idx++);</div>
<div class="line"><span class="lineno">  223</span>                idx_last = idx;</div>
<div class="line"><span class="lineno">  224</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  225</span>                idx++;</div>
<div class="line"><span class="lineno">  226</span>                <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac8da334e24a5f42f252271161d2116fb">duk_pop</a>(ctx);</div>
<div class="line"><span class="lineno">  227</span><span class="preprocessor">#if defined(DUK_USE_NONSTD_ARRAY_CONCAT_TRAILER)</span></div>
<div class="line"><span class="lineno">  228</span>                <span class="comment">/* According to E5.1 Section 15.4.4.4 nonexistent trailing</span></div>
<div class="line"><span class="lineno">  229</span><span class="comment">                 * elements do not affect &#39;length&#39; of the result.  Test262</span></div>
<div class="line"><span class="lineno">  230</span><span class="comment">                 * and other engines disagree, so update idx_last here too.</span></div>
<div class="line"><span class="lineno">  231</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno">  232</span>                idx_last = idx;</div>
<div class="line"><span class="lineno">  233</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  234</span>                <span class="comment">/* Strict standard behavior, ignore trailing elements for</span></div>
<div class="line"><span class="lineno">  235</span><span class="comment">                 * result &#39;length&#39;.</span></div>
<div class="line"><span class="lineno">  236</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno">  237</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  238</span>            }</div>
<div class="line"><span class="lineno">  239</span>        }</div>
<div class="line"><span class="lineno">  240</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac8da334e24a5f42f252271161d2116fb">duk_pop</a>(ctx);</div>
<div class="line"><span class="lineno">  241</span>    }</div>
<div class="line"><span class="lineno">  242</span> </div>
<div class="line"><span class="lineno">  243</span>    <span class="comment">/* The E5.1 Section 15.4.4.4 algorithm doesn&#39;t set the length explicitly</span></div>
<div class="line"><span class="lineno">  244</span><span class="comment">     * in the end, but because we&#39;re operating with an internal value which</span></div>
<div class="line"><span class="lineno">  245</span><span class="comment">     * is known to be an array, this should be equivalent.</span></div>
<div class="line"><span class="lineno">  246</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  247</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab4d604ca41b3e55feb22ac9f5af8fd6e">duk_push_uarridx</a>(ctx, idx_last);</div>
<div class="line"><span class="lineno">  248</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ad56b7a318e093d42e552c2cf25d492e8">duk_xdef_prop_stridx</a>(ctx, -2, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a846c7f411a94ad5b75b2f7a50f7abb50">DUK_STRIDX_LENGTH</a>, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#af12eff8662388e84a80d0f4148ea43e3">DUK_PROPDESC_FLAGS_W</a>);</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, n + 1);</div>
<div class="line"><span class="lineno">  251</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  252</span>}</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a3ed5f27e2216e110734e3bbe7c91d00c"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a3ed5f27e2216e110734e3bbe7c91d00c">duk_get_length</a></div><div class="ttdeci">DUK_EXTERNAL duk_size_t duk_get_length(duk_context *ctx, duk_idx_t index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l16575">duktape-1.5.2/src-noline/duktape.c:16575</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_ab4d604ca41b3e55feb22ac9f5af8fd6e"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab4d604ca41b3e55feb22ac9f5af8fd6e">duk_push_uarridx</a></div><div class="ttdeci">#define duk_push_uarridx(ctx, val)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04272">duktape-1.5.2/src-noline/duktape.c:4272</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07784">DUK_ASSERT_TOP</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15702">duk_dup()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l16541">duk_get_hobject_with_class()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l16575">duk_get_length()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14310">duk_get_prop_index()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15204">duk_get_top()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04693">DUK_HOBJECT_CLASS_ARRAY</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15740">duk_insert()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l19146">duk_pop()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04881">DUK_PROPDESC_FLAGS_W</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l18458">duk_push_array()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l18183">duk_push_this_coercible_to_object()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04272">duk_push_uarridx</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l01134">DUK_STRIDX_LENGTH</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04369">duk_xdef_prop_index_wec</a>, and <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14559">duk_xdef_prop_stridx()</a>.</p>

</div>
</div>
<a id="a58ddd423423702af85fa97debe69d139" name="a58ddd423423702af85fa97debe69d139"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58ddd423423702af85fa97debe69d139">&#9670;&#160;</a></span>duk_bi_array_prototype_indexof_shared()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a> duk_bi_array_prototype_indexof_shared </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01117">1117</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1117</span>                                                                               {</div>
<div class="line"><span class="lineno"> 1118</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a> nargs;</div>
<div class="line"><span class="lineno"> 1119</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> i, len;</div>
<div class="line"><span class="lineno"> 1120</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> from_index;</div>
<div class="line"><span class="lineno"> 1121</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a041e9b0b2d41c5af8429259808290726">duk_small_int_t</a> idx_step = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#acf451d0ba0fad208572ab5f5c9f092b9">duk_get_current_magic</a>(ctx);  <span class="comment">/* idx_step is +1 for indexOf, -1 for lastIndexOf */</span></div>
<div class="line"><span class="lineno"> 1122</span> </div>
<div class="line"><span class="lineno"> 1123</span>    <span class="comment">/* lastIndexOf() needs to be a vararg function because we must distinguish</span></div>
<div class="line"><span class="lineno"> 1124</span><span class="comment">     * between an undefined fromIndex and a &quot;not given&quot; fromIndex; indexOf() is</span></div>
<div class="line"><span class="lineno"> 1125</span><span class="comment">     * made vararg for symmetry although it doesn&#39;t strictly need to be.</span></div>
<div class="line"><span class="lineno"> 1126</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1127</span> </div>
<div class="line"><span class="lineno"> 1128</span>    nargs = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8c8653fcd951809042c23c42e534c421">duk_get_top</a>(ctx);</div>
<div class="line"><span class="lineno"> 1129</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a808471cbdda897175b2e4d50528c430d">duk_set_top</a>(ctx, 2);</div>
<div class="line"><span class="lineno"> 1130</span> </div>
<div class="line"><span class="lineno"> 1131</span>    <span class="comment">/* XXX: must be able to represent -len */</span></div>
<div class="line"><span class="lineno"> 1132</span>    len = (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a>) <a class="code hl_function" href="#adbab260b4b64aea1d9d86d0e4b903943">duk__push_this_obj_len_u32_limited</a>(ctx);</div>
<div class="line"><span class="lineno"> 1133</span>    <span class="keywordflow">if</span> (len == 0) {</div>
<div class="line"><span class="lineno"> 1134</span>        <span class="keywordflow">goto</span> not_found;</div>
<div class="line"><span class="lineno"> 1135</span>    }</div>
<div class="line"><span class="lineno"> 1136</span> </div>
<div class="line"><span class="lineno"> 1137</span>    <span class="comment">/* Index clamping is a bit tricky, we must ensure that we&#39;ll only iterate</span></div>
<div class="line"><span class="lineno"> 1138</span><span class="comment">     * through elements that exist and that the specific requirements from E5.1</span></div>
<div class="line"><span class="lineno"> 1139</span><span class="comment">     * Sections 15.4.4.14 and 15.4.4.15 are fulfilled; especially:</span></div>
<div class="line"><span class="lineno"> 1140</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno"> 1141</span><span class="comment">     *   - indexOf: clamp to [-len,len], negative handling -&gt; [0,len],</span></div>
<div class="line"><span class="lineno"> 1142</span><span class="comment">     *     if clamped result is len, for-loop bails out immediately</span></div>
<div class="line"><span class="lineno"> 1143</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno"> 1144</span><span class="comment">     *   - lastIndexOf: clamp to [-len-1, len-1], negative handling -&gt; [-1, len-1],</span></div>
<div class="line"><span class="lineno"> 1145</span><span class="comment">     *     if clamped result is -1, for-loop bails out immediately</span></div>
<div class="line"><span class="lineno"> 1146</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno"> 1147</span><span class="comment">     * If fromIndex is not given, ToInteger(undefined) = 0, which is correct</span></div>
<div class="line"><span class="lineno"> 1148</span><span class="comment">     * for indexOf() but incorrect for lastIndexOf().  Hence special handling,</span></div>
<div class="line"><span class="lineno"> 1149</span><span class="comment">     * and why lastIndexOf() needs to be a vararg function.</span></div>
<div class="line"><span class="lineno"> 1150</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1151</span> </div>
<div class="line"><span class="lineno"> 1152</span>    <span class="keywordflow">if</span> (nargs &gt;= 2) {</div>
<div class="line"><span class="lineno"> 1153</span>        <span class="comment">/* indexOf: clamp fromIndex to [-len, len]</span></div>
<div class="line"><span class="lineno"> 1154</span><span class="comment">         * (if fromIndex == len, for-loop terminates directly)</span></div>
<div class="line"><span class="lineno"> 1155</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno"> 1156</span><span class="comment">         * lastIndexOf: clamp fromIndex to [-len - 1, len - 1]</span></div>
<div class="line"><span class="lineno"> 1157</span><span class="comment">         * (if clamped to -len-1 -&gt; fromIndex becomes -1, terminates for-loop directly)</span></div>
<div class="line"><span class="lineno"> 1158</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 1159</span>        from_index = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2a469d9148d5bf602548d99f053ce2d6">duk_to_int_clamped</a>(ctx,</div>
<div class="line"><span class="lineno"> 1160</span>                                        1,</div>
<div class="line"><span class="lineno"> 1161</span>                                        (idx_step &gt; 0 ? -len : -len - 1),</div>
<div class="line"><span class="lineno"> 1162</span>                                        (idx_step &gt; 0 ? len : len - 1));</div>
<div class="line"><span class="lineno"> 1163</span>        <span class="keywordflow">if</span> (from_index &lt; 0) {</div>
<div class="line"><span class="lineno"> 1164</span>            <span class="comment">/* for lastIndexOf, result may be -1 (mark immediate termination) */</span></div>
<div class="line"><span class="lineno"> 1165</span>            from_index = len + from_index;</div>
<div class="line"><span class="lineno"> 1166</span>        }</div>
<div class="line"><span class="lineno"> 1167</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1168</span>        <span class="comment">/* for indexOf, ToInteger(undefined) would be 0, i.e. correct, but</span></div>
<div class="line"><span class="lineno"> 1169</span><span class="comment">         * handle both indexOf and lastIndexOf specially here.</span></div>
<div class="line"><span class="lineno"> 1170</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 1171</span>        <span class="keywordflow">if</span> (idx_step &gt; 0) {</div>
<div class="line"><span class="lineno"> 1172</span>            from_index = 0;</div>
<div class="line"><span class="lineno"> 1173</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1174</span>            from_index = len - 1;</div>
<div class="line"><span class="lineno"> 1175</span>        }</div>
<div class="line"><span class="lineno"> 1176</span>    }</div>
<div class="line"><span class="lineno"> 1177</span> </div>
<div class="line"><span class="lineno"> 1178</span>    <span class="comment">/* stack[0] = searchElement</span></div>
<div class="line"><span class="lineno"> 1179</span><span class="comment">     * stack[1] = fromIndex</span></div>
<div class="line"><span class="lineno"> 1180</span><span class="comment">     * stack[2] = object</span></div>
<div class="line"><span class="lineno"> 1181</span><span class="comment">     * stack[3] = length (not needed, but not popped above)</span></div>
<div class="line"><span class="lineno"> 1182</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1183</span> </div>
<div class="line"><span class="lineno"> 1184</span>    <span class="keywordflow">for</span> (i = from_index; i &gt;= 0 &amp;&amp; i &lt; len; i += idx_step) {</div>
<div class="line"><span class="lineno"> 1185</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, 4);</div>
<div class="line"><span class="lineno"> 1186</span> </div>
<div class="line"><span class="lineno"> 1187</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9077276f5224f3985b570a4d82322253">duk_get_prop_index</a>(ctx, 2, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) i)) {</div>
<div class="line"><span class="lineno"> 1188</span>            <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, 5);</div>
<div class="line"><span class="lineno"> 1189</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac99446839a6e734238f6c63596318bb2">duk_strict_equals</a>(ctx, 0, 4)) {</div>
<div class="line"><span class="lineno"> 1190</span>                <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a5d2b6c5f1be0d673b074d167c9ff7d4d">duk_push_int</a>(ctx, i);</div>
<div class="line"><span class="lineno"> 1191</span>                <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1192</span>            }</div>
<div class="line"><span class="lineno"> 1193</span>        }</div>
<div class="line"><span class="lineno"> 1194</span> </div>
<div class="line"><span class="lineno"> 1195</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac8da334e24a5f42f252271161d2116fb">duk_pop</a>(ctx);</div>
<div class="line"><span class="lineno"> 1196</span>    }</div>
<div class="line"><span class="lineno"> 1197</span> </div>
<div class="line"><span class="lineno"> 1198</span> not_found:</div>
<div class="line"><span class="lineno"> 1199</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a5d2b6c5f1be0d673b074d167c9ff7d4d">duk_push_int</a>(ctx, -1);</div>
<div class="line"><span class="lineno"> 1200</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1201</span>}</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a2a469d9148d5bf602548d99f053ce2d6"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2a469d9148d5bf602548d99f053ce2d6">duk_to_int_clamped</a></div><div class="ttdeci">DUK_INTERNAL_DECL duk_int_t duk_to_int_clamped(duk_context *ctx, duk_idx_t index, duk_int_t minval, duk_int_t maxval)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17080">duktape-1.5.2/src-noline/duktape.c:17080</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a5d2b6c5f1be0d673b074d167c9ff7d4d"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a5d2b6c5f1be0d673b074d167c9ff7d4d">duk_push_int</a></div><div class="ttdeci">DUK_EXTERNAL void duk_push_int(duk_context *ctx, duk_int_t val)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17923">duktape-1.5.2/src-noline/duktape.c:17923</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a808471cbdda897175b2e4d50528c430d"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a808471cbdda897175b2e4d50528c430d">duk_set_top</a></div><div class="ttdeci">DUK_EXTERNAL void duk_set_top(duk_context *ctx, duk_idx_t index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15216">duktape-1.5.2/src-noline/duktape.c:15216</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_ac99446839a6e734238f6c63596318bb2"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac99446839a6e734238f6c63596318bb2">duk_strict_equals</a></div><div class="ttdeci">DUK_EXTERNAL duk_bool_t duk_strict_equals(duk_context *ctx, duk_idx_t index1, duk_idx_t index2)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l19300">duktape-1.5.2/src-noline/duktape.c:19300</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_acf451d0ba0fad208572ab5f5c9f092b9"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#acf451d0ba0fad208572ab5f5c9f092b9">duk_get_current_magic</a></div><div class="ttdeci">DUK_EXTERNAL duk_int_t duk_get_current_magic(duk_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l12817">duktape-1.5.2/src-noline/duktape.c:12817</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-separate_2duk__bi__array_8c_html_adbab260b4b64aea1d9d86d0e4b903943"><div class="ttname"><a href="#adbab260b4b64aea1d9d86d0e4b903943">duk__push_this_obj_len_u32_limited</a></div><div class="ttdeci">DUK_LOCAL duk_uint32_t duk__push_this_obj_len_u32_limited(duk_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00065">duktape-1.5.2/src-separate/duk_bi_array.c:65</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00065">duk__push_this_obj_len_u32_limited()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07784">DUK_ASSERT_TOP</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l12817">duk_get_current_magic()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14310">duk_get_prop_index()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15204">duk_get_top()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l19146">duk_pop()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17923">duk_push_int()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15216">duk_set_top()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l19300">duk_strict_equals()</a>, and <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17080">duk_to_int_clamped()</a>.</p>

</div>
</div>
<a id="aac61d2bb18badfb4af6e5a571cd500a7" name="aac61d2bb18badfb4af6e5a571cd500a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac61d2bb18badfb4af6e5a571cd500a7">&#9670;&#160;</a></span>duk_bi_array_prototype_iter_shared()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a> duk_bi_array_prototype_iter_shared </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01218">1218</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1218</span>                                                                            {</div>
<div class="line"><span class="lineno"> 1219</span>    duk_uint32_t len;</div>
<div class="line"><span class="lineno"> 1220</span>    duk_uint32_t i;</div>
<div class="line"><span class="lineno"> 1221</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a> k;</div>
<div class="line"><span class="lineno"> 1222</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af32ca4c30431e819676401ce2b11c2e7">duk_bool_t</a> bval;</div>
<div class="line"><span class="lineno"> 1223</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a041e9b0b2d41c5af8429259808290726">duk_small_int_t</a> iter_type = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#acf451d0ba0fad208572ab5f5c9f092b9">duk_get_current_magic</a>(ctx);</div>
<div class="line"><span class="lineno"> 1224</span>    duk_uint32_t res_length = 0;</div>
<div class="line"><span class="lineno"> 1225</span> </div>
<div class="line"><span class="lineno"> 1226</span>    <span class="comment">/* each call this helper serves has nargs==2 */</span></div>
<div class="line"><span class="lineno"> 1227</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, 2);</div>
<div class="line"><span class="lineno"> 1228</span> </div>
<div class="line"><span class="lineno"> 1229</span>    len = <a class="code hl_function" href="#a98f1b9d6290cd4c65d7bc8cae6d4ac91">duk__push_this_obj_len_u32</a>(ctx);</div>
<div class="line"><span class="lineno"> 1230</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a3f7ddf02100b286f7a149631ab7afd2b">duk_require_callable</a>(ctx, 0);</div>
<div class="line"><span class="lineno"> 1231</span>    <span class="comment">/* if thisArg not supplied, behave as if undefined was supplied */</span></div>
<div class="line"><span class="lineno"> 1232</span> </div>
<div class="line"><span class="lineno"> 1233</span>    <span class="keywordflow">if</span> (iter_type == <a class="code hl_define" href="#a265b21e27f75282618ee78e12449e1b4">DUK__ITER_MAP</a> || iter_type == <a class="code hl_define" href="#ac5afc6793b242a38e31a6ee487c456ed">DUK__ITER_FILTER</a>) {</div>
<div class="line"><span class="lineno"> 1234</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#acce5984e6f3a97978d46a8280fcc3fed">duk_push_array</a>(ctx);</div>
<div class="line"><span class="lineno"> 1235</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1236</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9e54c2f552800058d06a34af260ead0f">duk_push_undefined</a>(ctx);</div>
<div class="line"><span class="lineno"> 1237</span>    }</div>
<div class="line"><span class="lineno"> 1238</span> </div>
<div class="line"><span class="lineno"> 1239</span>    <span class="comment">/* stack[0] = callback</span></div>
<div class="line"><span class="lineno"> 1240</span><span class="comment">     * stack[1] = thisArg</span></div>
<div class="line"><span class="lineno"> 1241</span><span class="comment">     * stack[2] = object</span></div>
<div class="line"><span class="lineno"> 1242</span><span class="comment">     * stack[3] = ToUint32(length)  (unused, but avoid unnecessary pop)</span></div>
<div class="line"><span class="lineno"> 1243</span><span class="comment">     * stack[4] = result array (or undefined)</span></div>
<div class="line"><span class="lineno"> 1244</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1245</span> </div>
<div class="line"><span class="lineno"> 1246</span>    k = 0;  <span class="comment">/* result index for filter() */</span></div>
<div class="line"><span class="lineno"> 1247</span>    <span class="keywordflow">for</span> (i = 0; i &lt; len; i++) {</div>
<div class="line"><span class="lineno"> 1248</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, 5);</div>
<div class="line"><span class="lineno"> 1249</span> </div>
<div class="line"><span class="lineno"> 1250</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9077276f5224f3985b570a4d82322253">duk_get_prop_index</a>(ctx, 2, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) i)) {</div>
<div class="line"><span class="lineno"> 1251</span><span class="preprocessor">#if defined(DUK_USE_NONSTD_ARRAY_MAP_TRAILER)</span></div>
<div class="line"><span class="lineno"> 1252</span>            <span class="comment">/* Real world behavior for map(): trailing non-existent</span></div>
<div class="line"><span class="lineno"> 1253</span><span class="comment">             * elements don&#39;t invoke the user callback, but are still</span></div>
<div class="line"><span class="lineno"> 1254</span><span class="comment">             * counted towards result &#39;length&#39;.</span></div>
<div class="line"><span class="lineno"> 1255</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno"> 1256</span>            <span class="keywordflow">if</span> (iter_type == <a class="code hl_define" href="#a265b21e27f75282618ee78e12449e1b4">DUK__ITER_MAP</a>) {</div>
<div class="line"><span class="lineno"> 1257</span>                res_length = i + 1;</div>
<div class="line"><span class="lineno"> 1258</span>            }</div>
<div class="line"><span class="lineno"> 1259</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1260</span>            <span class="comment">/* Standard behavior for map(): trailing non-existent</span></div>
<div class="line"><span class="lineno"> 1261</span><span class="comment">             * elements don&#39;t invoke the user callback and are not</span></div>
<div class="line"><span class="lineno"> 1262</span><span class="comment">             * counted towards result &#39;length&#39;.</span></div>
<div class="line"><span class="lineno"> 1263</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno"> 1264</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1265</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac8da334e24a5f42f252271161d2116fb">duk_pop</a>(ctx);</div>
<div class="line"><span class="lineno"> 1266</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1267</span>        }</div>
<div class="line"><span class="lineno"> 1268</span> </div>
<div class="line"><span class="lineno"> 1269</span>        <span class="comment">/* The original value needs to be preserved for filter(), hence</span></div>
<div class="line"><span class="lineno"> 1270</span><span class="comment">         * this funny order.  We can&#39;t re-get the value because of side</span></div>
<div class="line"><span class="lineno"> 1271</span><span class="comment">         * effects.</span></div>
<div class="line"><span class="lineno"> 1272</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 1273</span> </div>
<div class="line"><span class="lineno"> 1274</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8566105ab847d4151b62c29ceab53a0d">duk_dup</a>(ctx, 0);</div>
<div class="line"><span class="lineno"> 1275</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8566105ab847d4151b62c29ceab53a0d">duk_dup</a>(ctx, 1);</div>
<div class="line"><span class="lineno"> 1276</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8566105ab847d4151b62c29ceab53a0d">duk_dup</a>(ctx, -3);</div>
<div class="line"><span class="lineno"> 1277</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aeec241c8da1fbeaa28b17454e282b8f7">duk_push_u32</a>(ctx, i);</div>
<div class="line"><span class="lineno"> 1278</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8566105ab847d4151b62c29ceab53a0d">duk_dup</a>(ctx, 2);  <span class="comment">/* [ ... val callback thisArg val i obj ] */</span></div>
<div class="line"><span class="lineno"> 1279</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa1895eebda0d84c47fe222dc73018319">duk_call_method</a>(ctx, 3); <span class="comment">/* -&gt; [ ... val retval ] */</span></div>
<div class="line"><span class="lineno"> 1280</span> </div>
<div class="line"><span class="lineno"> 1281</span>        <span class="keywordflow">switch</span> (iter_type) {</div>
<div class="line"><span class="lineno"> 1282</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="#a6b05b9c18484dedf16cf6d8e19a9c9ca">DUK__ITER_EVERY</a>:</div>
<div class="line"><span class="lineno"> 1283</span>            bval = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a5211f0cfa2bdf8d8b151157c04a9cdd9">duk_to_boolean</a>(ctx, -1);</div>
<div class="line"><span class="lineno"> 1284</span>            <span class="keywordflow">if</span> (!bval) {</div>
<div class="line"><span class="lineno"> 1285</span>                <span class="comment">/* stack top contains &#39;false&#39; */</span></div>
<div class="line"><span class="lineno"> 1286</span>                <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1287</span>            }</div>
<div class="line"><span class="lineno"> 1288</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1289</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="#a16fea8efe7fd5405c4717680348044be">DUK__ITER_SOME</a>:</div>
<div class="line"><span class="lineno"> 1290</span>            bval = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a5211f0cfa2bdf8d8b151157c04a9cdd9">duk_to_boolean</a>(ctx, -1);</div>
<div class="line"><span class="lineno"> 1291</span>            <span class="keywordflow">if</span> (bval) {</div>
<div class="line"><span class="lineno"> 1292</span>                <span class="comment">/* stack top contains &#39;true&#39; */</span></div>
<div class="line"><span class="lineno"> 1293</span>                <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1294</span>            }</div>
<div class="line"><span class="lineno"> 1295</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1296</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="#a5ac756c8c35d70f58b49621d19413f2c">DUK__ITER_FOREACH</a>:</div>
<div class="line"><span class="lineno"> 1297</span>            <span class="comment">/* nop */</span></div>
<div class="line"><span class="lineno"> 1298</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1299</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="#a265b21e27f75282618ee78e12449e1b4">DUK__ITER_MAP</a>:</div>
<div class="line"><span class="lineno"> 1300</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8566105ab847d4151b62c29ceab53a0d">duk_dup</a>(ctx, -1);</div>
<div class="line"><span class="lineno"> 1301</span>            <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a341ebf29df938d732ed6805fc1333171">duk_xdef_prop_index_wec</a>(ctx, 4, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) i);  <span class="comment">/* retval to result[i] */</span></div>
<div class="line"><span class="lineno"> 1302</span>            res_length = i + 1;</div>
<div class="line"><span class="lineno"> 1303</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1304</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="#ac5afc6793b242a38e31a6ee487c456ed">DUK__ITER_FILTER</a>:</div>
<div class="line"><span class="lineno"> 1305</span>            bval = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a5211f0cfa2bdf8d8b151157c04a9cdd9">duk_to_boolean</a>(ctx, -1);</div>
<div class="line"><span class="lineno"> 1306</span>            <span class="keywordflow">if</span> (bval) {</div>
<div class="line"><span class="lineno"> 1307</span>                <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8566105ab847d4151b62c29ceab53a0d">duk_dup</a>(ctx, -2);  <span class="comment">/* orig value */</span></div>
<div class="line"><span class="lineno"> 1308</span>                <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a341ebf29df938d732ed6805fc1333171">duk_xdef_prop_index_wec</a>(ctx, 4, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) k);</div>
<div class="line"><span class="lineno"> 1309</span>                k++;</div>
<div class="line"><span class="lineno"> 1310</span>                res_length = k;</div>
<div class="line"><span class="lineno"> 1311</span>            }</div>
<div class="line"><span class="lineno"> 1312</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1313</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1314</span>            <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a0f457284c000920f86441b7ca7cbfe08">DUK_UNREACHABLE</a>();</div>
<div class="line"><span class="lineno"> 1315</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1316</span>        }</div>
<div class="line"><span class="lineno"> 1317</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a09f116a4bcf486b3359afaa1abf4bf66">duk_pop_2</a>(ctx);</div>
<div class="line"><span class="lineno"> 1318</span> </div>
<div class="line"><span class="lineno"> 1319</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, 5);</div>
<div class="line"><span class="lineno"> 1320</span>    }</div>
<div class="line"><span class="lineno"> 1321</span> </div>
<div class="line"><span class="lineno"> 1322</span>    <span class="keywordflow">switch</span> (iter_type) {</div>
<div class="line"><span class="lineno"> 1323</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="#a6b05b9c18484dedf16cf6d8e19a9c9ca">DUK__ITER_EVERY</a>:</div>
<div class="line"><span class="lineno"> 1324</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a15ffd0fe14499e381b50b8eda74597f5">duk_push_true</a>(ctx);</div>
<div class="line"><span class="lineno"> 1325</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1326</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="#a16fea8efe7fd5405c4717680348044be">DUK__ITER_SOME</a>:</div>
<div class="line"><span class="lineno"> 1327</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab02dfb1f1c8a82017e4fb2a64a4f2c1d">duk_push_false</a>(ctx);</div>
<div class="line"><span class="lineno"> 1328</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1329</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="#a5ac756c8c35d70f58b49621d19413f2c">DUK__ITER_FOREACH</a>:</div>
<div class="line"><span class="lineno"> 1330</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9e54c2f552800058d06a34af260ead0f">duk_push_undefined</a>(ctx);</div>
<div class="line"><span class="lineno"> 1331</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1332</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="#a265b21e27f75282618ee78e12449e1b4">DUK__ITER_MAP</a>:</div>
<div class="line"><span class="lineno"> 1333</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="#ac5afc6793b242a38e31a6ee487c456ed">DUK__ITER_FILTER</a>:</div>
<div class="line"><span class="lineno"> 1334</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, 5);</div>
<div class="line"><span class="lineno"> 1335</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(<a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa2e00107313027a0c16c6d894f652e30">duk_is_array</a>(ctx, -1));  <span class="comment">/* topmost element is the result array already */</span></div>
<div class="line"><span class="lineno"> 1336</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aeec241c8da1fbeaa28b17454e282b8f7">duk_push_u32</a>(ctx, res_length);</div>
<div class="line"><span class="lineno"> 1337</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ad56b7a318e093d42e552c2cf25d492e8">duk_xdef_prop_stridx</a>(ctx, -2, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a846c7f411a94ad5b75b2f7a50f7abb50">DUK_STRIDX_LENGTH</a>, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#af12eff8662388e84a80d0f4148ea43e3">DUK_PROPDESC_FLAGS_W</a>);</div>
<div class="line"><span class="lineno"> 1338</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1339</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1340</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a0f457284c000920f86441b7ca7cbfe08">DUK_UNREACHABLE</a>();</div>
<div class="line"><span class="lineno"> 1341</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1342</span>    }</div>
<div class="line"><span class="lineno"> 1343</span> </div>
<div class="line"><span class="lineno"> 1344</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1345</span>}</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_a0f457284c000920f86441b7ca7cbfe08"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a0f457284c000920f86441b7ca7cbfe08">DUK_UNREACHABLE</a></div><div class="ttdeci">#define DUK_UNREACHABLE()</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l02504">duktape-1.5.2/src-noline/duk_config.h:2504</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a15ffd0fe14499e381b50b8eda74597f5"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a15ffd0fe14499e381b50b8eda74597f5">duk_push_true</a></div><div class="ttdeci">DUK_EXTERNAL void duk_push_true(duk_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17886">duktape-1.5.2/src-noline/duktape.c:17886</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a5211f0cfa2bdf8d8b151157c04a9cdd9"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a5211f0cfa2bdf8d8b151157c04a9cdd9">duk_to_boolean</a></div><div class="ttdeci">DUK_EXTERNAL duk_bool_t duk_to_boolean(duk_context *ctx, duk_idx_t index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l16744">duktape-1.5.2/src-noline/duktape.c:16744</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a9e54c2f552800058d06a34af260ead0f"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9e54c2f552800058d06a34af260ead0f">duk_push_undefined</a></div><div class="ttdeci">DUK_EXTERNAL void duk_push_undefined(duk_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17848">duktape-1.5.2/src-noline/duktape.c:17848</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_aa1895eebda0d84c47fe222dc73018319"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa1895eebda0d84c47fe222dc73018319">duk_call_method</a></div><div class="ttdeci">DUK_EXTERNAL void duk_call_method(duk_context *ctx, duk_idx_t nargs)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l12389">duktape-1.5.2/src-noline/duktape.c:12389</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_aa2e00107313027a0c16c6d894f652e30"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa2e00107313027a0c16c6d894f652e30">duk_is_array</a></div><div class="ttdeci">DUK_EXTERNAL duk_bool_t duk_is_array(duk_context *ctx, duk_idx_t index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17691">duktape-1.5.2/src-noline/duktape.c:17691</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_ab02dfb1f1c8a82017e4fb2a64a4f2c1d"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab02dfb1f1c8a82017e4fb2a64a4f2c1d">duk_push_false</a></div><div class="ttdeci">DUK_EXTERNAL void duk_push_false(duk_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17897">duktape-1.5.2/src-noline/duktape.c:17897</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8h_html_a3f7ddf02100b286f7a149631ab7afd2b"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8h.html#a3f7ddf02100b286f7a149631ab7afd2b">duk_require_callable</a></div><div class="ttdeci">#define duk_require_callable(ctx, index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l00721">duktape-1.5.2/src-noline/duktape.h:721</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-separate_2duk__bi__array_8c_html_a16fea8efe7fd5405c4717680348044be"><div class="ttname"><a href="#a16fea8efe7fd5405c4717680348044be">DUK__ITER_SOME</a></div><div class="ttdeci">#define DUK__ITER_SOME</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01208">duktape-1.5.2/src-separate/duk_bi_array.c:1208</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-separate_2duk__bi__array_8c_html_a265b21e27f75282618ee78e12449e1b4"><div class="ttname"><a href="#a265b21e27f75282618ee78e12449e1b4">DUK__ITER_MAP</a></div><div class="ttdeci">#define DUK__ITER_MAP</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01210">duktape-1.5.2/src-separate/duk_bi_array.c:1210</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-separate_2duk__bi__array_8c_html_a5ac756c8c35d70f58b49621d19413f2c"><div class="ttname"><a href="#a5ac756c8c35d70f58b49621d19413f2c">DUK__ITER_FOREACH</a></div><div class="ttdeci">#define DUK__ITER_FOREACH</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01209">duktape-1.5.2/src-separate/duk_bi_array.c:1209</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-separate_2duk__bi__array_8c_html_a6b05b9c18484dedf16cf6d8e19a9c9ca"><div class="ttname"><a href="#a6b05b9c18484dedf16cf6d8e19a9c9ca">DUK__ITER_EVERY</a></div><div class="ttdeci">#define DUK__ITER_EVERY</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01207">duktape-1.5.2/src-separate/duk_bi_array.c:1207</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-separate_2duk__bi__array_8c_html_ac5afc6793b242a38e31a6ee487c456ed"><div class="ttname"><a href="#ac5afc6793b242a38e31a6ee487c456ed">DUK__ITER_FILTER</a></div><div class="ttdeci">#define DUK__ITER_FILTER</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01211">duktape-1.5.2/src-separate/duk_bi_array.c:1211</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01207">DUK__ITER_EVERY</a>, <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01211">DUK__ITER_FILTER</a>, <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01209">DUK__ITER_FOREACH</a>, <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01210">DUK__ITER_MAP</a>, <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01208">DUK__ITER_SOME</a>, <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00054">duk__push_this_obj_len_u32()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07755">DUK_ASSERT</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07784">DUK_ASSERT_TOP</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l12389">duk_call_method()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15702">duk_dup()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l12817">duk_get_current_magic()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14310">duk_get_prop_index()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17691">duk_is_array()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l19146">duk_pop()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l19167">duk_pop_2()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04881">DUK_PROPDESC_FLAGS_W</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l18458">duk_push_array()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17897">duk_push_false()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17886">duk_push_true()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04264">duk_push_u32</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17848">duk_push_undefined()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l00721">duk_require_callable</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l01134">DUK_STRIDX_LENGTH</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l16744">duk_to_boolean()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l02504">DUK_UNREACHABLE</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04369">duk_xdef_prop_index_wec</a>, and <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14559">duk_xdef_prop_stridx()</a>.</p>

</div>
</div>
<a id="a21b5ddfb863267e17de0c53b421c68bf" name="a21b5ddfb863267e17de0c53b421c68bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21b5ddfb863267e17de0c53b421c68bf">&#9670;&#160;</a></span>duk_bi_array_prototype_join_shared()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a> duk_bi_array_prototype_join_shared </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00267">267</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  267</span>                                                                            {</div>
<div class="line"><span class="lineno">  268</span>    duk_uint32_t len, count;</div>
<div class="line"><span class="lineno">  269</span>    duk_uint32_t idx;</div>
<div class="line"><span class="lineno">  270</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a041e9b0b2d41c5af8429259808290726">duk_small_int_t</a> to_locale_string = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#acf451d0ba0fad208572ab5f5c9f092b9">duk_get_current_magic</a>(ctx);</div>
<div class="line"><span class="lineno">  271</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a> valstack_required;</div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>    <span class="comment">/* For join(), nargs is 1.  For toLocaleString(), nargs is 0 and</span></div>
<div class="line"><span class="lineno">  274</span><span class="comment">     * setting the top essentially pushes an undefined to the stack,</span></div>
<div class="line"><span class="lineno">  275</span><span class="comment">     * thus defaulting to a comma separator.</span></div>
<div class="line"><span class="lineno">  276</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  277</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a808471cbdda897175b2e4d50528c430d">duk_set_top</a>(ctx, 1);</div>
<div class="line"><span class="lineno">  278</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a10838caaff9e74b1e3904c78df71d53a">duk_is_undefined</a>(ctx, 0)) {</div>
<div class="line"><span class="lineno">  279</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac8da334e24a5f42f252271161d2116fb">duk_pop</a>(ctx);</div>
<div class="line"><span class="lineno">  280</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a42b9810a4cfe02e7f9ff037960edff65">duk_push_hstring_stridx</a>(ctx, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a3d9a30be80315c097f1401a4250be558">DUK_STRIDX_COMMA</a>);</div>
<div class="line"><span class="lineno">  281</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  282</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac44e324c8cc1777c335c7d59a50a4798">duk_to_string</a>(ctx, 0);</div>
<div class="line"><span class="lineno">  283</span>    }</div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span>    len = <a class="code hl_function" href="#a98f1b9d6290cd4c65d7bc8cae6d4ac91">duk__push_this_obj_len_u32</a>(ctx);</div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>    <span class="comment">/* [ sep ToObject(this) len ] */</span></div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;sep=%!T, this=%!T, len=%lu&quot;</span>,</div>
<div class="line"><span class="lineno">  290</span>                         (<a class="code hl_struct" href="structduk__tval__struct.html">duk_tval</a> *) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a>(ctx, 0),</div>
<div class="line"><span class="lineno">  291</span>                         (<a class="code hl_struct" href="structduk__tval__struct.html">duk_tval</a> *) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a>(ctx, 1),</div>
<div class="line"><span class="lineno">  292</span>                         (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) len));</div>
<div class="line"><span class="lineno">  293</span> </div>
<div class="line"><span class="lineno">  294</span>    <span class="comment">/* The extra (+4) is tight. */</span></div>
<div class="line"><span class="lineno">  295</span>    valstack_required = (len &gt;= <a class="code hl_define" href="#aa88a4dc315092fb66985e7a1d610b30c">DUK__ARRAY_MID_JOIN_LIMIT</a> ?</div>
<div class="line"><span class="lineno">  296</span>                         <a class="code hl_define" href="#aa88a4dc315092fb66985e7a1d610b30c">DUK__ARRAY_MID_JOIN_LIMIT</a> : len) + 4;</div>
<div class="line"><span class="lineno">  297</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a47979f7fbd8af168f735efc020c09d62">duk_require_stack</a>(ctx, valstack_required);</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8566105ab847d4151b62c29ceab53a0d">duk_dup</a>(ctx, 0);</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>    <span class="comment">/* [ sep ToObject(this) len sep ] */</span></div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>    count = 0;</div>
<div class="line"><span class="lineno">  304</span>    idx = 0;</div>
<div class="line"><span class="lineno">  305</span>    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><span class="lineno">  306</span>        <span class="keywordflow">if</span> (count &gt;= <a class="code hl_define" href="#aa88a4dc315092fb66985e7a1d610b30c">DUK__ARRAY_MID_JOIN_LIMIT</a> ||   <span class="comment">/* intermediate join to avoid valstack overflow */</span></div>
<div class="line"><span class="lineno">  307</span>            idx &gt;= len) { <span class="comment">/* end of loop (careful with len==0) */</span></div>
<div class="line"><span class="lineno">  308</span>            <span class="comment">/* [ sep ToObject(this) len sep str0 ... str(count-1) ] */</span></div>
<div class="line"><span class="lineno">  309</span>            <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;mid/final join, count=%ld, idx=%ld, len=%ld&quot;</span>,</div>
<div class="line"><span class="lineno">  310</span>                                 (<span class="keywordtype">long</span>) count, (<span class="keywordtype">long</span>) idx, (<span class="keywordtype">long</span>) len));</div>
<div class="line"><span class="lineno">  311</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#af6f19297f8da95fd5c06d78518092dd9">duk_join</a>(ctx, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a>) count);  <span class="comment">/* -&gt; [ sep ToObject(this) len str ] */</span></div>
<div class="line"><span class="lineno">  312</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8566105ab847d4151b62c29ceab53a0d">duk_dup</a>(ctx, 0);                   <span class="comment">/* -&gt; [ sep ToObject(this) len str sep ] */</span></div>
<div class="line"><span class="lineno">  313</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a86e82045aad43776c7280e8e689c5158">duk_insert</a>(ctx, -2);               <span class="comment">/* -&gt; [ sep ToObject(this) len sep str ] */</span></div>
<div class="line"><span class="lineno">  314</span>            count = 1;</div>
<div class="line"><span class="lineno">  315</span>        }</div>
<div class="line"><span class="lineno">  316</span>        <span class="keywordflow">if</span> (idx &gt;= len) {</div>
<div class="line"><span class="lineno">  317</span>            <span class="comment">/* if true, the stack already contains the final result */</span></div>
<div class="line"><span class="lineno">  318</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  319</span>        }</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9077276f5224f3985b570a4d82322253">duk_get_prop_index</a>(ctx, 1, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) idx);</div>
<div class="line"><span class="lineno">  322</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#abacfd014626d6dbb967d303ab0097437">duk_is_null_or_undefined</a>(ctx, -1)) {</div>
<div class="line"><span class="lineno">  323</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac8da334e24a5f42f252271161d2116fb">duk_pop</a>(ctx);</div>
<div class="line"><span class="lineno">  324</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a42b9810a4cfe02e7f9ff037960edff65">duk_push_hstring_stridx</a>(ctx, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8203e3cac3140d5fd71912fd11acbcef">DUK_STRIDX_EMPTY_STRING</a>);</div>
<div class="line"><span class="lineno">  325</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  326</span>            <span class="keywordflow">if</span> (to_locale_string) {</div>
<div class="line"><span class="lineno">  327</span>                <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#abedffa4c88f9473587621bf0240ac2e6">duk_to_object</a>(ctx, -1);</div>
<div class="line"><span class="lineno">  328</span>                <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a1549987aa437dbcc45cfb63722c834d6">duk_get_prop_stridx</a>(ctx, -1, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a030a6aff65dfb404133ed8d275c4ff3a">DUK_STRIDX_TO_LOCALE_STRING</a>);</div>
<div class="line"><span class="lineno">  329</span>                <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a86e82045aad43776c7280e8e689c5158">duk_insert</a>(ctx, -2);  <span class="comment">/* -&gt; [ ... toLocaleString ToObject(val) ] */</span></div>
<div class="line"><span class="lineno">  330</span>                <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa1895eebda0d84c47fe222dc73018319">duk_call_method</a>(ctx, 0);</div>
<div class="line"><span class="lineno">  331</span>                <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac44e324c8cc1777c335c7d59a50a4798">duk_to_string</a>(ctx, -1);</div>
<div class="line"><span class="lineno">  332</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  333</span>                <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac44e324c8cc1777c335c7d59a50a4798">duk_to_string</a>(ctx, -1);</div>
<div class="line"><span class="lineno">  334</span>            }</div>
<div class="line"><span class="lineno">  335</span>        }</div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span>        count++;</div>
<div class="line"><span class="lineno">  338</span>        idx++;</div>
<div class="line"><span class="lineno">  339</span>    }</div>
<div class="line"><span class="lineno">  340</span> </div>
<div class="line"><span class="lineno">  341</span>    <span class="comment">/* [ sep ToObject(this) len sep result ] */</span></div>
<div class="line"><span class="lineno">  342</span> </div>
<div class="line"><span class="lineno">  343</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  344</span>}</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a030a6aff65dfb404133ed8d275c4ff3a"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a030a6aff65dfb404133ed8d275c4ff3a">DUK_STRIDX_TO_LOCALE_STRING</a></div><div class="ttdeci">#define DUK_STRIDX_TO_LOCALE_STRING</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l00996">duktape-1.5.2/src-noline/duktape.c:996</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a3d9a30be80315c097f1401a4250be558"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a3d9a30be80315c097f1401a4250be558">DUK_STRIDX_COMMA</a></div><div class="ttdeci">#define DUK_STRIDX_COMMA</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l01065">duktape-1.5.2/src-noline/duktape.c:1065</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a42b9810a4cfe02e7f9ff037960edff65"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a42b9810a4cfe02e7f9ff037960edff65">duk_push_hstring_stridx</a></div><div class="ttdeci">DUK_INTERNAL_DECL void duk_push_hstring_stridx(duk_context *ctx, duk_small_int_t stridx)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l19052">duktape-1.5.2/src-noline/duktape.c:19052</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a47979f7fbd8af168f735efc020c09d62"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a47979f7fbd8af168f735efc020c09d62">duk_require_stack</a></div><div class="ttdeci">DUK_EXTERNAL void duk_require_stack(duk_context *ctx, duk_idx_t extra)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15612">duktape-1.5.2/src-noline/duktape.c:15612</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a8203e3cac3140d5fd71912fd11acbcef"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8203e3cac3140d5fd71912fd11acbcef">DUK_STRIDX_EMPTY_STRING</a></div><div class="ttdeci">#define DUK_STRIDX_EMPTY_STRING</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l00921">duktape-1.5.2/src-noline/duktape.c:921</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_abacfd014626d6dbb967d303ab0097437"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#abacfd014626d6dbb967d303ab0097437">duk_is_null_or_undefined</a></div><div class="ttdeci">DUK_EXTERNAL duk_bool_t duk_is_null_or_undefined(duk_context *ctx, duk_idx_t index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17610">duktape-1.5.2/src-noline/duktape.c:17610</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_abedffa4c88f9473587621bf0240ac2e6"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#abedffa4c88f9473587621bf0240ac2e6">duk_to_object</a></div><div class="ttdeci">DUK_EXTERNAL void duk_to_object(duk_context *ctx, duk_idx_t index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17299">duktape-1.5.2/src-noline/duktape.c:17299</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_ac44e324c8cc1777c335c7d59a50a4798"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac44e324c8cc1777c335c7d59a50a4798">duk_to_string</a></div><div class="ttdeci">DUK_EXTERNAL const char * duk_to_string(duk_context *ctx, duk_idx_t index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17089">duktape-1.5.2/src-noline/duktape.c:17089</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_af6f19297f8da95fd5c06d78518092dd9"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#af6f19297f8da95fd5c06d78518092dd9">duk_join</a></div><div class="ttdeci">DUK_EXTERNAL void duk_join(duk_context *ctx, duk_idx_t count)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l19646">duktape-1.5.2/src-noline/duktape.c:19646</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-separate_2duk__bi__array_8c_html_aa88a4dc315092fb66985e7a1d610b30c"><div class="ttname"><a href="#aa88a4dc315092fb66985e7a1d610b30c">DUK__ARRAY_MID_JOIN_LIMIT</a></div><div class="ttdeci">#define DUK__ARRAY_MID_JOIN_LIMIT</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00049">duktape-1.5.2/src-separate/duk_bi_array.c:49</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00049">DUK__ARRAY_MID_JOIN_LIMIT</a>, <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00054">duk__push_this_obj_len_u32()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l12389">duk_call_method()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07497">DUK_DDD</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07509">DUK_DDDPRINT</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15702">duk_dup()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l12817">duk_get_current_magic()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14310">duk_get_prop_index()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14318">duk_get_prop_stridx()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15121">duk_get_tval()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15740">duk_insert()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17610">duk_is_null_or_undefined()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17600">duk_is_undefined()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l19646">duk_join()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l19146">duk_pop()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l19052">duk_push_hstring_stridx()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15612">duk_require_stack()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15216">duk_set_top()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l01065">DUK_STRIDX_COMMA</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l00921">DUK_STRIDX_EMPTY_STRING</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l00996">DUK_STRIDX_TO_LOCALE_STRING</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17299">duk_to_object()</a>, and <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17089">duk_to_string()</a>.</p>

</div>
</div>
<a id="a3d64018302ad3c25ce7b58259e5c958f" name="a3d64018302ad3c25ce7b58259e5c958f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d64018302ad3c25ce7b58259e5c958f">&#9670;&#160;</a></span>duk_bi_array_prototype_pop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a> duk_bi_array_prototype_pop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00350">350</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  350</span>                                                                    {</div>
<div class="line"><span class="lineno">  351</span>    duk_uint32_t len;</div>
<div class="line"><span class="lineno">  352</span>    duk_uint32_t idx;</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, 0);</div>
<div class="line"><span class="lineno">  355</span>    len = <a class="code hl_function" href="#a98f1b9d6290cd4c65d7bc8cae6d4ac91">duk__push_this_obj_len_u32</a>(ctx);</div>
<div class="line"><span class="lineno">  356</span>    <span class="keywordflow">if</span> (len == 0) {</div>
<div class="line"><span class="lineno">  357</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a5d2b6c5f1be0d673b074d167c9ff7d4d">duk_push_int</a>(ctx, 0);</div>
<div class="line"><span class="lineno">  358</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a10d47af3b4037f03aed29def292d3dda">duk_put_prop_stridx</a>(ctx, 0, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a846c7f411a94ad5b75b2f7a50f7abb50">DUK_STRIDX_LENGTH</a>);</div>
<div class="line"><span class="lineno">  359</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  360</span>    }</div>
<div class="line"><span class="lineno">  361</span>    idx = len - 1;</div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9077276f5224f3985b570a4d82322253">duk_get_prop_index</a>(ctx, 0, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) idx);</div>
<div class="line"><span class="lineno">  364</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a19e15ce2de5329aadd210d11d347d4a1">duk_del_prop_index</a>(ctx, 0, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) idx);</div>
<div class="line"><span class="lineno">  365</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aeec241c8da1fbeaa28b17454e282b8f7">duk_push_u32</a>(ctx, idx);</div>
<div class="line"><span class="lineno">  366</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a10d47af3b4037f03aed29def292d3dda">duk_put_prop_stridx</a>(ctx, 0, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a846c7f411a94ad5b75b2f7a50f7abb50">DUK_STRIDX_LENGTH</a>);</div>
<div class="line"><span class="lineno">  367</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  368</span>}</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a10d47af3b4037f03aed29def292d3dda"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a10d47af3b4037f03aed29def292d3dda">duk_put_prop_stridx</a></div><div class="ttdeci">DUK_INTERNAL_DECL duk_bool_t duk_put_prop_stridx(duk_context *ctx, duk_idx_t obj_index, duk_small_int_t stridx)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14404">duktape-1.5.2/src-noline/duktape.c:14404</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00054">duk__push_this_obj_len_u32()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07784">DUK_ASSERT_TOP</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14450">duk_del_prop_index()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14310">duk_get_prop_index()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17923">duk_push_int()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04264">duk_push_u32</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14404">duk_put_prop_stridx()</a>, and <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l01134">DUK_STRIDX_LENGTH</a>.</p>

</div>
</div>
<a id="a72b5d5538f0a422edfab676a8c6b6097" name="a72b5d5538f0a422edfab676a8c6b6097"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72b5d5538f0a422edfab676a8c6b6097">&#9670;&#160;</a></span>duk_bi_array_prototype_push()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a> duk_bi_array_prototype_push </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00370">370</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  370</span>                                                                     {</div>
<div class="line"><span class="lineno">  371</span>    <span class="comment">/* Note: &#39;this&#39; is not necessarily an Array object.  The push()</span></div>
<div class="line"><span class="lineno">  372</span><span class="comment">     * algorithm is supposed to work for other kinds of objects too,</span></div>
<div class="line"><span class="lineno">  373</span><span class="comment">     * so the algorithm has e.g. an explicit update for the &#39;length&#39;</span></div>
<div class="line"><span class="lineno">  374</span><span class="comment">     * property which is normally &quot;magical&quot; in arrays.</span></div>
<div class="line"><span class="lineno">  375</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  376</span> </div>
<div class="line"><span class="lineno">  377</span>    duk_uint32_t len;</div>
<div class="line"><span class="lineno">  378</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a> i, n;</div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>    n = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8c8653fcd951809042c23c42e534c421">duk_get_top</a>(ctx);</div>
<div class="line"><span class="lineno">  381</span>    len = <a class="code hl_function" href="#a98f1b9d6290cd4c65d7bc8cae6d4ac91">duk__push_this_obj_len_u32</a>(ctx);</div>
<div class="line"><span class="lineno">  382</span> </div>
<div class="line"><span class="lineno">  383</span>    <span class="comment">/* [ arg1 ... argN obj length ] */</span></div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span>    <span class="comment">/* Technically Array.prototype.push() can create an Array with length</span></div>
<div class="line"><span class="lineno">  386</span><span class="comment">     * longer than 2^32-1, i.e. outside the 32-bit range.  The final length</span></div>
<div class="line"><span class="lineno">  387</span><span class="comment">     * is *not* wrapped to 32 bits in the specification.</span></div>
<div class="line"><span class="lineno">  388</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno">  389</span><span class="comment">     * This implementation tracks length with a uint32 because it&#39;s much</span></div>
<div class="line"><span class="lineno">  390</span><span class="comment">     * more practical.</span></div>
<div class="line"><span class="lineno">  391</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno">  392</span><span class="comment">     * See: test-bi-array-push-maxlen.js.</span></div>
<div class="line"><span class="lineno">  393</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  394</span> </div>
<div class="line"><span class="lineno">  395</span>    <span class="keywordflow">if</span> (len + (duk_uint32_t) n &lt; len) {</div>
<div class="line"><span class="lineno">  396</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9e1528b8eb0a41bc4b37a09a77961e6c">DUK_D</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a50dbac8614f67a4a6d575791664ebc07">DUK_DPRINT</a>(<span class="stringliteral">&quot;Array.prototype.push() would go beyond 32-bit length, throw&quot;</span>));</div>
<div class="line"><span class="lineno">  397</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a7546a68bcdfde55cd362646c614ccd9d">DUK_RET_RANGE_ERROR</a>;</div>
<div class="line"><span class="lineno">  398</span>    }</div>
<div class="line"><span class="lineno">  399</span> </div>
<div class="line"><span class="lineno">  400</span>    <span class="keywordflow">for</span> (i = 0; i &lt; n; i++) {</div>
<div class="line"><span class="lineno">  401</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8566105ab847d4151b62c29ceab53a0d">duk_dup</a>(ctx, i);</div>
<div class="line"><span class="lineno">  402</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2e084d5315f93ecef64a4bdb9ef67ae2">duk_put_prop_index</a>(ctx, -3, len + i);</div>
<div class="line"><span class="lineno">  403</span>    }</div>
<div class="line"><span class="lineno">  404</span>    len += n;</div>
<div class="line"><span class="lineno">  405</span> </div>
<div class="line"><span class="lineno">  406</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aeec241c8da1fbeaa28b17454e282b8f7">duk_push_u32</a>(ctx, len);</div>
<div class="line"><span class="lineno">  407</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a61b0d6037d3c794c7547a9527711e0bb">duk_dup_top</a>(ctx);</div>
<div class="line"><span class="lineno">  408</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a10d47af3b4037f03aed29def292d3dda">duk_put_prop_stridx</a>(ctx, -4, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a846c7f411a94ad5b75b2f7a50f7abb50">DUK_STRIDX_LENGTH</a>);</div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>    <span class="comment">/* [ arg1 ... argN obj length new_length ] */</span></div>
<div class="line"><span class="lineno">  411</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  412</span>}</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a50dbac8614f67a4a6d575791664ebc07"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a50dbac8614f67a4a6d575791664ebc07">DUK_DPRINT</a></div><div class="ttdeci">#define DUK_DPRINT</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07507">duktape-1.5.2/src-noline/duktape.c:7507</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a61b0d6037d3c794c7547a9527711e0bb"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a61b0d6037d3c794c7547a9527711e0bb">duk_dup_top</a></div><div class="ttdeci">DUK_EXTERNAL void duk_dup_top(duk_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15719">duktape-1.5.2/src-noline/duktape.c:15719</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a9e1528b8eb0a41bc4b37a09a77961e6c"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9e1528b8eb0a41bc4b37a09a77961e6c">DUK_D</a></div><div class="ttdeci">#define DUK_D(x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07495">duktape-1.5.2/src-noline/duktape.c:7495</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00054">duk__push_this_obj_len_u32()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07495">DUK_D</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07507">DUK_DPRINT</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15702">duk_dup()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15719">duk_dup_top()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15204">duk_get_top()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04264">duk_push_u32</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14396">duk_put_prop_index()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14404">duk_put_prop_stridx()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l00358">DUK_RET_RANGE_ERROR</a>, and <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l01134">DUK_STRIDX_LENGTH</a>.</p>

</div>
</div>
<a id="ac0f85470c9f388d6d46bcdb01be1f595" name="ac0f85470c9f388d6d46bcdb01be1f595"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0f85470c9f388d6d46bcdb01be1f595">&#9670;&#160;</a></span>duk_bi_array_prototype_reduce_shared()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a> duk_bi_array_prototype_reduce_shared </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01351">1351</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1351</span>                                                                              {</div>
<div class="line"><span class="lineno"> 1352</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a> nargs;</div>
<div class="line"><span class="lineno"> 1353</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af32ca4c30431e819676401ce2b11c2e7">duk_bool_t</a> have_acc;</div>
<div class="line"><span class="lineno"> 1354</span>    duk_uint32_t i, len;</div>
<div class="line"><span class="lineno"> 1355</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a041e9b0b2d41c5af8429259808290726">duk_small_int_t</a> idx_step = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#acf451d0ba0fad208572ab5f5c9f092b9">duk_get_current_magic</a>(ctx);  <span class="comment">/* idx_step is +1 for reduce, -1 for reduceRight */</span></div>
<div class="line"><span class="lineno"> 1356</span> </div>
<div class="line"><span class="lineno"> 1357</span>    <span class="comment">/* We&#39;re a varargs function because we need to detect whether</span></div>
<div class="line"><span class="lineno"> 1358</span><span class="comment">     * initialValue was given or not.</span></div>
<div class="line"><span class="lineno"> 1359</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1360</span>    nargs = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8c8653fcd951809042c23c42e534c421">duk_get_top</a>(ctx);</div>
<div class="line"><span class="lineno"> 1361</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;nargs=%ld&quot;</span>, (<span class="keywordtype">long</span>) nargs));</div>
<div class="line"><span class="lineno"> 1362</span> </div>
<div class="line"><span class="lineno"> 1363</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a808471cbdda897175b2e4d50528c430d">duk_set_top</a>(ctx, 2);</div>
<div class="line"><span class="lineno"> 1364</span>    len = <a class="code hl_function" href="#a98f1b9d6290cd4c65d7bc8cae6d4ac91">duk__push_this_obj_len_u32</a>(ctx);</div>
<div class="line"><span class="lineno"> 1365</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#acf46529096afea16e3f59b7f20100301">duk_is_callable</a>(ctx, 0)) {</div>
<div class="line"><span class="lineno"> 1366</span>        <span class="keywordflow">goto</span> type_error;</div>
<div class="line"><span class="lineno"> 1367</span>    }</div>
<div class="line"><span class="lineno"> 1368</span> </div>
<div class="line"><span class="lineno"> 1369</span>    <span class="comment">/* stack[0] = callback fn</span></div>
<div class="line"><span class="lineno"> 1370</span><span class="comment">     * stack[1] = initialValue</span></div>
<div class="line"><span class="lineno"> 1371</span><span class="comment">     * stack[2] = object (coerced this)</span></div>
<div class="line"><span class="lineno"> 1372</span><span class="comment">     * stack[3] = length (not needed, but not popped above)</span></div>
<div class="line"><span class="lineno"> 1373</span><span class="comment">     * stack[4] = accumulator</span></div>
<div class="line"><span class="lineno"> 1374</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1375</span> </div>
<div class="line"><span class="lineno"> 1376</span>    have_acc = 0;</div>
<div class="line"><span class="lineno"> 1377</span>    <span class="keywordflow">if</span> (nargs &gt;= 2) {</div>
<div class="line"><span class="lineno"> 1378</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8566105ab847d4151b62c29ceab53a0d">duk_dup</a>(ctx, 1);</div>
<div class="line"><span class="lineno"> 1379</span>        have_acc = 1;</div>
<div class="line"><span class="lineno"> 1380</span>    }</div>
<div class="line"><span class="lineno"> 1381</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;have_acc=%ld, acc=%!T&quot;</span>,</div>
<div class="line"><span class="lineno"> 1382</span>                         (<span class="keywordtype">long</span>) have_acc, (<a class="code hl_struct" href="structduk__tval__struct.html">duk_tval</a> *) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a>(ctx, 3)));</div>
<div class="line"><span class="lineno"> 1383</span> </div>
<div class="line"><span class="lineno"> 1384</span>    <span class="comment">/* For len == 0, i is initialized to len - 1 which underflows.</span></div>
<div class="line"><span class="lineno"> 1385</span><span class="comment">     * The condition (i &lt; len) will then exit the for-loop on the</span></div>
<div class="line"><span class="lineno"> 1386</span><span class="comment">     * first round which is correct.  Similarly, loop termination</span></div>
<div class="line"><span class="lineno"> 1387</span><span class="comment">     * happens by i underflowing.</span></div>
<div class="line"><span class="lineno"> 1388</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1389</span> </div>
<div class="line"><span class="lineno"> 1390</span>    <span class="keywordflow">for</span> (i = (idx_step &gt;= 0 ? 0 : len - 1);</div>
<div class="line"><span class="lineno"> 1391</span>         i &lt; len;  <span class="comment">/* i &gt;= 0 would always be true */</span></div>
<div class="line"><span class="lineno"> 1392</span>         i += idx_step) {</div>
<div class="line"><span class="lineno"> 1393</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;i=%ld, len=%ld, have_acc=%ld, top=%ld, acc=%!T&quot;</span>,</div>
<div class="line"><span class="lineno"> 1394</span>                             (<span class="keywordtype">long</span>) i, (<span class="keywordtype">long</span>) len, (<span class="keywordtype">long</span>) have_acc,</div>
<div class="line"><span class="lineno"> 1395</span>                             (<span class="keywordtype">long</span>) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8c8653fcd951809042c23c42e534c421">duk_get_top</a>(ctx),</div>
<div class="line"><span class="lineno"> 1396</span>                             (<a class="code hl_struct" href="structduk__tval__struct.html">duk_tval</a> *) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a>(ctx, 4)));</div>
<div class="line"><span class="lineno"> 1397</span> </div>
<div class="line"><span class="lineno"> 1398</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>((have_acc &amp;&amp; <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8c8653fcd951809042c23c42e534c421">duk_get_top</a>(ctx) == 5) ||</div>
<div class="line"><span class="lineno"> 1399</span>                   (!have_acc &amp;&amp; <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8c8653fcd951809042c23c42e534c421">duk_get_top</a>(ctx) == 4));</div>
<div class="line"><span class="lineno"> 1400</span> </div>
<div class="line"><span class="lineno"> 1401</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a1ffe6761de2d91ae4b8f79de6f67457e">duk_has_prop_index</a>(ctx, 2, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) i)) {</div>
<div class="line"><span class="lineno"> 1402</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1403</span>        }</div>
<div class="line"><span class="lineno"> 1404</span> </div>
<div class="line"><span class="lineno"> 1405</span>        <span class="keywordflow">if</span> (!have_acc) {</div>
<div class="line"><span class="lineno"> 1406</span>            <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, 4);</div>
<div class="line"><span class="lineno"> 1407</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9077276f5224f3985b570a4d82322253">duk_get_prop_index</a>(ctx, 2, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) i);</div>
<div class="line"><span class="lineno"> 1408</span>            have_acc = 1;</div>
<div class="line"><span class="lineno"> 1409</span>            <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, 5);</div>
<div class="line"><span class="lineno"> 1410</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1411</span>            <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, 5);</div>
<div class="line"><span class="lineno"> 1412</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8566105ab847d4151b62c29ceab53a0d">duk_dup</a>(ctx, 0);</div>
<div class="line"><span class="lineno"> 1413</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8566105ab847d4151b62c29ceab53a0d">duk_dup</a>(ctx, 4);</div>
<div class="line"><span class="lineno"> 1414</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9077276f5224f3985b570a4d82322253">duk_get_prop_index</a>(ctx, 2, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) i);</div>
<div class="line"><span class="lineno"> 1415</span>            <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aeec241c8da1fbeaa28b17454e282b8f7">duk_push_u32</a>(ctx, i);</div>
<div class="line"><span class="lineno"> 1416</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8566105ab847d4151b62c29ceab53a0d">duk_dup</a>(ctx, 2);</div>
<div class="line"><span class="lineno"> 1417</span>            <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;calling reduce function: func=%!T, prev=%!T, curr=%!T, idx=%!T, obj=%!T&quot;</span>,</div>
<div class="line"><span class="lineno"> 1418</span>                                 (<a class="code hl_struct" href="structduk__tval__struct.html">duk_tval</a> *) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a>(ctx, -5), (<a class="code hl_struct" href="structduk__tval__struct.html">duk_tval</a> *) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a>(ctx, -4),</div>
<div class="line"><span class="lineno"> 1419</span>                                 (<a class="code hl_struct" href="structduk__tval__struct.html">duk_tval</a> *) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a>(ctx, -3), (<a class="code hl_struct" href="structduk__tval__struct.html">duk_tval</a> *) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a>(ctx, -2),</div>
<div class="line"><span class="lineno"> 1420</span>                                 (<a class="code hl_struct" href="structduk__tval__struct.html">duk_tval</a> *) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a>(ctx, -1)));</div>
<div class="line"><span class="lineno"> 1421</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab7781c0c62f694e9a356cdb8decdaa78">duk_call</a>(ctx, 4);</div>
<div class="line"><span class="lineno"> 1422</span>            <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;-&gt; result: %!T&quot;</span>, (<a class="code hl_struct" href="structduk__tval__struct.html">duk_tval</a> *) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a>(ctx, -1)));</div>
<div class="line"><span class="lineno"> 1423</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a690921ea90be3a0cb5483cb80f9c3439">duk_replace</a>(ctx, 4);</div>
<div class="line"><span class="lineno"> 1424</span>            <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, 5);</div>
<div class="line"><span class="lineno"> 1425</span>        }</div>
<div class="line"><span class="lineno"> 1426</span>    }</div>
<div class="line"><span class="lineno"> 1427</span> </div>
<div class="line"><span class="lineno"> 1428</span>    <span class="keywordflow">if</span> (!have_acc) {</div>
<div class="line"><span class="lineno"> 1429</span>        <span class="keywordflow">goto</span> type_error;</div>
<div class="line"><span class="lineno"> 1430</span>    }</div>
<div class="line"><span class="lineno"> 1431</span> </div>
<div class="line"><span class="lineno"> 1432</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, 5);</div>
<div class="line"><span class="lineno"> 1433</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1434</span> </div>
<div class="line"><span class="lineno"> 1435</span> type_error:</div>
<div class="line"><span class="lineno"> 1436</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a56f85f8e2627dbcfa5575c3b57ad652b">DUK_RET_TYPE_ERROR</a>;</div>
<div class="line"><span class="lineno"> 1437</span>}</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a1ffe6761de2d91ae4b8f79de6f67457e"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a1ffe6761de2d91ae4b8f79de6f67457e">duk_has_prop_index</a></div><div class="ttdeci">DUK_EXTERNAL duk_bool_t duk_has_prop_index(duk_context *ctx, duk_idx_t obj_index, duk_uarridx_t arr_index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14502">duktape-1.5.2/src-noline/duktape.c:14502</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a690921ea90be3a0cb5483cb80f9c3439"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a690921ea90be3a0cb5483cb80f9c3439">duk_replace</a></div><div class="ttdeci">DUK_EXTERNAL void duk_replace(duk_context *ctx, duk_idx_t to_index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15780">duktape-1.5.2/src-noline/duktape.c:15780</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8h_html_a56f85f8e2627dbcfa5575c3b57ad652b"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8h.html#a56f85f8e2627dbcfa5575c3b57ad652b">DUK_RET_TYPE_ERROR</a></div><div class="ttdeci">#define DUK_RET_TYPE_ERROR</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l00361">duktape-1.5.2/src-noline/duktape.h:361</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8h_html_acf46529096afea16e3f59b7f20100301"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8h.html#acf46529096afea16e3f59b7f20100301">duk_is_callable</a></div><div class="ttdeci">#define duk_is_callable(ctx, index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l00636">duktape-1.5.2/src-noline/duktape.h:636</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00054">duk__push_this_obj_len_u32()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07755">DUK_ASSERT</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07784">DUK_ASSERT_TOP</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l12362">duk_call()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07497">DUK_DDD</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07509">DUK_DDDPRINT</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15702">duk_dup()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l12817">duk_get_current_magic()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14310">duk_get_prop_index()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15204">duk_get_top()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15121">duk_get_tval()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14502">duk_has_prop_index()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l00636">duk_is_callable</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04264">duk_push_u32</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15780">duk_replace()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l00361">DUK_RET_TYPE_ERROR</a>, and <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15216">duk_set_top()</a>.</p>

</div>
</div>
<a id="a781bd7acc240dc8c3fa1d5d43c8d4ee4" name="a781bd7acc240dc8c3fa1d5d43c8d4ee4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a781bd7acc240dc8c3fa1d5d43c8d4ee4">&#9670;&#160;</a></span>duk_bi_array_prototype_reverse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a> duk_bi_array_prototype_reverse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00900">900</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  900</span>                                                                        {</div>
<div class="line"><span class="lineno">  901</span>    duk_uint32_t len;</div>
<div class="line"><span class="lineno">  902</span>    duk_uint32_t middle;</div>
<div class="line"><span class="lineno">  903</span>    duk_uint32_t lower, upper;</div>
<div class="line"><span class="lineno">  904</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af32ca4c30431e819676401ce2b11c2e7">duk_bool_t</a> have_lower, have_upper;</div>
<div class="line"><span class="lineno">  905</span> </div>
<div class="line"><span class="lineno">  906</span>    len = <a class="code hl_function" href="#a98f1b9d6290cd4c65d7bc8cae6d4ac91">duk__push_this_obj_len_u32</a>(ctx);</div>
<div class="line"><span class="lineno">  907</span>    middle = len / 2;</div>
<div class="line"><span class="lineno">  908</span> </div>
<div class="line"><span class="lineno">  909</span>    <span class="comment">/* If len &lt;= 1, middle will be 0 and for-loop bails out</span></div>
<div class="line"><span class="lineno">  910</span><span class="comment">     * immediately (0 &lt; 0 -&gt; false).</span></div>
<div class="line"><span class="lineno">  911</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  912</span> </div>
<div class="line"><span class="lineno">  913</span>    <span class="keywordflow">for</span> (lower = 0; lower &lt; middle; lower++) {</div>
<div class="line"><span class="lineno">  914</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(len &gt;= 2);</div>
<div class="line"><span class="lineno">  915</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, 2);</div>
<div class="line"><span class="lineno">  916</span> </div>
<div class="line"><span class="lineno">  917</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(len &gt;= lower + 1);</div>
<div class="line"><span class="lineno">  918</span>        upper = len - lower - 1;</div>
<div class="line"><span class="lineno">  919</span> </div>
<div class="line"><span class="lineno">  920</span>        have_lower = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9077276f5224f3985b570a4d82322253">duk_get_prop_index</a>(ctx, -2, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) lower);</div>
<div class="line"><span class="lineno">  921</span>        have_upper = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9077276f5224f3985b570a4d82322253">duk_get_prop_index</a>(ctx, -3, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) upper);</div>
<div class="line"><span class="lineno">  922</span> </div>
<div class="line"><span class="lineno">  923</span>        <span class="comment">/* [ ToObject(this) ToUint32(length) lowerValue upperValue ] */</span></div>
<div class="line"><span class="lineno">  924</span> </div>
<div class="line"><span class="lineno">  925</span>        <span class="keywordflow">if</span> (have_upper) {</div>
<div class="line"><span class="lineno">  926</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2e084d5315f93ecef64a4bdb9ef67ae2">duk_put_prop_index</a>(ctx, -4, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) lower);</div>
<div class="line"><span class="lineno">  927</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  928</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a19e15ce2de5329aadd210d11d347d4a1">duk_del_prop_index</a>(ctx, -4, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) lower);</div>
<div class="line"><span class="lineno">  929</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac8da334e24a5f42f252271161d2116fb">duk_pop</a>(ctx);</div>
<div class="line"><span class="lineno">  930</span>        }</div>
<div class="line"><span class="lineno">  931</span> </div>
<div class="line"><span class="lineno">  932</span>        <span class="keywordflow">if</span> (have_lower) {</div>
<div class="line"><span class="lineno">  933</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2e084d5315f93ecef64a4bdb9ef67ae2">duk_put_prop_index</a>(ctx, -3, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) upper);</div>
<div class="line"><span class="lineno">  934</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  935</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a19e15ce2de5329aadd210d11d347d4a1">duk_del_prop_index</a>(ctx, -3, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) upper);</div>
<div class="line"><span class="lineno">  936</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac8da334e24a5f42f252271161d2116fb">duk_pop</a>(ctx);</div>
<div class="line"><span class="lineno">  937</span>        }</div>
<div class="line"><span class="lineno">  938</span> </div>
<div class="line"><span class="lineno">  939</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, 2);</div>
<div class="line"><span class="lineno">  940</span>    }</div>
<div class="line"><span class="lineno">  941</span> </div>
<div class="line"><span class="lineno">  942</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, 2);</div>
<div class="line"><span class="lineno">  943</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac8da334e24a5f42f252271161d2116fb">duk_pop</a>(ctx);  <span class="comment">/* -&gt; [ ToObject(this) ] */</span></div>
<div class="line"><span class="lineno">  944</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  945</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00054">duk__push_this_obj_len_u32()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07755">DUK_ASSERT</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07784">DUK_ASSERT_TOP</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14450">duk_del_prop_index()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14310">duk_get_prop_index()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l19146">duk_pop()</a>, and <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14396">duk_put_prop_index()</a>.</p>

</div>
</div>
<a id="a3b69c5a84c31bf2be7586d4fed269b39" name="a3b69c5a84c31bf2be7586d4fed269b39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b69c5a84c31bf2be7586d4fed269b39">&#9670;&#160;</a></span>duk_bi_array_prototype_shift()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a> duk_bi_array_prototype_shift </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01013">1013</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1013</span>                                                                      {</div>
<div class="line"><span class="lineno"> 1014</span>    duk_uint32_t len;</div>
<div class="line"><span class="lineno"> 1015</span>    duk_uint32_t i;</div>
<div class="line"><span class="lineno"> 1016</span> </div>
<div class="line"><span class="lineno"> 1017</span>    len = <a class="code hl_function" href="#a98f1b9d6290cd4c65d7bc8cae6d4ac91">duk__push_this_obj_len_u32</a>(ctx);</div>
<div class="line"><span class="lineno"> 1018</span>    <span class="keywordflow">if</span> (len == 0) {</div>
<div class="line"><span class="lineno"> 1019</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a5d2b6c5f1be0d673b074d167c9ff7d4d">duk_push_int</a>(ctx, 0);</div>
<div class="line"><span class="lineno"> 1020</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a10d47af3b4037f03aed29def292d3dda">duk_put_prop_stridx</a>(ctx, 0, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a846c7f411a94ad5b75b2f7a50f7abb50">DUK_STRIDX_LENGTH</a>);</div>
<div class="line"><span class="lineno"> 1021</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1022</span>    }</div>
<div class="line"><span class="lineno"> 1023</span> </div>
<div class="line"><span class="lineno"> 1024</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9077276f5224f3985b570a4d82322253">duk_get_prop_index</a>(ctx, 0, 0);</div>
<div class="line"><span class="lineno"> 1025</span> </div>
<div class="line"><span class="lineno"> 1026</span>    <span class="comment">/* stack[0] = object (this)</span></div>
<div class="line"><span class="lineno"> 1027</span><span class="comment">     * stack[1] = ToUint32(length)</span></div>
<div class="line"><span class="lineno"> 1028</span><span class="comment">     * stack[2] = elem at index 0 (retval)</span></div>
<div class="line"><span class="lineno"> 1029</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1030</span> </div>
<div class="line"><span class="lineno"> 1031</span>    <span class="keywordflow">for</span> (i = 1; i &lt; len; i++) {</div>
<div class="line"><span class="lineno"> 1032</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, 3);</div>
<div class="line"><span class="lineno"> 1033</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9077276f5224f3985b570a4d82322253">duk_get_prop_index</a>(ctx, 0, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) i)) {</div>
<div class="line"><span class="lineno"> 1034</span>            <span class="comment">/* fromPresent = true */</span></div>
<div class="line"><span class="lineno"> 1035</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2e084d5315f93ecef64a4bdb9ef67ae2">duk_put_prop_index</a>(ctx, 0, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) (i - 1));</div>
<div class="line"><span class="lineno"> 1036</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1037</span>            <span class="comment">/* fromPresent = false */</span></div>
<div class="line"><span class="lineno"> 1038</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a19e15ce2de5329aadd210d11d347d4a1">duk_del_prop_index</a>(ctx, 0, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) (i - 1));</div>
<div class="line"><span class="lineno"> 1039</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac8da334e24a5f42f252271161d2116fb">duk_pop</a>(ctx);</div>
<div class="line"><span class="lineno"> 1040</span>        }</div>
<div class="line"><span class="lineno"> 1041</span>    }</div>
<div class="line"><span class="lineno"> 1042</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a19e15ce2de5329aadd210d11d347d4a1">duk_del_prop_index</a>(ctx, 0, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) (len - 1));</div>
<div class="line"><span class="lineno"> 1043</span> </div>
<div class="line"><span class="lineno"> 1044</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aeec241c8da1fbeaa28b17454e282b8f7">duk_push_u32</a>(ctx, (duk_uint32_t) (len - 1));</div>
<div class="line"><span class="lineno"> 1045</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a10d47af3b4037f03aed29def292d3dda">duk_put_prop_stridx</a>(ctx, 0, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a846c7f411a94ad5b75b2f7a50f7abb50">DUK_STRIDX_LENGTH</a>);</div>
<div class="line"><span class="lineno"> 1046</span> </div>
<div class="line"><span class="lineno"> 1047</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, 3);</div>
<div class="line"><span class="lineno"> 1048</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1049</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00054">duk__push_this_obj_len_u32()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07784">DUK_ASSERT_TOP</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14450">duk_del_prop_index()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14310">duk_get_prop_index()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l19146">duk_pop()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17923">duk_push_int()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04264">duk_push_u32</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14396">duk_put_prop_index()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14404">duk_put_prop_stridx()</a>, and <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l01134">DUK_STRIDX_LENGTH</a>.</p>

</div>
</div>
<a id="a52c5dff105b8bc90b03178cc69275a51" name="a52c5dff105b8bc90b03178cc69275a51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52c5dff105b8bc90b03178cc69275a51">&#9670;&#160;</a></span>duk_bi_array_prototype_slice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a> duk_bi_array_prototype_slice </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00951">951</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  951</span>                                                                      {</div>
<div class="line"><span class="lineno">  952</span>    duk_uint32_t len;</div>
<div class="line"><span class="lineno">  953</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> start, end;</div>
<div class="line"><span class="lineno">  954</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> i;</div>
<div class="line"><span class="lineno">  955</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a> idx;</div>
<div class="line"><span class="lineno">  956</span>    duk_uint32_t res_length = 0;</div>
<div class="line"><span class="lineno">  957</span> </div>
<div class="line"><span class="lineno">  958</span>    <span class="comment">/* XXX: len &gt;= 0x80000000 won&#39;t work below because we need to be</span></div>
<div class="line"><span class="lineno">  959</span><span class="comment">     * able to represent -len.</span></div>
<div class="line"><span class="lineno">  960</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  961</span>    len = <a class="code hl_function" href="#adbab260b4b64aea1d9d86d0e4b903943">duk__push_this_obj_len_u32_limited</a>(ctx);</div>
<div class="line"><span class="lineno">  962</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#acce5984e6f3a97978d46a8280fcc3fed">duk_push_array</a>(ctx);</div>
<div class="line"><span class="lineno">  963</span> </div>
<div class="line"><span class="lineno">  964</span>    <span class="comment">/* stack[0] = start</span></div>
<div class="line"><span class="lineno">  965</span><span class="comment">     * stack[1] = end</span></div>
<div class="line"><span class="lineno">  966</span><span class="comment">     * stack[2] = ToObject(this)</span></div>
<div class="line"><span class="lineno">  967</span><span class="comment">     * stack[3] = ToUint32(length)</span></div>
<div class="line"><span class="lineno">  968</span><span class="comment">     * stack[4] = result array</span></div>
<div class="line"><span class="lineno">  969</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  970</span> </div>
<div class="line"><span class="lineno">  971</span>    start = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2a469d9148d5bf602548d99f053ce2d6">duk_to_int_clamped</a>(ctx, 0, -((<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a>) len), (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a>) len);</div>
<div class="line"><span class="lineno">  972</span>    <span class="keywordflow">if</span> (start &lt; 0) {</div>
<div class="line"><span class="lineno">  973</span>        start = len + start;</div>
<div class="line"><span class="lineno">  974</span>    }</div>
<div class="line"><span class="lineno">  975</span>    <span class="comment">/* XXX: could duk_is_undefined() provide defaulting undefined to &#39;len&#39;</span></div>
<div class="line"><span class="lineno">  976</span><span class="comment">     * (the upper limit)?</span></div>
<div class="line"><span class="lineno">  977</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  978</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a10838caaff9e74b1e3904c78df71d53a">duk_is_undefined</a>(ctx, 1)) {</div>
<div class="line"><span class="lineno">  979</span>        end = len;</div>
<div class="line"><span class="lineno">  980</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  981</span>        end = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2a469d9148d5bf602548d99f053ce2d6">duk_to_int_clamped</a>(ctx, 1, -((<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a>) len), (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a>) len);</div>
<div class="line"><span class="lineno">  982</span>        <span class="keywordflow">if</span> (end &lt; 0) {</div>
<div class="line"><span class="lineno">  983</span>            end = len + end;</div>
<div class="line"><span class="lineno">  984</span>        }</div>
<div class="line"><span class="lineno">  985</span>    }</div>
<div class="line"><span class="lineno">  986</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(start &gt;= 0 &amp;&amp; (duk_uint32_t) start &lt;= len);</div>
<div class="line"><span class="lineno">  987</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(end &gt;= 0 &amp;&amp; (duk_uint32_t) end &lt;= len);</div>
<div class="line"><span class="lineno">  988</span> </div>
<div class="line"><span class="lineno">  989</span>    idx = 0;</div>
<div class="line"><span class="lineno">  990</span>    <span class="keywordflow">for</span> (i = start; i &lt; end; i++) {</div>
<div class="line"><span class="lineno">  991</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, 5);</div>
<div class="line"><span class="lineno">  992</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9077276f5224f3985b570a4d82322253">duk_get_prop_index</a>(ctx, 2, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) i)) {</div>
<div class="line"><span class="lineno">  993</span>            <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a341ebf29df938d732ed6805fc1333171">duk_xdef_prop_index_wec</a>(ctx, 4, idx);</div>
<div class="line"><span class="lineno">  994</span>            res_length = idx + 1;</div>
<div class="line"><span class="lineno">  995</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  996</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac8da334e24a5f42f252271161d2116fb">duk_pop</a>(ctx);</div>
<div class="line"><span class="lineno">  997</span>        }</div>
<div class="line"><span class="lineno">  998</span>        idx++;</div>
<div class="line"><span class="lineno">  999</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, 5);</div>
<div class="line"><span class="lineno"> 1000</span>    }</div>
<div class="line"><span class="lineno"> 1001</span> </div>
<div class="line"><span class="lineno"> 1002</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aeec241c8da1fbeaa28b17454e282b8f7">duk_push_u32</a>(ctx, res_length);</div>
<div class="line"><span class="lineno"> 1003</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ad56b7a318e093d42e552c2cf25d492e8">duk_xdef_prop_stridx</a>(ctx, 4, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a846c7f411a94ad5b75b2f7a50f7abb50">DUK_STRIDX_LENGTH</a>, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#af12eff8662388e84a80d0f4148ea43e3">DUK_PROPDESC_FLAGS_W</a>);</div>
<div class="line"><span class="lineno"> 1004</span> </div>
<div class="line"><span class="lineno"> 1005</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, 5);</div>
<div class="line"><span class="lineno"> 1006</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1007</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00065">duk__push_this_obj_len_u32_limited()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07755">DUK_ASSERT</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07784">DUK_ASSERT_TOP</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14310">duk_get_prop_index()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17600">duk_is_undefined()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l19146">duk_pop()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04881">DUK_PROPDESC_FLAGS_W</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l18458">duk_push_array()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04264">duk_push_u32</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l01134">DUK_STRIDX_LENGTH</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17080">duk_to_int_clamped()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04369">duk_xdef_prop_index_wec</a>, and <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14559">duk_xdef_prop_stridx()</a>.</p>

</div>
</div>
<a id="a0ed8a2c592a783c15a0de756f061a54a" name="a0ed8a2c592a783c15a0de756f061a54a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ed8a2c592a783c15a0de756f061a54a">&#9670;&#160;</a></span>duk_bi_array_prototype_sort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a> duk_bi_array_prototype_sort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00700">700</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  700</span>                                                                     {</div>
<div class="line"><span class="lineno">  701</span>    duk_uint32_t len;</div>
<div class="line"><span class="lineno">  702</span> </div>
<div class="line"><span class="lineno">  703</span>    <span class="comment">/* XXX: len &gt;= 0x80000000 won&#39;t work below because a signed type</span></div>
<div class="line"><span class="lineno">  704</span><span class="comment">     * is needed by qsort.</span></div>
<div class="line"><span class="lineno">  705</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  706</span>    len = <a class="code hl_function" href="#adbab260b4b64aea1d9d86d0e4b903943">duk__push_this_obj_len_u32_limited</a>(ctx);</div>
<div class="line"><span class="lineno">  707</span> </div>
<div class="line"><span class="lineno">  708</span>    <span class="comment">/* stack[0] = compareFn</span></div>
<div class="line"><span class="lineno">  709</span><span class="comment">     * stack[1] = ToObject(this)</span></div>
<div class="line"><span class="lineno">  710</span><span class="comment">     * stack[2] = ToUint32(length)</span></div>
<div class="line"><span class="lineno">  711</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  712</span> </div>
<div class="line"><span class="lineno">  713</span>    <span class="keywordflow">if</span> (len &gt; 0) {</div>
<div class="line"><span class="lineno">  714</span>        <span class="comment">/* avoid degenerate cases, so that (len - 1) won&#39;t underflow */</span></div>
<div class="line"><span class="lineno">  715</span>        <a class="code hl_function" href="#adfad86edfba1208da5c864c6f7ed5572">duk__array_qsort</a>(ctx, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a>) 0, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a>) (len - 1));</div>
<div class="line"><span class="lineno">  716</span>    }</div>
<div class="line"><span class="lineno">  717</span> </div>
<div class="line"><span class="lineno">  718</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, 3);</div>
<div class="line"><span class="lineno">  719</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac8da334e24a5f42f252271161d2116fb">duk_pop</a>(ctx);</div>
<div class="line"><span class="lineno">  720</span>    <span class="keywordflow">return</span> 1;  <span class="comment">/* return ToObject(this) */</span></div>
<div class="line"><span class="lineno">  721</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00602">duk__array_qsort()</a>, <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00065">duk__push_this_obj_len_u32_limited()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07784">DUK_ASSERT_TOP</a>, and <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l19146">duk_pop()</a>.</p>

</div>
</div>
<a id="af7a5bf24c017e831bce59862de042d6c" name="af7a5bf24c017e831bce59862de042d6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7a5bf24c017e831bce59862de042d6c">&#9670;&#160;</a></span>duk_bi_array_prototype_splice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a> duk_bi_array_prototype_splice </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00736">736</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  736</span>                                                                       {</div>
<div class="line"><span class="lineno">  737</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a> nargs;</div>
<div class="line"><span class="lineno">  738</span>    duk_uint32_t len;</div>
<div class="line"><span class="lineno">  739</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af32ca4c30431e819676401ce2b11c2e7">duk_bool_t</a> have_delcount;</div>
<div class="line"><span class="lineno">  740</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> item_count;</div>
<div class="line"><span class="lineno">  741</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> act_start;</div>
<div class="line"><span class="lineno">  742</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> del_count;</div>
<div class="line"><span class="lineno">  743</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> i, n;</div>
<div class="line"><span class="lineno">  744</span> </div>
<div class="line"><span class="lineno">  745</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9170138f330dbcaabfae9d2c59cc9684">DUK_UNREF</a>(have_delcount);</div>
<div class="line"><span class="lineno">  746</span> </div>
<div class="line"><span class="lineno">  747</span>    nargs = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8c8653fcd951809042c23c42e534c421">duk_get_top</a>(ctx);</div>
<div class="line"><span class="lineno">  748</span>    <span class="keywordflow">if</span> (nargs &lt; 2) {</div>
<div class="line"><span class="lineno">  749</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a808471cbdda897175b2e4d50528c430d">duk_set_top</a>(ctx, 2);</div>
<div class="line"><span class="lineno">  750</span>        nargs = 2;</div>
<div class="line"><span class="lineno">  751</span>        have_delcount = 0;</div>
<div class="line"><span class="lineno">  752</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  753</span>        have_delcount = 1;</div>
<div class="line"><span class="lineno">  754</span>    }</div>
<div class="line"><span class="lineno">  755</span> </div>
<div class="line"><span class="lineno">  756</span>    <span class="comment">/* XXX: len &gt;= 0x80000000 won&#39;t work below because we need to be</span></div>
<div class="line"><span class="lineno">  757</span><span class="comment">     * able to represent -len.</span></div>
<div class="line"><span class="lineno">  758</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  759</span>    len = <a class="code hl_function" href="#adbab260b4b64aea1d9d86d0e4b903943">duk__push_this_obj_len_u32_limited</a>(ctx);</div>
<div class="line"><span class="lineno">  760</span> </div>
<div class="line"><span class="lineno">  761</span>    act_start = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2a469d9148d5bf602548d99f053ce2d6">duk_to_int_clamped</a>(ctx, 0, -((<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a>) len), (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a>) len);</div>
<div class="line"><span class="lineno">  762</span>    <span class="keywordflow">if</span> (act_start &lt; 0) {</div>
<div class="line"><span class="lineno">  763</span>        act_start = len + act_start;</div>
<div class="line"><span class="lineno">  764</span>    }</div>
<div class="line"><span class="lineno">  765</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(act_start &gt;= 0 &amp;&amp; act_start &lt;= (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a>) len);</div>
<div class="line"><span class="lineno">  766</span> </div>
<div class="line"><span class="lineno">  767</span><span class="preprocessor">#ifdef DUK_USE_NONSTD_ARRAY_SPLICE_DELCOUNT</span></div>
<div class="line"><span class="lineno">  768</span>    <span class="keywordflow">if</span> (have_delcount) {</div>
<div class="line"><span class="lineno">  769</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  770</span>        del_count = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2a469d9148d5bf602548d99f053ce2d6">duk_to_int_clamped</a>(ctx, 1, 0, len - act_start);</div>
<div class="line"><span class="lineno">  771</span><span class="preprocessor">#ifdef DUK_USE_NONSTD_ARRAY_SPLICE_DELCOUNT</span></div>
<div class="line"><span class="lineno">  772</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  773</span>        <span class="comment">/* E5.1 standard behavior when deleteCount is not given would be</span></div>
<div class="line"><span class="lineno">  774</span><span class="comment">         * to treat it just like if &#39;undefined&#39; was given, which coerces</span></div>
<div class="line"><span class="lineno">  775</span><span class="comment">         * ultimately to 0.  Real world behavior is to splice to the end</span></div>
<div class="line"><span class="lineno">  776</span><span class="comment">         * of array, see test-bi-array-proto-splice-no-delcount.js.</span></div>
<div class="line"><span class="lineno">  777</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  778</span>        del_count = len - act_start;</div>
<div class="line"><span class="lineno">  779</span>    }</div>
<div class="line"><span class="lineno">  780</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  781</span> </div>
<div class="line"><span class="lineno">  782</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(nargs &gt;= 2);</div>
<div class="line"><span class="lineno">  783</span>    item_count = (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a>) (nargs - 2);</div>
<div class="line"><span class="lineno">  784</span> </div>
<div class="line"><span class="lineno">  785</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(del_count &gt;= 0 &amp;&amp; del_count &lt;= (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a>) len - act_start);</div>
<div class="line"><span class="lineno">  786</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(del_count + act_start &lt;= (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a>) len);</div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span>    <span class="comment">/* For now, restrict result array into 32-bit length range. */</span></div>
<div class="line"><span class="lineno">  789</span>    <span class="keywordflow">if</span> (((<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a>) len) - ((<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a>) del_count) + ((<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a>) item_count) &gt; (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a>) <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a992ae923a8767c4099c2a7c9fe1ecb0b">DUK_UINT32_MAX</a>) {</div>
<div class="line"><span class="lineno">  790</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9e1528b8eb0a41bc4b37a09a77961e6c">DUK_D</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a50dbac8614f67a4a6d575791664ebc07">DUK_DPRINT</a>(<span class="stringliteral">&quot;Array.prototype.splice() would go beyond 32-bit length, throw&quot;</span>));</div>
<div class="line"><span class="lineno">  791</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a7546a68bcdfde55cd362646c614ccd9d">DUK_RET_RANGE_ERROR</a>;</div>
<div class="line"><span class="lineno">  792</span>    }</div>
<div class="line"><span class="lineno">  793</span> </div>
<div class="line"><span class="lineno">  794</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#acce5984e6f3a97978d46a8280fcc3fed">duk_push_array</a>(ctx);</div>
<div class="line"><span class="lineno">  795</span> </div>
<div class="line"><span class="lineno">  796</span>    <span class="comment">/* stack[0] = start</span></div>
<div class="line"><span class="lineno">  797</span><span class="comment">     * stack[1] = deleteCount</span></div>
<div class="line"><span class="lineno">  798</span><span class="comment">     * stack[2...nargs-1] = items</span></div>
<div class="line"><span class="lineno">  799</span><span class="comment">     * stack[nargs] = ToObject(this)               -3</span></div>
<div class="line"><span class="lineno">  800</span><span class="comment">     * stack[nargs+1] = ToUint32(length)           -2</span></div>
<div class="line"><span class="lineno">  801</span><span class="comment">     * stack[nargs+2] = result array               -1</span></div>
<div class="line"><span class="lineno">  802</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  803</span> </div>
<div class="line"><span class="lineno">  804</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, nargs + 3);</div>
<div class="line"><span class="lineno">  805</span> </div>
<div class="line"><span class="lineno">  806</span>    <span class="comment">/* Step 9: copy elements-to-be-deleted into the result array */</span></div>
<div class="line"><span class="lineno">  807</span> </div>
<div class="line"><span class="lineno">  808</span>    <span class="keywordflow">for</span> (i = 0; i &lt; del_count; i++) {</div>
<div class="line"><span class="lineno">  809</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9077276f5224f3985b570a4d82322253">duk_get_prop_index</a>(ctx, -3, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) (act_start + i))) {</div>
<div class="line"><span class="lineno">  810</span>            <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a341ebf29df938d732ed6805fc1333171">duk_xdef_prop_index_wec</a>(ctx, -2, i);  <span class="comment">/* throw flag irrelevant (false in std alg) */</span></div>
<div class="line"><span class="lineno">  811</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  812</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac8da334e24a5f42f252271161d2116fb">duk_pop</a>(ctx);</div>
<div class="line"><span class="lineno">  813</span>        }</div>
<div class="line"><span class="lineno">  814</span>    }</div>
<div class="line"><span class="lineno">  815</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aeec241c8da1fbeaa28b17454e282b8f7">duk_push_u32</a>(ctx, (duk_uint32_t) del_count);</div>
<div class="line"><span class="lineno">  816</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ad56b7a318e093d42e552c2cf25d492e8">duk_xdef_prop_stridx</a>(ctx, -2, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a846c7f411a94ad5b75b2f7a50f7abb50">DUK_STRIDX_LENGTH</a>, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#af12eff8662388e84a80d0f4148ea43e3">DUK_PROPDESC_FLAGS_W</a>);</div>
<div class="line"><span class="lineno">  817</span> </div>
<div class="line"><span class="lineno">  818</span>    <span class="comment">/* Steps 12 and 13: reorganize elements to make room for itemCount elements */</span></div>
<div class="line"><span class="lineno">  819</span> </div>
<div class="line"><span class="lineno">  820</span>    <span class="keywordflow">if</span> (item_count &lt; del_count) {</div>
<div class="line"><span class="lineno">  821</span>        <span class="comment">/*    [ A B C D E F G H ]    rel_index = 2, del_count 3, item count 1</span></div>
<div class="line"><span class="lineno">  822</span><span class="comment">         * -&gt; [ A B F G H ]          (conceptual intermediate step)</span></div>
<div class="line"><span class="lineno">  823</span><span class="comment">         * -&gt; [ A B . F G H ]        (placeholder marked)</span></div>
<div class="line"><span class="lineno">  824</span><span class="comment">         *    [ A B C F G H ]        (actual result at this point, C will be replaced)</span></div>
<div class="line"><span class="lineno">  825</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  826</span> </div>
<div class="line"><span class="lineno">  827</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, nargs + 3);</div>
<div class="line"><span class="lineno">  828</span> </div>
<div class="line"><span class="lineno">  829</span>        n = len - del_count;</div>
<div class="line"><span class="lineno">  830</span>        <span class="keywordflow">for</span> (i = act_start; i &lt; n; i++) {</div>
<div class="line"><span class="lineno">  831</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9077276f5224f3985b570a4d82322253">duk_get_prop_index</a>(ctx, -3, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) (i + del_count))) {</div>
<div class="line"><span class="lineno">  832</span>                <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2e084d5315f93ecef64a4bdb9ef67ae2">duk_put_prop_index</a>(ctx, -4, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) (i + item_count));</div>
<div class="line"><span class="lineno">  833</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  834</span>                <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac8da334e24a5f42f252271161d2116fb">duk_pop</a>(ctx);</div>
<div class="line"><span class="lineno">  835</span>                <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a19e15ce2de5329aadd210d11d347d4a1">duk_del_prop_index</a>(ctx, -3, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) (i + item_count));</div>
<div class="line"><span class="lineno">  836</span>            }</div>
<div class="line"><span class="lineno">  837</span>        }</div>
<div class="line"><span class="lineno">  838</span> </div>
<div class="line"><span class="lineno">  839</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, nargs + 3);</div>
<div class="line"><span class="lineno">  840</span> </div>
<div class="line"><span class="lineno">  841</span>        <span class="comment">/* loop iterator init and limit changed from standard algorithm */</span></div>
<div class="line"><span class="lineno">  842</span>        n = len - del_count + item_count;</div>
<div class="line"><span class="lineno">  843</span>        <span class="keywordflow">for</span> (i = len - 1; i &gt;= n; i--) {</div>
<div class="line"><span class="lineno">  844</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a19e15ce2de5329aadd210d11d347d4a1">duk_del_prop_index</a>(ctx, -3, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) i);</div>
<div class="line"><span class="lineno">  845</span>        }</div>
<div class="line"><span class="lineno">  846</span> </div>
<div class="line"><span class="lineno">  847</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, nargs + 3);</div>
<div class="line"><span class="lineno">  848</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (item_count &gt; del_count) {</div>
<div class="line"><span class="lineno">  849</span>        <span class="comment">/*    [ A B C D E F G H ]    rel_index = 2, del_count 3, item count 4</span></div>
<div class="line"><span class="lineno">  850</span><span class="comment">         * -&gt; [ A B F G H ]          (conceptual intermediate step)</span></div>
<div class="line"><span class="lineno">  851</span><span class="comment">         * -&gt; [ A B . . . . F G H ]  (placeholder marked)</span></div>
<div class="line"><span class="lineno">  852</span><span class="comment">         *    [ A B C D E F F G H ]  (actual result at this point)</span></div>
<div class="line"><span class="lineno">  853</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  854</span> </div>
<div class="line"><span class="lineno">  855</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, nargs + 3);</div>
<div class="line"><span class="lineno">  856</span> </div>
<div class="line"><span class="lineno">  857</span>        <span class="comment">/* loop iterator init and limit changed from standard algorithm */</span></div>
<div class="line"><span class="lineno">  858</span>        <span class="keywordflow">for</span> (i = len - del_count - 1; i &gt;= act_start; i--) {</div>
<div class="line"><span class="lineno">  859</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9077276f5224f3985b570a4d82322253">duk_get_prop_index</a>(ctx, -3, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) (i + del_count))) {</div>
<div class="line"><span class="lineno">  860</span>                <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2e084d5315f93ecef64a4bdb9ef67ae2">duk_put_prop_index</a>(ctx, -4, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) (i + item_count));</div>
<div class="line"><span class="lineno">  861</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  862</span>                <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac8da334e24a5f42f252271161d2116fb">duk_pop</a>(ctx);</div>
<div class="line"><span class="lineno">  863</span>                <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a19e15ce2de5329aadd210d11d347d4a1">duk_del_prop_index</a>(ctx, -3, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) (i + item_count));</div>
<div class="line"><span class="lineno">  864</span>            }</div>
<div class="line"><span class="lineno">  865</span>        }</div>
<div class="line"><span class="lineno">  866</span> </div>
<div class="line"><span class="lineno">  867</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, nargs + 3);</div>
<div class="line"><span class="lineno">  868</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  869</span>        <span class="comment">/*    [ A B C D E F G H ]    rel_index = 2, del_count 3, item count 3</span></div>
<div class="line"><span class="lineno">  870</span><span class="comment">         * -&gt; [ A B F G H ]          (conceptual intermediate step)</span></div>
<div class="line"><span class="lineno">  871</span><span class="comment">         * -&gt; [ A B . . . F G H ]    (placeholder marked)</span></div>
<div class="line"><span class="lineno">  872</span><span class="comment">         *    [ A B C D E F G H ]    (actual result at this point)</span></div>
<div class="line"><span class="lineno">  873</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  874</span>    }</div>
<div class="line"><span class="lineno">  875</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, nargs + 3);</div>
<div class="line"><span class="lineno">  876</span> </div>
<div class="line"><span class="lineno">  877</span>    <span class="comment">/* Step 15: insert itemCount elements into the hole made above */</span></div>
<div class="line"><span class="lineno">  878</span> </div>
<div class="line"><span class="lineno">  879</span>    <span class="keywordflow">for</span> (i = 0; i &lt; item_count; i++) {</div>
<div class="line"><span class="lineno">  880</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8566105ab847d4151b62c29ceab53a0d">duk_dup</a>(ctx, i + 2);  <span class="comment">/* args start at index 2 */</span></div>
<div class="line"><span class="lineno">  881</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2e084d5315f93ecef64a4bdb9ef67ae2">duk_put_prop_index</a>(ctx, -4, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) (act_start + i));</div>
<div class="line"><span class="lineno">  882</span>    }</div>
<div class="line"><span class="lineno">  883</span> </div>
<div class="line"><span class="lineno">  884</span>    <span class="comment">/* Step 16: update length; note that the final length may be above 32 bit range</span></div>
<div class="line"><span class="lineno">  885</span><span class="comment">     * (but we checked above that this isn&#39;t the case here)</span></div>
<div class="line"><span class="lineno">  886</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  887</span> </div>
<div class="line"><span class="lineno">  888</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aeec241c8da1fbeaa28b17454e282b8f7">duk_push_u32</a>(ctx, len - del_count + item_count);</div>
<div class="line"><span class="lineno">  889</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a10d47af3b4037f03aed29def292d3dda">duk_put_prop_stridx</a>(ctx, -4, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a846c7f411a94ad5b75b2f7a50f7abb50">DUK_STRIDX_LENGTH</a>);</div>
<div class="line"><span class="lineno">  890</span> </div>
<div class="line"><span class="lineno">  891</span>    <span class="comment">/* result array is already at the top of stack */</span></div>
<div class="line"><span class="lineno">  892</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, nargs + 3);</div>
<div class="line"><span class="lineno">  893</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  894</span>}</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_a9170138f330dbcaabfae9d2c59cc9684"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9170138f330dbcaabfae9d2c59cc9684">DUK_UNREF</a></div><div class="ttdeci">#define DUK_UNREF(x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l02494">duktape-1.5.2/src-noline/duk_config.h:2494</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_a992ae923a8767c4099c2a7c9fe1ecb0b"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a992ae923a8767c4099c2a7c9fe1ecb0b">DUK_UINT32_MAX</a></div><div class="ttdeci">#define DUK_UINT32_MAX</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l01676">duktape-1.5.2/src-noline/duk_config.h:1676</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00065">duk__push_this_obj_len_u32_limited()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07755">DUK_ASSERT</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07784">DUK_ASSERT_TOP</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07495">DUK_D</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14450">duk_del_prop_index()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07507">DUK_DPRINT</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15702">duk_dup()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14310">duk_get_prop_index()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15204">duk_get_top()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l19146">duk_pop()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04881">DUK_PROPDESC_FLAGS_W</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l18458">duk_push_array()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04264">duk_push_u32</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14396">duk_put_prop_index()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14404">duk_put_prop_stridx()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l00358">DUK_RET_RANGE_ERROR</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15216">duk_set_top()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l01134">DUK_STRIDX_LENGTH</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17080">duk_to_int_clamped()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l01676">DUK_UINT32_MAX</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l02494">DUK_UNREF</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04369">duk_xdef_prop_index_wec</a>, and <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14559">duk_xdef_prop_stridx()</a>.</p>

</div>
</div>
<a id="a176f41b84f1956c2eeb8c9ea50df5325" name="a176f41b84f1956c2eeb8c9ea50df5325"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a176f41b84f1956c2eeb8c9ea50df5325">&#9670;&#160;</a></span>duk_bi_array_prototype_to_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a> duk_bi_array_prototype_to_string </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00136">136</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  136</span>                                                                          {</div>
<div class="line"><span class="lineno">  137</span>    (void) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ad71a1b4a7a747956bdc3da53c4426cc3">duk_push_this_coercible_to_object</a>(ctx);</div>
<div class="line"><span class="lineno">  138</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a1549987aa437dbcc45cfb63722c834d6">duk_get_prop_stridx</a>(ctx, -1, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a7ab518c95ccb7553e9cca7b6ba06af39">DUK_STRIDX_JOIN</a>);</div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>    <span class="comment">/* [ ... this func ] */</span></div>
<div class="line"><span class="lineno">  141</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#acf46529096afea16e3f59b7f20100301">duk_is_callable</a>(ctx, -1)) {</div>
<div class="line"><span class="lineno">  142</span>        <span class="comment">/* Fall back to the initial (original) Object.toString().  We don&#39;t</span></div>
<div class="line"><span class="lineno">  143</span><span class="comment">         * currently have pointers to the built-in functions, only the top</span></div>
<div class="line"><span class="lineno">  144</span><span class="comment">         * level global objects (like &quot;Array&quot;) so this is now done in a bit</span></div>
<div class="line"><span class="lineno">  145</span><span class="comment">         * of a hacky manner.  It would be cleaner to push the (original)</span></div>
<div class="line"><span class="lineno">  146</span><span class="comment">         * function and use duk_call_method().</span></div>
<div class="line"><span class="lineno">  147</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>        <span class="comment">/* XXX: &#39;this&#39; will be ToObject() coerced twice, which is incorrect</span></div>
<div class="line"><span class="lineno">  150</span><span class="comment">         * but should have no visible side effects.</span></div>
<div class="line"><span class="lineno">  151</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  152</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;this.join is not callable, fall back to (original) Object.toString&quot;</span>));</div>
<div class="line"><span class="lineno">  153</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a808471cbdda897175b2e4d50528c430d">duk_set_top</a>(ctx, 0);</div>
<div class="line"><span class="lineno">  154</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ad1e11304d6f17187603030447b437fca">duk_bi_object_prototype_to_string</a>(ctx);  <span class="comment">/* has access to &#39;this&#39; binding */</span></div>
<div class="line"><span class="lineno">  155</span>    }</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>    <span class="comment">/* [ ... this func ] */</span></div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a86e82045aad43776c7280e8e689c5158">duk_insert</a>(ctx, -2);</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>    <span class="comment">/* [ ... func this ] */</span></div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;calling: func=%!iT, this=%!iT&quot;</span>,</div>
<div class="line"><span class="lineno">  164</span>                         (<a class="code hl_struct" href="structduk__tval__struct.html">duk_tval</a> *) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a>(ctx, -2),</div>
<div class="line"><span class="lineno">  165</span>                         (<a class="code hl_struct" href="structduk__tval__struct.html">duk_tval</a> *) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a>(ctx, -1)));</div>
<div class="line"><span class="lineno">  166</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa1895eebda0d84c47fe222dc73018319">duk_call_method</a>(ctx, 0);</div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  169</span>}</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a7ab518c95ccb7553e9cca7b6ba06af39"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a7ab518c95ccb7553e9cca7b6ba06af39">DUK_STRIDX_JOIN</a></div><div class="ttdeci">#define DUK_STRIDX_JOIN</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l00993">duktape-1.5.2/src-noline/duktape.c:993</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_ad1e11304d6f17187603030447b437fca"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#ad1e11304d6f17187603030447b437fca">duk_bi_object_prototype_to_string</a></div><div class="ttdeci">DUK_INTERNAL_DECL duk_ret_t duk_bi_object_prototype_to_string(duk_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l33372">duktape-1.5.2/src-noline/duktape.c:33372</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l33372">duk_bi_object_prototype_to_string()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l12389">duk_call_method()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07497">DUK_DDD</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07509">DUK_DDDPRINT</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14318">duk_get_prop_stridx()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15121">duk_get_tval()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15740">duk_insert()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l00636">duk_is_callable</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l18183">duk_push_this_coercible_to_object()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15216">duk_set_top()</a>, and <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l00993">DUK_STRIDX_JOIN</a>.</p>

</div>
</div>
<a id="a0e04fd82fd8ac6e80438bd4dbf1ef0e3" name="a0e04fd82fd8ac6e80438bd4dbf1ef0e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e04fd82fd8ac6e80438bd4dbf1ef0e3">&#9670;&#160;</a></span>duk_bi_array_prototype_unshift()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3cd45ada834d9a7fcfcaf2d654435c6c">duk_ret_t</a> duk_bi_array_prototype_unshift </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l01055">1055</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html">duktape-1.5.2/src-separate/duk_bi_array.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1055</span>                                                                        {</div>
<div class="line"><span class="lineno"> 1056</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a> nargs;</div>
<div class="line"><span class="lineno"> 1057</span>    duk_uint32_t len;</div>
<div class="line"><span class="lineno"> 1058</span>    duk_uint32_t i;</div>
<div class="line"><span class="lineno"> 1059</span> </div>
<div class="line"><span class="lineno"> 1060</span>    nargs = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8c8653fcd951809042c23c42e534c421">duk_get_top</a>(ctx);</div>
<div class="line"><span class="lineno"> 1061</span>    len = <a class="code hl_function" href="#a98f1b9d6290cd4c65d7bc8cae6d4ac91">duk__push_this_obj_len_u32</a>(ctx);</div>
<div class="line"><span class="lineno"> 1062</span> </div>
<div class="line"><span class="lineno"> 1063</span>    <span class="comment">/* stack[0...nargs-1] = unshift args (vararg)</span></div>
<div class="line"><span class="lineno"> 1064</span><span class="comment">     * stack[nargs] = ToObject(this)</span></div>
<div class="line"><span class="lineno"> 1065</span><span class="comment">     * stack[nargs+1] = ToUint32(length)</span></div>
<div class="line"><span class="lineno"> 1066</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1067</span> </div>
<div class="line"><span class="lineno"> 1068</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, nargs + 2);</div>
<div class="line"><span class="lineno"> 1069</span> </div>
<div class="line"><span class="lineno"> 1070</span>    <span class="comment">/* Note: unshift() may operate on indices above unsigned 32-bit range</span></div>
<div class="line"><span class="lineno"> 1071</span><span class="comment">     * and the final length may be &gt;= 2**32.  However, we restrict the</span></div>
<div class="line"><span class="lineno"> 1072</span><span class="comment">     * final result to 32-bit range for practicality.</span></div>
<div class="line"><span class="lineno"> 1073</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1074</span> </div>
<div class="line"><span class="lineno"> 1075</span>    <span class="keywordflow">if</span> (len + (duk_uint32_t) nargs &lt; len) {</div>
<div class="line"><span class="lineno"> 1076</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9e1528b8eb0a41bc4b37a09a77961e6c">DUK_D</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a50dbac8614f67a4a6d575791664ebc07">DUK_DPRINT</a>(<span class="stringliteral">&quot;Array.prototype.unshift() would go beyond 32-bit length, throw&quot;</span>));</div>
<div class="line"><span class="lineno"> 1077</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a7546a68bcdfde55cd362646c614ccd9d">DUK_RET_RANGE_ERROR</a>;</div>
<div class="line"><span class="lineno"> 1078</span>    }</div>
<div class="line"><span class="lineno"> 1079</span> </div>
<div class="line"><span class="lineno"> 1080</span>    i = len;</div>
<div class="line"><span class="lineno"> 1081</span>    <span class="keywordflow">while</span> (i &gt; 0) {</div>
<div class="line"><span class="lineno"> 1082</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, nargs + 2);</div>
<div class="line"><span class="lineno"> 1083</span>        i--;</div>
<div class="line"><span class="lineno"> 1084</span>        <span class="comment">/* k+argCount-1; note that may be above 32-bit range */</span></div>
<div class="line"><span class="lineno"> 1085</span> </div>
<div class="line"><span class="lineno"> 1086</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a9077276f5224f3985b570a4d82322253">duk_get_prop_index</a>(ctx, -2, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) i)) {</div>
<div class="line"><span class="lineno"> 1087</span>            <span class="comment">/* fromPresent = true */</span></div>
<div class="line"><span class="lineno"> 1088</span>            <span class="comment">/* [ ... ToObject(this) ToUint32(length) val ] */</span></div>
<div class="line"><span class="lineno"> 1089</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2e084d5315f93ecef64a4bdb9ef67ae2">duk_put_prop_index</a>(ctx, -3, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) (i + nargs));  <span class="comment">/* -&gt; [ ... ToObject(this) ToUint32(length) ] */</span></div>
<div class="line"><span class="lineno"> 1090</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1091</span>            <span class="comment">/* fromPresent = false */</span></div>
<div class="line"><span class="lineno"> 1092</span>            <span class="comment">/* [ ... ToObject(this) ToUint32(length) val ] */</span></div>
<div class="line"><span class="lineno"> 1093</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ac8da334e24a5f42f252271161d2116fb">duk_pop</a>(ctx);</div>
<div class="line"><span class="lineno"> 1094</span>            <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a19e15ce2de5329aadd210d11d347d4a1">duk_del_prop_index</a>(ctx, -2, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) (i + nargs));  <span class="comment">/* -&gt; [ ... ToObject(this) ToUint32(length) ] */</span></div>
<div class="line"><span class="lineno"> 1095</span>        }</div>
<div class="line"><span class="lineno"> 1096</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, nargs + 2);</div>
<div class="line"><span class="lineno"> 1097</span>    }</div>
<div class="line"><span class="lineno"> 1098</span> </div>
<div class="line"><span class="lineno"> 1099</span>    <span class="keywordflow">for</span> (i = 0; i &lt; (duk_uint32_t) nargs; i++) {</div>
<div class="line"><span class="lineno"> 1100</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, nargs + 2);</div>
<div class="line"><span class="lineno"> 1101</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8566105ab847d4151b62c29ceab53a0d">duk_dup</a>(ctx, i);  <span class="comment">/* -&gt; [ ... ToObject(this) ToUint32(length) arg[i] ] */</span></div>
<div class="line"><span class="lineno"> 1102</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2e084d5315f93ecef64a4bdb9ef67ae2">duk_put_prop_index</a>(ctx, -3, (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a66a83b11b322fb452d3677f28ee7067f">duk_uarridx_t</a>) i);</div>
<div class="line"><span class="lineno"> 1103</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, nargs + 2);</div>
<div class="line"><span class="lineno"> 1104</span>    }</div>
<div class="line"><span class="lineno"> 1105</span> </div>
<div class="line"><span class="lineno"> 1106</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ab01286cf716e36b9089bd434841ed9eb">DUK_ASSERT_TOP</a>(ctx, nargs + 2);</div>
<div class="line"><span class="lineno"> 1107</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aeec241c8da1fbeaa28b17454e282b8f7">duk_push_u32</a>(ctx, len + nargs);</div>
<div class="line"><span class="lineno"> 1108</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a61b0d6037d3c794c7547a9527711e0bb">duk_dup_top</a>(ctx);  <span class="comment">/* -&gt; [ ... ToObject(this) ToUint32(length) final_len final_len ] */</span></div>
<div class="line"><span class="lineno"> 1109</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a10d47af3b4037f03aed29def292d3dda">duk_put_prop_stridx</a>(ctx, -4, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a846c7f411a94ad5b75b2f7a50f7abb50">DUK_STRIDX_LENGTH</a>);</div>
<div class="line"><span class="lineno"> 1110</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1111</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c_source.html#l00054">duk__push_this_obj_len_u32()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07784">DUK_ASSERT_TOP</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07495">DUK_D</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14450">duk_del_prop_index()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07507">DUK_DPRINT</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15702">duk_dup()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15719">duk_dup_top()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14310">duk_get_prop_index()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15204">duk_get_top()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l19146">duk_pop()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04264">duk_push_u32</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14396">duk_put_prop_index()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14404">duk_put_prop_stridx()</a>, <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l00358">DUK_RET_RANGE_ERROR</a>, and <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l01134">DUK_STRIDX_LENGTH</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_1e03628437b642463b7b6eb98fac43e1.html">vendor</a></li><li class="navelem"><a class="el" href="dir_84591d08937a968859b7757c3b203700.html">civetweb</a></li><li class="navelem"><a class="el" href="dir_34c971402fa1824d9c500953fc75cb63.html">third_party</a></li><li class="navelem"><a class="el" href="dir_463c33e0ae291ddbfec061ad19861570.html">duktape-1.5.2</a></li><li class="navelem"><a class="el" href="dir_e6ae68e9a9f72807e14f61863ae5cc0a.html">src-separate</a></li><li class="navelem"><a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__array_8c.html">duk_bi_array.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
