<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Github User Fetcher: duk_bi_protos.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Github User Fetcher<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">C/C++ Application with Server and GUI</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('duktape-1_85_82_2src-separate_2duk__bi__protos_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">duk_bi_protos.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="duktape-1_85_82_2src-separate_2duk__bi__protos_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4345dbff581e3eda11dc5297232d8033" id="r_a4345dbff581e3eda11dc5297232d8033"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4345dbff581e3eda11dc5297232d8033">DUK_BI_DATE_ISO8601_BUFSIZE</a>&#160;&#160;&#160;48</td></tr>
<tr class="separator:a4345dbff581e3eda11dc5297232d8033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4491f225a521e29d2e8dd186609706b5" id="r_a4491f225a521e29d2e8dd186609706b5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4491f225a521e29d2e8dd186609706b5">DUK_BI_COMMONJS_MODULE_ID_LIMIT</a>&#160;&#160;&#160;256</td></tr>
<tr class="separator:a4491f225a521e29d2e8dd186609706b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aac7d50143a74d619ffc255e0e44815e0" id="r_aac7d50143a74d619ffc255e0e44815e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aac7d50143a74d619ffc255e0e44815e0">duk_bi_date_timeval_to_parts</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a> d, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> *parts, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a> *dparts, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a2b7ba45bf826058a9b7720b5e258efc6">duk_small_uint_t</a> flags)</td></tr>
<tr class="separator:aac7d50143a74d619ffc255e0e44815e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f9684eaece29ad8d230acf445cc2ca3" id="r_a3f9684eaece29ad8d230acf445cc2ca3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f9684eaece29ad8d230acf445cc2ca3">duk_bi_date_get_timeval_from_dparts</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a> *dparts, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a2b7ba45bf826058a9b7720b5e258efc6">duk_small_uint_t</a> flags)</td></tr>
<tr class="separator:a3f9684eaece29ad8d230acf445cc2ca3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a263a8be3f2e95204d595215d5e20bbea" id="r_a263a8be3f2e95204d595215d5e20bbea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a263a8be3f2e95204d595215d5e20bbea">duk_bi_date_format_timeval</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a> timeval, duk_uint8_t *out_buf)</td></tr>
<tr class="separator:a263a8be3f2e95204d595215d5e20bbea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34faf25a9fa35abc17ca2b6ea0b950db" id="r_a34faf25a9fa35abc17ca2b6ea0b950db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af32ca4c30431e819676401ce2b11c2e7">duk_bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a34faf25a9fa35abc17ca2b6ea0b950db">duk_bi_date_is_leap_year</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> year)</td></tr>
<tr class="separator:a34faf25a9fa35abc17ca2b6ea0b950db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72c655c1263e66fa4e5a275e42ab4b6f" id="r_a72c655c1263e66fa4e5a275e42ab4b6f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af32ca4c30431e819676401ce2b11c2e7">duk_bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a72c655c1263e66fa4e5a275e42ab4b6f">duk_bi_date_timeval_in_valid_range</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a> x)</td></tr>
<tr class="separator:a72c655c1263e66fa4e5a275e42ab4b6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55075a7ef7c379b4edbfec934e554d01" id="r_a55075a7ef7c379b4edbfec934e554d01"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af32ca4c30431e819676401ce2b11c2e7">duk_bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a55075a7ef7c379b4edbfec934e554d01">duk_bi_date_year_in_valid_range</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a> year)</td></tr>
<tr class="separator:a55075a7ef7c379b4edbfec934e554d01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5ede8b535d265ab15b66db159fe2b83" id="r_ac5ede8b535d265ab15b66db159fe2b83"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af32ca4c30431e819676401ce2b11c2e7">duk_bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac5ede8b535d265ab15b66db159fe2b83">duk_bi_date_timeval_in_leeway_range</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a> x)</td></tr>
<tr class="separator:ac5ede8b535d265ab15b66db159fe2b83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcc6c1a5588e0c387eb7ddf658e65734" id="r_afcc6c1a5588e0c387eb7ddf658e65734"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afcc6c1a5588e0c387eb7ddf658e65734">duk_bi_json_parse_helper</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *ctx, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a> idx_value, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a> idx_reviver, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a2b7ba45bf826058a9b7720b5e258efc6">duk_small_uint_t</a> flags)</td></tr>
<tr class="separator:afcc6c1a5588e0c387eb7ddf658e65734"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b2f6bbc2a02ca2b7b337df69d35f51a" id="r_a8b2f6bbc2a02ca2b7b337df69d35f51a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8b2f6bbc2a02ca2b7b337df69d35f51a">duk_bi_json_stringify_helper</a> (<a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *ctx, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a> idx_value, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a> idx_replacer, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a> idx_space, <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a2b7ba45bf826058a9b7720b5e258efc6">duk_small_uint_t</a> flags)</td></tr>
<tr class="separator:a8b2f6bbc2a02ca2b7b337df69d35f51a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a4491f225a521e29d2e8dd186609706b5" name="a4491f225a521e29d2e8dd186609706b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4491f225a521e29d2e8dd186609706b5">&#9670;&#160;</a></span>DUK_BI_COMMONJS_MODULE_ID_LIMIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_BI_COMMONJS_MODULE_ID_LIMIT&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__protos_8h_source.html#l00021">21</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__protos_8h_source.html">duktape-1.5.2/src-separate/duk_bi_protos.h</a>.</p>

</div>
</div>
<a id="a4345dbff581e3eda11dc5297232d8033" name="a4345dbff581e3eda11dc5297232d8033"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4345dbff581e3eda11dc5297232d8033">&#9670;&#160;</a></span>DUK_BI_DATE_ISO8601_BUFSIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUK_BI_DATE_ISO8601_BUFSIZE&#160;&#160;&#160;48</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__protos_8h_source.html#l00015">15</a> of file <a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__protos_8h_source.html">duktape-1.5.2/src-separate/duk_bi_protos.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a263a8be3f2e95204d595215d5e20bbea" name="a263a8be3f2e95204d595215d5e20bbea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a263a8be3f2e95204d595215d5e20bbea">&#9670;&#160;</a></span>duk_bi_date_format_timeval()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void duk_bi_date_format_timeval </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a></td>          <td class="paramname"><span class="paramname"><em>timeval</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">duk_uint8_t *</td>          <td class="paramname"><span class="paramname"><em>out_buf</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l25617">25617</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>

</div>
</div>
<a id="a3f9684eaece29ad8d230acf445cc2ca3" name="a3f9684eaece29ad8d230acf445cc2ca3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f9684eaece29ad8d230acf445cc2ca3">&#9670;&#160;</a></span>duk_bi_date_get_timeval_from_dparts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a> duk_bi_date_get_timeval_from_dparts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a> *</td>          <td class="paramname"><span class="paramname"><em>dparts</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a2b7ba45bf826058a9b7720b5e258efc6">duk_small_uint_t</a></td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l25094">25094</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">25098</span>                        {</div>
<div class="line"><span class="lineno">25099</span>        <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#acf2a9fc3f8378ac846247d5cf4d70a30">DUK_DATE_IDX_NUM_PARTS</a>; i++) {</div>
<div class="line"><span class="lineno">25100</span>            dparts[i] = (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a>) parts[i];</div>
<div class="line"><span class="lineno">25101</span>        }</div>
<div class="line"><span class="lineno">25102</span>    }</div>
<div class="line"><span class="lineno">25103</span>}</div>
<div class="line"><span class="lineno">25104</span> </div>
<div class="line"><span class="lineno">25105</span><span class="comment">/* Compute time value from (double) parts.  The parts can be either UTC</span></div>
<div class="line"><span class="lineno">25106</span><span class="comment"> * or local time; if local, they need to be (conceptually) converted into</span></div>
<div class="line"><span class="lineno">25107</span><span class="comment"> * UTC time.  The parts may represent valid or invalid time, and may be</span></div>
<div class="line"><span class="lineno">25108</span><span class="comment"> * wildly out of range (but may cancel each other and still come out in</span></div>
<div class="line"><span class="lineno">25109</span><span class="comment"> * the valid Date range).</span></div>
<div class="line"><span class="lineno">25110</span><span class="comment"> */</span></div>
<div class="line"><span class="lineno">25111</span><a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a> <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aee37b282f54a7832bf916646309963e7">duk_bi_date_get_timeval_from_dparts</a>(<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a> *dparts, <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a2b7ba45bf826058a9b7720b5e258efc6">duk_small_uint_t</a> flags) {</div>
<div class="line"><span class="lineno">25112</span><span class="preprocessor">#if defined(DUK_USE_PARANOID_DATE_COMPUTATION)</span></div>
<div class="line"><span class="lineno">25113</span>    <span class="comment">/* See comments below on MakeTime why these are volatile. */</span></div>
<div class="line"><span class="lineno">25114</span>    <span class="keyword">volatile</span> <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a> tmp_time;</div>
<div class="line"><span class="lineno">25115</span>    <span class="keyword">volatile</span> <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a> tmp_day;</div>
<div class="line"><span class="lineno">25116</span>    <span class="keyword">volatile</span> <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a> d;</div>
<div class="line"><span class="lineno">25117</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">25118</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a> tmp_time;</div>
<div class="line"><span class="lineno">25119</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a> tmp_day;</div>
<div class="line"><span class="lineno">25120</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a> d;</div>
<div class="line"><span class="lineno">25121</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">25122</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a2b7ba45bf826058a9b7720b5e258efc6">duk_small_uint_t</a> i;</div>
<div class="line"><span class="lineno">25123</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> tzoff, tzoffprev1, tzoffprev2;</div>
<div class="line"><span class="lineno">25124</span> </div>
<div class="line"><span class="lineno">25125</span>    <span class="comment">/* Expects &#39;this&#39; at top of stack on entry. */</span></div>
<div class="line"><span class="lineno">25126</span> </div>
<div class="line"><span class="lineno">25127</span>    <span class="comment">/* Coerce all finite parts with ToInteger().  ToInteger() must not</span></div>
<div class="line"><span class="lineno">25128</span><span class="comment">     * be called for NaN/Infinity because it will convert e.g. NaN to</span></div>
<div class="line"><span class="lineno">25129</span><span class="comment">     * zero.  If ToInteger() has already been called, this has no side</span></div>
<div class="line"><span class="lineno">25130</span><span class="comment">     * effects and is idempotent.</span></div>
<div class="line"><span class="lineno">25131</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno">25132</span><span class="comment">     * Don&#39;t read dparts[DUK_DATE_IDX_WEEKDAY]; it will cause Valgrind</span></div>
<div class="line"><span class="lineno">25133</span><span class="comment">     * issues if the value is uninitialized.</span></div>
<div class="line"><span class="lineno">25134</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">25135</span>    <span class="keywordflow">for</span> (i = 0; i &lt;= <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#aa603e2577d44d21a39ba55e453be5e91">DUK_DATE_IDX_MILLISECOND</a>; i++) {</div>
<div class="line"><span class="lineno">25136</span>        <span class="comment">/* SCANBUILD: scan-build complains here about assigned value</span></div>
<div class="line"><span class="lineno">25137</span><span class="comment">         * being garbage or undefined.  This is correct but operating</span></div>
<div class="line"><span class="lineno">25138</span><span class="comment">         * on undefined values has no ill effect and is ignored by the</span></div>
<div class="line"><span class="lineno">25139</span><span class="comment">         * caller in the case where this happens.</span></div>
<div class="line"><span class="lineno">25140</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">25141</span>        d = dparts[i];</div>
<div class="line"><span class="lineno">25142</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#abac7cfc213608e44a501c655b6fcb550">DUK_ISFINITE</a>(d)) {</div>
<div class="line"><span class="lineno">25143</span>            dparts[i] = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#af91f77fee0e5f681d1541453cefefda5">duk_js_tointeger_number</a>(d);</div>
<div class="line"><span class="lineno">25144</span>        }</div>
<div class="line"><span class="lineno">25145</span>    }</div>
<div class="line"><span class="lineno">25146</span> </div>
<div class="line"><span class="lineno">25147</span>    <span class="comment">/* Use explicit steps in computation to try to ensure that</span></div>
<div class="line"><span class="lineno">25148</span><span class="comment">     * computation happens with intermediate results coerced to</span></div>
<div class="line"><span class="lineno">25149</span><span class="comment">     * double values (instead of using something more accurate).</span></div>
<div class="line"><span class="lineno">25150</span><span class="comment">     * E.g. E5.1 Section 15.9.1.11 requires use of IEEE 754</span></div>
<div class="line"><span class="lineno">25151</span><span class="comment">     * rules (= Ecmascript &#39;+&#39; and &#39;*&#39; operators).</span></div>
<div class="line"><span class="lineno">25152</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno">25153</span><span class="comment">     * Without &#39;volatile&#39; even this approach fails on some platform</span></div>
<div class="line"><span class="lineno">25154</span><span class="comment">     * and compiler combinations.  For instance, gcc 4.8.1 on Ubuntu</span></div>
<div class="line"><span class="lineno">25155</span><span class="comment">     * 64-bit, with -m32 and without -std=c99, test-bi-date-canceling.js</span></div>
<div class="line"><span class="lineno">25156</span><span class="comment">     * would fail because of some optimizations when computing tmp_time</span></div>
<div class="line"><span class="lineno">25157</span><span class="comment">     * (MakeTime below).  Adding &#39;volatile&#39; to tmp_time solved this</span></div>
<div class="line"><span class="lineno">25158</span><span class="comment">     * particular problem (annoyingly, also adding debug prints or</span></div>
<div class="line"><span class="lineno">25159</span><span class="comment">     * running the executable under valgrind hides it).</span></div>
<div class="line"><span class="lineno">25160</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">25161</span> </div>
<div class="line"><span class="lineno">25162</span>    <span class="comment">/* MakeTime */</span></div>
<div class="line"><span class="lineno">25163</span>    tmp_time = 0.0;</div>
<div class="line"><span class="lineno">25164</span>    tmp_time += dparts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a306775813b48666faef0c91d9f1e11a4">DUK_DATE_IDX_HOUR</a>] * ((<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a>) <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a9284969c2d327ead5a3f52cb96925e82">DUK_DATE_MSEC_HOUR</a>);</div>
<div class="line"><span class="lineno">25165</span>    tmp_time += dparts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a94c97019a5cf1b81161fbd7a9a6a3aff">DUK_DATE_IDX_MINUTE</a>] * ((<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a>) <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a4a6e825397d72d82355a81ebaf917a93">DUK_DATE_MSEC_MINUTE</a>);</div>
<div class="line"><span class="lineno">25166</span>    tmp_time += dparts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a1548daaf9f58e5be18687f6ad89c20fb">DUK_DATE_IDX_SECOND</a>] * ((<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a>) <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a7821f05aea31bba26a57f3f4cc281fc9">DUK_DATE_MSEC_SECOND</a>);</div>
<div class="line"><span class="lineno">25167</span>    tmp_time += dparts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#aa603e2577d44d21a39ba55e453be5e91">DUK_DATE_IDX_MILLISECOND</a>];</div>
<div class="line"><span class="lineno">25168</span> </div>
<div class="line"><span class="lineno">25169</span>    <span class="comment">/* MakeDay */</span></div>
<div class="line"><span class="lineno">25170</span>    tmp_day = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#acd65f2b71e7046b931f22d3a4f8181ff">duk__make_day</a>(dparts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a1f0a2e0a7288e66bdbd35c0ca74fb7dc">DUK_DATE_IDX_YEAR</a>], dparts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a3fa1ef2e006c7a89a1e952992928a672">DUK_DATE_IDX_MONTH</a>], dparts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a11c388057be177a3309a188e9073defb">DUK_DATE_IDX_DAY</a>]);</div>
<div class="line"><span class="lineno">25171</span> </div>
<div class="line"><span class="lineno">25172</span>    <span class="comment">/* MakeDate */</span></div>
<div class="line"><span class="lineno">25173</span>    d = tmp_day * ((<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a>) <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#ad792667cc3e789cc30c15c1b71b6801b">DUK_DATE_MSEC_DAY</a>) + tmp_time;</div>
<div class="line"><span class="lineno">25174</span> </div>
<div class="line"><span class="lineno">25175</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;time=%lf day=%lf --&gt; timeval=%lf&quot;</span>,</div>
<div class="line"><span class="lineno">25176</span>                         (<span class="keywordtype">double</span>) tmp_time, (<span class="keywordtype">double</span>) tmp_day, (<span class="keywordtype">double</span>) d));</div>
<div class="line"><span class="lineno">25177</span> </div>
<div class="line"><span class="lineno">25178</span>    <span class="comment">/* Optional UTC conversion. */</span></div>
<div class="line"><span class="lineno">25179</span>    <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a5cd4db61324ca9fb970bcdbe46a2d529">DUK_DATE_FLAG_LOCALTIME</a>) {</div>
<div class="line"><span class="lineno">25180</span>        <span class="comment">/* DUK_USE_DATE_GET_LOCAL_TZOFFSET() needs to be called with a</span></div>
<div class="line"><span class="lineno">25181</span><span class="comment">         * time value computed from UTC parts.  At this point we only</span></div>
<div class="line"><span class="lineno">25182</span><span class="comment">         * have &#39;d&#39; which is a time value computed from local parts, so</span></div>
<div class="line"><span class="lineno">25183</span><span class="comment">         * it is off by the UTC-to-local time offset which we don&#39;t know</span></div>
<div class="line"><span class="lineno">25184</span><span class="comment">         * yet.  The current solution for computing the UTC-to-local</span></div>
<div class="line"><span class="lineno">25185</span><span class="comment">         * time offset is to iterate a few times and detect a fixed</span></div>
<div class="line"><span class="lineno">25186</span><span class="comment">         * point or a two-cycle loop (or a sanity iteration limit),</span></div>
<div class="line"><span class="lineno">25187</span><span class="comment">         * see test-bi-date-local-parts.js and test-bi-date-tzoffset-basic-fi.js.</span></div>
<div class="line"><span class="lineno">25188</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">25189</span><span class="comment">         * E5.1 Section 15.9.1.9:</span></div>
<div class="line"><span class="lineno">25190</span><span class="comment">         * UTC(t) = t - LocalTZA - DaylightSavingTA(t - LocalTZA)</span></div>
<div class="line"><span class="lineno">25191</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">25192</span><span class="comment">         * For NaN/inf, DUK_USE_DATE_GET_LOCAL_TZOFFSET() returns 0.</span></div>
<div class="line"><span class="lineno">25193</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">25194</span> </div>
<div class="line"><span class="lineno">25195</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno">25196</span>        <span class="comment">/* Old solution: don&#39;t iterate, incorrect */</span></div>
<div class="line"><span class="lineno">25197</span>        tzoff = DUK_USE_DATE_GET_LOCAL_TZOFFSET(d);</div>
<div class="line"><span class="lineno">25198</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;tzoffset w/o iteration, tzoff=%ld&quot;</span>, (<span class="keywordtype">long</span>) tzoff));</div>
<div class="line"><span class="lineno">25199</span>        d -= tzoff * 1000L;</div>
<div class="line"><span class="lineno">25200</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9170138f330dbcaabfae9d2c59cc9684">DUK_UNREF</a>(tzoffprev1);</div>
<div class="line"><span class="lineno">25201</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9170138f330dbcaabfae9d2c59cc9684">DUK_UNREF</a>(tzoffprev2);</div>
<div class="line"><span class="lineno">25202</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">25203</span> </div>
<div class="line"><span class="lineno">25204</span>        <span class="comment">/* Iteration solution */</span></div>
<div class="line"><span class="lineno">25205</span>        tzoff = 0;</div>
<div class="line"><span class="lineno">25206</span>        tzoffprev1 = 999999999L;  <span class="comment">/* invalid value which never matches */</span></div>
<div class="line"><span class="lineno">25207</span>        <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a050960ef6e59ec5595d5e68c8cad2c74">DUK__LOCAL_TZOFFSET_MAXITER</a>; i++) {</div>
<div class="line"><span class="lineno">25208</span>            tzoffprev2 = tzoffprev1;</div>
<div class="line"><span class="lineno">25209</span>            tzoffprev1 = tzoff;</div>
<div class="line"><span class="lineno">25210</span>            tzoff = DUK_USE_DATE_GET_LOCAL_TZOFFSET(d - tzoff * 1000L);</div>
<div class="line"><span class="lineno">25211</span>            <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;tzoffset iteration, i=%d, tzoff=%ld, tzoffprev1=%ld tzoffprev2=%ld&quot;</span>,</div>
<div class="line"><span class="lineno">25212</span>                                 (<span class="keywordtype">int</span>) i, (<span class="keywordtype">long</span>) tzoff, (<span class="keywordtype">long</span>) tzoffprev1, (<span class="keywordtype">long</span>) tzoffprev2));</div>
<div class="line"><span class="lineno">25213</span>            <span class="keywordflow">if</span> (tzoff == tzoffprev1) {</div>
<div class="line"><span class="lineno">25214</span>                <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;tzoffset iteration finished, i=%d, tzoff=%ld, tzoffprev1=%ld, tzoffprev2=%ld&quot;</span>,</div>
<div class="line"><span class="lineno">25215</span>                                     (<span class="keywordtype">int</span>) i, (<span class="keywordtype">long</span>) tzoff, (<span class="keywordtype">long</span>) tzoffprev1, (<span class="keywordtype">long</span>) tzoffprev2));</div>
<div class="line"><span class="lineno">25216</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">25217</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tzoff == tzoffprev2) {</div>
<div class="line"><span class="lineno">25218</span>                <span class="comment">/* Two value cycle, see e.g. test-bi-date-tzoffset-basic-fi.js.</span></div>
<div class="line"><span class="lineno">25219</span><span class="comment">                 * In these cases, favor a higher tzoffset to get a consistent</span></div>
<div class="line"><span class="lineno">25220</span><span class="comment">                 * result which is independent of iteration count.  Not sure if</span></div>
<div class="line"><span class="lineno">25221</span><span class="comment">                 * this is a generically correct solution.</span></div>
<div class="line"><span class="lineno">25222</span><span class="comment">                 */</span></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_a19032f251b36af6bfb17f4450b829521"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a></div><div class="ttdeci">#define DUK_INTERNAL</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l02548">duktape-1.5.2/src-noline/duk_config.h:2548</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_a2b7ba45bf826058a9b7720b5e258efc6"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a2b7ba45bf826058a9b7720b5e258efc6">duk_small_uint_t</a></div><div class="ttdeci">unsigned int duk_small_uint_t</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l01808">duktape-1.5.2/src-noline/duk_config.h:1808</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_a63e15ff4dd1c9ad036a030a80346cdc3"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a></div><div class="ttdeci">double duk_double_t</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l01877">duktape-1.5.2/src-noline/duk_config.h:1877</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_a9170138f330dbcaabfae9d2c59cc9684"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9170138f330dbcaabfae9d2c59cc9684">DUK_UNREF</a></div><div class="ttdeci">#define DUK_UNREF(x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l02494">duktape-1.5.2/src-noline/duk_config.h:2494</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_a9dbc0fdd27e7326d21cbf56e6d40d8a5"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a></div><div class="ttdeci">duk_int_fast32_t duk_int_t</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l01785">duktape-1.5.2/src-noline/duk_config.h:1785</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_abac7cfc213608e44a501c655b6fcb550"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#abac7cfc213608e44a501c655b6fcb550">DUK_ISFINITE</a></div><div class="ttdeci">#define DUK_ISFINITE</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l02154">duktape-1.5.2/src-noline/duk_config.h:2154</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a050960ef6e59ec5595d5e68c8cad2c74"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a050960ef6e59ec5595d5e68c8cad2c74">DUK__LOCAL_TZOFFSET_MAXITER</a></div><div class="ttdeci">#define DUK__LOCAL_TZOFFSET_MAXITER</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l24774">duktape-1.5.2/src-noline/duktape.c:24774</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a2db20d2d3b36d8491ed171cf503488bb"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a></div><div class="ttdeci">#define DUK_DDD(x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07497">duktape-1.5.2/src-noline/duktape.c:7497</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_aa6e5d41ceaba6832e5ede737f0a35fb9"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a></div><div class="ttdeci">#define DUK_DDDPRINT</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07509">duktape-1.5.2/src-noline/duktape.c:7509</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_acd65f2b71e7046b931f22d3a4f8181ff"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#acd65f2b71e7046b931f22d3a4f8181ff">duk__make_day</a></div><div class="ttdeci">DUK_LOCAL duk_double_t duk__make_day(duk_double_t year, duk_double_t month, duk_double_t day)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l24887">duktape-1.5.2/src-noline/duktape.c:24887</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_aee37b282f54a7832bf916646309963e7"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#aee37b282f54a7832bf916646309963e7">duk_bi_date_get_timeval_from_dparts</a></div><div class="ttdeci">DUK_INTERNAL_DECL duk_double_t duk_bi_date_get_timeval_from_dparts(duk_double_t *dparts, duk_small_uint_t flags)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l25094">duktape-1.5.2/src-noline/duktape.c:25094</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_af91f77fee0e5f681d1541453cefefda5"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#af91f77fee0e5f681d1541453cefefda5">duk_js_tointeger_number</a></div><div class="ttdeci">DUK_INTERNAL_DECL duk_double_t duk_js_tointeger_number(duk_double_t x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l69984">duktape-1.5.2/src-noline/duktape.c:69984</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8h_html_a11c388057be177a3309a188e9073defb"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8h.html#a11c388057be177a3309a188e9073defb">DUK_DATE_IDX_DAY</a></div><div class="ttdeci">#define DUK_DATE_IDX_DAY</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l01122">duktape-1.5.2/src-noline/duktape.h:1122</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8h_html_a1548daaf9f58e5be18687f6ad89c20fb"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8h.html#a1548daaf9f58e5be18687f6ad89c20fb">DUK_DATE_IDX_SECOND</a></div><div class="ttdeci">#define DUK_DATE_IDX_SECOND</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l01125">duktape-1.5.2/src-noline/duktape.h:1125</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8h_html_a1f0a2e0a7288e66bdbd35c0ca74fb7dc"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8h.html#a1f0a2e0a7288e66bdbd35c0ca74fb7dc">DUK_DATE_IDX_YEAR</a></div><div class="ttdeci">#define DUK_DATE_IDX_YEAR</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l01120">duktape-1.5.2/src-noline/duktape.h:1120</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8h_html_a306775813b48666faef0c91d9f1e11a4"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8h.html#a306775813b48666faef0c91d9f1e11a4">DUK_DATE_IDX_HOUR</a></div><div class="ttdeci">#define DUK_DATE_IDX_HOUR</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l01123">duktape-1.5.2/src-noline/duktape.h:1123</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8h_html_a3fa1ef2e006c7a89a1e952992928a672"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8h.html#a3fa1ef2e006c7a89a1e952992928a672">DUK_DATE_IDX_MONTH</a></div><div class="ttdeci">#define DUK_DATE_IDX_MONTH</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l01121">duktape-1.5.2/src-noline/duktape.h:1121</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8h_html_a4a6e825397d72d82355a81ebaf917a93"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8h.html#a4a6e825397d72d82355a81ebaf917a93">DUK_DATE_MSEC_MINUTE</a></div><div class="ttdeci">#define DUK_DATE_MSEC_MINUTE</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l01091">duktape-1.5.2/src-noline/duktape.h:1091</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8h_html_a5cd4db61324ca9fb970bcdbe46a2d529"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8h.html#a5cd4db61324ca9fb970bcdbe46a2d529">DUK_DATE_FLAG_LOCALTIME</a></div><div class="ttdeci">#define DUK_DATE_FLAG_LOCALTIME</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l01150">duktape-1.5.2/src-noline/duktape.h:1150</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8h_html_a7821f05aea31bba26a57f3f4cc281fc9"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8h.html#a7821f05aea31bba26a57f3f4cc281fc9">DUK_DATE_MSEC_SECOND</a></div><div class="ttdeci">#define DUK_DATE_MSEC_SECOND</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l01090">duktape-1.5.2/src-noline/duktape.h:1090</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8h_html_a9284969c2d327ead5a3f52cb96925e82"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8h.html#a9284969c2d327ead5a3f52cb96925e82">DUK_DATE_MSEC_HOUR</a></div><div class="ttdeci">#define DUK_DATE_MSEC_HOUR</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l01092">duktape-1.5.2/src-noline/duktape.h:1092</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8h_html_a94c97019a5cf1b81161fbd7a9a6a3aff"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8h.html#a94c97019a5cf1b81161fbd7a9a6a3aff">DUK_DATE_IDX_MINUTE</a></div><div class="ttdeci">#define DUK_DATE_IDX_MINUTE</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l01124">duktape-1.5.2/src-noline/duktape.h:1124</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8h_html_aa603e2577d44d21a39ba55e453be5e91"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8h.html#aa603e2577d44d21a39ba55e453be5e91">DUK_DATE_IDX_MILLISECOND</a></div><div class="ttdeci">#define DUK_DATE_IDX_MILLISECOND</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l01126">duktape-1.5.2/src-noline/duktape.h:1126</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8h_html_acf2a9fc3f8378ac846247d5cf4d70a30"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8h.html#acf2a9fc3f8378ac846247d5cf4d70a30">DUK_DATE_IDX_NUM_PARTS</a></div><div class="ttdeci">#define DUK_DATE_IDX_NUM_PARTS</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l01128">duktape-1.5.2/src-noline/duktape.h:1128</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8h_html_ad792667cc3e789cc30c15c1b71b6801b"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8h.html#ad792667cc3e789cc30c15c1b71b6801b">DUK_DATE_MSEC_DAY</a></div><div class="ttdeci">#define DUK_DATE_MSEC_DAY</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l01093">duktape-1.5.2/src-noline/duktape.h:1093</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a34faf25a9fa35abc17ca2b6ea0b950db" name="a34faf25a9fa35abc17ca2b6ea0b950db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34faf25a9fa35abc17ca2b6ea0b950db">&#9670;&#160;</a></span>duk_bi_date_is_leap_year()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af32ca4c30431e819676401ce2b11c2e7">duk_bool_t</a> duk_bi_date_is_leap_year </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a></td>          <td class="paramname"><span class="paramname"><em>year</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l24784">24784</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>

</div>
</div>
<a id="ac5ede8b535d265ab15b66db159fe2b83" name="ac5ede8b535d265ab15b66db159fe2b83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5ede8b535d265ab15b66db159fe2b83">&#9670;&#160;</a></span>duk_bi_date_timeval_in_leeway_range()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af32ca4c30431e819676401ce2b11c2e7">duk_bool_t</a> duk_bi_date_timeval_in_leeway_range </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a></td>          <td class="paramname"><span class="paramname"><em>x</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l24801">24801</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">24801</span>                                                                 {</div>
<div class="line"><span class="lineno">24802</span>    <span class="keywordflow">if</span> ((year % 4) != 0) {</div>
<div class="line"><span class="lineno">24803</span>        <span class="keywordflow">return</span> 0;</div>
</div><!-- fragment -->
</div>
</div>
<a id="a72c655c1263e66fa4e5a275e42ab4b6f" name="a72c655c1263e66fa4e5a275e42ab4b6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72c655c1263e66fa4e5a275e42ab4b6f">&#9670;&#160;</a></span>duk_bi_date_timeval_in_valid_range()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af32ca4c30431e819676401ce2b11c2e7">duk_bool_t</a> duk_bi_date_timeval_in_valid_range </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a></td>          <td class="paramname"><span class="paramname"><em>x</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l24797">24797</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>

</div>
</div>
<a id="aac7d50143a74d619ffc255e0e44815e0" name="aac7d50143a74d619ffc255e0e44815e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac7d50143a74d619ffc255e0e44815e0">&#9670;&#160;</a></span>duk_bi_date_timeval_to_parts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void duk_bi_date_timeval_to_parts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a></td>          <td class="paramname"><span class="paramname"><em>d</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> *</td>          <td class="paramname"><span class="paramname"><em>parts</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a> *</td>          <td class="paramname"><span class="paramname"><em>dparts</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a2b7ba45bf826058a9b7720b5e258efc6">duk_small_uint_t</a></td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l24949">24949</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">24951</span>                            {</div>
<div class="line"><span class="lineno">24952</span>        day_num += <a class="code hl_variable" href="duktape-1_85_82_2src-noline_2duktape_8c.html#acd39a3842320d454c6189ee8dd5b373a">duk__days_in_month</a>[i];</div>
<div class="line"><span class="lineno">24953</span>        <span class="keywordflow">if</span> (i == 1 &amp;&amp; is_leap) {</div>
<div class="line"><span class="lineno">24954</span>            day_num++;</div>
<div class="line"><span class="lineno">24955</span>        }</div>
<div class="line"><span class="lineno">24956</span>    }</div>
<div class="line"><span class="lineno">24957</span> </div>
<div class="line"><span class="lineno">24958</span>    <span class="comment">/* If &#39;day&#39; is NaN, returns NaN. */</span></div>
<div class="line"><span class="lineno">24959</span>    <span class="keywordflow">return</span> (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a>) day_num + day;</div>
<div class="line"><span class="lineno">24960</span>}</div>
<div class="line"><span class="lineno">24961</span> </div>
<div class="line"><span class="lineno">24962</span><span class="comment">/* Split time value into parts.  The time value is assumed to be an internal</span></div>
<div class="line"><span class="lineno">24963</span><span class="comment"> * one, i.e. finite, no fractions.  Possible local time adjustment has already</span></div>
<div class="line"><span class="lineno">24964</span><span class="comment"> * been applied when reading the time value.</span></div>
<div class="line"><span class="lineno">24965</span><span class="comment"> */</span></div>
<div class="line"><span class="lineno">24966</span><a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a> <span class="keywordtype">void</span> <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a3b7b94aee846eb36d47133762f987e7c">duk_bi_date_timeval_to_parts</a>(<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a> d, <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> *parts, <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a> *dparts, <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a2b7ba45bf826058a9b7720b5e258efc6">duk_small_uint_t</a> flags) {</div>
<div class="line"><span class="lineno">24967</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a> d1, d2;</div>
<div class="line"><span class="lineno">24968</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> t1, t2;</div>
<div class="line"><span class="lineno">24969</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> day_since_epoch;</div>
<div class="line"><span class="lineno">24970</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> year;  <span class="comment">/* does not fit into 16 bits */</span></div>
<div class="line"><span class="lineno">24971</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a041e9b0b2d41c5af8429259808290726">duk_small_int_t</a> day_in_year;</div>
<div class="line"><span class="lineno">24972</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a041e9b0b2d41c5af8429259808290726">duk_small_int_t</a> month;</div>
<div class="line"><span class="lineno">24973</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a041e9b0b2d41c5af8429259808290726">duk_small_int_t</a> day;</div>
<div class="line"><span class="lineno">24974</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a041e9b0b2d41c5af8429259808290726">duk_small_int_t</a> dim;</div>
<div class="line"><span class="lineno">24975</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> jan1_since_epoch;</div>
<div class="line"><span class="lineno">24976</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a041e9b0b2d41c5af8429259808290726">duk_small_int_t</a> jan1_weekday;</div>
<div class="line"><span class="lineno">24977</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a> equiv_year;</div>
<div class="line"><span class="lineno">24978</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a2b7ba45bf826058a9b7720b5e258efc6">duk_small_uint_t</a> i;</div>
<div class="line"><span class="lineno">24979</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af32ca4c30431e819676401ce2b11c2e7">duk_bool_t</a> is_leap;</div>
<div class="line"><span class="lineno">24980</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a041e9b0b2d41c5af8429259808290726">duk_small_int_t</a> arridx;</div>
<div class="line"><span class="lineno">24981</span> </div>
<div class="line"><span class="lineno">24982</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#abac7cfc213608e44a501c655b6fcb550">DUK_ISFINITE</a>(d));    <span class="comment">/* caller checks */</span></div>
<div class="line"><span class="lineno">24983</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af6a3560d3297f25295e56df25fa0f695">DUK_FLOOR</a>(d) == d);  <span class="comment">/* no fractions in internal time */</span></div>
<div class="line"><span class="lineno">24984</span> </div>
<div class="line"><span class="lineno">24985</span>    <span class="comment">/* The timevalue must be in valid Ecmascript range, but since a local</span></div>
<div class="line"><span class="lineno">24986</span><span class="comment">     * time offset can be applied, we need to allow a +/- 24h leeway to</span></div>
<div class="line"><span class="lineno">24987</span><span class="comment">     * the value.  In other words, although the UTC time is within the</span></div>
<div class="line"><span class="lineno">24988</span><span class="comment">     * Ecmascript range, the local part values can be just outside of it.</span></div>
<div class="line"><span class="lineno">24989</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">24990</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9170138f330dbcaabfae9d2c59cc9684">DUK_UNREF</a>(<a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a4c43d1ef7d861338b44d84a00ac632c0">duk_bi_date_timeval_in_leeway_range</a>);</div>
<div class="line"><span class="lineno">24991</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(<a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a4c43d1ef7d861338b44d84a00ac632c0">duk_bi_date_timeval_in_leeway_range</a>(d));</div>
<div class="line"><span class="lineno">24992</span> </div>
<div class="line"><span class="lineno">24993</span>    <span class="comment">/* these computations are guaranteed to be exact for the valid</span></div>
<div class="line"><span class="lineno">24994</span><span class="comment">     * E5 time value range, assuming milliseconds without fractions.</span></div>
<div class="line"><span class="lineno">24995</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">24996</span>    d1 = (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a>) <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af0d8711e782e9f75d49ecdc04afe6b2f">DUK_FMOD</a>(d, (<span class="keywordtype">double</span>) <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#ad792667cc3e789cc30c15c1b71b6801b">DUK_DATE_MSEC_DAY</a>);</div>
<div class="line"><span class="lineno">24997</span>    <span class="keywordflow">if</span> (d1 &lt; 0.0) {</div>
<div class="line"><span class="lineno">24998</span>        <span class="comment">/* deal with negative values */</span></div>
<div class="line"><span class="lineno">24999</span>        d1 += (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a>) <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#ad792667cc3e789cc30c15c1b71b6801b">DUK_DATE_MSEC_DAY</a>;</div>
<div class="line"><span class="lineno">25000</span>    }</div>
<div class="line"><span class="lineno">25001</span>    d2 = <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af6a3560d3297f25295e56df25fa0f695">DUK_FLOOR</a>((<span class="keywordtype">double</span>) (d / (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a>) <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#ad792667cc3e789cc30c15c1b71b6801b">DUK_DATE_MSEC_DAY</a>));</div>
<div class="line"><span class="lineno">25002</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(d2 * ((<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a>) <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#ad792667cc3e789cc30c15c1b71b6801b">DUK_DATE_MSEC_DAY</a>) + d1 == d);</div>
<div class="line"><span class="lineno">25003</span>    <span class="comment">/* now expected to fit into a 32-bit integer */</span></div>
<div class="line"><span class="lineno">25004</span>    t1 = (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a>) d1;</div>
<div class="line"><span class="lineno">25005</span>    t2 = (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a>) d2;</div>
<div class="line"><span class="lineno">25006</span>    day_since_epoch = t2;</div>
<div class="line"><span class="lineno">25007</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>((<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a>) t1 == d1);</div>
<div class="line"><span class="lineno">25008</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>((<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a>) t2 == d2);</div>
<div class="line"><span class="lineno">25009</span> </div>
<div class="line"><span class="lineno">25010</span>    <span class="comment">/* t1 = milliseconds within day (fits 32 bit)</span></div>
<div class="line"><span class="lineno">25011</span><span class="comment">     * t2 = day number from epoch (fits 32 bit, may be negative)</span></div>
<div class="line"><span class="lineno">25012</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">25013</span> </div>
<div class="line"><span class="lineno">25014</span>    parts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#aa603e2577d44d21a39ba55e453be5e91">DUK_DATE_IDX_MILLISECOND</a>] = t1 % 1000; t1 /= 1000;</div>
<div class="line"><span class="lineno">25015</span>    parts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a1548daaf9f58e5be18687f6ad89c20fb">DUK_DATE_IDX_SECOND</a>] = t1 % 60; t1 /= 60;</div>
<div class="line"><span class="lineno">25016</span>    parts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a94c97019a5cf1b81161fbd7a9a6a3aff">DUK_DATE_IDX_MINUTE</a>] = t1 % 60; t1 /= 60;</div>
<div class="line"><span class="lineno">25017</span>    parts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a306775813b48666faef0c91d9f1e11a4">DUK_DATE_IDX_HOUR</a>] = t1;</div>
<div class="line"><span class="lineno">25018</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(parts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#aa603e2577d44d21a39ba55e453be5e91">DUK_DATE_IDX_MILLISECOND</a>] &gt;= 0 &amp;&amp; parts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#aa603e2577d44d21a39ba55e453be5e91">DUK_DATE_IDX_MILLISECOND</a>] &lt;= 999);</div>
<div class="line"><span class="lineno">25019</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(parts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a1548daaf9f58e5be18687f6ad89c20fb">DUK_DATE_IDX_SECOND</a>] &gt;= 0 &amp;&amp; parts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a1548daaf9f58e5be18687f6ad89c20fb">DUK_DATE_IDX_SECOND</a>] &lt;= 59);</div>
<div class="line"><span class="lineno">25020</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(parts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a94c97019a5cf1b81161fbd7a9a6a3aff">DUK_DATE_IDX_MINUTE</a>] &gt;= 0 &amp;&amp; parts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a94c97019a5cf1b81161fbd7a9a6a3aff">DUK_DATE_IDX_MINUTE</a>] &lt;= 59);</div>
<div class="line"><span class="lineno">25021</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(parts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a306775813b48666faef0c91d9f1e11a4">DUK_DATE_IDX_HOUR</a>] &gt;= 0 &amp;&amp; parts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a306775813b48666faef0c91d9f1e11a4">DUK_DATE_IDX_HOUR</a>] &lt;= 23);</div>
<div class="line"><span class="lineno">25022</span> </div>
<div class="line"><span class="lineno">25023</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;d=%lf, d1=%lf, d2=%lf, t1=%ld, t2=%ld, parts: hour=%ld min=%ld sec=%ld msec=%ld&quot;</span>,</div>
<div class="line"><span class="lineno">25024</span>                         (<span class="keywordtype">double</span>) d, (<span class="keywordtype">double</span>) d1, (<span class="keywordtype">double</span>) d2, (<span class="keywordtype">long</span>) t1, (<span class="keywordtype">long</span>) t2,</div>
<div class="line"><span class="lineno">25025</span>                         (<span class="keywordtype">long</span>) parts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a306775813b48666faef0c91d9f1e11a4">DUK_DATE_IDX_HOUR</a>],</div>
<div class="line"><span class="lineno">25026</span>                         (<span class="keywordtype">long</span>) parts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a94c97019a5cf1b81161fbd7a9a6a3aff">DUK_DATE_IDX_MINUTE</a>],</div>
<div class="line"><span class="lineno">25027</span>                         (<span class="keywordtype">long</span>) parts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a1548daaf9f58e5be18687f6ad89c20fb">DUK_DATE_IDX_SECOND</a>],</div>
<div class="line"><span class="lineno">25028</span>                         (<span class="keywordtype">long</span>) parts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#aa603e2577d44d21a39ba55e453be5e91">DUK_DATE_IDX_MILLISECOND</a>]));</div>
<div class="line"><span class="lineno">25029</span> </div>
<div class="line"><span class="lineno">25030</span>    <span class="comment">/* This assert depends on the input parts representing time inside</span></div>
<div class="line"><span class="lineno">25031</span><span class="comment">     * the Ecmascript range.</span></div>
<div class="line"><span class="lineno">25032</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">25033</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(t2 + <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa0711ce07eeb9a70b2615ffb7ae7aa84">DUK__WEEKDAY_MOD_ADDER</a> &gt;= 0);</div>
<div class="line"><span class="lineno">25034</span>    parts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a4711b0f148da27cb4f1380565f8728ff">DUK_DATE_IDX_WEEKDAY</a>] = (t2 + 4 + <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa0711ce07eeb9a70b2615ffb7ae7aa84">DUK__WEEKDAY_MOD_ADDER</a>) % 7;  <span class="comment">/* E5.1 Section 15.9.1.6 */</span></div>
<div class="line"><span class="lineno">25035</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(parts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a4711b0f148da27cb4f1380565f8728ff">DUK_DATE_IDX_WEEKDAY</a>] &gt;= 0 &amp;&amp; parts[<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a4711b0f148da27cb4f1380565f8728ff">DUK_DATE_IDX_WEEKDAY</a>] &lt;= 6);</div>
<div class="line"><span class="lineno">25036</span> </div>
<div class="line"><span class="lineno">25037</span>    year = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a0c33f02b466b4ef44a1be7b1b12938b5">duk__year_from_day</a>(t2, &amp;day_in_year);</div>
<div class="line"><span class="lineno">25038</span>    day = day_in_year;</div>
<div class="line"><span class="lineno">25039</span>    is_leap = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a0d66f8ded48f5f531cc195e74c971135">duk_bi_date_is_leap_year</a>(year);</div>
<div class="line"><span class="lineno">25040</span>    <span class="keywordflow">for</span> (month = 0; month &lt; 12; month++) {</div>
<div class="line"><span class="lineno">25041</span>        dim = <a class="code hl_variable" href="duktape-1_85_82_2src-noline_2duktape_8c.html#acd39a3842320d454c6189ee8dd5b373a">duk__days_in_month</a>[month];</div>
<div class="line"><span class="lineno">25042</span>        <span class="keywordflow">if</span> (month == 1 &amp;&amp; is_leap) {</div>
<div class="line"><span class="lineno">25043</span>            dim++;</div>
<div class="line"><span class="lineno">25044</span>        }</div>
<div class="line"><span class="lineno">25045</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;month=%ld, dim=%ld, day=%ld&quot;</span>,</div>
<div class="line"><span class="lineno">25046</span>                             (<span class="keywordtype">long</span>) month, (<span class="keywordtype">long</span>) dim, (<span class="keywordtype">long</span>) day));</div>
<div class="line"><span class="lineno">25047</span>        <span class="keywordflow">if</span> (day &lt; dim) {</div>
<div class="line"><span class="lineno">25048</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">25049</span>        }</div>
<div class="line"><span class="lineno">25050</span>        day -= dim;</div>
<div class="line"><span class="lineno">25051</span>    }</div>
<div class="line"><span class="lineno">25052</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;final month=%ld&quot;</span>, (<span class="keywordtype">long</span>) month));</div>
<div class="line"><span class="lineno">25053</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(month &gt;= 0 &amp;&amp; month &lt;= 11);</div>
<div class="line"><span class="lineno">25054</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(day &gt;= 0 &amp;&amp; day &lt;= 31);</div>
<div class="line"><span class="lineno">25055</span> </div>
<div class="line"><span class="lineno">25056</span>    <span class="comment">/* Equivalent year mapping, used to avoid DST trouble when platform</span></div>
<div class="line"><span class="lineno">25057</span><span class="comment">     * may fail to provide reasonable DST answers for dates outside the</span></div>
<div class="line"><span class="lineno">25058</span><span class="comment">     * ordinary range (e.g. 1970-2038).  An equivalent year has the same</span></div>
<div class="line"><span class="lineno">25059</span><span class="comment">     * leap-year-ness as the original year and begins on the same weekday</span></div>
<div class="line"><span class="lineno">25060</span><span class="comment">     * (Jan 1).</span></div>
<div class="line"><span class="lineno">25061</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno">25062</span><span class="comment">     * The year 2038 is avoided because there seem to be problems with it</span></div>
<div class="line"><span class="lineno">25063</span><span class="comment">     * on some platforms.  The year 1970 is also avoided as there were</span></div>
<div class="line"><span class="lineno">25064</span><span class="comment">     * practical problems with it; an equivalent year is used for it too,</span></div>
<div class="line"><span class="lineno">25065</span><span class="comment">     * which breaks some DST computations for 1970 right now, see e.g.</span></div>
<div class="line"><span class="lineno">25066</span><span class="comment">     * test-bi-date-tzoffset-brute-fi.js.</span></div>
<div class="line"><span class="lineno">25067</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">25068</span>    <span class="keywordflow">if</span> ((flags &amp; <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a2fe04da5f86477d58ac3533b41a6f1f8">DUK_DATE_FLAG_EQUIVYEAR</a>) &amp;&amp; (year &lt; 1971 || year &gt; 2037)) {</div>
<div class="line"><span class="lineno">25069</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(is_leap == 0 || is_leap == 1);</div>
<div class="line"><span class="lineno">25070</span> </div>
<div class="line"><span class="lineno">25071</span>        jan1_since_epoch = day_since_epoch - day_in_year;  <span class="comment">/* day number for Jan 1 since epoch */</span></div>
<div class="line"><span class="lineno">25072</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(jan1_since_epoch + <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa0711ce07eeb9a70b2615ffb7ae7aa84">DUK__WEEKDAY_MOD_ADDER</a> &gt;= 0);</div>
<div class="line"><span class="lineno">25073</span>        jan1_weekday = (jan1_since_epoch + 4 + <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa0711ce07eeb9a70b2615ffb7ae7aa84">DUK__WEEKDAY_MOD_ADDER</a>) % 7;  <span class="comment">/* E5.1 Section 15.9.1.6 */</span></div>
<div class="line"><span class="lineno">25074</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(jan1_weekday &gt;= 0 &amp;&amp; jan1_weekday &lt;= 6);</div>
<div class="line"><span class="lineno">25075</span>        arridx = jan1_weekday;</div>
<div class="line"><span class="lineno">25076</span>        <span class="keywordflow">if</span> (is_leap) {</div>
<div class="line"><span class="lineno">25077</span>            arridx += 7;</div>
<div class="line"><span class="lineno">25078</span>        }</div>
<div class="line"><span class="lineno">25079</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(arridx &gt;= 0 &amp;&amp; arridx &lt; (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a041e9b0b2d41c5af8429259808290726">duk_small_int_t</a>) (<span class="keyword">sizeof</span>(<a class="code hl_variable" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa33c7af03cad7d44ea5e6a219f6a735d">duk__date_equivyear</a>) / <span class="keyword">sizeof</span>(duk_uint8_t)));</div>
<div class="line"><span class="lineno">25080</span> </div>
<div class="line"><span class="lineno">25081</span>        equiv_year = (<a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9dbc0fdd27e7326d21cbf56e6d40d8a5">duk_int_t</a>) <a class="code hl_variable" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa33c7af03cad7d44ea5e6a219f6a735d">duk__date_equivyear</a>[arridx] + 1970;</div>
<div class="line"><span class="lineno">25082</span>        year = equiv_year;</div>
<div class="line"><span class="lineno">25083</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;equiv year mapping, year=%ld, day_in_year=%ld, day_since_epoch=%ld, &quot;</span></div>
<div class="line"><span class="lineno">25084</span>                             <span class="stringliteral">&quot;jan1_since_epoch=%ld, jan1_weekday=%ld -&gt; equiv year %ld&quot;</span>,</div>
<div class="line"><span class="lineno">25085</span>                             (<span class="keywordtype">long</span>) year, (<span class="keywordtype">long</span>) day_in_year, (<span class="keywordtype">long</span>) day_since_epoch,</div>
<div class="line"><span class="lineno">25086</span>                             (<span class="keywordtype">long</span>) jan1_since_epoch, (<span class="keywordtype">long</span>) jan1_weekday, (<span class="keywordtype">long</span>) equiv_year));</div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_a041e9b0b2d41c5af8429259808290726"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a041e9b0b2d41c5af8429259808290726">duk_small_int_t</a></div><div class="ttdeci">int duk_small_int_t</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l01807">duktape-1.5.2/src-noline/duk_config.h:1807</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_af0d8711e782e9f75d49ecdc04afe6b2f"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af0d8711e782e9f75d49ecdc04afe6b2f">DUK_FMOD</a></div><div class="ttdeci">#define DUK_FMOD</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l02222">duktape-1.5.2/src-noline/duk_config.h:2222</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_af32ca4c30431e819676401ce2b11c2e7"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af32ca4c30431e819676401ce2b11c2e7">duk_bool_t</a></div><div class="ttdeci">duk_small_int_t duk_bool_t</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l01825">duktape-1.5.2/src-noline/duk_config.h:1825</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_af6a3560d3297f25295e56df25fa0f695"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af6a3560d3297f25295e56df25fa0f695">DUK_FLOOR</a></div><div class="ttdeci">#define DUK_FLOOR</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l02216">duktape-1.5.2/src-noline/duk_config.h:2216</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a0c33f02b466b4ef44a1be7b1b12938b5"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a0c33f02b466b4ef44a1be7b1b12938b5">duk__year_from_day</a></div><div class="ttdeci">DUK_LOCAL duk_int_t duk__year_from_day(duk_int_t day, duk_small_int_t *out_day_within_year)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l24850">duktape-1.5.2/src-noline/duktape.c:24850</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a0d66f8ded48f5f531cc195e74c971135"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a0d66f8ded48f5f531cc195e74c971135">duk_bi_date_is_leap_year</a></div><div class="ttdeci">DUK_INTERNAL_DECL duk_bool_t duk_bi_date_is_leap_year(duk_int_t year)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l24784">duktape-1.5.2/src-noline/duktape.c:24784</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a3b7b94aee846eb36d47133762f987e7c"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a3b7b94aee846eb36d47133762f987e7c">duk_bi_date_timeval_to_parts</a></div><div class="ttdeci">DUK_INTERNAL_DECL void duk_bi_date_timeval_to_parts(duk_double_t d, duk_int_t *parts, duk_double_t *dparts, duk_small_uint_t flags)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l24949">duktape-1.5.2/src-noline/duktape.c:24949</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a4c43d1ef7d861338b44d84a00ac632c0"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a4c43d1ef7d861338b44d84a00ac632c0">duk_bi_date_timeval_in_leeway_range</a></div><div class="ttdeci">DUK_INTERNAL_DECL duk_bool_t duk_bi_date_timeval_in_leeway_range(duk_double_t x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l24801">duktape-1.5.2/src-noline/duktape.c:24801</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a52bc112231cf556000de414bca74c712"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a></div><div class="ttdeci">#define DUK_ASSERT(x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07755">duktape-1.5.2/src-noline/duktape.c:7755</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_aa0711ce07eeb9a70b2615ffb7ae7aa84"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa0711ce07eeb9a70b2615ffb7ae7aa84">DUK__WEEKDAY_MOD_ADDER</a></div><div class="ttdeci">#define DUK__WEEKDAY_MOD_ADDER</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l24782">duktape-1.5.2/src-noline/duktape.c:24782</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_aa33c7af03cad7d44ea5e6a219f6a735d"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa33c7af03cad7d44ea5e6a219f6a735d">duk__date_equivyear</a></div><div class="ttdeci">DUK_LOCAL duk_uint8_t duk__date_equivyear[14]</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l24405">duktape-1.5.2/src-noline/duktape.c:24405</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_acd39a3842320d454c6189ee8dd5b373a"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#acd39a3842320d454c6189ee8dd5b373a">duk__days_in_month</a></div><div class="ttdeci">DUK_LOCAL duk_uint8_t duk__days_in_month[12]</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l24765">duktape-1.5.2/src-noline/duktape.c:24765</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8h_html_a2fe04da5f86477d58ac3533b41a6f1f8"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8h.html#a2fe04da5f86477d58ac3533b41a6f1f8">DUK_DATE_FLAG_EQUIVYEAR</a></div><div class="ttdeci">#define DUK_DATE_FLAG_EQUIVYEAR</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l01149">duktape-1.5.2/src-noline/duktape.h:1149</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8h_html_a4711b0f148da27cb4f1380565f8728ff"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8h.html#a4711b0f148da27cb4f1380565f8728ff">DUK_DATE_IDX_WEEKDAY</a></div><div class="ttdeci">#define DUK_DATE_IDX_WEEKDAY</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l01127">duktape-1.5.2/src-noline/duktape.h:1127</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a55075a7ef7c379b4edbfec934e554d01" name="a55075a7ef7c379b4edbfec934e554d01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55075a7ef7c379b4edbfec934e554d01">&#9670;&#160;</a></span>duk_bi_date_year_in_valid_range()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> <a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#af32ca4c30431e819676401ce2b11c2e7">duk_bool_t</a> duk_bi_date_year_in_valid_range </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a63e15ff4dd1c9ad036a030a80346cdc3">duk_double_t</a></td>          <td class="paramname"><span class="paramname"><em>year</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l24805">24805</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">24805</span>                           {</div>
<div class="line"><span class="lineno">24806</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">24807</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="afcc6c1a5588e0c387eb7ddf658e65734" name="afcc6c1a5588e0c387eb7ddf658e65734"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcc6c1a5588e0c387eb7ddf658e65734">&#9670;&#160;</a></span>duk_bi_json_parse_helper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void duk_bi_json_parse_helper </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a></td>          <td class="paramname"><span class="paramname"><em>idx_value</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a></td>          <td class="paramname"><span class="paramname"><em>idx_reviver</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a2b7ba45bf826058a9b7720b5e258efc6">duk_small_uint_t</a></td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l31498">31498</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">31501</span>                                                         {</div>
<div class="line"><span class="lineno">31502</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a6c3a2adb6e09294c7e65f69821e5e81a">DUK_DD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa66ca9adc2b4187c5d549a9b117b03d3">DUK_DDPRINT</a>(<span class="stringliteral">&quot;top level value not supported, fail fast path&quot;</span>));</div>
<div class="line"><span class="lineno">31503</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a58c4ec0fd2bf1639931dbcaaf6235b90">DUK_RET_ERROR</a>;  <span class="comment">/* error message doesn&#39;t matter, ignored anyway */</span></div>
<div class="line"><span class="lineno">31504</span>    }</div>
<div class="line"><span class="lineno">31505</span> </div>
<div class="line"><span class="lineno">31506</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">31507</span>}</div>
<div class="line"><span class="lineno">31508</span><span class="preprocessor">#endif  </span><span class="comment">/* DUK_USE_JSON_STRINGIFY_FASTPATH */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">31509</span> </div>
<div class="line"><span class="lineno">31510</span><span class="comment">/*</span></div>
<div class="line"><span class="lineno">31511</span><span class="comment"> *  Top level wrappers</span></div>
<div class="line"><span class="lineno">31512</span><span class="comment"> */</span></div>
<div class="line"><span class="lineno">31513</span> </div>
<div class="line"><span class="lineno">31514</span><a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a19032f251b36af6bfb17f4450b829521">DUK_INTERNAL</a></div>
<div class="line"><span class="lineno">31515</span><span class="keywordtype">void</span> <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a68b9d7074c81b9c30749cea1c0ef0ec8">duk_bi_json_parse_helper</a>(<a class="code hl_struct" href="structduk__hthread.html">duk_context</a> *ctx,</div>
<div class="line"><span class="lineno">31516</span>                              <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a> idx_value,</div>
<div class="line"><span class="lineno">31517</span>                              <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a> idx_reviver,</div>
<div class="line"><span class="lineno">31518</span>                              <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a2b7ba45bf826058a9b7720b5e258efc6">duk_small_uint_t</a> flags) {</div>
<div class="line"><span class="lineno">31519</span>    <a class="code hl_struct" href="structduk__hthread.html">duk_hthread</a> *thr = (<a class="code hl_struct" href="structduk__hthread.html">duk_hthread</a> *) ctx;</div>
<div class="line"><span class="lineno">31520</span>    <a class="code hl_struct" href="structduk__json__dec__ctx.html">duk_json_dec_ctx</a> js_ctx_alloc;</div>
<div class="line"><span class="lineno">31521</span>    <a class="code hl_struct" href="structduk__json__dec__ctx.html">duk_json_dec_ctx</a> *js_ctx = &amp;js_ctx_alloc;</div>
<div class="line"><span class="lineno">31522</span>    <a class="code hl_struct" href="structduk__hstring.html">duk_hstring</a> *h_text;</div>
<div class="line"><span class="lineno">31523</span><span class="preprocessor">#ifdef DUK_USE_ASSERTIONS</span></div>
<div class="line"><span class="lineno">31524</span>    <a class="code hl_typedef" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a> entry_top = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8c8653fcd951809042c23c42e534c421">duk_get_top</a>(ctx);</div>
<div class="line"><span class="lineno">31525</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">31526</span> </div>
<div class="line"><span class="lineno">31527</span>    <span class="comment">/* negative top-relative indices not allowed now */</span></div>
<div class="line"><span class="lineno">31528</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(idx_value == <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a966695242bb548327ba7a095f8a319b0">DUK_INVALID_INDEX</a> || idx_value &gt;= 0);</div>
<div class="line"><span class="lineno">31529</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(idx_reviver == <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#a966695242bb548327ba7a095f8a319b0">DUK_INVALID_INDEX</a> || idx_reviver &gt;= 0);</div>
<div class="line"><span class="lineno">31530</span> </div>
<div class="line"><span class="lineno">31531</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;JSON parse start: text=%!T, reviver=%!T, flags=0x%08lx, stack_top=%ld&quot;</span>,</div>
<div class="line"><span class="lineno">31532</span>                         (<a class="code hl_struct" href="structduk__tval__struct.html">duk_tval</a> *) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a>(ctx, idx_value),</div>
<div class="line"><span class="lineno">31533</span>                         (<a class="code hl_struct" href="structduk__tval__struct.html">duk_tval</a> *) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a>(ctx, idx_reviver),</div>
<div class="line"><span class="lineno">31534</span>                         (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) flags,</div>
<div class="line"><span class="lineno">31535</span>                         (<span class="keywordtype">long</span>) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8c8653fcd951809042c23c42e534c421">duk_get_top</a>(ctx)));</div>
<div class="line"><span class="lineno">31536</span> </div>
<div class="line"><span class="lineno">31537</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#ace325eaae44f64bffe3918e912d80ffc">DUK_MEMZERO</a>(&amp;js_ctx_alloc, <span class="keyword">sizeof</span>(js_ctx_alloc));</div>
<div class="line"><span class="lineno">31538</span>    js_ctx-&gt;<a class="code hl_variable" href="structduk__json__dec__ctx.html#ab7f807d89a1749f06fd942c1f02aa8db">thr</a> = thr;</div>
<div class="line"><span class="lineno">31539</span><span class="preprocessor">#ifdef DUK_USE_EXPLICIT_NULL_INIT</span></div>
<div class="line"><span class="lineno">31540</span>    <span class="comment">/* nothing now */</span></div>
<div class="line"><span class="lineno">31541</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">31542</span>    js_ctx-&gt;<a class="code hl_variable" href="structduk__json__dec__ctx.html#a75d27ed6dd5b2ac8217e522807a7cb76">recursion_limit</a> = <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a586476e9a70779bc20e9e9c21052296f">DUK_USE_JSON_DEC_RECLIMIT</a>;</div>
<div class="line"><span class="lineno">31543</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(js_ctx-&gt;<a class="code hl_variable" href="structduk__json__dec__ctx.html#a6b3fa3217c54aa19b0e6b040f232f3a2">recursion_depth</a> == 0);</div>
<div class="line"><span class="lineno">31544</span> </div>
<div class="line"><span class="lineno">31545</span>    <span class="comment">/* Flag handling currently assumes that flags are consistent.  This is OK</span></div>
<div class="line"><span class="lineno">31546</span><span class="comment">     * because the call sites are now strictly controlled.</span></div>
<div class="line"><span class="lineno">31547</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">31548</span> </div>
<div class="line"><span class="lineno">31549</span>    js_ctx-&gt;<a class="code hl_variable" href="structduk__json__dec__ctx.html#a5fe33cb7d759dfd822f6b71c35d0298b">flags</a> = flags;</div>
<div class="line"><span class="lineno">31550</span><span class="preprocessor">#if defined(DUK_USE_JX)</span></div>
<div class="line"><span class="lineno">31551</span>    js_ctx-&gt;<a class="code hl_variable" href="structduk__json__dec__ctx.html#a63e6dc9326d949d05409c7c6a97a28eb">flag_ext_custom</a> = flags &amp; <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8576193cb53190324d0d667fbc6d5c85">DUK_JSON_FLAG_EXT_CUSTOM</a>;</div>
<div class="line"><span class="lineno">31552</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">31553</span><span class="preprocessor">#if defined(DUK_USE_JC)</span></div>
<div class="line"><span class="lineno">31554</span>    js_ctx-&gt;<a class="code hl_variable" href="structduk__json__dec__ctx.html#a672f7c048310295d8ae820ad72fe6ccc">flag_ext_compatible</a> = flags &amp; <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ad5fab2d7b26e717bd1cacb622a0c0396">DUK_JSON_FLAG_EXT_COMPATIBLE</a>;</div>
<div class="line"><span class="lineno">31555</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">31556</span><span class="preprocessor">#if defined(DUK_USE_JX) || defined(DUK_USE_JC)</span></div>
<div class="line"><span class="lineno">31557</span>    js_ctx-&gt;<a class="code hl_variable" href="structduk__json__dec__ctx.html#aaa5a11e3f10499d9f435ab4334dd1e6f">flag_ext_custom_or_compatible</a> = flags &amp; (<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8576193cb53190324d0d667fbc6d5c85">DUK_JSON_FLAG_EXT_CUSTOM</a> | <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#ad5fab2d7b26e717bd1cacb622a0c0396">DUK_JSON_FLAG_EXT_COMPATIBLE</a>);</div>
<div class="line"><span class="lineno">31558</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">31559</span> </div>
<div class="line"><span class="lineno">31560</span>    h_text = <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a08a5b25284eaa8cfe960915609061b59">duk_to_hstring</a>(ctx, idx_value);  <span class="comment">/* coerce in-place */</span></div>
<div class="line"><span class="lineno">31561</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(h_text != <a class="code hl_define" href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">31562</span> </div>
<div class="line"><span class="lineno">31563</span>    <span class="comment">/* JSON parsing code is allowed to read [p_start,p_end]: p_end is</span></div>
<div class="line"><span class="lineno">31564</span><span class="comment">     * valid and points to the string NUL terminator (which is always</span></div>
<div class="line"><span class="lineno">31565</span><span class="comment">     * guaranteed for duk_hstrings.</span></div>
<div class="line"><span class="lineno">31566</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">31567</span>    js_ctx-&gt;<a class="code hl_variable" href="structduk__json__dec__ctx.html#ac526a51c18cc2d56b3bda82e6b802863">p_start</a> = (<span class="keyword">const</span> duk_uint8_t *) <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a0d205166ff35a99b65ad9032423e6c42">DUK_HSTRING_GET_DATA</a>(h_text);</div>
<div class="line"><span class="lineno">31568</span>    js_ctx-&gt;<a class="code hl_variable" href="structduk__json__dec__ctx.html#aaa38fe7a273ee79a9b583a02b139ec8c">p</a> = js_ctx-&gt;<a class="code hl_variable" href="structduk__json__dec__ctx.html#ac526a51c18cc2d56b3bda82e6b802863">p_start</a>;</div>
<div class="line"><span class="lineno">31569</span>    js_ctx-&gt;<a class="code hl_variable" href="structduk__json__dec__ctx.html#ae87ff0b30127a42a2dafda4838794883">p_end</a> = ((<span class="keyword">const</span> duk_uint8_t *) <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a0d205166ff35a99b65ad9032423e6c42">DUK_HSTRING_GET_DATA</a>(h_text)) +</div>
<div class="line"><span class="lineno">31570</span>                    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8067240555ec3eaebfa234e10a0ff5db">DUK_HSTRING_GET_BYTELEN</a>(h_text);</div>
<div class="line"><span class="lineno">31571</span>    <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a52bc112231cf556000de414bca74c712">DUK_ASSERT</a>(*(js_ctx-&gt;<a class="code hl_variable" href="structduk__json__dec__ctx.html#ae87ff0b30127a42a2dafda4838794883">p_end</a>) == 0x00);</div>
<div class="line"><span class="lineno">31572</span> </div>
<div class="line"><span class="lineno">31573</span>    <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a511fadc4cdebf1adc98bcf1e2e5910b0">duk__dec_value</a>(js_ctx);  <span class="comment">/* -&gt; [ ... value ] */</span></div>
<div class="line"><span class="lineno">31574</span> </div>
<div class="line"><span class="lineno">31575</span>    <span class="comment">/* Trailing whitespace has been eaten by duk__dec_value(), so if</span></div>
<div class="line"><span class="lineno">31576</span><span class="comment">     * we&#39;re not at end of input here, it&#39;s a SyntaxError.</span></div>
<div class="line"><span class="lineno">31577</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">31578</span> </div>
<div class="line"><span class="lineno">31579</span>    <span class="keywordflow">if</span> (js_ctx-&gt;<a class="code hl_variable" href="structduk__json__dec__ctx.html#aaa38fe7a273ee79a9b583a02b139ec8c">p</a> != js_ctx-&gt;<a class="code hl_variable" href="structduk__json__dec__ctx.html#ae87ff0b30127a42a2dafda4838794883">p_end</a>) {</div>
<div class="line"><span class="lineno">31580</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a4851670c4776095b1c587b70492c08a0">duk__dec_syntax_error</a>(js_ctx);</div>
<div class="line"><span class="lineno">31581</span>    }</div>
<div class="line"><span class="lineno">31582</span> </div>
<div class="line"><span class="lineno">31583</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8h.html#acf46529096afea16e3f59b7f20100301">duk_is_callable</a>(ctx, idx_reviver)) {</div>
<div class="line"><span class="lineno">31584</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;applying reviver: %!T&quot;</span>,</div>
<div class="line"><span class="lineno">31585</span>                             (<a class="code hl_struct" href="structduk__tval__struct.html">duk_tval</a> *) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a>(ctx, idx_reviver)));</div>
<div class="line"><span class="lineno">31586</span> </div>
<div class="line"><span class="lineno">31587</span>        js_ctx-&gt;<a class="code hl_variable" href="structduk__json__dec__ctx.html#a90ad5c7a51456aca9f71ab711816ddc6">idx_reviver</a> = idx_reviver;</div>
<div class="line"><span class="lineno">31588</span> </div>
<div class="line"><span class="lineno">31589</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a81dddbc46ac7dd85b73412b852f708b8">duk_push_object</a>(ctx);</div>
<div class="line"><span class="lineno">31590</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8566105ab847d4151b62c29ceab53a0d">duk_dup</a>(ctx, -2);  <span class="comment">/* -&gt; [ ... val root val ] */</span></div>
<div class="line"><span class="lineno">31591</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a10d47af3b4037f03aed29def292d3dda">duk_put_prop_stridx</a>(ctx, -2, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8203e3cac3140d5fd71912fd11acbcef">DUK_STRIDX_EMPTY_STRING</a>);  <span class="comment">/* default attrs ok */</span></div>
<div class="line"><span class="lineno">31592</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a42b9810a4cfe02e7f9ff037960edff65">duk_push_hstring_stridx</a>(ctx, <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8203e3cac3140d5fd71912fd11acbcef">DUK_STRIDX_EMPTY_STRING</a>);  <span class="comment">/* -&gt; [ ... val root &quot;&quot; ] */</span></div>
<div class="line"><span class="lineno">31593</span> </div>
<div class="line"><span class="lineno">31594</span>        <a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#a2db20d2d3b36d8491ed171cf503488bb">DUK_DDD</a>(<a class="code hl_define" href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa6e5d41ceaba6832e5ede737f0a35fb9">DUK_DDDPRINT</a>(<span class="stringliteral">&quot;start reviver walk, root=%!T, name=%!T&quot;</span>,</div>
<div class="line"><span class="lineno">31595</span>                             (<a class="code hl_struct" href="structduk__tval__struct.html">duk_tval</a> *) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a>(ctx, -2),</div>
<div class="line"><span class="lineno">31596</span>                             (<a class="code hl_struct" href="structduk__tval__struct.html">duk_tval</a> *) <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a>(ctx, -1)));</div>
<div class="line"><span class="lineno">31597</span> </div>
<div class="line"><span class="lineno">31598</span>        <a class="code hl_function" href="duktape-1_85_82_2src-noline_2duktape_8c.html#af14c77784651e2f71cccad70bd5cc858">duk__dec_reviver_walk</a>(js_ctx);  <span class="comment">/* [ ... val root &quot;&quot; ] -&gt; [ ... val val&#39; ] */</span></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_a3e3bb369382aab50155c1d18bdf73923"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a></div><div class="ttdeci">duk_int_t duk_idx_t</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l01830">duktape-1.5.2/src-noline/duk_config.h:1830</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_a586476e9a70779bc20e9e9c21052296f"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a586476e9a70779bc20e9e9c21052296f">DUK_USE_JSON_DEC_RECLIMIT</a></div><div class="ttdeci">#define DUK_USE_JSON_DEC_RECLIMIT</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l03511">duktape-1.5.2/src-noline/duk_config.h:3511</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duk__config_8h_html_ace325eaae44f64bffe3918e912d80ffc"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duk__config_8h.html#ace325eaae44f64bffe3918e912d80ffc">DUK_MEMZERO</a></div><div class="ttdeci">#define DUK_MEMZERO(p, n)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duk__config_8h_source.html#l02056">duktape-1.5.2/src-noline/duk_config.h:2056</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a08a5b25284eaa8cfe960915609061b59"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a08a5b25284eaa8cfe960915609061b59">duk_to_hstring</a></div><div class="ttdeci">DUK_INTERNAL_DECL duk_hstring * duk_to_hstring(duk_context *ctx, duk_idx_t index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l17177">duktape-1.5.2/src-noline/duktape.c:17177</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a0d205166ff35a99b65ad9032423e6c42"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a0d205166ff35a99b65ad9032423e6c42">DUK_HSTRING_GET_DATA</a></div><div class="ttdeci">#define DUK_HSTRING_GET_DATA(x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04522">duktape-1.5.2/src-noline/duktape.c:4522</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a10d47af3b4037f03aed29def292d3dda"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a10d47af3b4037f03aed29def292d3dda">duk_put_prop_stridx</a></div><div class="ttdeci">DUK_INTERNAL_DECL duk_bool_t duk_put_prop_stridx(duk_context *ctx, duk_idx_t obj_index, duk_small_int_t stridx)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l14404">duktape-1.5.2/src-noline/duktape.c:14404</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a42b9810a4cfe02e7f9ff037960edff65"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a42b9810a4cfe02e7f9ff037960edff65">duk_push_hstring_stridx</a></div><div class="ttdeci">DUK_INTERNAL_DECL void duk_push_hstring_stridx(duk_context *ctx, duk_small_int_t stridx)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l19052">duktape-1.5.2/src-noline/duktape.c:19052</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a4851670c4776095b1c587b70492c08a0"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a4851670c4776095b1c587b70492c08a0">duk__dec_syntax_error</a></div><div class="ttdeci">DUK_LOCAL_DECL void duk__dec_syntax_error(duk_json_dec_ctx *js_ctx)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l29017">duktape-1.5.2/src-noline/duktape.c:29017</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a511fadc4cdebf1adc98bcf1e2e5910b0"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a511fadc4cdebf1adc98bcf1e2e5910b0">duk__dec_value</a></div><div class="ttdeci">DUK_LOCAL_DECL void duk__dec_value(duk_json_dec_ctx *js_ctx)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l29695">duktape-1.5.2/src-noline/duktape.c:29695</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a68b9d7074c81b9c30749cea1c0ef0ec8"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a68b9d7074c81b9c30749cea1c0ef0ec8">duk_bi_json_parse_helper</a></div><div class="ttdeci">DUK_INTERNAL_DECL void duk_bi_json_parse_helper(duk_context *ctx, duk_idx_t idx_value, duk_idx_t idx_reviver, duk_small_uint_t flags)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l31498">duktape-1.5.2/src-noline/duktape.c:31498</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a6c3a2adb6e09294c7e65f69821e5e81a"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a6c3a2adb6e09294c7e65f69821e5e81a">DUK_DD</a></div><div class="ttdeci">#define DUK_DD(x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07496">duktape-1.5.2/src-noline/duktape.c:7496</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a8067240555ec3eaebfa234e10a0ff5db"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8067240555ec3eaebfa234e10a0ff5db">DUK_HSTRING_GET_BYTELEN</a></div><div class="ttdeci">#define DUK_HSTRING_GET_BYTELEN(x)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04505">duktape-1.5.2/src-noline/duktape.c:4505</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a81dddbc46ac7dd85b73412b852f708b8"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a81dddbc46ac7dd85b73412b852f708b8">duk_push_object</a></div><div class="ttdeci">DUK_EXTERNAL duk_idx_t duk_push_object(duk_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l18449">duktape-1.5.2/src-noline/duktape.c:18449</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a8203e3cac3140d5fd71912fd11acbcef"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8203e3cac3140d5fd71912fd11acbcef">DUK_STRIDX_EMPTY_STRING</a></div><div class="ttdeci">#define DUK_STRIDX_EMPTY_STRING</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l00921">duktape-1.5.2/src-noline/duktape.c:921</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a8566105ab847d4151b62c29ceab53a0d"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8566105ab847d4151b62c29ceab53a0d">duk_dup</a></div><div class="ttdeci">DUK_EXTERNAL void duk_dup(duk_context *ctx, duk_idx_t from_index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15702">duktape-1.5.2/src-noline/duktape.c:15702</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a8576193cb53190324d0d667fbc6d5c85"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8576193cb53190324d0d667fbc6d5c85">DUK_JSON_FLAG_EXT_CUSTOM</a></div><div class="ttdeci">#define DUK_JSON_FLAG_EXT_CUSTOM</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l08277">duktape-1.5.2/src-noline/duktape.c:8277</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_a8c8653fcd951809042c23c42e534c421"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#a8c8653fcd951809042c23c42e534c421">duk_get_top</a></div><div class="ttdeci">DUK_EXTERNAL duk_idx_t duk_get_top(duk_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15204">duktape-1.5.2/src-noline/duktape.c:15204</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_aa66ca9adc2b4187c5d549a9b117b03d3"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#aa66ca9adc2b4187c5d549a9b117b03d3">DUK_DDPRINT</a></div><div class="ttdeci">#define DUK_DDPRINT</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l07508">duktape-1.5.2/src-noline/duktape.c:7508</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_ad5fab2d7b26e717bd1cacb622a0c0396"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#ad5fab2d7b26e717bd1cacb622a0c0396">DUK_JSON_FLAG_EXT_COMPATIBLE</a></div><div class="ttdeci">#define DUK_JSON_FLAG_EXT_COMPATIBLE</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l08278">duktape-1.5.2/src-noline/duktape.c:8278</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_af14c77784651e2f71cccad70bd5cc858"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#af14c77784651e2f71cccad70bd5cc858">duk__dec_reviver_walk</a></div><div class="ttdeci">DUK_LOCAL_DECL void duk__dec_reviver_walk(duk_json_dec_ctx *js_ctx)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l29767">duktape-1.5.2/src-noline/duktape.c:29767</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8c_html_afa34aa8c7f880082f9de613ef2bc3c58"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8c.html#afa34aa8c7f880082f9de613ef2bc3c58">duk_get_tval</a></div><div class="ttdeci">DUK_INTERNAL_DECL duk_tval * duk_get_tval(duk_context *ctx, duk_idx_t index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l15121">duktape-1.5.2/src-noline/duktape.c:15121</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8h_html_a58c4ec0fd2bf1639931dbcaaf6235b90"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8h.html#a58c4ec0fd2bf1639931dbcaaf6235b90">DUK_RET_ERROR</a></div><div class="ttdeci">#define DUK_RET_ERROR</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l00356">duktape-1.5.2/src-noline/duktape.h:356</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8h_html_a966695242bb548327ba7a095f8a319b0"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8h.html#a966695242bb548327ba7a095f8a319b0">DUK_INVALID_INDEX</a></div><div class="ttdeci">#define DUK_INVALID_INDEX</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l00239">duktape-1.5.2/src-noline/duktape.h:239</a></div></div>
<div class="ttc" id="aduktape-1_85_82_2src-noline_2duktape_8h_html_acf46529096afea16e3f59b7f20100301"><div class="ttname"><a href="duktape-1_85_82_2src-noline_2duktape_8h.html#acf46529096afea16e3f59b7f20100301">duk_is_callable</a></div><div class="ttdeci">#define duk_is_callable(ctx, index)</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8h_source.html#l00636">duktape-1.5.2/src-noline/duktape.h:636</a></div></div>
<div class="ttc" id="agmacros_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="gmacros_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> <a href="gmacros_8h_source.html#l00924">gmacros.h:924</a></div></div>
<div class="ttc" id="astructduk__hstring_html"><div class="ttname"><a href="structduk__hstring.html">duk_hstring</a></div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l04546">duktape-1.5.2/src-noline/duktape.c:4546</a></div></div>
<div class="ttc" id="astructduk__hthread_html"><div class="ttname"><a href="structduk__hthread.html">duk_hthread</a></div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l06190">duktape-1.5.2/src-noline/duktape.c:6190</a></div></div>
<div class="ttc" id="astructduk__json__dec__ctx_html"><div class="ttname"><a href="structduk__json__dec__ctx.html">duk_json_dec_ctx</a></div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l08318">duktape-1.5.2/src-noline/duktape.c:8318</a></div></div>
<div class="ttc" id="astructduk__json__dec__ctx_html_a5fe33cb7d759dfd822f6b71c35d0298b"><div class="ttname"><a href="structduk__json__dec__ctx.html#a5fe33cb7d759dfd822f6b71c35d0298b">duk_json_dec_ctx::flags</a></div><div class="ttdeci">duk_small_uint_t flags</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l08324">duktape-1.5.2/src-noline/duktape.c:8324</a></div></div>
<div class="ttc" id="astructduk__json__dec__ctx_html_a63e6dc9326d949d05409c7c6a97a28eb"><div class="ttname"><a href="structduk__json__dec__ctx.html#a63e6dc9326d949d05409c7c6a97a28eb">duk_json_dec_ctx::flag_ext_custom</a></div><div class="ttdeci">duk_small_uint_t flag_ext_custom</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l08326">duktape-1.5.2/src-noline/duktape.c:8326</a></div></div>
<div class="ttc" id="astructduk__json__dec__ctx_html_a672f7c048310295d8ae820ad72fe6ccc"><div class="ttname"><a href="structduk__json__dec__ctx.html#a672f7c048310295d8ae820ad72fe6ccc">duk_json_dec_ctx::flag_ext_compatible</a></div><div class="ttdeci">duk_small_uint_t flag_ext_compatible</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l08327">duktape-1.5.2/src-noline/duktape.c:8327</a></div></div>
<div class="ttc" id="astructduk__json__dec__ctx_html_a6b3fa3217c54aa19b0e6b040f232f3a2"><div class="ttname"><a href="structduk__json__dec__ctx.html#a6b3fa3217c54aa19b0e6b040f232f3a2">duk_json_dec_ctx::recursion_depth</a></div><div class="ttdeci">duk_int_t recursion_depth</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l08330">duktape-1.5.2/src-noline/duktape.c:8330</a></div></div>
<div class="ttc" id="astructduk__json__dec__ctx_html_a75d27ed6dd5b2ac8217e522807a7cb76"><div class="ttname"><a href="structduk__json__dec__ctx.html#a75d27ed6dd5b2ac8217e522807a7cb76">duk_json_dec_ctx::recursion_limit</a></div><div class="ttdeci">duk_int_t recursion_limit</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l08331">duktape-1.5.2/src-noline/duktape.c:8331</a></div></div>
<div class="ttc" id="astructduk__json__dec__ctx_html_a90ad5c7a51456aca9f71ab711816ddc6"><div class="ttname"><a href="structduk__json__dec__ctx.html#a90ad5c7a51456aca9f71ab711816ddc6">duk_json_dec_ctx::idx_reviver</a></div><div class="ttdeci">duk_idx_t idx_reviver</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l08323">duktape-1.5.2/src-noline/duktape.c:8323</a></div></div>
<div class="ttc" id="astructduk__json__dec__ctx_html_aaa38fe7a273ee79a9b583a02b139ec8c"><div class="ttname"><a href="structduk__json__dec__ctx.html#aaa38fe7a273ee79a9b583a02b139ec8c">duk_json_dec_ctx::p</a></div><div class="ttdeci">const duk_uint8_t * p</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l08320">duktape-1.5.2/src-noline/duktape.c:8320</a></div></div>
<div class="ttc" id="astructduk__json__dec__ctx_html_aaa5a11e3f10499d9f435ab4334dd1e6f"><div class="ttname"><a href="structduk__json__dec__ctx.html#aaa5a11e3f10499d9f435ab4334dd1e6f">duk_json_dec_ctx::flag_ext_custom_or_compatible</a></div><div class="ttdeci">duk_small_uint_t flag_ext_custom_or_compatible</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l08328">duktape-1.5.2/src-noline/duktape.c:8328</a></div></div>
<div class="ttc" id="astructduk__json__dec__ctx_html_ab7f807d89a1749f06fd942c1f02aa8db"><div class="ttname"><a href="structduk__json__dec__ctx.html#ab7f807d89a1749f06fd942c1f02aa8db">duk_json_dec_ctx::thr</a></div><div class="ttdeci">duk_hthread * thr</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l08319">duktape-1.5.2/src-noline/duktape.c:8319</a></div></div>
<div class="ttc" id="astructduk__json__dec__ctx_html_ac526a51c18cc2d56b3bda82e6b802863"><div class="ttname"><a href="structduk__json__dec__ctx.html#ac526a51c18cc2d56b3bda82e6b802863">duk_json_dec_ctx::p_start</a></div><div class="ttdeci">const duk_uint8_t * p_start</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l08321">duktape-1.5.2/src-noline/duktape.c:8321</a></div></div>
<div class="ttc" id="astructduk__json__dec__ctx_html_ae87ff0b30127a42a2dafda4838794883"><div class="ttname"><a href="structduk__json__dec__ctx.html#ae87ff0b30127a42a2dafda4838794883">duk_json_dec_ctx::p_end</a></div><div class="ttdeci">const duk_uint8_t * p_end</div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l08322">duktape-1.5.2/src-noline/duktape.c:8322</a></div></div>
<div class="ttc" id="astructduk__tval__struct_html"><div class="ttname"><a href="structduk__tval__struct.html">duk_tval_struct</a></div><div class="ttdef"><b>Definition</b> <a href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l00616">duktape-1.5.2/src-noline/duktape.c:616</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8b2f6bbc2a02ca2b7b337df69d35f51a" name="a8b2f6bbc2a02ca2b7b337df69d35f51a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b2f6bbc2a02ca2b7b337df69d35f51a">&#9670;&#160;</a></span>duk_bi_json_stringify_helper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a9738fe5c7ec6aaf7abeeb3c45c8897d9">DUK_INTERNAL_DECL</a> void duk_bi_json_stringify_helper </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#aedf99a449ea72d41f16606f6c8ced70d">duk_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a></td>          <td class="paramname"><span class="paramname"><em>idx_value</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a></td>          <td class="paramname"><span class="paramname"><em>idx_replacer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a3e3bb369382aab50155c1d18bdf73923">duk_idx_t</a></td>          <td class="paramname"><span class="paramname"><em>idx_space</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="duktape-1_85_82_2src-noline_2duk__config_8h.html#a2b7ba45bf826058a9b7720b5e258efc6">duk_small_uint_t</a></td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html#l31601">31601</a> of file <a class="el" href="duktape-1_85_82_2src-noline_2duktape_8c_source.html">duktape-1.5.2/src-noline/duktape.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">31601</span>                                                                       : %!T<span class="stringliteral">&quot;,</span></div>
<div class="line"><span class="lineno">31602</span><span class="stringliteral">                             (duk_tval *) duk_get_tval(ctx, idx_reviver)));</span></div>
<div class="line"><span class="lineno">31603</span><span class="stringliteral">    }</span></div>
<div class="line"><span class="lineno">31604</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31605</span><span class="stringliteral">    /* Final result is at stack top. */</span></div>
<div class="line"><span class="lineno">31606</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31607</span><span class="stringliteral">    DUK_DDD(DUK_DDDPRINT(&quot;</span>JSON parse end: text=%!T, reviver=%!T, flags=0x%08lx, result=%!T, stack_top=%ld<span class="stringliteral">&quot;,</span></div>
<div class="line"><span class="lineno">31608</span><span class="stringliteral">                         (duk_tval *) duk_get_tval(ctx, idx_value),</span></div>
<div class="line"><span class="lineno">31609</span><span class="stringliteral">                         (duk_tval *) duk_get_tval(ctx, idx_reviver),</span></div>
<div class="line"><span class="lineno">31610</span><span class="stringliteral">                         (unsigned long) flags,</span></div>
<div class="line"><span class="lineno">31611</span><span class="stringliteral">                         (duk_tval *) duk_get_tval(ctx, -1),</span></div>
<div class="line"><span class="lineno">31612</span><span class="stringliteral">                         (long) duk_get_top(ctx)));</span></div>
<div class="line"><span class="lineno">31613</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31614</span><span class="stringliteral">    DUK_ASSERT(duk_get_top(ctx) == entry_top + 1);</span></div>
<div class="line"><span class="lineno">31615</span><span class="stringliteral">}</span></div>
<div class="line"><span class="lineno">31616</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31617</span><span class="stringliteral">DUK_INTERNAL</span></div>
<div class="line"><span class="lineno">31618</span><span class="stringliteral">void duk_bi_json_stringify_helper(duk_context *ctx,</span></div>
<div class="line"><span class="lineno">31619</span><span class="stringliteral">                                  duk_idx_t idx_value,</span></div>
<div class="line"><span class="lineno">31620</span><span class="stringliteral">                                  duk_idx_t idx_replacer,</span></div>
<div class="line"><span class="lineno">31621</span><span class="stringliteral">                                  duk_idx_t idx_space,</span></div>
<div class="line"><span class="lineno">31622</span><span class="stringliteral">                                  duk_small_uint_t flags) {</span></div>
<div class="line"><span class="lineno">31623</span><span class="stringliteral">    duk_hthread *thr = (duk_hthread *) ctx;</span></div>
<div class="line"><span class="lineno">31624</span><span class="stringliteral">    duk_json_enc_ctx js_ctx_alloc;</span></div>
<div class="line"><span class="lineno">31625</span><span class="stringliteral">    duk_json_enc_ctx *js_ctx = &amp;js_ctx_alloc;</span></div>
<div class="line"><span class="lineno">31626</span><span class="stringliteral">    duk_hobject *h;</span></div>
<div class="line"><span class="lineno">31627</span><span class="stringliteral">    duk_idx_t idx_holder;</span></div>
<div class="line"><span class="lineno">31628</span><span class="stringliteral">    duk_idx_t entry_top;</span></div>
<div class="line"><span class="lineno">31629</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31630</span><span class="stringliteral">    /* negative top-relative indices not allowed now */</span></div>
<div class="line"><span class="lineno">31631</span><span class="stringliteral">    DUK_ASSERT(idx_value == DUK_INVALID_INDEX || idx_value &gt;= 0);</span></div>
<div class="line"><span class="lineno">31632</span><span class="stringliteral">    DUK_ASSERT(idx_replacer == DUK_INVALID_INDEX || idx_replacer &gt;= 0);</span></div>
<div class="line"><span class="lineno">31633</span><span class="stringliteral">    DUK_ASSERT(idx_space == DUK_INVALID_INDEX || idx_space &gt;= 0);</span></div>
<div class="line"><span class="lineno">31634</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31635</span><span class="stringliteral">    DUK_DDD(DUK_DDDPRINT(&quot;</span>JSON stringify start: <a class="code hl_variable" href="lsqlite3_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>=%!T, replacer=%!T, space=%!T, flags=0x%08lx, stack_top=%ld<span class="stringliteral">&quot;,</span></div>
<div class="line"><span class="lineno">31636</span><span class="stringliteral">                         (duk_tval *) duk_get_tval(ctx, idx_value),</span></div>
<div class="line"><span class="lineno">31637</span><span class="stringliteral">                         (duk_tval *) duk_get_tval(ctx, idx_replacer),</span></div>
<div class="line"><span class="lineno">31638</span><span class="stringliteral">                         (duk_tval *) duk_get_tval(ctx, idx_space),</span></div>
<div class="line"><span class="lineno">31639</span><span class="stringliteral">                         (unsigned long) flags,</span></div>
<div class="line"><span class="lineno">31640</span><span class="stringliteral">                         (long) duk_get_top(ctx)));</span></div>
<div class="line"><span class="lineno">31641</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31642</span><span class="stringliteral">    entry_top = duk_get_top(ctx);</span></div>
<div class="line"><span class="lineno">31643</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31644</span><span class="stringliteral">    /*</span></div>
<div class="line"><span class="lineno">31645</span><span class="stringliteral">     *  Context init</span></div>
<div class="line"><span class="lineno">31646</span><span class="stringliteral">     */</span></div>
<div class="line"><span class="lineno">31647</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31648</span><span class="stringliteral">    DUK_MEMZERO(&amp;js_ctx_alloc, sizeof(js_ctx_alloc));</span></div>
<div class="line"><span class="lineno">31649</span><span class="stringliteral">    js_ctx-&gt;thr = thr;</span></div>
<div class="line"><span class="lineno">31650</span><span class="stringliteral">#ifdef DUK_USE_EXPLICIT_NULL_INIT</span></div>
<div class="line"><span class="lineno">31651</span><span class="stringliteral">    js_ctx-&gt;h_replacer = NULL;</span></div>
<div class="line"><span class="lineno">31652</span><span class="stringliteral">    js_ctx-&gt;h_gap = NULL;</span></div>
<div class="line"><span class="lineno">31653</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">31654</span><span class="stringliteral">    js_ctx-&gt;idx_proplist = -1;</span></div>
<div class="line"><span class="lineno">31655</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31656</span><span class="stringliteral">    /* Flag handling currently assumes that flags are consistent.  This is OK</span></div>
<div class="line"><span class="lineno">31657</span><span class="stringliteral">     * because the call sites are now strictly controlled.</span></div>
<div class="line"><span class="lineno">31658</span><span class="stringliteral">     */</span></div>
<div class="line"><span class="lineno">31659</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31660</span><span class="stringliteral">    js_ctx-&gt;flags = flags;</span></div>
<div class="line"><span class="lineno">31661</span><span class="stringliteral">    js_ctx-&gt;flag_ascii_only = flags &amp; DUK_JSON_FLAG_ASCII_ONLY;</span></div>
<div class="line"><span class="lineno">31662</span><span class="stringliteral">    js_ctx-&gt;flag_avoid_key_quotes = flags &amp; DUK_JSON_FLAG_AVOID_KEY_QUOTES;</span></div>
<div class="line"><span class="lineno">31663</span><span class="stringliteral">#ifdef DUK_USE_JX</span></div>
<div class="line"><span class="lineno">31664</span><span class="stringliteral">    js_ctx-&gt;flag_ext_custom = flags &amp; DUK_JSON_FLAG_EXT_CUSTOM;</span></div>
<div class="line"><span class="lineno">31665</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">31666</span><span class="stringliteral">#ifdef DUK_USE_JC</span></div>
<div class="line"><span class="lineno">31667</span><span class="stringliteral">    js_ctx-&gt;flag_ext_compatible = flags &amp; DUK_JSON_FLAG_EXT_COMPATIBLE;</span></div>
<div class="line"><span class="lineno">31668</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">31669</span><span class="stringliteral">#if defined(DUK_USE_JX) || defined(DUK_USE_JC)</span></div>
<div class="line"><span class="lineno">31670</span><span class="stringliteral">    js_ctx-&gt;flag_ext_custom_or_compatible = flags &amp; (DUK_JSON_FLAG_EXT_CUSTOM | DUK_JSON_FLAG_EXT_COMPATIBLE);</span></div>
<div class="line"><span class="lineno">31671</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">31672</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31673</span><span class="stringliteral">    /* The #ifdef clutter here handles the JX/JC enable/disable</span></div>
<div class="line"><span class="lineno">31674</span><span class="stringliteral">     * combinations properly.</span></div>
<div class="line"><span class="lineno">31675</span><span class="stringliteral">     */</span></div>
<div class="line"><span class="lineno">31676</span><span class="stringliteral">#if defined(DUK_USE_JX) || defined(DUK_USE_JC)</span></div>
<div class="line"><span class="lineno">31677</span><span class="stringliteral">    js_ctx-&gt;stridx_custom_undefined = DUK_STRIDX_LC_NULL;  /* standard JSON; array gaps */</span></div>
<div class="line"><span class="lineno">31678</span><span class="stringliteral">#if defined(DUK_USE_JX)</span></div>
<div class="line"><span class="lineno">31679</span><span class="stringliteral">    if (flags &amp; DUK_JSON_FLAG_EXT_CUSTOM) {</span></div>
<div class="line"><span class="lineno">31680</span><span class="stringliteral">        js_ctx-&gt;stridx_custom_undefined = DUK_STRIDX_LC_UNDEFINED;</span></div>
<div class="line"><span class="lineno">31681</span><span class="stringliteral">        js_ctx-&gt;stridx_custom_nan = DUK_STRIDX_NAN;</span></div>
<div class="line"><span class="lineno">31682</span><span class="stringliteral">        js_ctx-&gt;stridx_custom_neginf = DUK_STRIDX_MINUS_INFINITY;</span></div>
<div class="line"><span class="lineno">31683</span><span class="stringliteral">        js_ctx-&gt;stridx_custom_posinf = DUK_STRIDX_INFINITY;</span></div>
<div class="line"><span class="lineno">31684</span><span class="stringliteral">        js_ctx-&gt;stridx_custom_function =</span></div>
<div class="line"><span class="lineno">31685</span><span class="stringliteral">                (flags &amp; DUK_JSON_FLAG_AVOID_KEY_QUOTES) ?</span></div>
<div class="line"><span class="lineno">31686</span><span class="stringliteral">                        DUK_STRIDX_JSON_EXT_FUNCTION2 :</span></div>
<div class="line"><span class="lineno">31687</span><span class="stringliteral">                        DUK_STRIDX_JSON_EXT_FUNCTION1;</span></div>
<div class="line"><span class="lineno">31688</span><span class="stringliteral">    }</span></div>
<div class="line"><span class="lineno">31689</span><span class="stringliteral">#endif  /* DUK_USE_JX */</span></div>
<div class="line"><span class="lineno">31690</span><span class="stringliteral">#if defined(DUK_USE_JX) &amp;&amp; defined(DUK_USE_JC)</span></div>
<div class="line"><span class="lineno">31691</span><span class="stringliteral">    else</span></div>
<div class="line"><span class="lineno">31692</span><span class="stringliteral">#endif  /* DUK_USE_JX &amp;&amp; DUK_USE_JC */</span></div>
<div class="line"><span class="lineno">31693</span><span class="stringliteral">#if defined(DUK_USE_JC)</span></div>
<div class="line"><span class="lineno">31694</span><span class="stringliteral">    if (js_ctx-&gt;flags &amp; DUK_JSON_FLAG_EXT_COMPATIBLE) {</span></div>
<div class="line"><span class="lineno">31695</span><span class="stringliteral">        js_ctx-&gt;stridx_custom_undefined = DUK_STRIDX_JSON_EXT_UNDEFINED;</span></div>
<div class="line"><span class="lineno">31696</span><span class="stringliteral">        js_ctx-&gt;stridx_custom_nan = DUK_STRIDX_JSON_EXT_NAN;</span></div>
<div class="line"><span class="lineno">31697</span><span class="stringliteral">        js_ctx-&gt;stridx_custom_neginf = DUK_STRIDX_JSON_EXT_NEGINF;</span></div>
<div class="line"><span class="lineno">31698</span><span class="stringliteral">        js_ctx-&gt;stridx_custom_posinf = DUK_STRIDX_JSON_EXT_POSINF;</span></div>
<div class="line"><span class="lineno">31699</span><span class="stringliteral">        js_ctx-&gt;stridx_custom_function = DUK_STRIDX_JSON_EXT_FUNCTION1;</span></div>
<div class="line"><span class="lineno">31700</span><span class="stringliteral">    }</span></div>
<div class="line"><span class="lineno">31701</span><span class="stringliteral">#endif  /* DUK_USE_JC */</span></div>
<div class="line"><span class="lineno">31702</span><span class="stringliteral">#endif  /* DUK_USE_JX || DUK_USE_JC */</span></div>
<div class="line"><span class="lineno">31703</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31704</span><span class="stringliteral">#if defined(DUK_USE_JX) || defined(DUK_USE_JC)</span></div>
<div class="line"><span class="lineno">31705</span><span class="stringliteral">    if (js_ctx-&gt;flags &amp; (DUK_JSON_FLAG_EXT_CUSTOM |</span></div>
<div class="line"><span class="lineno">31706</span><span class="stringliteral">                         DUK_JSON_FLAG_EXT_COMPATIBLE)) {</span></div>
<div class="line"><span class="lineno">31707</span><span class="stringliteral">        DUK_ASSERT(js_ctx-&gt;mask_for_undefined == 0);  /* already zero */</span></div>
<div class="line"><span class="lineno">31708</span><span class="stringliteral">    }</span></div>
<div class="line"><span class="lineno">31709</span><span class="stringliteral">    else</span></div>
<div class="line"><span class="lineno">31710</span><span class="stringliteral">#endif  /* DUK_USE_JX || DUK_USE_JC */</span></div>
<div class="line"><span class="lineno">31711</span><span class="stringliteral">    {</span></div>
<div class="line"><span class="lineno">31712</span><span class="stringliteral">        js_ctx-&gt;mask_for_undefined = DUK_TYPE_MASK_UNDEFINED |</span></div>
<div class="line"><span class="lineno">31713</span><span class="stringliteral">                                     DUK_TYPE_MASK_POINTER |</span></div>
<div class="line"><span class="lineno">31714</span><span class="stringliteral">                                     DUK_TYPE_MASK_BUFFER |</span></div>
<div class="line"><span class="lineno">31715</span><span class="stringliteral">                                     DUK_TYPE_MASK_LIGHTFUNC;</span></div>
<div class="line"><span class="lineno">31716</span><span class="stringliteral">    }</span></div>
<div class="line"><span class="lineno">31717</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31718</span><span class="stringliteral">    DUK_BW_INIT_PUSHBUF(thr, &amp;js_ctx-&gt;bw, DUK__JSON_STRINGIFY_BUFSIZE);</span></div>
<div class="line"><span class="lineno">31719</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31720</span><span class="stringliteral">    js_ctx-&gt;idx_loop = duk_push_object_internal(ctx);</span></div>
<div class="line"><span class="lineno">31721</span><span class="stringliteral">    DUK_ASSERT(js_ctx-&gt;idx_loop &gt;= 0);</span></div>
<div class="line"><span class="lineno">31722</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31723</span><span class="stringliteral">    /* [ ... buf loop ] */</span></div>
<div class="line"><span class="lineno">31724</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31725</span><span class="stringliteral">    /*</span></div>
<div class="line"><span class="lineno">31726</span><span class="stringliteral">     *  Process replacer/proplist (2nd argument to JSON.stringify)</span></div>
<div class="line"><span class="lineno">31727</span><span class="stringliteral">     */</span></div>
<div class="line"><span class="lineno">31728</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31729</span><span class="stringliteral">    h = duk_get_hobject(ctx, idx_replacer);</span></div>
<div class="line"><span class="lineno">31730</span><span class="stringliteral">    if (h != NULL) {</span></div>
<div class="line"><span class="lineno">31731</span><span class="stringliteral">        if (DUK_HOBJECT_IS_CALLABLE(h)) {</span></div>
<div class="line"><span class="lineno">31732</span><span class="stringliteral">            js_ctx-&gt;h_replacer = h;</span></div>
<div class="line"><span class="lineno">31733</span><span class="stringliteral">        } else if (DUK_HOBJECT_GET_CLASS_NUMBER(h) == DUK_HOBJECT_CLASS_ARRAY) {</span></div>
<div class="line"><span class="lineno">31734</span><span class="stringliteral">            /* Here the specification requires correct array index enumeration</span></div>
<div class="line"><span class="lineno">31735</span><span class="stringliteral">             * which is a bit tricky for sparse arrays (it is handled by the</span></div>
<div class="line"><span class="lineno">31736</span><span class="stringliteral">             * enum setup code).  We now enumerate ancestors too, although the</span></div>
<div class="line"><span class="lineno">31737</span><span class="stringliteral">             * specification is not very clear on whether that is required.</span></div>
<div class="line"><span class="lineno">31738</span><span class="stringliteral">             */</span></div>
<div class="line"><span class="lineno">31739</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31740</span><span class="stringliteral">            duk_uarridx_t plist_idx = 0;</span></div>
<div class="line"><span class="lineno">31741</span><span class="stringliteral">            duk_small_uint_t enum_flags;</span></div>
<div class="line"><span class="lineno">31742</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31743</span><span class="stringliteral">            js_ctx-&gt;idx_proplist = duk_push_array(ctx);  /* XXX: array internal? */</span></div>
<div class="line"><span class="lineno">31744</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31745</span><span class="stringliteral">            enum_flags = DUK_ENUM_ARRAY_INDICES_ONLY |</span></div>
<div class="line"><span class="lineno">31746</span><span class="stringliteral">                         DUK_ENUM_SORT_ARRAY_INDICES;  /* expensive flag */</span></div>
<div class="line"><span class="lineno">31747</span><span class="stringliteral">            duk_enum(ctx, idx_replacer, enum_flags);</span></div>
<div class="line"><span class="lineno">31748</span><span class="stringliteral">            while (duk_next(ctx, -1 /*enum_index*/, 1 /*get_value*/)) {</span></div>
<div class="line"><span class="lineno">31749</span><span class="stringliteral">                /* [ ... proplist enum_obj key val ] */</span></div>
<div class="line"><span class="lineno">31750</span><span class="stringliteral">                if (duk__enc_allow_into_proplist(duk_get_tval(ctx, -1))) {</span></div>
<div class="line"><span class="lineno">31751</span><span class="stringliteral">                    /* XXX: duplicates should be eliminated here */</span></div>
<div class="line"><span class="lineno">31752</span><span class="stringliteral">                    DUK_DDD(DUK_DDDPRINT(&quot;</span>proplist <span class="keyword">enum</span>: key=%!T, val=%!T --&gt; accept<span class="stringliteral">&quot;,</span></div>
<div class="line"><span class="lineno">31753</span><span class="stringliteral">                                         (duk_tval *) duk_get_tval(ctx, -2),</span></div>
<div class="line"><span class="lineno">31754</span><span class="stringliteral">                                         (duk_tval *) duk_get_tval(ctx, -1)));</span></div>
<div class="line"><span class="lineno">31755</span><span class="stringliteral">                    duk_to_string(ctx, -1);  /* extra coercion of strings is OK */</span></div>
<div class="line"><span class="lineno">31756</span><span class="stringliteral">                    duk_put_prop_index(ctx, -4, plist_idx);  /* -&gt; [ ... proplist enum_obj key ] */</span></div>
<div class="line"><span class="lineno">31757</span><span class="stringliteral">                    plist_idx++;</span></div>
<div class="line"><span class="lineno">31758</span><span class="stringliteral">                    duk_pop(ctx);</span></div>
<div class="line"><span class="lineno">31759</span><span class="stringliteral">                } else {</span></div>
<div class="line"><span class="lineno">31760</span><span class="stringliteral">                    DUK_DDD(DUK_DDDPRINT(&quot;</span>proplist <span class="keyword">enum</span>: key=%!T, val=%!T --&gt; reject<span class="stringliteral">&quot;,</span></div>
<div class="line"><span class="lineno">31761</span><span class="stringliteral">                                         (duk_tval *) duk_get_tval(ctx, -2),</span></div>
<div class="line"><span class="lineno">31762</span><span class="stringliteral">                                         (duk_tval *) duk_get_tval(ctx, -1)));</span></div>
<div class="line"><span class="lineno">31763</span><span class="stringliteral">                    duk_pop_2(ctx);</span></div>
<div class="line"><span class="lineno">31764</span><span class="stringliteral">                }</span></div>
<div class="line"><span class="lineno">31765</span><span class="stringliteral">                        }</span></div>
<div class="line"><span class="lineno">31766</span><span class="stringliteral">                        duk_pop(ctx);  /* pop enum */</span></div>
<div class="line"><span class="lineno">31767</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31768</span><span class="stringliteral">            /* [ ... proplist ] */</span></div>
<div class="line"><span class="lineno">31769</span><span class="stringliteral">        }</span></div>
<div class="line"><span class="lineno">31770</span><span class="stringliteral">    }</span></div>
<div class="line"><span class="lineno">31771</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31772</span><span class="stringliteral">    /* [ ... buf loop (proplist) ] */</span></div>
<div class="line"><span class="lineno">31773</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31774</span><span class="stringliteral">    /*</span></div>
<div class="line"><span class="lineno">31775</span><span class="stringliteral">     *  Process space (3rd argument to JSON.stringify)</span></div>
<div class="line"><span class="lineno">31776</span><span class="stringliteral">     */</span></div>
<div class="line"><span class="lineno">31777</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31778</span><span class="stringliteral">    h = duk_get_hobject(ctx, idx_space);</span></div>
<div class="line"><span class="lineno">31779</span><span class="stringliteral">    if (h != NULL) {</span></div>
<div class="line"><span class="lineno">31780</span><span class="stringliteral">        int c = DUK_HOBJECT_GET_CLASS_NUMBER(h);</span></div>
<div class="line"><span class="lineno">31781</span><span class="stringliteral">        if (c == DUK_HOBJECT_CLASS_NUMBER) {</span></div>
<div class="line"><span class="lineno">31782</span><span class="stringliteral">            duk_to_number(ctx, idx_space);</span></div>
<div class="line"><span class="lineno">31783</span><span class="stringliteral">        } else if (c == DUK_HOBJECT_CLASS_STRING) {</span></div>
<div class="line"><span class="lineno">31784</span><span class="stringliteral">            duk_to_string(ctx, idx_space);</span></div>
<div class="line"><span class="lineno">31785</span><span class="stringliteral">        }</span></div>
<div class="line"><span class="lineno">31786</span><span class="stringliteral">    }</span></div>
<div class="line"><span class="lineno">31787</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31788</span><span class="stringliteral">    if (duk_is_number(ctx, idx_space)) {</span></div>
<div class="line"><span class="lineno">31789</span><span class="stringliteral">        duk_small_int_t nspace;</span></div>
<div class="line"><span class="lineno">31790</span><span class="stringliteral">        /* spaces[] must be static to allow initializer with old compilers like BCC */</span></div>
<div class="line"><span class="lineno">31791</span><span class="stringliteral">        static const char spaces[10] = {</span></div>
<div class="line"><span class="lineno">31792</span><span class="stringliteral">            DUK_ASC_SPACE, DUK_ASC_SPACE, DUK_ASC_SPACE, DUK_ASC_SPACE,</span></div>
<div class="line"><span class="lineno">31793</span><span class="stringliteral">            DUK_ASC_SPACE, DUK_ASC_SPACE, DUK_ASC_SPACE, DUK_ASC_SPACE,</span></div>
<div class="line"><span class="lineno">31794</span><span class="stringliteral">            DUK_ASC_SPACE, DUK_ASC_SPACE</span></div>
<div class="line"><span class="lineno">31795</span><span class="stringliteral">        };  /* XXX: helper */</span></div>
<div class="line"><span class="lineno">31796</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31797</span><span class="stringliteral">        /* ToInteger() coercion; NaN -&gt; 0, infinities are clamped to 0 and 10 */</span></div>
<div class="line"><span class="lineno">31798</span><span class="stringliteral">        nspace = (duk_small_int_t) duk_to_int_clamped(ctx, idx_space, 0 /*minval*/, 10 /*maxval*/);</span></div>
<div class="line"><span class="lineno">31799</span><span class="stringliteral">        DUK_ASSERT(nspace &gt;= 0 &amp;&amp; nspace &lt;= 10);</span></div>
<div class="line"><span class="lineno">31800</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31801</span><span class="stringliteral">        duk_push_lstring(ctx, spaces, (duk_size_t) nspace);</span></div>
<div class="line"><span class="lineno">31802</span><span class="stringliteral">        js_ctx-&gt;h_gap = duk_get_hstring(ctx, -1);</span></div>
<div class="line"><span class="lineno">31803</span><span class="stringliteral">        DUK_ASSERT(js_ctx-&gt;h_gap != NULL);</span></div>
<div class="line"><span class="lineno">31804</span><span class="stringliteral">    } else if (duk_is_string(ctx, idx_space)) {</span></div>
<div class="line"><span class="lineno">31805</span><span class="stringliteral">        /* XXX: substring in-place at idx_place? */</span></div>
<div class="line"><span class="lineno">31806</span><span class="stringliteral">        duk_dup(ctx, idx_space);</span></div>
<div class="line"><span class="lineno">31807</span><span class="stringliteral">        duk_substring(ctx, -1, 0, 10);  /* clamp to 10 chars */</span></div>
<div class="line"><span class="lineno">31808</span><span class="stringliteral">        js_ctx-&gt;h_gap = duk_get_hstring(ctx, -1);</span></div>
<div class="line"><span class="lineno">31809</span><span class="stringliteral">        DUK_ASSERT(js_ctx-&gt;h_gap != NULL);</span></div>
<div class="line"><span class="lineno">31810</span><span class="stringliteral">    } else {</span></div>
<div class="line"><span class="lineno">31811</span><span class="stringliteral">        /* nop */</span></div>
<div class="line"><span class="lineno">31812</span><span class="stringliteral">    }</span></div>
<div class="line"><span class="lineno">31813</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31814</span><span class="stringliteral">    if (js_ctx-&gt;h_gap != NULL) {</span></div>
<div class="line"><span class="lineno">31815</span><span class="stringliteral">        /* if gap is empty, behave as if not given at all */</span></div>
<div class="line"><span class="lineno">31816</span><span class="stringliteral">        if (DUK_HSTRING_GET_CHARLEN(js_ctx-&gt;h_gap) == 0) {</span></div>
<div class="line"><span class="lineno">31817</span><span class="stringliteral">            js_ctx-&gt;h_gap = NULL;</span></div>
<div class="line"><span class="lineno">31818</span><span class="stringliteral">        }</span></div>
<div class="line"><span class="lineno">31819</span><span class="stringliteral">    }</span></div>
<div class="line"><span class="lineno">31820</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31821</span><span class="stringliteral">    /* [ ... buf loop (proplist) (gap) ] */</span></div>
<div class="line"><span class="lineno">31822</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31823</span><span class="stringliteral">    /*</span></div>
<div class="line"><span class="lineno">31824</span><span class="stringliteral">     *  Fast path: assume no mutation, iterate object property tables</span></div>
<div class="line"><span class="lineno">31825</span><span class="stringliteral">     *  directly; bail out if that assumption doesn&#39;t hold.</span></div>
<div class="line"><span class="lineno">31826</span><span class="stringliteral">     */</span></div>
<div class="line"><span class="lineno">31827</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31828</span><span class="stringliteral">#if defined(DUK_USE_JSON_STRINGIFY_FASTPATH)</span></div>
<div class="line"><span class="lineno">31829</span><span class="stringliteral">    if (js_ctx-&gt;h_replacer == NULL &amp;&amp;  /* replacer is a mutation risk */</span></div>
<div class="line"><span class="lineno">31830</span><span class="stringliteral">        js_ctx-&gt;idx_proplist == -1) {  /* proplist is very rare */</span></div>
<div class="line"><span class="lineno">31831</span><span class="stringliteral">        duk_int_t pcall_rc;</span></div>
<div class="line"><span class="lineno">31832</span><span class="stringliteral">#ifdef DUK_USE_MARK_AND_SWEEP</span></div>
<div class="line"><span class="lineno">31833</span><span class="stringliteral">        duk_small_uint_t prev_mark_and_sweep_base_flags;</span></div>
<div class="line"><span class="lineno">31834</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">31835</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31836</span><span class="stringliteral">        DUK_DD(DUK_DDPRINT(&quot;</span><span class="keywordflow">try</span> JSON.stringify() fast path<span class="stringliteral">&quot;));</span></div>
<div class="line"><span class="lineno">31837</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31838</span><span class="stringliteral">        /* Use recursion_limit to ensure we don&#39;t overwrite js_ctx-&gt;visiting[]</span></div>
<div class="line"><span class="lineno">31839</span><span class="stringliteral">         * array so we don&#39;t need two counter checks in the fast path.  The</span></div>
<div class="line"><span class="lineno">31840</span><span class="stringliteral">         * slow path has a much larger recursion limit which we&#39;ll use if</span></div>
<div class="line"><span class="lineno">31841</span><span class="stringliteral">         * necessary.</span></div>
<div class="line"><span class="lineno">31842</span><span class="stringliteral">         */</span></div>
<div class="line"><span class="lineno">31843</span><span class="stringliteral">        DUK_ASSERT(DUK_USE_JSON_ENC_RECLIMIT &gt;= DUK_JSON_ENC_LOOPARRAY);</span></div>
<div class="line"><span class="lineno">31844</span><span class="stringliteral">        js_ctx-&gt;recursion_limit = DUK_JSON_ENC_LOOPARRAY;</span></div>
<div class="line"><span class="lineno">31845</span><span class="stringliteral">        DUK_ASSERT(js_ctx-&gt;recursion_depth == 0);</span></div>
<div class="line"><span class="lineno">31846</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31847</span><span class="stringliteral">        /* Execute the fast path in a protected call.  If any error is thrown,</span></div>
<div class="line"><span class="lineno">31848</span><span class="stringliteral">         * fall back to the slow path.  This includes e.g. recursion limit</span></div>
<div class="line"><span class="lineno">31849</span><span class="stringliteral">         * because the fast path has a smaller recursion limit (and simpler,</span></div>
<div class="line"><span class="lineno">31850</span><span class="stringliteral">         * limited loop detection).</span></div>
<div class="line"><span class="lineno">31851</span><span class="stringliteral">         */</span></div>
<div class="line"><span class="lineno">31852</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31853</span><span class="stringliteral">        duk_push_pointer(ctx, (void *) js_ctx);</span></div>
<div class="line"><span class="lineno">31854</span><span class="stringliteral">        duk_dup(ctx, idx_value);</span></div>
<div class="line"><span class="lineno">31855</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31856</span><span class="stringliteral">#if defined(DUK_USE_MARK_AND_SWEEP)</span></div>
<div class="line"><span class="lineno">31857</span><span class="stringliteral">        /* Must prevent finalizers which may have arbitrary side effects. */</span></div>
<div class="line"><span class="lineno">31858</span><span class="stringliteral">        prev_mark_and_sweep_base_flags = thr-&gt;heap-&gt;mark_and_sweep_base_flags;</span></div>
<div class="line"><span class="lineno">31859</span><span class="stringliteral">        thr-&gt;heap-&gt;mark_and_sweep_base_flags |=</span></div>
<div class="line"><span class="lineno">31860</span><span class="stringliteral">            DUK_MS_FLAG_NO_FINALIZERS |         /* avoid attempts to add/remove object keys */</span></div>
<div class="line"><span class="lineno">31861</span><span class="stringliteral">                DUK_MS_FLAG_NO_OBJECT_COMPACTION;   /* avoid attempt to compact any objects */</span></div>
<div class="line"><span class="lineno">31862</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">31863</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31864</span><span class="stringliteral">        pcall_rc = duk_safe_call(ctx, duk__json_stringify_fast, 2 /*nargs*/, 0 /*nret*/);</span></div>
<div class="line"><span class="lineno">31865</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31866</span><span class="stringliteral">#if defined(DUK_USE_MARK_AND_SWEEP)</span></div>
<div class="line"><span class="lineno">31867</span><span class="stringliteral">        thr-&gt;heap-&gt;mark_and_sweep_base_flags = prev_mark_and_sweep_base_flags;</span></div>
<div class="line"><span class="lineno">31868</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">31869</span><span class="stringliteral">        if (pcall_rc == DUK_EXEC_SUCCESS) {</span></div>
<div class="line"><span class="lineno">31870</span><span class="stringliteral">            DUK_DD(DUK_DDPRINT(&quot;</span>fast path successful<span class="stringliteral">&quot;));</span></div>
<div class="line"><span class="lineno">31871</span><span class="stringliteral">            DUK_BW_PUSH_AS_STRING(thr, &amp;js_ctx-&gt;bw);</span></div>
<div class="line"><span class="lineno">31872</span><span class="stringliteral">            goto replace_finished;</span></div>
<div class="line"><span class="lineno">31873</span><span class="stringliteral">        }</span></div>
<div class="line"><span class="lineno">31874</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31875</span><span class="stringliteral">        /* We come here for actual aborts (like encountering .toJSON())</span></div>
<div class="line"><span class="lineno">31876</span><span class="stringliteral">         * but also for recursion/loop errors.  Bufwriter size can be</span></div>
<div class="line"><span class="lineno">31877</span><span class="stringliteral">         * kept because we&#39;ll probably need at least as much as we&#39;ve</span></div>
<div class="line"><span class="lineno">31878</span><span class="stringliteral">         * allocated so far.</span></div>
<div class="line"><span class="lineno">31879</span><span class="stringliteral">         */</span></div>
<div class="line"><span class="lineno">31880</span><span class="stringliteral">        DUK_D(DUK_DPRINT(&quot;</span>fast path failed, serialize <span class="keyword">using </span>slow path instead<span class="stringliteral">&quot;));</span></div>
<div class="line"><span class="lineno">31881</span><span class="stringliteral">        DUK_BW_RESET_SIZE(thr, &amp;js_ctx-&gt;bw);</span></div>
<div class="line"><span class="lineno">31882</span><span class="stringliteral">        js_ctx-&gt;recursion_depth = 0;</span></div>
<div class="line"><span class="lineno">31883</span><span class="stringliteral">    }</span></div>
<div class="line"><span class="lineno">31884</span><span class="stringliteral">#endif</span></div>
<div class="line"><span class="lineno">31885</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31886</span><span class="stringliteral">    /*</span></div>
<div class="line"><span class="lineno">31887</span><span class="stringliteral">     *  Create wrapper object and serialize</span></div>
<div class="line"><span class="lineno">31888</span><span class="stringliteral">     */</span></div>
<div class="line"><span class="lineno">31889</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31890</span><span class="stringliteral">    idx_holder = duk_push_object(ctx);</span></div>
<div class="line"><span class="lineno">31891</span><span class="stringliteral">    duk_dup(ctx, idx_value);</span></div>
<div class="line"><span class="lineno">31892</span><span class="stringliteral">    duk_put_prop_stridx(ctx, -2, DUK_STRIDX_EMPTY_STRING);</span></div>
<div class="line"><span class="lineno">31893</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31894</span><span class="stringliteral">    DUK_DDD(DUK_DDDPRINT(&quot;</span>before: flags=0x%08lx, loop=%!T, replacer=%!O, <span class="stringliteral">&quot;</span></div>
<div class="line"><span class="lineno">31895</span><span class="stringliteral">                         &quot;</span>proplist=%!T, gap=%!O, holder=%!T<span class="stringliteral">&quot;,</span></div>
<div class="line"><span class="lineno">31896</span><span class="stringliteral">                         (unsigned long) js_ctx-&gt;flags,</span></div>
<div class="line"><span class="lineno">31897</span><span class="stringliteral">                         (duk_tval *) duk_get_tval(ctx, js_ctx-&gt;idx_loop),</span></div>
<div class="line"><span class="lineno">31898</span><span class="stringliteral">                         (duk_heaphdr *) js_ctx-&gt;h_replacer,</span></div>
<div class="line"><span class="lineno">31899</span><span class="stringliteral">                         (duk_tval *) (js_ctx-&gt;idx_proplist &gt;= 0 ? duk_get_tval(ctx, js_ctx-&gt;idx_proplist) : NULL),</span></div>
<div class="line"><span class="lineno">31900</span><span class="stringliteral">                         (duk_heaphdr *) js_ctx-&gt;h_gap,</span></div>
<div class="line"><span class="lineno">31901</span><span class="stringliteral">                         (duk_tval *) duk_get_tval(ctx, -1)));</span></div>
<div class="line"><span class="lineno">31902</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31903</span><span class="stringliteral">    /* serialize the wrapper with empty string key */</span></div>
<div class="line"><span class="lineno">31904</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31905</span><span class="stringliteral">    duk_push_hstring_stridx(ctx, DUK_STRIDX_EMPTY_STRING);</span></div>
<div class="line"><span class="lineno">31906</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31907</span><span class="stringliteral">    /* [ ... buf loop (proplist) (gap) holder &quot;</span><span class="stringliteral">&quot; ] */</span></div>
<div class="line"><span class="lineno">31908</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31909</span><span class="stringliteral">    js_ctx-&gt;recursion_limit = DUK_USE_JSON_ENC_RECLIMIT;</span></div>
<div class="line"><span class="lineno">31910</span><span class="stringliteral">    DUK_ASSERT(js_ctx-&gt;recursion_depth == 0);</span></div>
<div class="line"><span class="lineno">31911</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31912</span><span class="stringliteral">    if (DUK_UNLIKELY(duk__enc_value(js_ctx, idx_holder) == 0)) {  /* [ ... holder key ] -&gt; [ ... holder ] */</span></div>
<div class="line"><span class="lineno">31913</span><span class="stringliteral">        /* Result is undefined. */</span></div>
<div class="line"><span class="lineno">31914</span><span class="stringliteral">        duk_push_undefined(ctx);</span></div>
<div class="line"><span class="lineno">31915</span><span class="stringliteral">    } else {</span></div>
<div class="line"><span class="lineno">31916</span><span class="stringliteral">        /* Convert buffer to result string. */</span></div>
<div class="line"><span class="lineno">31917</span><span class="stringliteral">        DUK_BW_PUSH_AS_STRING(thr, &amp;js_ctx-&gt;bw);</span></div>
<div class="line"><span class="lineno">31918</span><span class="stringliteral">    }</span></div>
<div class="line"><span class="lineno">31919</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31920</span><span class="stringliteral">    DUK_DDD(DUK_DDDPRINT(&quot;</span>after: flags=0x%08lx, loop=%!T, replacer=%!O, <span class="stringliteral">&quot;</span></div>
<div class="line"><span class="lineno">31921</span><span class="stringliteral">                         &quot;</span>proplist=%!T, gap=%!O, holder=%!T<span class="stringliteral">&quot;,</span></div>
<div class="line"><span class="lineno">31922</span><span class="stringliteral">                         (unsigned long) js_ctx-&gt;flags,</span></div>
<div class="line"><span class="lineno">31923</span><span class="stringliteral">                         (duk_tval *) duk_get_tval(ctx, js_ctx-&gt;idx_loop),</span></div>
<div class="line"><span class="lineno">31924</span><span class="stringliteral">                         (duk_heaphdr *) js_ctx-&gt;h_replacer,</span></div>
<div class="line"><span class="lineno">31925</span><span class="stringliteral">                         (duk_tval *) (js_ctx-&gt;idx_proplist &gt;= 0 ? duk_get_tval(ctx, js_ctx-&gt;idx_proplist) : NULL),</span></div>
<div class="line"><span class="lineno">31926</span><span class="stringliteral">                         (duk_heaphdr *) js_ctx-&gt;h_gap,</span></div>
<div class="line"><span class="lineno">31927</span><span class="stringliteral">                         (duk_tval *) duk_get_tval(ctx, idx_holder)));</span></div>
<div class="line"><span class="lineno">31928</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">31929</span><span class="stringliteral">    /* The stack has a variable shape here, so force it to the</span></div>
<div class="line"><span class="lineno">31930</span><span class="stringliteral">     * desired one explicitly.</span></div>
<div class="line"><span class="lineno">31931</span><span class="stringliteral">     */</span></div>
<div class="line"><span class="lineno">31932</span><span class="stringliteral"></span> </div>
<div class="ttc" id="alsqlite3_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="lsqlite3_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition</b> <a href="lsqlite3_8c_source.html#l02155">lsqlite3.c:2155</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_1e03628437b642463b7b6eb98fac43e1.html">vendor</a></li><li class="navelem"><a class="el" href="dir_84591d08937a968859b7757c3b203700.html">civetweb</a></li><li class="navelem"><a class="el" href="dir_34c971402fa1824d9c500953fc75cb63.html">third_party</a></li><li class="navelem"><a class="el" href="dir_463c33e0ae291ddbfec061ad19861570.html">duktape-1.5.2</a></li><li class="navelem"><a class="el" href="dir_e6ae68e9a9f72807e14f61863ae5cc0a.html">src-separate</a></li><li class="navelem"><a class="el" href="duktape-1_85_82_2src-separate_2duk__bi__protos_8h.html">duk_bi_protos.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
